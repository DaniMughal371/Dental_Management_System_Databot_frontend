/*! For license information please see main.21a2f70b.js.LICENSE.txt */
(()=>{var e={3342:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var i={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},2450:function(e,t,n){var i,r,a;r=[],void 0===(a="function"===typeof(i=function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function i(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){l(i.response,t,n)},i.onerror=function(){console.error("could not download file")},i.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function a(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(i){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,s=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(e,t,n){var s=o.URL||o.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?a(l):r(l.href)?i(e,t,n):a(l,l.target="_blank")):(l.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(l.href)}),4e4),setTimeout((function(){a(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,o){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,o),n);else if(r(e))i(e,n,o);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout((function(){a(s)}))}}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return i(e,t,n);var a="application/octet-stream"===e.type,l=/constructor/i.test(o.HTMLElement)||o.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&l||s)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},u.readAsDataURL(e)}else{var d=o.URL||o.webkitURL,h=d.createObjectURL(e);r?r.location=h:location.href=h,r=null,setTimeout((function(){d.revokeObjectURL(h)}),4e4)}});o.saveAs=l.saveAs=l,e.exports=l})?i.apply(t,r):i)||(e.exports=a)},219:(e,t,n)=>{"use strict";var i=n(3763),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return i.isMemo(e)?o:s[e.$$typeof]||r}s[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[i.Memo]=o;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,i){if("string"!==typeof n){if(f){var r=p(n);r&&r!==f&&e(t,r,i)}var o=u(n);d&&(o=o.concat(d(n)));for(var s=l(t),m=l(n),v=0;v<o.length;++v){var g=o[v];if(!a[g]&&(!i||!i[g])&&(!m||!m[g])&&(!s||!s[g])){var y=h(n,g);try{c(t,g,y)}catch(b){}}}}return t}},4983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case u:case d:case a:case s:case o:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case v:case m:case l:return e;default:return t}}case r:return t}}}function w(e){return _(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=i,t.ForwardRef=h,t.Fragment=a,t.Lazy=v,t.Memo=m,t.Portal=r,t.Profiler=s,t.StrictMode=o,t.Suspense=p,t.isAsyncMode=function(e){return w(e)||_(e)===u},t.isConcurrentMode=w,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===a},t.isLazy=function(e){return _(e)===v},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===r},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===o},t.isSuspense=function(e){return _(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===s||e===o||e===p||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x||e.$$typeof===g)},t.typeOf=_},3763:(e,t,n)=>{"use strict";e.exports=n(4983)},6159:(e,t,n)=>{e.exports=function e(t,n,i){function r(o,s){if(!n[o]){if(!t[o]){if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[o]={exports:{}};t[o][0].call(c.exports,(function(e){return r(t[o][1][e]||e)}),c,c.exports,e,t,n,i)}return n[o].exports}for(var a=void 0,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(e,t,n){"use strict";var i=e("./utils"),r=e("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,r,o,s,l,c,u=[],d=0,h=e.length,p=h,f="string"!==i.getTypeOf(e);d<e.length;)p=h-d,r=f?(t=e[d++],n=d<h?e[d++]:0,d<h?e[d++]:0):(t=e.charCodeAt(d++),n=d<h?e.charCodeAt(d++):0,d<h?e.charCodeAt(d++):0),o=t>>2,s=(3&t)<<4|n>>4,l=1<p?(15&n)<<2|r>>6:64,c=2<p?63&r:64,u.push(a.charAt(o)+a.charAt(s)+a.charAt(l)+a.charAt(c));return u.join("")},n.decode=function(e){var t,n,i,o,s,l,c=0,u=0,d="data:";if(e.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var h,p=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===a.charAt(64)&&p--,e.charAt(e.length-2)===a.charAt(64)&&p--,p%1!=0)throw new Error("Invalid base64 input, bad content length.");for(h=r.uint8array?new Uint8Array(0|p):new Array(0|p);c<e.length;)t=a.indexOf(e.charAt(c++))<<2|(o=a.indexOf(e.charAt(c++)))>>4,n=(15&o)<<4|(s=a.indexOf(e.charAt(c++)))>>2,i=(3&s)<<6|(l=a.indexOf(e.charAt(c++))),h[u++]=t,64!==s&&(h[u++]=n),64!==l&&(h[u++]=i);return h}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";var i=e("./external"),r=e("./stream/DataWorker"),a=e("./stream/Crc32Probe"),o=e("./stream/DataLengthProbe");function s(e,t,n,i,r){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=i,this.compressedContent=r}s.prototype={getContentWorker:function(){var e=new r(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new r(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,n){return e.pipe(new a).pipe(new o("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var i=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";var i=e("./utils"),r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==i.getTypeOf(e)?function(e,t,n,i){var a=r,o=i+n;e^=-1;for(var s=i;s<o;s++)e=e>>>8^a[255&(e^t[s])];return~e}(0|t,e,e.length,0):function(e,t,n,i){var a=r,o=i+n;e^=-1;for(var s=i;s<o;s++)e=e>>>8^a[255&(e^t.charCodeAt(s))];return~e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var i=null;i="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:i}},{lie:37}],7:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=e("pako"),a=e("./utils"),o=e("./stream/GenericWorker"),s=i?"uint8array":"array";function l(e,t){o.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",a.inherits(l,o),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(s,e.data),!1)},l.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new l("Deflate",e)},n.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){"use strict";function i(e,t){var n,i="";for(n=0;n<t;n++)i+=String.fromCharCode(255&e),e>>>=8;return i}function r(e,t,n,r,o,u){var d,h,p=e.file,f=e.compression,m=u!==s.utf8encode,v=a.transformTo("string",u(p.name)),g=a.transformTo("string",s.utf8encode(p.name)),y=p.comment,b=a.transformTo("string",u(y)),x=a.transformTo("string",s.utf8encode(y)),_=g.length!==p.name.length,w=x.length!==y.length,S="",M="",E="",C=p.dir,T=p.date,N={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(N.crc32=e.crc32,N.compressedSize=e.compressedSize,N.uncompressedSize=e.uncompressedSize);var A=0;t&&(A|=8),m||!_&&!w||(A|=2048);var k=0,O=0;C&&(k|=16),"UNIX"===o?(O=798,k|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(p.unixPermissions,C)):(O=20,k|=function(e){return 63&(e||0)}(p.dosPermissions)),d=T.getUTCHours(),d<<=6,d|=T.getUTCMinutes(),d<<=5,d|=T.getUTCSeconds()/2,h=T.getUTCFullYear()-1980,h<<=4,h|=T.getUTCMonth()+1,h<<=5,h|=T.getUTCDate(),_&&(M=i(1,1)+i(l(v),4)+g,S+="up"+i(M.length,2)+M),w&&(E=i(1,1)+i(l(b),4)+x,S+="uc"+i(E.length,2)+E);var P="";return P+="\n\0",P+=i(A,2),P+=f.magic,P+=i(d,2),P+=i(h,2),P+=i(N.crc32,4),P+=i(N.compressedSize,4),P+=i(N.uncompressedSize,4),P+=i(v.length,2),P+=i(S.length,2),{fileRecord:c.LOCAL_FILE_HEADER+P+v+S,dirRecord:c.CENTRAL_FILE_HEADER+i(O,2)+P+i(b.length,2)+"\0\0\0\0"+i(k,4)+i(r,4)+v+S+b}}var a=e("../utils"),o=e("../stream/GenericWorker"),s=e("../utf8"),l=e("../crc32"),c=e("../signature");function u(e,t,n,i){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(u,o),u.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,o.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-i-1))/n:100}}))},u.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=r(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=r(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return c.DATA_DESCRIPTOR+i(e.crc32,4)+i(e.compressedSize,4)+i(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,r=function(e,t,n,r,o){var s=a.transformTo("string",o(r));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(e,2)+i(e,2)+i(t,4)+i(n,4)+i(s.length,2)+s}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:r,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},u.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(e){var t=this._sources;if(!o.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},u.prototype.lock=function(){o.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var i=e("../compressions"),r=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var a=new r(t.streamFiles,n,t.platform,t.encodeFileName),o=0;try{e.forEach((function(e,n){o++;var r=function(e,t){var n=e||t,r=i[n];if(!r)throw new Error(n+" is not a valid compression method !");return r}(n.options.compression,t.compression),s=n.options.compressionOptions||t.compressionOptions||{},l=n.dir,c=n.date;n._compressWorker(r,s).withStreamInfo("file",{name:e,dir:l,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(a)})),a.entriesCount=o}catch(e){a.error(e)}return a}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new i;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(i.prototype=e("./object")).loadAsync=e("./load"),i.support=e("./support"),i.defaults=e("./defaults"),i.version="3.10.1",i.loadAsync=function(e,t){return(new i).loadAsync(e,t)},i.external=e("./external"),t.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";var i=e("./utils"),r=e("./external"),a=e("./utf8"),o=e("./zipEntries"),s=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function c(e){return new r.Promise((function(t,n){var i=e.decompressed.getContentWorker().pipe(new s);i.on("error",(function(e){n(e)})).on("end",(function(){i.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var n=this;return t=i.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),l.isNode&&l.isStream(e)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new o(t);return n.load(e),n})).then((function(e){var n=[r.Promise.resolve(e)],i=e.files;if(t.checkCRC32)for(var a=0;a<i.length;a++)n.push(c(i[a]));return r.Promise.all(n)})).then((function(e){for(var r=e.shift(),a=r.files,o=0;o<a.length;o++){var s=a[o],l=s.fileNameStr,c=i.resolve(s.fileNameStr);n.file(c,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders}),s.dir||(n.file(c).unsafeOriginalName=l)}return r.zipComment.length&&(n.comment=r.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";var i=e("../utils"),r=e("../stream/GenericWorker");function a(e,t){r.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}i.inherits(a,r),a.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},a.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";var i=e("readable-stream").Readable;function r(e,t,n){i.call(this,t),this._helper=e;var r=this;e.on("data",(function(e,t){r.push(e)||r._helper.pause(),n&&n(t)})).on("error",(function(e){r.emit("error",e)})).on("end",(function(){r.push(null)}))}e("../utils").inherits(r,i),r.prototype._read=function(){this._helper.resume()},t.exports=r},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";function i(e,t,n){var i,r=a.getTypeOf(t),s=a.extend(n||{},l);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=m(e)),s.createFolders&&(i=f(e))&&v.call(this,i,!0);var d="string"===r&&!1===s.binary&&!1===s.base64;n&&void 0!==n.binary||(s.binary=!d),(t instanceof c&&0===t.uncompressedSize||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t="",s.compression="STORE",r="string");var g=null;g=t instanceof c||t instanceof o?t:h.isNode&&h.isStream(t)?new p(e,t):a.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var y=new u(e,g,s);this.files[e]=y}var r=e("./utf8"),a=e("./utils"),o=e("./stream/GenericWorker"),s=e("./stream/StreamHelper"),l=e("./defaults"),c=e("./compressedObject"),u=e("./zipObject"),d=e("./generate"),h=e("./nodejsUtils"),p=e("./nodejs/NodejsStreamInputAdapter"),f=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},v=function(e,t){return t=void 0!==t?t:l.createFolders,e=m(e),this.files[e]||i.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function g(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,i;for(t in this.files)i=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,i)},filter:function(e){var t=[];return this.forEach((function(n,i){e(n,i)&&t.push(i)})),t},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,i.call(this,e,t,n),this;if(g(e)){var r=e;return this.filter((function(e,t){return!t.dir&&r.test(e)}))}var a=this.files[this.root+e];return a&&!a.dir?a:null},folder:function(e){if(!e)return this;if(g(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=v.call(this,t),i=this.clone();return i.root=n.name,i},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=a.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");a.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var i=n.comment||this.comment||"";t=d.generateWorker(this,n,i)}catch(e){(t=new o("error")).error(e)}return new s(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){"use strict";t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";var i=e("./DataReader");function r(e){i.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(r,i),r.prototype.byteAt=function(e){return this.data[this.zero+e]},r.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),a=this.length-4;0<=a;--a)if(this.data[a]===t&&this.data[a+1]===n&&this.data[a+2]===i&&this.data[a+3]===r)return a-this.zero;return-1},r.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),a=this.readData(4);return t===a[0]&&n===a[1]&&i===a[2]&&r===a[3]},r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";var i=e("../utils");function r(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return i.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=r},{"../utils":32}],19:[function(e,t,n){"use strict";var i=e("./Uint8ArrayReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";var i=e("./DataReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},r.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},r.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";var i=e("./ArrayReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var i=e("../utils"),r=e("../support"),a=e("./ArrayReader"),o=e("./StringReader"),s=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=i.getTypeOf(e);return i.checkSupport(t),"string"!==t||r.uint8array?"nodebuffer"===t?new s(e):r.uint8array?new l(i.transformTo("uint8array",e)):new a(i.transformTo("array",e)):new o(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK\x03\x04",n.CENTRAL_FILE_HEADER="PK\x01\x02",n.CENTRAL_DIRECTORY_END="PK\x05\x06",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,n){"use strict";var i=e("./GenericWorker"),r=e("../utils");function a(e){i.call(this,"ConvertWorker to "+e),this.destType=e}r.inherits(a,i),a.prototype.processChunk=function(e){this.push({data:r.transformTo(this.destType,e.data),meta:e.meta})},t.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";var i=e("./GenericWorker"),r=e("../crc32");function a(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(a,i),a.prototype.processChunk=function(e){this.streamInfo.crc32=r(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";var i=e("../utils"),r=e("./GenericWorker");function a(e){r.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}i.inherits(a,r),a.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}r.prototype.processChunk.call(this,e)},t.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";var i=e("../utils"),r=e("./GenericWorker");function a(e){r.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=i.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}i.inherits(a,r),a.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function i(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=i},{}],29:[function(e,t,n){"use strict";var i=e("../utils"),r=e("./ConvertWorker"),a=e("./GenericWorker"),o=e("../base64"),s=e("../support"),l=e("../external"),c=null;if(s.nodestream)try{c=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function u(e,t){return new l.Promise((function(n,r){var a=[],s=e._internalType,l=e._outputType,c=e._mimeType;e.on("data",(function(e,n){a.push(e),t&&t(n)})).on("error",(function(e){a=[],r(e)})).on("end",(function(){try{var e=function(e,t,n){switch(e){case"blob":return i.newBlob(i.transformTo("arraybuffer",t),n);case"base64":return o.encode(t);default:return i.transformTo(e,t)}}(l,function(e,t){var n,i=0,r=null,a=0;for(n=0;n<t.length;n++)a+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(r=new Uint8Array(a),n=0;n<t.length;n++)r.set(t[n],i),i+=t[n].length;return r;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(s,a),c);n(e)}catch(e){r(e)}a=[]})).resume()}))}function d(e,t,n){var o=t;switch(t){case"blob":case"arraybuffer":o="uint8array";break;case"base64":o="string"}try{this._internalType=o,this._outputType=t,this._mimeType=n,i.checkSupport(o),this._worker=e.pipe(new r(o)),e.lock()}catch(e){this._worker=new a("error"),this._worker.error(e)}}d.prototype={accumulate:function(e){return u(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){i.delay(t,arguments,n)})),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=0===new Blob([i],{type:"application/zip"}).size}catch(e){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(i),n.blob=0===r.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";for(var i=e("./utils"),r=e("./support"),a=e("./nodejsUtils"),o=e("./stream/GenericWorker"),s=new Array(256),l=0;l<256;l++)s[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function c(){o.call(this,"utf-8 decode"),this.leftOver=null}function u(){o.call(this,"utf-8 encode")}s[254]=s[254]=1,n.utf8encode=function(e){return r.nodebuffer?a.newBufferFrom(e,"utf-8"):function(e){var t,n,i,a,o,s=e.length,l=0;for(a=0;a<s;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=r.uint8array?new Uint8Array(l):new Array(l),a=o=0;o<l;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t}(e)},n.utf8decode=function(e){return r.nodebuffer?i.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,r,a,o=e.length,l=new Array(2*o);for(t=n=0;t<o;)if((r=e[t++])<128)l[n++]=r;else if(4<(a=s[r]))l[n++]=65533,t+=a-1;else{for(r&=2===a?31:3===a?15:7;1<a&&t<o;)r=r<<6|63&e[t++],a--;1<a?l[n++]=65533:r<65536?l[n++]=r:(r-=65536,l[n++]=55296|r>>10&1023,l[n++]=56320|1023&r)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),i.applyFromCharCode(l)}(e=i.transformTo(r.uint8array?"uint8array":"array",e))},i.inherits(c,o),c.prototype.processChunk=function(e){var t=i.transformTo(r.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var a=t;(t=new Uint8Array(a.length+this.leftOver.length)).set(this.leftOver,0),t.set(a,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var o=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}(t),l=t;o!==t.length&&(r.uint8array?(l=t.subarray(0,o),this.leftOver=t.subarray(o,t.length)):(l=t.slice(0,o),this.leftOver=t.slice(o,t.length))),this.push({data:n.utf8decode(l),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=c,i.inherits(u,o),u.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";var i=e("./support"),r=e("./base64"),a=e("./nodejsUtils"),o=e("./external");function s(e){return e}function l(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}e("setimmediate"),n.newBlob=function(t,i){n.checkSupport("blob");try{return new Blob([t],{type:i})}catch(e){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(t),r.getBlob(i)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(e,t,n){var i=[],r=0,a=e.length;if(a<=n)return String.fromCharCode.apply(null,e);for(;r<a;)"array"===t||"nodebuffer"===t?i.push(String.fromCharCode.apply(null,e.slice(r,Math.min(r+n,a)))):i.push(String.fromCharCode.apply(null,e.subarray(r,Math.min(r+n,a)))),r+=n;return i.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,a.allocBuffer(1)).length}catch(e){return!1}}()}};function u(e){var t=65536,i=n.getTypeOf(e),r=!0;if("uint8array"===i?r=c.applyCanBeUsed.uint8array:"nodebuffer"===i&&(r=c.applyCanBeUsed.nodebuffer),r)for(;1<t;)try{return c.stringifyByChunk(e,i,t)}catch(e){t=Math.floor(t/2)}return c.stringifyByChar(e)}function d(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=u;var h={};h.string={string:s,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return h.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,a.allocBuffer(e.length))}},h.array={string:u,array:s,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(e)}},h.arraybuffer={string:function(e){return u(new Uint8Array(e))},array:function(e){return d(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:s,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(new Uint8Array(e))}},h.uint8array={string:u,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:s,nodebuffer:function(e){return a.newBufferFrom(e)}},h.nodebuffer={string:u,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return h.nodebuffer.uint8array(e).buffer},uint8array:function(e){return d(e,new Uint8Array(e.length))},nodebuffer:s},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var i=n.getTypeOf(t);return h[i][e](t)},n.resolve=function(e){for(var t=e.split("/"),n=[],i=0;i<t.length;i++){var r=t[i];"."===r||""===r&&0!==i&&i!==t.length-1||(".."===r?n.pop():n.push(r))}return n.join("/")},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":i.nodebuffer&&a.isBuffer(e)?"nodebuffer":i.uint8array&&e instanceof Uint8Array?"uint8array":i.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!i[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,i="";for(n=0;n<(e||"").length;n++)i+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return i},n.delay=function(e,t,n){setImmediate((function(){e.apply(n||null,t||[])}))},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,a,s,c){return o.Promise.resolve(t).then((function(e){return i.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new o.Promise((function(t,n){var i=new FileReader;i.onload=function(e){t(e.target.result)},i.onerror=function(e){n(e.target.error)},i.readAsArrayBuffer(e)})):e})).then((function(t){var u=n.getTypeOf(t);return u?("arraybuffer"===u?t=n.transformTo("uint8array",t):"string"===u&&(c?t=r.decode(t):a&&!0!==s&&(t=function(e){return l(e,i.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):o.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,n){"use strict";var i=e("./reader/readerFor"),r=e("./utils"),a=e("./signature"),o=e("./zipEntry"),s=e("./support");function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(t)+", expected "+r.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var i=this.reader.readString(4)===t;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",n=r.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,i=this.zip64EndOfCentralSize-44;0<i;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(e=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=t-n;if(0<i)this.isSignature(t,a.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(e){this.reader=i(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";var i=e("./reader/readerFor"),r=e("./utils"),a=e("./compressedObject"),o=e("./crc32"),s=e("./utf8"),l=e("./compressions"),c=e("./support");function u(e,t){this.options=e,this.loadOptions=t}u.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(Object.prototype.hasOwnProperty.call(l,t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=i(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,n,i,r=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<r;)t=e.readInt(2),n=e.readInt(2),i=e.readData(n),this.extraFields[t]={id:t,length:n,value:i};e.setIndex(r)},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=r.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var a=r.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=i(e.value);return 1!==t.readInt(1)||o(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=i(e.value);return 1!==t.readInt(1)||o(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";function i(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var r=e("./stream/StreamHelper"),a=e("./stream/DataWorker"),o=e("./utf8"),s=e("./compressedObject"),l=e("./stream/GenericWorker");i.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var i="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var a=!this._dataBinary;a&&!i&&(t=t.pipe(new o.Utf8EncodeWorker)),!a&&i&&(t=t.pipe(new o.Utf8DecodeWorker))}catch(e){(t=new l("error")).error(e)}return new r(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),s.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof l?this._data:new a(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<c.length;d++)i.prototype[c[d]]=u;t.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,i){(function(e){"use strict";var n,i,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var a=0,o=new r(u),s=e.document.createTextNode("");o.observe(s,{characterData:!0}),n=function(){s.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var l=new e.MessageChannel;l.port1.onmessage=u,n=function(){l.port2.postMessage(0)}}var c=[];function u(){var e,t;i=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}i=!1}t.exports=function(e){1!==c.push(e)||i||n()}}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){"use strict";var i=e("immediate");function r(){}var a={},o=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==r&&p(this,e)}function u(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(e,t,n){i((function(){var i;try{i=t(n)}catch(i){return a.reject(e,i)}i===e?a.reject(e,new TypeError("Cannot resolve promise with itself")):a.resolve(e,i)}))}function h(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var n=!1;function i(t){n||(n=!0,a.reject(e,t))}function r(t){n||(n=!0,a.resolve(e,t))}var o=f((function(){t(r,i)}));"error"===o.status&&i(o.value)}function f(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=c).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===o)return this;var n=new this.constructor(r);return this.state!==l?d(n,this.state===s?e:t,this.outcome):this.queue.push(new u(n,e,t)),n},u.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){a.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},a.resolve=function(e,t){var n=f(h,t);if("error"===n.status)return a.reject(e,n.value);var i=n.value;if(i)p(e,i);else{e.state=s,e.outcome=t;for(var r=-1,o=e.queue.length;++r<o;)e.queue[r].callFulfilled(t)}return e},a.reject=function(e,t){e.state=o,e.outcome=t;for(var n=-1,i=e.queue.length;++n<i;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:a.resolve(new this(r),e)},c.reject=function(e){var t=new this(r);return a.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var o=new Array(n),s=0,l=-1,c=new this(r);++l<n;)u(e[l],l);return c;function u(e,r){t.resolve(e).then((function(e){o[r]=e,++s!==n||i||(i=!0,a.resolve(c,o))}),(function(e){i||(i=!0,a.reject(c,e))}))}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var o,s=-1,l=new this(r);++s<n;)o=e[s],t.resolve(o).then((function(e){i||(i=!0,a.resolve(l,e))}),(function(e){i||(i=!0,a.reject(l,e))}));return l}},{immediate:36}],38:[function(e,t,n){"use strict";var i={};(0,e("./lib/utils/common").assign)(i,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";var i=e("./zlib/deflate"),r=e("./utils/common"),a=e("./utils/strings"),o=e("./zlib/messages"),s=e("./zlib/zstream"),l=Object.prototype.toString,c=0,u=-1,d=0,h=8;function p(e){if(!(this instanceof p))return new p(e);this.options=r.assign({level:u,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==c)throw new Error(o[n]);if(t.header&&i.deflateSetHeader(this.strm,t.header),t.dictionary){var f;if(f="string"==typeof t.dictionary?a.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=i.deflateSetDictionary(this.strm,f))!==c)throw new Error(o[n]);this._dict_set=!0}}function f(e,t){var n=new p(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}p.prototype.push=function(e,t){var n,o,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=a.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new r.Buf8(u),s.next_out=0,s.avail_out=u),1!==(n=i.deflate(s,o))&&n!==c)return this.onEnd(n),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(a.buf2binstring(r.shrinkBuf(s.output,s.next_out))):this.onData(r.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==n);return 4===o?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c):2!==o||(this.onEnd(c),!(s.avail_out=0))},p.prototype.onData=function(e){this.chunks.push(e)},p.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=p,n.deflate=f,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,f(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";var i=e("./zlib/inflate"),r=e("./utils/common"),a=e("./utils/strings"),o=e("./zlib/constants"),s=e("./zlib/messages"),l=e("./zlib/zstream"),c=e("./zlib/gzheader"),u=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,t.windowBits);if(n!==o.Z_OK)throw new Error(s[n]);this.header=new c,i.inflateGetHeader(this.strm,this.header)}function h(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}d.prototype.push=function(e,t){var n,s,l,c,d,h,p=this.strm,f=this.options.chunkSize,m=this.options.dictionary,v=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof e?p.input=a.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?p.input=new Uint8Array(e):p.input=e,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new r.Buf8(f),p.next_out=0,p.avail_out=f),(n=i.inflate(p,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&m&&(h="string"==typeof m?a.string2buf(m):"[object ArrayBuffer]"===u.call(m)?new Uint8Array(m):m,n=i.inflateSetDictionary(this.strm,h)),n===o.Z_BUF_ERROR&&!0===v&&(n=o.Z_OK,v=!1),n!==o.Z_STREAM_END&&n!==o.Z_OK)return this.onEnd(n),!(this.ended=!0);p.next_out&&(0!==p.avail_out&&n!==o.Z_STREAM_END&&(0!==p.avail_in||s!==o.Z_FINISH&&s!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(l=a.utf8border(p.output,p.next_out),c=p.next_out-l,d=a.buf2string(p.output,l),p.next_out=c,p.avail_out=f-c,c&&r.arraySet(p.output,p.output,l,c,0),this.onData(d)):this.onData(r.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(v=!0)}while((0<p.avail_in||0===p.avail_out)&&n!==o.Z_STREAM_END);return n===o.Z_STREAM_END&&(s=o.Z_FINISH),s===o.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===o.Z_OK):s!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(p.avail_out=0))},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=d,n.inflate=h,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,h(e,t)},n.ungzip=h},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),r);else for(var a=0;a<i;a++)e[r+a]=t[n+a]},flattenChunks:function(e){var t,n,i,r,a,o;for(t=i=0,n=e.length;t<n;t++)i+=e[t].length;for(o=new Uint8Array(i),t=r=0,n=e.length;t<n;t++)a=e[t],o.set(a,r),r+=a.length;return o}},a={arraySet:function(e,t,n,i,r){for(var a=0;a<i;a++)e[r+a]=t[n+a]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,r)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(i)},{}],42:[function(e,t,n){"use strict";var i=e("./common"),r=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}for(var o=new i.Buf8(256),s=0;s<256;s++)o[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function l(e,t){if(t<65537&&(e.subarray&&a||!e.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var n="",o=0;o<t;o++)n+=String.fromCharCode(e[o]);return n}o[254]=o[254]=1,n.string2buf=function(e){var t,n,r,a,o,s=e.length,l=0;for(a=0;a<s;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new i.Buf8(l),a=o=0;o<l;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new i.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,i,r,a,s=t||e.length,c=new Array(2*s);for(n=i=0;n<s;)if((r=e[n++])<128)c[i++]=r;else if(4<(a=o[r]))c[i++]=65533,n+=a-1;else{for(r&=2===a?31:3===a?15:7;1<a&&n<s;)r=r<<6|63&e[n++],a--;1<a?c[i++]=65533:r<65536?c[i++]=r:(r-=65536,c[i++]=55296|r>>10&1023,c[i++]=56320|1023&r)}return l(c,i)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+o[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){for(var r=65535&e,a=e>>>16&65535,o=0;0!==n;){for(n-=o=2e3<n?2e3:n;a=a+(r=r+t[i++]|0)|0,--o;);r%=65521,a%=65521}return r|a<<16}},{}],44:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){"use strict";var i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,r){var a=i,o=r+n;e^=-1;for(var s=r;s<o;s++)e=e>>>8^a[255&(e^t[s])];return~e}},{}],46:[function(e,t,n){"use strict";var i,r=e("../utils/common"),a=e("./trees"),o=e("./adler32"),s=e("./crc32"),l=e("./messages"),c=0,u=4,d=0,h=-2,p=-1,f=4,m=2,v=8,g=9,y=286,b=30,x=19,_=2*y+1,w=15,S=3,M=258,E=M+S+1,C=42,T=113,N=1,A=2,k=3,O=4;function P(e,t){return e.msg=l[t],t}function R(e){return(e<<1)-(4<e?9:0)}function j(e){for(var t=e.length;0<=--t;)e[t]=0}function L(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(r.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function I(e,t){a._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,L(e.strm)}function D(e,t){e.pending_buf[e.pending++]=t}function F(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function U(e,t){var n,i,r=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-E?e.strstart-(e.w_size-E):0,c=e.window,u=e.w_mask,d=e.prev,h=e.strstart+M,p=c[a+o-1],f=c[a+o];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(n=t)+o]===f&&c[n+o-1]===p&&c[n]===c[a]&&c[++n]===c[a+1]){a+=2,n++;do{}while(c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&a<h);if(i=M-(h-a),a=h-M,o<i){if(e.match_start=t,s<=(o=i))break;p=c[a+o-1],f=c[a+o]}}}while((t=d[t&u])>l&&0!=--r);return o<=e.lookahead?o:e.lookahead}function z(e){var t,n,i,a,l,c,u,d,h,p,f=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=f+(f-E)){for(r.arraySet(e.window,e.window,f,f,0),e.match_start-=f,e.strstart-=f,e.block_start-=f,t=n=e.hash_size;i=e.head[--t],e.head[t]=f<=i?i-f:0,--n;);for(t=n=f;i=e.prev[--t],e.prev[t]=f<=i?i-f:0,--n;);a+=f}if(0===e.strm.avail_in)break;if(c=e.strm,u=e.window,d=e.strstart+e.lookahead,p=void 0,(h=a)<(p=c.avail_in)&&(p=h),n=0===p?0:(c.avail_in-=p,r.arraySet(u,c.input,c.next_in,p,d),1===c.state.wrap?c.adler=o(c.adler,u,p,d):2===c.state.wrap&&(c.adler=s(c.adler,u,p,d)),c.next_in+=p,c.total_in+=p,p),e.lookahead+=n,e.lookahead+e.insert>=S)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+S-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<S)););}while(e.lookahead<E&&0!==e.strm.avail_in)}function B(e,t){for(var n,i;;){if(e.lookahead<E){if(z(e),e.lookahead<E&&t===c)return N;if(0===e.lookahead)break}if(n=0,e.lookahead>=S&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+S-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-E&&(e.match_length=U(e,n)),e.match_length>=S)if(i=a._tr_tally(e,e.strstart-e.match_start,e.match_length-S),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=S){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+S-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(I(e,!1),0===e.strm.avail_out))return N}return e.insert=e.strstart<S-1?e.strstart:S-1,t===u?(I(e,!0),0===e.strm.avail_out?k:O):e.last_lit&&(I(e,!1),0===e.strm.avail_out)?N:A}function H(e,t){for(var n,i,r;;){if(e.lookahead<E){if(z(e),e.lookahead<E&&t===c)return N;if(0===e.lookahead)break}if(n=0,e.lookahead>=S&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+S-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=S-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-E&&(e.match_length=U(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===S&&4096<e.strstart-e.match_start)&&(e.match_length=S-1)),e.prev_length>=S&&e.match_length<=e.prev_length){for(r=e.strstart+e.lookahead-S,i=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-S),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+S-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=S-1,e.strstart++,i&&(I(e,!1),0===e.strm.avail_out))return N}else if(e.match_available){if((i=a._tr_tally(e,0,e.window[e.strstart-1]))&&I(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return N}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<S-1?e.strstart:S-1,t===u?(I(e,!0),0===e.strm.avail_out?k:O):e.last_lit&&(I(e,!1),0===e.strm.avail_out)?N:A}function V(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function W(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*_),this.dyn_dtree=new r.Buf16(2*(2*b+1)),this.bl_tree=new r.Buf16(2*(2*x+1)),j(this.dyn_ltree),j(this.dyn_dtree),j(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(w+1),this.heap=new r.Buf16(2*y+1),j(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*y+1),j(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=m,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?C:T,e.adler=2===t.wrap?0:1,t.last_flush=c,a._tr_init(t),d):P(e,h)}function q(e){var t=G(e);return t===d&&function(e){e.window_size=2*e.w_size,j(e.head),e.max_lazy_match=i[e.level].max_lazy,e.good_match=i[e.level].good_length,e.nice_match=i[e.level].nice_length,e.max_chain_length=i[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=S-1,e.match_available=0,e.ins_h=0}(e.state),t}function Y(e,t,n,i,a,o){if(!e)return h;var s=1;if(t===p&&(t=6),i<0?(s=0,i=-i):15<i&&(s=2,i-=16),a<1||g<a||n!==v||i<8||15<i||t<0||9<t||o<0||f<o)return P(e,h);8===i&&(i=9);var l=new W;return(e.state=l).strm=e,l.wrap=s,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+S-1)/S),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=o,l.method=n,q(e)}i=[new V(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(z(e),0===e.lookahead&&t===c)return N;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,I(e,!1),0===e.strm.avail_out))return N;if(e.strstart-e.block_start>=e.w_size-E&&(I(e,!1),0===e.strm.avail_out))return N}return e.insert=0,t===u?(I(e,!0),0===e.strm.avail_out?k:O):(e.strstart>e.block_start&&(I(e,!1),e.strm.avail_out),N)})),new V(4,4,8,4,B),new V(4,5,16,8,B),new V(4,6,32,32,B),new V(4,4,16,16,H),new V(8,16,32,32,H),new V(8,16,128,128,H),new V(8,32,128,256,H),new V(32,128,258,1024,H),new V(32,258,258,4096,H)],n.deflateInit=function(e,t){return Y(e,t,v,15,8,0)},n.deflateInit2=Y,n.deflateReset=q,n.deflateResetKeep=G,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?h:(e.state.gzhead=t,d):h},n.deflate=function(e,t){var n,r,o,l;if(!e||!e.state||5<t||t<0)return e?P(e,h):h;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||666===r.status&&t!==u)return P(e,0===e.avail_out?-5:h);if(r.strm=e,n=r.last_flush,r.last_flush=t,r.status===C)if(2===r.wrap)e.adler=0,D(r,31),D(r,139),D(r,8),r.gzhead?(D(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),D(r,255&r.gzhead.time),D(r,r.gzhead.time>>8&255),D(r,r.gzhead.time>>16&255),D(r,r.gzhead.time>>24&255),D(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),D(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(D(r,255&r.gzhead.extra.length),D(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=s(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(D(r,0),D(r,0),D(r,0),D(r,0),D(r,0),D(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),D(r,3),r.status=T);else{var p=v+(r.w_bits-8<<4)<<8;p|=(2<=r.strategy||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(p|=32),p+=31-p%31,r.status=T,F(r,p),0!==r.strstart&&(F(r,e.adler>>>16),F(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(o=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),L(e),o=r.pending,r.pending!==r.pending_buf_size));)D(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),L(e),o=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,D(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),0===l&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),L(e),o=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,D(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),0===l&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&L(e),r.pending+2<=r.pending_buf_size&&(D(r,255&e.adler),D(r,e.adler>>8&255),e.adler=0,r.status=T)):r.status=T),0!==r.pending){if(L(e),0===e.avail_out)return r.last_flush=-1,d}else if(0===e.avail_in&&R(t)<=R(n)&&t!==u)return P(e,-5);if(666===r.status&&0!==e.avail_in)return P(e,-5);if(0!==e.avail_in||0!==r.lookahead||t!==c&&666!==r.status){var f=2===r.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(z(e),0===e.lookahead)){if(t===c)return N;break}if(e.match_length=0,n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(I(e,!1),0===e.strm.avail_out))return N}return e.insert=0,t===u?(I(e,!0),0===e.strm.avail_out?k:O):e.last_lit&&(I(e,!1),0===e.strm.avail_out)?N:A}(r,t):3===r.strategy?function(e,t){for(var n,i,r,o,s=e.window;;){if(e.lookahead<=M){if(z(e),e.lookahead<=M&&t===c)return N;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=S&&0<e.strstart&&(i=s[r=e.strstart-1])===s[++r]&&i===s[++r]&&i===s[++r]){o=e.strstart+M;do{}while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<o);e.match_length=M-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=S?(n=a._tr_tally(e,1,e.match_length-S),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(I(e,!1),0===e.strm.avail_out))return N}return e.insert=0,t===u?(I(e,!0),0===e.strm.avail_out?k:O):e.last_lit&&(I(e,!1),0===e.strm.avail_out)?N:A}(r,t):i[r.level].func(r,t);if(f!==k&&f!==O||(r.status=666),f===N||f===k)return 0===e.avail_out&&(r.last_flush=-1),d;if(f===A&&(1===t?a._tr_align(r):5!==t&&(a._tr_stored_block(r,0,0,!1),3===t&&(j(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),L(e),0===e.avail_out))return r.last_flush=-1,d}return t!==u?d:r.wrap<=0?1:(2===r.wrap?(D(r,255&e.adler),D(r,e.adler>>8&255),D(r,e.adler>>16&255),D(r,e.adler>>24&255),D(r,255&e.total_in),D(r,e.total_in>>8&255),D(r,e.total_in>>16&255),D(r,e.total_in>>24&255)):(F(r,e.adler>>>16),F(r,65535&e.adler)),L(e),0<r.wrap&&(r.wrap=-r.wrap),0!==r.pending?d:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==C&&69!==t&&73!==t&&91!==t&&103!==t&&t!==T&&666!==t?P(e,h):(e.state=null,t===T?P(e,-3):d):h},n.deflateSetDictionary=function(e,t){var n,i,a,s,l,c,u,p,f=t.length;if(!e||!e.state)return h;if(2===(s=(n=e.state).wrap)||1===s&&n.status!==C||n.lookahead)return h;for(1===s&&(e.adler=o(e.adler,t,f,0)),n.wrap=0,f>=n.w_size&&(0===s&&(j(n.head),n.strstart=0,n.block_start=0,n.insert=0),p=new r.Buf8(n.w_size),r.arraySet(p,t,f-n.w_size,n.w_size,0),t=p,f=n.w_size),l=e.avail_in,c=e.next_in,u=e.input,e.avail_in=f,e.next_in=0,e.input=t,z(n);n.lookahead>=S;){for(i=n.strstart,a=n.lookahead-(S-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+S-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++,--a;);n.strstart=i,n.lookahead=S-1,z(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=S-1,n.match_available=0,e.next_in=c,e.input=u,e.avail_in=l,n.wrap=s,d},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){"use strict";t.exports=function(e,t){var n,i,r,a,o,s,l,c,u,d,h,p,f,m,v,g,y,b,x,_,w,S,M,E,C;n=e.state,i=e.next_in,E=e.input,r=i+(e.avail_in-5),a=e.next_out,C=e.output,o=a-(t-e.avail_out),s=a+(e.avail_out-257),l=n.dmax,c=n.wsize,u=n.whave,d=n.wnext,h=n.window,p=n.hold,f=n.bits,m=n.lencode,v=n.distcode,g=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{f<15&&(p+=E[i++]<<f,f+=8,p+=E[i++]<<f,f+=8),b=m[p&g];t:for(;;){if(p>>>=x=b>>>24,f-=x,0===(x=b>>>16&255))C[a++]=65535&b;else{if(!(16&x)){if(0==(64&x)){b=m[(65535&b)+(p&(1<<x)-1)];continue t}if(32&x){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}_=65535&b,(x&=15)&&(f<x&&(p+=E[i++]<<f,f+=8),_+=p&(1<<x)-1,p>>>=x,f-=x),f<15&&(p+=E[i++]<<f,f+=8,p+=E[i++]<<f,f+=8),b=v[p&y];n:for(;;){if(p>>>=x=b>>>24,f-=x,!(16&(x=b>>>16&255))){if(0==(64&x)){b=v[(65535&b)+(p&(1<<x)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(w=65535&b,f<(x&=15)&&(p+=E[i++]<<f,(f+=8)<x&&(p+=E[i++]<<f,f+=8)),l<(w+=p&(1<<x)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(p>>>=x,f-=x,(x=a-o)<w){if(u<(x=w-x)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(M=h,(S=0)===d){if(S+=c-x,x<_){for(_-=x;C[a++]=h[S++],--x;);S=a-w,M=C}}else if(d<x){if(S+=c+d-x,(x-=d)<_){for(_-=x;C[a++]=h[S++],--x;);if(S=0,d<_){for(_-=x=d;C[a++]=h[S++],--x;);S=a-w,M=C}}}else if(S+=d-x,x<_){for(_-=x;C[a++]=h[S++],--x;);S=a-w,M=C}for(;2<_;)C[a++]=M[S++],C[a++]=M[S++],C[a++]=M[S++],_-=3;_&&(C[a++]=M[S++],1<_&&(C[a++]=M[S++]))}else{for(S=a-w;C[a++]=C[S++],C[a++]=C[S++],C[a++]=C[S++],2<(_-=3););_&&(C[a++]=C[S++],1<_&&(C[a++]=C[S++]))}break}}break}}while(i<r&&a<s);i-=_=f>>3,p&=(1<<(f-=_<<3))-1,e.next_in=i,e.next_out=a,e.avail_in=i<r?r-i+5:5-(i-r),e.avail_out=a<s?s-a+257:257-(a-s),n.hold=p,n.bits=f}},{}],49:[function(e,t,n){"use strict";var i=e("../utils/common"),r=e("./adler32"),a=e("./crc32"),o=e("./inffast"),s=e("./inftrees"),l=1,c=2,u=0,d=-2,h=1,p=852,f=592;function m(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function g(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=h,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(p),t.distcode=t.distdyn=new i.Buf32(f),t.sane=1,t.back=-1,u):d}function y(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,g(e)):d}function b(e,t){var n,i;return e&&e.state?(i=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?d:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,y(e))):d}function x(e,t){var n,i;return e?(i=new v,(e.state=i).window=null,(n=b(e,t))!==u&&(e.state=null),n):d}var _,w,S=!0;function M(e){if(S){var t;for(_=new i.Buf32(512),w=new i.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(l,e.lens,0,288,_,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(c,e.lens,0,32,w,0,e.work,{bits:5}),S=!1}e.lencode=_,e.lenbits=9,e.distcode=w,e.distbits=5}function E(e,t,n,r){var a,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new i.Buf8(o.wsize)),r>=o.wsize?(i.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(r<(a=o.wsize-o.wnext)&&(a=r),i.arraySet(o.window,t,n-r,a,o.wnext),(r-=a)?(i.arraySet(o.window,t,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}n.inflateReset=y,n.inflateReset2=b,n.inflateResetKeep=g,n.inflateInit=function(e){return x(e,15)},n.inflateInit2=x,n.inflate=function(e,t){var n,p,f,v,g,y,b,x,_,w,S,C,T,N,A,k,O,P,R,j,L,I,D,F,U=0,z=new i.Buf8(4),B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return d;12===(n=e.state).mode&&(n.mode=13),g=e.next_out,f=e.output,b=e.avail_out,v=e.next_in,p=e.input,y=e.avail_in,x=n.hold,_=n.bits,w=y,S=b,I=u;e:for(;;)switch(n.mode){case h:if(0===n.wrap){n.mode=13;break}for(;_<16;){if(0===y)break e;y--,x+=p[v++]<<_,_+=8}if(2&n.wrap&&35615===x){z[n.check=0]=255&x,z[1]=x>>>8&255,n.check=a(n.check,z,2,0),_=x=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&x)<<8)+(x>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&x)){e.msg="unknown compression method",n.mode=30;break}if(_-=4,L=8+(15&(x>>>=4)),0===n.wbits)n.wbits=L;else if(L>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<L,e.adler=n.check=1,n.mode=512&x?10:12,_=x=0;break;case 2:for(;_<16;){if(0===y)break e;y--,x+=p[v++]<<_,_+=8}if(n.flags=x,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=x>>8&1),512&n.flags&&(z[0]=255&x,z[1]=x>>>8&255,n.check=a(n.check,z,2,0)),_=x=0,n.mode=3;case 3:for(;_<32;){if(0===y)break e;y--,x+=p[v++]<<_,_+=8}n.head&&(n.head.time=x),512&n.flags&&(z[0]=255&x,z[1]=x>>>8&255,z[2]=x>>>16&255,z[3]=x>>>24&255,n.check=a(n.check,z,4,0)),_=x=0,n.mode=4;case 4:for(;_<16;){if(0===y)break e;y--,x+=p[v++]<<_,_+=8}n.head&&(n.head.xflags=255&x,n.head.os=x>>8),512&n.flags&&(z[0]=255&x,z[1]=x>>>8&255,n.check=a(n.check,z,2,0)),_=x=0,n.mode=5;case 5:if(1024&n.flags){for(;_<16;){if(0===y)break e;y--,x+=p[v++]<<_,_+=8}n.length=x,n.head&&(n.head.extra_len=x),512&n.flags&&(z[0]=255&x,z[1]=x>>>8&255,n.check=a(n.check,z,2,0)),_=x=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(y<(C=n.length)&&(C=y),C&&(n.head&&(L=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,p,v,C,L)),512&n.flags&&(n.check=a(n.check,p,C,v)),y-=C,v+=C,n.length-=C),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===y)break e;for(C=0;L=p[v+C++],n.head&&L&&n.length<65536&&(n.head.name+=String.fromCharCode(L)),L&&C<y;);if(512&n.flags&&(n.check=a(n.check,p,C,v)),y-=C,v+=C,L)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===y)break e;for(C=0;L=p[v+C++],n.head&&L&&n.length<65536&&(n.head.comment+=String.fromCharCode(L)),L&&C<y;);if(512&n.flags&&(n.check=a(n.check,p,C,v)),y-=C,v+=C,L)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;_<16;){if(0===y)break e;y--,x+=p[v++]<<_,_+=8}if(x!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}_=x=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;_<32;){if(0===y)break e;y--,x+=p[v++]<<_,_+=8}e.adler=n.check=m(x),_=x=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=g,e.avail_out=b,e.next_in=v,e.avail_in=y,n.hold=x,n.bits=_,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){x>>>=7&_,_-=7&_,n.mode=27;break}for(;_<3;){if(0===y)break e;y--,x+=p[v++]<<_,_+=8}switch(n.last=1&x,_-=1,3&(x>>>=1)){case 0:n.mode=14;break;case 1:if(M(n),n.mode=20,6!==t)break;x>>>=2,_-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}x>>>=2,_-=2;break;case 14:for(x>>>=7&_,_-=7&_;_<32;){if(0===y)break e;y--,x+=p[v++]<<_,_+=8}if((65535&x)!=(x>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&x,_=x=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(C=n.length){if(y<C&&(C=y),b<C&&(C=b),0===C)break e;i.arraySet(f,p,v,C,g),y-=C,v+=C,b-=C,g+=C,n.length-=C;break}n.mode=12;break;case 17:for(;_<14;){if(0===y)break e;y--,x+=p[v++]<<_,_+=8}if(n.nlen=257+(31&x),x>>>=5,_-=5,n.ndist=1+(31&x),x>>>=5,_-=5,n.ncode=4+(15&x),x>>>=4,_-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;_<3;){if(0===y)break e;y--,x+=p[v++]<<_,_+=8}n.lens[B[n.have++]]=7&x,x>>>=3,_-=3}for(;n.have<19;)n.lens[B[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,D={bits:n.lenbits},I=s(0,n.lens,0,19,n.lencode,0,n.work,D),n.lenbits=D.bits,I){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;k=(U=n.lencode[x&(1<<n.lenbits)-1])>>>16&255,O=65535&U,!((A=U>>>24)<=_);){if(0===y)break e;y--,x+=p[v++]<<_,_+=8}if(O<16)x>>>=A,_-=A,n.lens[n.have++]=O;else{if(16===O){for(F=A+2;_<F;){if(0===y)break e;y--,x+=p[v++]<<_,_+=8}if(x>>>=A,_-=A,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}L=n.lens[n.have-1],C=3+(3&x),x>>>=2,_-=2}else if(17===O){for(F=A+3;_<F;){if(0===y)break e;y--,x+=p[v++]<<_,_+=8}_-=A,L=0,C=3+(7&(x>>>=A)),x>>>=3,_-=3}else{for(F=A+7;_<F;){if(0===y)break e;y--,x+=p[v++]<<_,_+=8}_-=A,L=0,C=11+(127&(x>>>=A)),x>>>=7,_-=7}if(n.have+C>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;C--;)n.lens[n.have++]=L}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,D={bits:n.lenbits},I=s(l,n.lens,0,n.nlen,n.lencode,0,n.work,D),n.lenbits=D.bits,I){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,D={bits:n.distbits},I=s(c,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,D),n.distbits=D.bits,I){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=y&&258<=b){e.next_out=g,e.avail_out=b,e.next_in=v,e.avail_in=y,n.hold=x,n.bits=_,o(e,S),g=e.next_out,f=e.output,b=e.avail_out,v=e.next_in,p=e.input,y=e.avail_in,x=n.hold,_=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;k=(U=n.lencode[x&(1<<n.lenbits)-1])>>>16&255,O=65535&U,!((A=U>>>24)<=_);){if(0===y)break e;y--,x+=p[v++]<<_,_+=8}if(k&&0==(240&k)){for(P=A,R=k,j=O;k=(U=n.lencode[j+((x&(1<<P+R)-1)>>P)])>>>16&255,O=65535&U,!(P+(A=U>>>24)<=_);){if(0===y)break e;y--,x+=p[v++]<<_,_+=8}x>>>=P,_-=P,n.back+=P}if(x>>>=A,_-=A,n.back+=A,n.length=O,0===k){n.mode=26;break}if(32&k){n.back=-1,n.mode=12;break}if(64&k){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&k,n.mode=22;case 22:if(n.extra){for(F=n.extra;_<F;){if(0===y)break e;y--,x+=p[v++]<<_,_+=8}n.length+=x&(1<<n.extra)-1,x>>>=n.extra,_-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;k=(U=n.distcode[x&(1<<n.distbits)-1])>>>16&255,O=65535&U,!((A=U>>>24)<=_);){if(0===y)break e;y--,x+=p[v++]<<_,_+=8}if(0==(240&k)){for(P=A,R=k,j=O;k=(U=n.distcode[j+((x&(1<<P+R)-1)>>P)])>>>16&255,O=65535&U,!(P+(A=U>>>24)<=_);){if(0===y)break e;y--,x+=p[v++]<<_,_+=8}x>>>=P,_-=P,n.back+=P}if(x>>>=A,_-=A,n.back+=A,64&k){e.msg="invalid distance code",n.mode=30;break}n.offset=O,n.extra=15&k,n.mode=24;case 24:if(n.extra){for(F=n.extra;_<F;){if(0===y)break e;y--,x+=p[v++]<<_,_+=8}n.offset+=x&(1<<n.extra)-1,x>>>=n.extra,_-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===b)break e;if(C=S-b,n.offset>C){if((C=n.offset-C)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}T=C>n.wnext?(C-=n.wnext,n.wsize-C):n.wnext-C,C>n.length&&(C=n.length),N=n.window}else N=f,T=g-n.offset,C=n.length;for(b<C&&(C=b),b-=C,n.length-=C;f[g++]=N[T++],--C;);0===n.length&&(n.mode=21);break;case 26:if(0===b)break e;f[g++]=n.length,b--,n.mode=21;break;case 27:if(n.wrap){for(;_<32;){if(0===y)break e;y--,x|=p[v++]<<_,_+=8}if(S-=b,e.total_out+=S,n.total+=S,S&&(e.adler=n.check=n.flags?a(n.check,f,S,g-S):r(n.check,f,S,g-S)),S=b,(n.flags?x:m(x))!==n.check){e.msg="incorrect data check",n.mode=30;break}_=x=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;_<32;){if(0===y)break e;y--,x+=p[v++]<<_,_+=8}if(x!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}_=x=0}n.mode=29;case 29:I=1;break e;case 30:I=-3;break e;case 31:return-4;default:return d}return e.next_out=g,e.avail_out=b,e.next_in=v,e.avail_in=y,n.hold=x,n.bits=_,(n.wsize||S!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&E(e,e.output,e.next_out,S-e.avail_out)?(n.mode=31,-4):(w-=e.avail_in,S-=e.avail_out,e.total_in+=w,e.total_out+=S,n.total+=S,n.wrap&&S&&(e.adler=n.check=n.flags?a(n.check,f,S,e.next_out-S):r(n.check,f,S,e.next_out-S)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==w&&0===S||4===t)&&I===u&&(I=-5),I)},n.inflateEnd=function(e){if(!e||!e.state)return d;var t=e.state;return t.window&&(t.window=null),e.state=null,u},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?d:((n.head=t).done=!1,u):d},n.inflateSetDictionary=function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?d:11===n.mode&&r(1,t,i,0)!==n.check?-3:E(e,t,i,i)?(n.mode=31,-4):(n.havedict=1,u):d},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){"use strict";var i=e("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,l,c,u,d,h){var p,f,m,v,g,y,b,x,_,w=h.bits,S=0,M=0,E=0,C=0,T=0,N=0,A=0,k=0,O=0,P=0,R=null,j=0,L=new i.Buf16(16),I=new i.Buf16(16),D=null,F=0;for(S=0;S<=15;S++)L[S]=0;for(M=0;M<l;M++)L[t[n+M]]++;for(T=w,C=15;1<=C&&0===L[C];C--);if(C<T&&(T=C),0===C)return c[u++]=20971520,c[u++]=20971520,h.bits=1,0;for(E=1;E<C&&0===L[E];E++);for(T<E&&(T=E),S=k=1;S<=15;S++)if(k<<=1,(k-=L[S])<0)return-1;if(0<k&&(0===e||1!==C))return-1;for(I[1]=0,S=1;S<15;S++)I[S+1]=I[S]+L[S];for(M=0;M<l;M++)0!==t[n+M]&&(d[I[t[n+M]]++]=M);if(y=0===e?(R=D=d,19):1===e?(R=r,j-=257,D=a,F-=257,256):(R=o,D=s,-1),S=E,g=u,A=M=P=0,m=-1,v=(O=1<<(N=T))-1,1===e&&852<O||2===e&&592<O)return 1;for(;;){for(b=S-A,_=d[M]<y?(x=0,d[M]):d[M]>y?(x=D[F+d[M]],R[j+d[M]]):(x=96,0),p=1<<S-A,E=f=1<<N;c[g+(P>>A)+(f-=p)]=b<<24|x<<16|_,0!==f;);for(p=1<<S-1;P&p;)p>>=1;if(0!==p?(P&=p-1,P+=p):P=0,M++,0==--L[S]){if(S===C)break;S=t[n+d[M]]}if(T<S&&(P&v)!==m){for(0===A&&(A=T),g+=E,k=1<<(N=S-A);N+A<C&&!((k-=L[N+A])<=0);)N++,k<<=1;if(O+=1<<N,1===e&&852<O||2===e&&592<O)return 1;c[m=P&v]=T<<24|N<<16|g-u}}return 0!==P&&(c[g+P]=S-A<<24|64<<16),h.bits=T,0}},{"../utils/common":41}],51:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";var i=e("../utils/common"),r=0,a=1;function o(e){for(var t=e.length;0<=--t;)e[t]=0}var s=0,l=29,c=256,u=c+1+l,d=30,h=19,p=2*u+1,f=15,m=16,v=7,g=256,y=16,b=17,x=18,_=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],w=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],E=new Array(2*(u+2));o(E);var C=new Array(2*d);o(C);var T=new Array(512);o(T);var N=new Array(256);o(N);var A=new Array(l);o(A);var k,O,P,R=new Array(d);function j(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function L(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function I(e){return e<256?T[e]:T[256+(e>>>7)]}function D(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function F(e,t,n){e.bi_valid>m-n?(e.bi_buf|=t<<e.bi_valid&65535,D(e,e.bi_buf),e.bi_buf=t>>m-e.bi_valid,e.bi_valid+=n-m):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function U(e,t,n){F(e,n[2*t],n[2*t+1])}function z(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function B(e,t,n){var i,r,a=new Array(f+1),o=0;for(i=1;i<=f;i++)a[i]=o=o+n[i-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=z(a[s]++,s))}}function H(e){var t;for(t=0;t<u;t++)e.dyn_ltree[2*t]=0;for(t=0;t<d;t++)e.dyn_dtree[2*t]=0;for(t=0;t<h;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*g]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function V(e){8<e.bi_valid?D(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function W(e,t,n,i){var r=2*t,a=2*n;return e[r]<e[a]||e[r]===e[a]&&i[t]<=i[n]}function G(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&W(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!W(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function q(e,t,n){var i,r,a,o,s=0;if(0!==e.last_lit)for(;i=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],r=e.pending_buf[e.l_buf+s],s++,0===i?U(e,r,t):(U(e,(a=N[r])+c+1,t),0!==(o=_[a])&&F(e,r-=A[a],o),U(e,a=I(--i),n),0!==(o=w[a])&&F(e,i-=R[a],o)),s<e.last_lit;);U(e,g,t)}function Y(e,t){var n,i,r,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=p,n=0;n<l;n++)0!==a[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(r=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=o[2*r+1]);for(t.max_code=c,n=e.heap_len>>1;1<=n;n--)G(e,a,n);for(r=l;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],G(e,a,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,a[2*r]=a[2*n]+a[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,a[2*n+1]=a[2*i+1]=r,e.heap[1]=r++,G(e,a,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,a,o,s,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,m=t.stat_desc.extra_base,v=t.stat_desc.max_length,g=0;for(a=0;a<=f;a++)e.bl_count[a]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<p;n++)v<(a=l[2*l[2*(i=e.heap[n])+1]+1]+1)&&(a=v,g++),l[2*i+1]=a,c<i||(e.bl_count[a]++,o=0,m<=i&&(o=h[i-m]),s=l[2*i],e.opt_len+=s*(a+o),d&&(e.static_len+=s*(u[2*i+1]+o)));if(0!==g){do{for(a=v-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[v]--,g-=2}while(0<g);for(a=v;0!==a;a--)for(i=e.bl_count[a];0!==i;)c<(r=e.heap[--n])||(l[2*r+1]!==a&&(e.opt_len+=(a-l[2*r+1])*l[2*r],l[2*r+1]=a),i--)}}(e,t),B(a,c,e.bl_count)}function X(e,t,n){var i,r,a=-1,o=t[1],s=0,l=7,c=4;for(0===o&&(l=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=o,o=t[2*(i+1)+1],++s<l&&r===o||(s<c?e.bl_tree[2*r]+=s:0!==r?(r!==a&&e.bl_tree[2*r]++,e.bl_tree[2*y]++):s<=10?e.bl_tree[2*b]++:e.bl_tree[2*x]++,a=r,c=(s=0)===o?(l=138,3):r===o?(l=6,3):(l=7,4))}function Z(e,t,n){var i,r,a=-1,o=t[1],s=0,l=7,c=4;for(0===o&&(l=138,c=3),i=0;i<=n;i++)if(r=o,o=t[2*(i+1)+1],!(++s<l&&r===o)){if(s<c)for(;U(e,r,e.bl_tree),0!=--s;);else 0!==r?(r!==a&&(U(e,r,e.bl_tree),s--),U(e,y,e.bl_tree),F(e,s-3,2)):s<=10?(U(e,b,e.bl_tree),F(e,s-3,3)):(U(e,x,e.bl_tree),F(e,s-11,7));a=r,c=(s=0)===o?(l=138,3):r===o?(l=6,3):(l=7,4)}}o(R);var K=!1;function J(e,t,n,r){F(e,(s<<1)+(r?1:0),3),function(e,t,n,r){V(e),r&&(D(e,n),D(e,~n)),i.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}n._tr_init=function(e){K||(function(){var e,t,n,i,r,a=new Array(f+1);for(i=n=0;i<l-1;i++)for(A[i]=n,e=0;e<1<<_[i];e++)N[n++]=i;for(N[n-1]=i,i=r=0;i<16;i++)for(R[i]=r,e=0;e<1<<w[i];e++)T[r++]=i;for(r>>=7;i<d;i++)for(R[i]=r<<7,e=0;e<1<<w[i]-7;e++)T[256+r++]=i;for(t=0;t<=f;t++)a[t]=0;for(e=0;e<=143;)E[2*e+1]=8,e++,a[8]++;for(;e<=255;)E[2*e+1]=9,e++,a[9]++;for(;e<=279;)E[2*e+1]=7,e++,a[7]++;for(;e<=287;)E[2*e+1]=8,e++,a[8]++;for(B(E,u+1,a),e=0;e<d;e++)C[2*e+1]=5,C[2*e]=z(e,5);k=new j(E,_,c+1,u,f),O=new j(C,w,0,d,f),P=new j(new Array(0),S,0,h,v)}(),K=!0),e.l_desc=new L(e.dyn_ltree,k),e.d_desc=new L(e.dyn_dtree,O),e.bl_desc=new L(e.bl_tree,P),e.bi_buf=0,e.bi_valid=0,H(e)},n._tr_stored_block=J,n._tr_flush_block=function(e,t,n,i){var o,s,l=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return r;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return a;for(t=32;t<c;t++)if(0!==e.dyn_ltree[2*t])return a;return r}(e)),Y(e,e.l_desc),Y(e,e.d_desc),l=function(e){var t;for(X(e,e.dyn_ltree,e.l_desc.max_code),X(e,e.dyn_dtree,e.d_desc.max_code),Y(e,e.bl_desc),t=h-1;3<=t&&0===e.bl_tree[2*M[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),o=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=o&&(o=s)):o=s=n+5,n+4<=o&&-1!==t?J(e,t,n,i):4===e.strategy||s===o?(F(e,2+(i?1:0),3),q(e,E,C)):(F(e,4+(i?1:0),3),function(e,t,n,i){var r;for(F(e,t-257,5),F(e,n-1,5),F(e,i-4,4),r=0;r<i;r++)F(e,e.bl_tree[2*M[r]+1],3);Z(e,e.dyn_ltree,t-1),Z(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),q(e,e.dyn_ltree,e.dyn_dtree)),H(e),i&&V(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(N[n]+c+1)]++,e.dyn_dtree[2*I(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){F(e,2,3),U(e,g,E),function(e){16===e.bi_valid?(D(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,i){(function(e){!function(e,t){"use strict";if(!e.setImmediate){var n,i,r,a,o=1,s={},l=!1,c=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,n="[object process]"==={}.toString.call(e.process)?function(e){process.nextTick((function(){h(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(a="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",p,!1):e.attachEvent("onmessage",p),function(t){e.postMessage(a+t,"*")}):e.MessageChannel?((r=new MessageChannel).port1.onmessage=function(e){h(e.data)},function(e){r.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(i=c.documentElement,function(e){var t=c.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):function(e){setTimeout(h,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var r={callback:e,args:t};return s[o]=r,n(o),o++},u.clearImmediate=d}function d(e){delete s[e]}function h(e){if(l)setTimeout(h,0,e);else{var n=s[e];if(n){l=!0;try{!function(e){var n=e.callback,i=e.args;switch(i.length){case 0:n();break;case 1:n(i[0]);break;case 2:n(i[0],i[1]);break;case 3:n(i[0],i[1],i[2]);break;default:n.apply(t,i)}}(n)}finally{d(e),l=!1}}}}function p(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&h(+t.data.slice(a.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)},7685:(e,t,n)=>{var i=n(7937)(n(6552),"DataView");e.exports=i},8724:(e,t,n)=>{var i=n(7615),r=n(5051),a=n(2154),o=n(8734),s=n(2662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},7160:(e,t,n)=>{var i=n(7563),r=n(9935),a=n(4190),o=n(1946),s=n(1714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},5204:(e,t,n)=>{var i=n(7937)(n(6552),"Map");e.exports=i},4816:(e,t,n)=>{var i=n(7251),r=n(7159),a=n(438),o=n(9394),s=n(6874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},5387:(e,t,n)=>{var i=n(7937)(n(6552),"Promise");e.exports=i},2070:(e,t,n)=>{var i=n(7937)(n(6552),"Set");e.exports=i},8902:(e,t,n)=>{var i=n(4816),r=n(6179),a=n(6704);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=r,o.prototype.has=a,e.exports=o},5538:(e,t,n)=>{var i=n(7160),r=n(4545),a=n(793),o=n(7760),s=n(3892),l=n(6788);function c(e){var t=this.__data__=new i(e);this.size=t.size}c.prototype.clear=r,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=s,c.prototype.set=l,e.exports=c},9812:(e,t,n)=>{var i=n(6552).Symbol;e.exports=i},2929:(e,t,n)=>{var i=n(6552).Uint8Array;e.exports=i},6600:(e,t,n)=>{var i=n(7937)(n(6552),"WeakMap");e.exports=i},7529:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,a=[];++n<i;){var o=e[n];t(o,n,e)&&(a[r++]=o)}return a}},3204:(e,t,n)=>{var i=n(3343),r=n(2777),a=n(4052),o=n(4543),s=n(9194),l=n(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),u=!n&&r(e),d=!n&&!u&&o(e),h=!n&&!u&&!d&&l(e),p=n||u||d||h,f=p?i(e.length,String):[],m=f.length;for(var v in e)!t&&!c.call(e,v)||p&&("length"==v||d&&("offset"==v||"parent"==v)||h&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||f.push(v);return f}},8895:e=>{e.exports=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}},2587:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}},1340:(e,t,n)=>{var i=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}},4262:(e,t,n)=>{var i=n(8895),r=n(4052);e.exports=function(e,t,n){var a=t(e);return r(e)?a:i(a,n(e))}},6913:(e,t,n)=>{var i=n(9812),r=n(4552),a=n(6095),o=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?r(e):a(e)}},5193:(e,t,n)=>{var i=n(6913),r=n(2761);e.exports=function(e){return r(e)&&"[object Arguments]"==i(e)}},6989:(e,t,n)=>{var i=n(6399),r=n(2761);e.exports=function e(t,n,a,o,s){return t===n||(null==t||null==n||!r(t)&&!r(n)?t!==t&&n!==n:i(t,n,a,o,e,s))}},6399:(e,t,n)=>{var i=n(5538),r=n(3668),a=n(9987),o=n(5752),s=n(6924),l=n(4052),c=n(4543),u=n(1268),d="[object Arguments]",h="[object Array]",p="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,v,g){var y=l(e),b=l(t),x=y?h:s(e),_=b?h:s(t),w=(x=x==d?p:x)==p,S=(_=_==d?p:_)==p,M=x==_;if(M&&c(e)){if(!c(t))return!1;y=!0,w=!1}if(M&&!w)return g||(g=new i),y||u(e)?r(e,t,n,m,v,g):a(e,t,x,n,m,v,g);if(!(1&n)){var E=w&&f.call(e,"__wrapped__"),C=S&&f.call(t,"__wrapped__");if(E||C){var T=E?e.value():e,N=C?t.value():t;return g||(g=new i),v(T,N,n,m,g)}}return!!M&&(g||(g=new i),o(e,t,n,m,v,g))}},6954:(e,t,n)=>{var i=n(1629),r=n(7857),a=n(6686),o=n(6996),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||r(e))&&(i(e)?h:s).test(o(e))}},5428:(e,t,n)=>{var i=n(6913),r=n(6173),a=n(2761),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&r(e.length)&&!!o[i(e)]}},3713:(e,t,n)=>{var i=n(6140),r=n(1143),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return r(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3343:e=>{e.exports=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},8114:e=>{e.exports=function(e,t){return e.has(t)}},3440:(e,t,n)=>{var i=n(6552)["__core-js_shared__"];e.exports=i},3668:(e,t,n)=>{var i=n(8902),r=n(2587),a=n(8114);e.exports=function(e,t,n,o,s,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(e),p=l.get(t);if(h&&p)return h==t&&p==e;var f=-1,m=!0,v=2&n?new i:void 0;for(l.set(e,t),l.set(t,e);++f<u;){var g=e[f],y=t[f];if(o)var b=c?o(y,g,f,t,e,l):o(g,y,f,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(v){if(!r(t,(function(e,t){if(!a(v,t)&&(g===e||s(g,e,n,o,l)))return v.push(t)}))){m=!1;break}}else if(g!==y&&!s(g,y,n,o,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},9987:(e,t,n)=>{var i=n(9812),r=n(2929),a=n(3211),o=n(3668),s=n(4160),l=n(2074),c=i?i.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,i,c,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new r(e),new r(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var f=1&i;if(p||(p=l),e.size!=t.size&&!f)return!1;var m=h.get(e);if(m)return m==t;i|=2,h.set(e,t);var v=o(p(e),p(t),i,c,d,h);return h.delete(e),v;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},5752:(e,t,n)=>{var i=n(9395),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,o,s){var l=1&n,c=i(e),u=c.length;if(u!=i(t).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in t:r.call(t,h)))return!1}var p=s.get(e),f=s.get(t);if(p&&f)return p==t&&f==e;var m=!0;s.set(e,t),s.set(t,e);for(var v=l;++d<u;){var g=e[h=c[d]],y=t[h];if(a)var b=l?a(y,g,h,t,e,s):a(g,y,h,e,t,s);if(!(void 0===b?g===y||o(g,y,n,a,s):b)){m=!1;break}v||(v="constructor"==h)}if(m&&!v){var x=e.constructor,_=t.constructor;x==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof _&&_ instanceof _||(m=!1)}return s.delete(e),s.delete(t),m}},7105:(e,t,n)=>{var i="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=i},9395:(e,t,n)=>{var i=n(4262),r=n(9621),a=n(8673);e.exports=function(e){return i(e,a,r)}},2622:(e,t,n)=>{var i=n(705);e.exports=function(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}},7937:(e,t,n)=>{var i=n(6954),r=n(4657);e.exports=function(e,t){var n=r(e,t);return i(n)?n:void 0}},4552:(e,t,n)=>{var i=n(9812),r=Object.prototype,a=r.hasOwnProperty,o=r.toString,s=i?i.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var i=!0}catch(l){}var r=o.call(e);return i&&(t?e[s]=n:delete e[s]),r}},9621:(e,t,n)=>{var i=n(7529),r=n(7828),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),i(o(e),(function(t){return a.call(e,t)})))}:r;e.exports=s},6924:(e,t,n)=>{var i=n(7685),r=n(5204),a=n(5387),o=n(2070),s=n(6600),l=n(6913),c=n(6996),u="[object Map]",d="[object Promise]",h="[object Set]",p="[object WeakMap]",f="[object DataView]",m=c(i),v=c(r),g=c(a),y=c(o),b=c(s),x=l;(i&&x(new i(new ArrayBuffer(1)))!=f||r&&x(new r)!=u||a&&x(a.resolve())!=d||o&&x(new o)!=h||s&&x(new s)!=p)&&(x=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,i=n?c(n):"";if(i)switch(i){case m:return f;case v:return u;case g:return d;case y:return h;case b:return p}return t}),e.exports=x},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},7615:(e,t,n)=>{var i=n(5575);e.exports=function(){this.__data__=i?i(null):{},this.size=0}},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},2154:(e,t,n)=>{var i=n(5575),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(i){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(t,e)?t[e]:void 0}},8734:(e,t,n)=>{var i=n(5575),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return i?void 0!==t[e]:r.call(t,e)}},2662:(e,t,n)=>{var i=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?"__lodash_hash_undefined__":t,this}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var i=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==i||"symbol"!=i&&t.test(e))&&e>-1&&e%1==0&&e<n}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},7857:(e,t,n)=>{var i=n(3440),r=function(){var e=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!r&&r in e}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},9935:(e,t,n)=>{var i=n(1340),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=i(t,e);return!(n<0)&&(n==t.length-1?t.pop():r.call(t,n,1),--this.size,!0)}},4190:(e,t,n)=>{var i=n(1340);e.exports=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}},1946:(e,t,n)=>{var i=n(1340);e.exports=function(e){return i(this.__data__,e)>-1}},1714:(e,t,n)=>{var i=n(1340);e.exports=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},7251:(e,t,n)=>{var i=n(8724),r=n(7160),a=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new i,map:new(a||r),string:new i}}},7159:(e,t,n)=>{var i=n(2622);e.exports=function(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}},438:(e,t,n)=>{var i=n(2622);e.exports=function(e){return i(this,e).get(e)}},9394:(e,t,n)=>{var i=n(2622);e.exports=function(e){return i(this,e).has(e)}},6874:(e,t,n)=>{var i=n(2622);e.exports=function(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}},5575:(e,t,n)=>{var i=n(7937)(Object,"create");e.exports=i},1143:(e,t,n)=>{var i=n(3028)(Object.keys,Object);e.exports=i},6832:(e,t,n)=>{e=n.nmd(e);var i=n(7105),r=t&&!t.nodeType&&t,a=r&&e&&!e.nodeType&&e,o=a&&a.exports===r&&i.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=s},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},6552:(e,t,n)=>{var i=n(7105),r="object"==typeof self&&self&&self.Object===Object&&self,a=i||r||Function("return this")();e.exports=a},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},4545:(e,t,n)=>{var i=n(7160);e.exports=function(){this.__data__=new i,this.size=0}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},6788:(e,t,n)=>{var i=n(7160),r=n(5204),a=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof i){var o=n.__data__;if(!r||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},2777:(e,t,n)=>{var i=n(5193),r=n(2761),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,l=i(function(){return arguments}())?i:function(e){return r(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},4052:e=>{var t=Array.isArray;e.exports=t},6571:(e,t,n)=>{var i=n(1629),r=n(6173);e.exports=function(e){return null!=e&&r(e.length)&&!i(e)}},4543:(e,t,n)=>{e=n.nmd(e);var i=n(6552),r=n(14),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,s=o&&o.exports===a?i.Buffer:void 0,l=(s?s.isBuffer:void 0)||r;e.exports=l},9853:(e,t,n)=>{var i=n(6989);e.exports=function(e,t){return i(e,t)}},1629:(e,t,n)=>{var i=n(6913),r=n(6686);e.exports=function(e){if(!r(e))return!1;var t=i(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},1268:(e,t,n)=>{var i=n(5428),r=n(7574),a=n(6832),o=a&&a.isTypedArray,s=o?r(o):i;e.exports=s},8673:(e,t,n)=>{var i=n(3204),r=n(3713),a=n(6571);e.exports=function(e){return a(e)?i(e):r(e)}},7828:e=>{e.exports=function(){return[]}},14:e=>{e.exports=function(){return!1}},6178:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function i(){return t.apply(null,arguments)}function r(e){t=e}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function c(e){return void 0===e}function u(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,i=[],r=e.length;for(n=0;n<r;++n)i.push(t(e[n],n));return i}function p(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function f(e,t,n,i){return Xn(e,t,n,i,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function v(e){return null==e._pf&&(e._pf=m()),e._pf}function g(e){var t=null,i=!1,r=e._d&&!isNaN(e._d.getTime());return r&&(t=v(e),i=n.call(t.parsedDateParts,(function(e){return null!=e})),r=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i),e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e)?r:(e._isValid=r,e._isValid)}function y(e){var t=f(NaN);return null!=e?p(v(t),e):v(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),i=n.length>>>0;for(t=0;t<i;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var b=i.momentProperties=[],x=!1;function _(e,t){var n,i,r,a=b.length;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=v(t)),c(t._locale)||(e._locale=t._locale),a>0)for(n=0;n<a;n++)c(r=t[i=b[n]])||(e[i]=r);return e}function w(e){_(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===x&&(x=!0,i.updateOffset(this),x=!1)}function S(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function M(e){!1===i.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function E(e,t){var n=!0;return p((function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,e),n){var r,a,o,l=[],c=arguments.length;for(a=0;a<c;a++){if(r="","object"===typeof arguments[a]){for(o in r+="\n["+a+"] ",arguments[0])s(arguments[0],o)&&(r+=o+": "+arguments[0][o]+", ");r=r.slice(0,-2)}else r=arguments[a];l.push(r)}M(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var C,T={};function N(e,t){null!=i.deprecationHandler&&i.deprecationHandler(e,t),T[e]||(M(t),T[e]=!0)}function A(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function k(e){var t,n;for(n in e)s(e,n)&&(A(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function O(e,t){var n,i=p({},e);for(n in t)s(t,n)&&(o(e[n])&&o(t[n])?(i[n]={},p(i[n],e[n]),p(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)s(e,n)&&!s(t,n)&&o(e[n])&&(i[n]=p({},i[n]));return i}function P(e){null!=e&&this.set(e)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,C=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var R={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function j(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return A(i)?i.call(t,n):i}function L(e,t,n){var i=""+Math.abs(e),r=t-i.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var I=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,D=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,F={},U={};function z(e,t,n,i){var r=i;"string"===typeof i&&(r=function(){return this[i]()}),e&&(U[e]=r),t&&(U[t[0]]=function(){return L(r.apply(this,arguments),t[1],t[2])}),n&&(U[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function B(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function H(e){var t,n,i=e.match(I);for(t=0,n=i.length;t<n;t++)U[i[t]]?i[t]=U[i[t]]:i[t]=B(i[t]);return function(t){var r,a="";for(r=0;r<n;r++)a+=A(i[r])?i[r].call(t,e):i[r];return a}}function V(e,t){return e.isValid()?(t=W(t,e.localeData()),F[t]=F[t]||H(t),F[t](e)):e.localeData().invalidDate()}function W(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for(D.lastIndex=0;n>=0&&D.test(e);)e=e.replace(D,i),D.lastIndex=0,n-=1;return e}var G={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function q(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(I).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var Y="Invalid date";function X(){return this._invalidDate}var Z="%d",K=/\d{1,2}/;function J(e){return this._ordinal.replace("%d",e)}var $={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Q(e,t,n,i){var r=this._relativeTime[n];return A(r)?r(e,t,n,i):r.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return A(n)?n(t):n.replace(/%s/i,t)}var te={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ne(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function ie(e){var t,n,i={};for(n in e)s(e,n)&&(t=ne(n))&&(i[t]=e[n]);return i}var re={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function ae(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:re[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}var oe,se=/\d/,le=/\d\d/,ce=/\d{3}/,ue=/\d{4}/,de=/[+-]?\d{6}/,he=/\d\d?/,pe=/\d\d\d\d?/,fe=/\d\d\d\d\d\d?/,me=/\d{1,3}/,ve=/\d{1,4}/,ge=/[+-]?\d{1,6}/,ye=/\d+/,be=/[+-]?\d+/,xe=/Z|[+-]\d\d:?\d\d/gi,_e=/Z|[+-]\d\d(?::?\d\d)?/gi,we=/[+-]?\d+(\.\d{1,3})?/,Se=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Me=/^[1-9]\d?/,Ee=/^([1-9]\d|\d)/;function Ce(e,t,n){oe[e]=A(t)?t:function(e,i){return e&&n?n:t}}function Te(e,t){return s(oe,e)?oe[e](t._strict,t._locale):new RegExp(Ne(e))}function Ne(e){return Ae(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,i,r){return t||n||i||r})))}function Ae(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ke(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Oe(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=ke(t)),n}oe={};var Pe={};function Re(e,t){var n,i,r=t;for("string"===typeof e&&(e=[e]),u(t)&&(r=function(e,n){n[t]=Oe(e)}),i=e.length,n=0;n<i;n++)Pe[e[n]]=r}function je(e,t){Re(e,(function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)}))}function Le(e,t,n){null!=t&&s(Pe,e)&&Pe[e](t,n._a,n,e)}function Ie(e){return e%4===0&&e%100!==0||e%400===0}var De=0,Fe=1,Ue=2,ze=3,Be=4,He=5,Ve=6,We=7,Ge=8;function qe(e){return Ie(e)?366:365}z("Y",0,0,(function(){var e=this.year();return e<=9999?L(e,4):"+"+e})),z(0,["YY",2],0,(function(){return this.year()%100})),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),Ce("Y",be),Ce("YY",he,le),Ce("YYYY",ve,ue),Ce("YYYYY",ge,de),Ce("YYYYYY",ge,de),Re(["YYYYY","YYYYYY"],De),Re("YYYY",(function(e,t){t[De]=2===e.length?i.parseTwoDigitYear(e):Oe(e)})),Re("YY",(function(e,t){t[De]=i.parseTwoDigitYear(e)})),Re("Y",(function(e,t){t[De]=parseInt(e,10)})),i.parseTwoDigitYear=function(e){return Oe(e)+(Oe(e)>68?1900:2e3)};var Ye,Xe=Ke("FullYear",!0);function Ze(){return Ie(this.year())}function Ke(e,t){return function(n){return null!=n?($e(this,e,n),i.updateOffset(this,t),this):Je(this,e)}}function Je(e,t){if(!e.isValid())return NaN;var n=e._d,i=e._isUTC;switch(t){case"Milliseconds":return i?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return i?n.getUTCSeconds():n.getSeconds();case"Minutes":return i?n.getUTCMinutes():n.getMinutes();case"Hours":return i?n.getUTCHours():n.getHours();case"Date":return i?n.getUTCDate():n.getDate();case"Day":return i?n.getUTCDay():n.getDay();case"Month":return i?n.getUTCMonth():n.getMonth();case"FullYear":return i?n.getUTCFullYear():n.getFullYear();default:return NaN}}function $e(e,t,n){var i,r,a,o,s;if(e.isValid()&&!isNaN(n)){switch(i=e._d,r=e._isUTC,t){case"Milliseconds":return void(r?i.setUTCMilliseconds(n):i.setMilliseconds(n));case"Seconds":return void(r?i.setUTCSeconds(n):i.setSeconds(n));case"Minutes":return void(r?i.setUTCMinutes(n):i.setMinutes(n));case"Hours":return void(r?i.setUTCHours(n):i.setHours(n));case"Date":return void(r?i.setUTCDate(n):i.setDate(n));case"FullYear":break;default:return}a=n,o=e.month(),s=29!==(s=e.date())||1!==o||Ie(a)?s:28,r?i.setUTCFullYear(a,o,s):i.setFullYear(a,o,s)}}function Qe(e){return A(this[e=ne(e)])?this[e]():this}function et(e,t){if("object"===typeof e){var n,i=ae(e=ie(e)),r=i.length;for(n=0;n<r;n++)this[i[n].unit](e[i[n].unit])}else if(A(this[e=ne(e)]))return this[e](t);return this}function tt(e,t){return(e%t+t)%t}function nt(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=tt(t,12);return e+=(t-n)/12,1===n?Ie(e)?29:28:31-n%7%2}Ye=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},z("M",["MM",2],"Mo",(function(){return this.month()+1})),z("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),z("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),Ce("M",he,Me),Ce("MM",he,le),Ce("MMM",(function(e,t){return t.monthsShortRegex(e)})),Ce("MMMM",(function(e,t){return t.monthsRegex(e)})),Re(["M","MM"],(function(e,t){t[Fe]=Oe(e)-1})),Re(["MMM","MMMM"],(function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[Fe]=r:v(n).invalidMonth=e}));var it="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),rt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),at=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ot=Se,st=Se;function lt(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||at).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone}function ct(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[at.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ut(e,t,n){var i,r,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)a=f([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=Ye.call(this._shortMonthsParse,o))?r:null:-1!==(r=Ye.call(this._longMonthsParse,o))?r:null:"MMM"===t?-1!==(r=Ye.call(this._shortMonthsParse,o))||-1!==(r=Ye.call(this._longMonthsParse,o))?r:null:-1!==(r=Ye.call(this._longMonthsParse,o))||-1!==(r=Ye.call(this._shortMonthsParse,o))?r:null}function dt(e,t,n){var i,r,a;if(this._monthsParseExact)return ut.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=f([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(a="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function ht(e,t){if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=Oe(t);else if(!u(t=e.localeData().monthsParse(t)))return e;var n=t,i=e.date();return i=i<29?i:Math.min(i,nt(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,i):e._d.setMonth(n,i),e}function pt(e){return null!=e?(ht(this,e),i.updateOffset(this,!0),this):Je(this,"Month")}function ft(){return nt(this.year(),this.month())}function mt(e){return this._monthsParseExact?(s(this,"_monthsRegex")||gt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=ot),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function vt(e){return this._monthsParseExact?(s(this,"_monthsRegex")||gt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=st),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function gt(){function e(e,t){return t.length-e.length}var t,n,i,r,a=[],o=[],s=[];for(t=0;t<12;t++)n=f([2e3,t]),i=Ae(this.monthsShort(n,"")),r=Ae(this.months(n,"")),a.push(i),o.push(r),s.push(r),s.push(i);a.sort(e),o.sort(e),s.sort(e),this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+a.join("|")+")","i")}function yt(e,t,n,i,r,a,o){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,i,r,a,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,i,r,a,o),s}function bt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function xt(e,t,n){var i=7+t-n;return-(7+bt(e,0,i).getUTCDay()-t)%7+i-1}function _t(e,t,n,i,r){var a,o,s=1+7*(t-1)+(7+n-i)%7+xt(e,i,r);return s<=0?o=qe(a=e-1)+s:s>qe(e)?(a=e+1,o=s-qe(e)):(a=e,o=s),{year:a,dayOfYear:o}}function wt(e,t,n){var i,r,a=xt(e.year(),t,n),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return o<1?i=o+St(r=e.year()-1,t,n):o>St(e.year(),t,n)?(i=o-St(e.year(),t,n),r=e.year()+1):(r=e.year(),i=o),{week:i,year:r}}function St(e,t,n){var i=xt(e,t,n),r=xt(e+1,t,n);return(qe(e)-i+r)/7}function Mt(e){return wt(e,this._week.dow,this._week.doy).week}z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),Ce("w",he,Me),Ce("ww",he,le),Ce("W",he,Me),Ce("WW",he,le),je(["w","ww","W","WW"],(function(e,t,n,i){t[i.substr(0,1)]=Oe(e)}));var Et={dow:0,doy:6};function Ct(){return this._week.dow}function Tt(){return this._week.doy}function Nt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function At(e){var t=wt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function kt(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Ot(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Pt(e,t){return e.slice(t,7).concat(e.slice(0,t))}z("d",0,"do","day"),z("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),z("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),z("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),Ce("d",he),Ce("e",he),Ce("E",he),Ce("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Ce("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Ce("dddd",(function(e,t){return t.weekdaysRegex(e)})),je(["dd","ddd","dddd"],(function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:v(n).invalidWeekday=e})),je(["d","e","E"],(function(e,t,n,i){t[i]=Oe(e)}));var Rt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),jt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Lt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),It=Se,Dt=Se,Ft=Se;function Ut(e,t){var n=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Pt(n,this._week.dow):e?n[e.day()]:n}function zt(e){return!0===e?Pt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Bt(e){return!0===e?Pt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ht(e,t,n){var i,r,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)a=f([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=Ye.call(this._weekdaysParse,o))?r:null:"ddd"===t?-1!==(r=Ye.call(this._shortWeekdaysParse,o))?r:null:-1!==(r=Ye.call(this._minWeekdaysParse,o))?r:null:"dddd"===t?-1!==(r=Ye.call(this._weekdaysParse,o))||-1!==(r=Ye.call(this._shortWeekdaysParse,o))||-1!==(r=Ye.call(this._minWeekdaysParse,o))?r:null:"ddd"===t?-1!==(r=Ye.call(this._shortWeekdaysParse,o))||-1!==(r=Ye.call(this._weekdaysParse,o))||-1!==(r=Ye.call(this._minWeekdaysParse,o))?r:null:-1!==(r=Ye.call(this._minWeekdaysParse,o))||-1!==(r=Ye.call(this._weekdaysParse,o))||-1!==(r=Ye.call(this._shortWeekdaysParse,o))?r:null}function Vt(e,t,n){var i,r,a;if(this._weekdaysParseExact)return Ht.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=f([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(a="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}function Wt(e){if(!this.isValid())return null!=e?this:NaN;var t=Je(this,"Day");return null!=e?(e=kt(e,this.localeData()),this.add(e-t,"d")):t}function Gt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function qt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Ot(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Yt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Kt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=It),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Xt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Kt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Dt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Zt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Kt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ft),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Kt(){function e(e,t){return t.length-e.length}var t,n,i,r,a,o=[],s=[],l=[],c=[];for(t=0;t<7;t++)n=f([2e3,1]).day(t),i=Ae(this.weekdaysMin(n,"")),r=Ae(this.weekdaysShort(n,"")),a=Ae(this.weekdays(n,"")),o.push(i),s.push(r),l.push(a),c.push(i),c.push(r),c.push(a);o.sort(e),s.sort(e),l.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Jt(){return this.hours()%12||12}function $t(){return this.hours()||24}function Qt(e,t){z(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}z("H",["HH",2],0,"hour"),z("h",["hh",2],0,Jt),z("k",["kk",2],0,$t),z("hmm",0,0,(function(){return""+Jt.apply(this)+L(this.minutes(),2)})),z("hmmss",0,0,(function(){return""+Jt.apply(this)+L(this.minutes(),2)+L(this.seconds(),2)})),z("Hmm",0,0,(function(){return""+this.hours()+L(this.minutes(),2)})),z("Hmmss",0,0,(function(){return""+this.hours()+L(this.minutes(),2)+L(this.seconds(),2)})),Qt("a",!0),Qt("A",!1),Ce("a",en),Ce("A",en),Ce("H",he,Ee),Ce("h",he,Me),Ce("k",he,Me),Ce("HH",he,le),Ce("hh",he,le),Ce("kk",he,le),Ce("hmm",pe),Ce("hmmss",fe),Ce("Hmm",pe),Ce("Hmmss",fe),Re(["H","HH"],ze),Re(["k","kk"],(function(e,t,n){var i=Oe(e);t[ze]=24===i?0:i})),Re(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Re(["h","hh"],(function(e,t,n){t[ze]=Oe(e),v(n).bigHour=!0})),Re("hmm",(function(e,t,n){var i=e.length-2;t[ze]=Oe(e.substr(0,i)),t[Be]=Oe(e.substr(i)),v(n).bigHour=!0})),Re("hmmss",(function(e,t,n){var i=e.length-4,r=e.length-2;t[ze]=Oe(e.substr(0,i)),t[Be]=Oe(e.substr(i,2)),t[He]=Oe(e.substr(r)),v(n).bigHour=!0})),Re("Hmm",(function(e,t,n){var i=e.length-2;t[ze]=Oe(e.substr(0,i)),t[Be]=Oe(e.substr(i))})),Re("Hmmss",(function(e,t,n){var i=e.length-4,r=e.length-2;t[ze]=Oe(e.substr(0,i)),t[Be]=Oe(e.substr(i,2)),t[He]=Oe(e.substr(r))}));var nn=/[ap]\.?m?\.?/i,rn=Ke("Hours",!0);function an(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var on,sn={calendar:R,longDateFormat:G,invalidDate:Y,ordinal:Z,dayOfMonthOrdinalParse:K,relativeTime:$,months:it,monthsShort:rt,week:Et,weekdays:Rt,weekdaysMin:Lt,weekdaysShort:jt,meridiemParse:nn},ln={},cn={};function un(e,t){var n,i=Math.min(e.length,t.length);for(n=0;n<i;n+=1)if(e[n]!==t[n])return n;return i}function dn(e){return e?e.toLowerCase().replace("_","-"):e}function hn(e){for(var t,n,i,r,a=0;a<e.length;){for(t=(r=dn(e[a]).split("-")).length,n=(n=dn(e[a+1]))?n.split("-"):null;t>0;){if(i=fn(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&un(r,n)>=t-1)break;t--}a++}return on}function pn(e){return!(!e||!e.match("^[^/\\\\]*$"))}function fn(t){var n=null;if(void 0===ln[t]&&e&&e.exports&&pn(t))try{n=on._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),mn(n)}catch(i){ln[t]=null}return ln[t]}function mn(e,t){var n;return e&&((n=c(t)?yn(e):vn(e,t))?on=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),on._abbr}function vn(e,t){if(null!==t){var n,i=sn;if(t.abbr=e,null!=ln[e])N("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=ln[e]._config;else if(null!=t.parentLocale)if(null!=ln[t.parentLocale])i=ln[t.parentLocale]._config;else{if(null==(n=fn(t.parentLocale)))return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;i=n._config}return ln[e]=new P(O(i,t)),cn[e]&&cn[e].forEach((function(e){vn(e.name,e.config)})),mn(e),ln[e]}return delete ln[e],null}function gn(e,t){if(null!=t){var n,i,r=sn;null!=ln[e]&&null!=ln[e].parentLocale?ln[e].set(O(ln[e]._config,t)):(null!=(i=fn(e))&&(r=i._config),t=O(r,t),null==i&&(t.abbr=e),(n=new P(t)).parentLocale=ln[e],ln[e]=n),mn(e)}else null!=ln[e]&&(null!=ln[e].parentLocale?(ln[e]=ln[e].parentLocale,e===mn()&&mn(e)):null!=ln[e]&&delete ln[e]);return ln[e]}function yn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return on;if(!a(e)){if(t=fn(e))return t;e=[e]}return hn(e)}function bn(){return C(ln)}function xn(e){var t,n=e._a;return n&&-2===v(e).overflow&&(t=n[Fe]<0||n[Fe]>11?Fe:n[Ue]<1||n[Ue]>nt(n[De],n[Fe])?Ue:n[ze]<0||n[ze]>24||24===n[ze]&&(0!==n[Be]||0!==n[He]||0!==n[Ve])?ze:n[Be]<0||n[Be]>59?Be:n[He]<0||n[He]>59?He:n[Ve]<0||n[Ve]>999?Ve:-1,v(e)._overflowDayOfYear&&(t<De||t>Ue)&&(t=Ue),v(e)._overflowWeeks&&-1===t&&(t=We),v(e)._overflowWeekday&&-1===t&&(t=Ge),v(e).overflow=t),e}var _n=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Sn=/Z|[+-]\d\d(?::?\d\d)?/,Mn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],En=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Cn=/^\/?Date\((-?\d+)/i,Tn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Nn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function An(e){var t,n,i,r,a,o,s=e._i,l=_n.exec(s)||wn.exec(s),c=Mn.length,u=En.length;if(l){for(v(e).iso=!0,t=0,n=c;t<n;t++)if(Mn[t][1].exec(l[1])){r=Mn[t][0],i=!1!==Mn[t][2];break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=u;t<n;t++)if(En[t][1].exec(l[3])){a=(l[2]||" ")+En[t][0];break}if(null==a)return void(e._isValid=!1)}if(!i&&null!=a)return void(e._isValid=!1);if(l[4]){if(!Sn.exec(l[4]))return void(e._isValid=!1);o="Z"}e._f=r+(a||"")+(o||""),Bn(e)}else e._isValid=!1}function kn(e,t,n,i,r,a){var o=[On(e),rt.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return a&&o.push(parseInt(a,10)),o}function On(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Pn(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Rn(e,t,n){return!e||jt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(v(n).weekdayMismatch=!0,n._isValid=!1,!1)}function jn(e,t,n){if(e)return Nn[e];if(t)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}function Ln(e){var t,n=Tn.exec(Pn(e._i));if(n){if(t=kn(n[4],n[3],n[2],n[5],n[6],n[7]),!Rn(n[1],t,e))return;e._a=t,e._tzm=jn(n[8],n[9],n[10]),e._d=bt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),v(e).rfc2822=!0}else e._isValid=!1}function In(e){var t=Cn.exec(e._i);null===t?(An(e),!1===e._isValid&&(delete e._isValid,Ln(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:i.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Dn(e,t,n){return null!=e?e:null!=t?t:n}function Fn(e){var t=new Date(i.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Un(e){var t,n,i,r,a,o=[];if(!e._d){for(i=Fn(e),e._w&&null==e._a[Ue]&&null==e._a[Fe]&&zn(e),null!=e._dayOfYear&&(a=Dn(e._a[De],i[De]),(e._dayOfYear>qe(a)||0===e._dayOfYear)&&(v(e)._overflowDayOfYear=!0),n=bt(a,0,e._dayOfYear),e._a[Fe]=n.getUTCMonth(),e._a[Ue]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=i[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ze]&&0===e._a[Be]&&0===e._a[He]&&0===e._a[Ve]&&(e._nextDay=!0,e._a[ze]=0),e._d=(e._useUTC?bt:yt).apply(null,o),r=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ze]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==r&&(v(e).weekdayMismatch=!0)}}function zn(e){var t,n,i,r,a,o,s,l,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(a=1,o=4,n=Dn(t.GG,e._a[De],wt(Zn(),1,4).year),i=Dn(t.W,1),((r=Dn(t.E,1))<1||r>7)&&(l=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,c=wt(Zn(),a,o),n=Dn(t.gg,e._a[De],c.year),i=Dn(t.w,c.week),null!=t.d?((r=t.d)<0||r>6)&&(l=!0):null!=t.e?(r=t.e+a,(t.e<0||t.e>6)&&(l=!0)):r=a),i<1||i>St(n,a,o)?v(e)._overflowWeeks=!0:null!=l?v(e)._overflowWeekday=!0:(s=_t(n,i,r,a,o),e._a[De]=s.year,e._dayOfYear=s.dayOfYear)}function Bn(e){if(e._f!==i.ISO_8601)if(e._f!==i.RFC_2822){e._a=[],v(e).empty=!0;var t,n,r,a,o,s,l,c=""+e._i,u=c.length,d=0;for(l=(r=W(e._f,e._locale).match(I)||[]).length,t=0;t<l;t++)a=r[t],(n=(c.match(Te(a,e))||[])[0])&&((o=c.substr(0,c.indexOf(n))).length>0&&v(e).unusedInput.push(o),c=c.slice(c.indexOf(n)+n.length),d+=n.length),U[a]?(n?v(e).empty=!1:v(e).unusedTokens.push(a),Le(a,n,e)):e._strict&&!n&&v(e).unusedTokens.push(a);v(e).charsLeftOver=u-d,c.length>0&&v(e).unusedInput.push(c),e._a[ze]<=12&&!0===v(e).bigHour&&e._a[ze]>0&&(v(e).bigHour=void 0),v(e).parsedDateParts=e._a.slice(0),v(e).meridiem=e._meridiem,e._a[ze]=Hn(e._locale,e._a[ze],e._meridiem),null!==(s=v(e).era)&&(e._a[De]=e._locale.erasConvertYear(s,e._a[De])),Un(e),xn(e)}else Ln(e);else An(e)}function Hn(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((i=e.isPM(n))&&t<12&&(t+=12),i||12!==t||(t=0),t):t}function Vn(e){var t,n,i,r,a,o,s=!1,l=e._f.length;if(0===l)return v(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<l;r++)a=0,o=!1,t=_({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],Bn(t),g(t)&&(o=!0),a+=v(t).charsLeftOver,a+=10*v(t).unusedTokens.length,v(t).score=a,s?a<i&&(i=a,n=t):(null==i||a<i||o)&&(i=a,n=t,o&&(s=!0));p(e,n||t)}function Wn(e){if(!e._d){var t=ie(e._i),n=void 0===t.day?t.date:t.day;e._a=h([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Un(e)}}function Gn(e){var t=new w(xn(qn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function qn(e){var t=e._i,n=e._f;return e._locale=e._locale||yn(e._l),null===t||void 0===n&&""===t?y({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),S(t)?new w(xn(t)):(d(t)?e._d=t:a(n)?Vn(e):n?Bn(e):Yn(e),g(e)||(e._d=null),e))}function Yn(e){var t=e._i;c(t)?e._d=new Date(i.now()):d(t)?e._d=new Date(t.valueOf()):"string"===typeof t?In(e):a(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),Un(e)):o(t)?Wn(e):u(t)?e._d=new Date(t):i.createFromInputFallback(e)}function Xn(e,t,n,i,r){var s={};return!0!==t&&!1!==t||(i=t,t=void 0),!0!==n&&!1!==n||(i=n,n=void 0),(o(e)&&l(e)||a(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=r,s._l=n,s._i=e,s._f=t,s._strict=i,Gn(s)}function Zn(e,t,n,i){return Xn(e,t,n,i,!1)}i.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),i.ISO_8601=function(){},i.RFC_2822=function(){};var Kn=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Zn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:y()})),Jn=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Zn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:y()}));function $n(e,t){var n,i;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return Zn();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}function Qn(){return $n("isBefore",[].slice.call(arguments,0))}function ei(){return $n("isAfter",[].slice.call(arguments,0))}var ti=function(){return Date.now?Date.now():+new Date},ni=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ii(e){var t,n,i=!1,r=ni.length;for(t in e)if(s(e,t)&&(-1===Ye.call(ni,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<r;++n)if(e[ni[n]]){if(i)return!1;parseFloat(e[ni[n]])!==Oe(e[ni[n]])&&(i=!0)}return!0}function ri(){return this._isValid}function ai(){return Ni(NaN)}function oi(e){var t=ie(e),n=t.year||0,i=t.quarter||0,r=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=ii(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*s*60*60,this._days=+o+7*a,this._months=+r+3*i+12*n,this._data={},this._locale=yn(),this._bubble()}function si(e){return e instanceof oi}function li(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function ci(e,t,n){var i,r=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(i=0;i<r;i++)(n&&e[i]!==t[i]||!n&&Oe(e[i])!==Oe(t[i]))&&o++;return o+a}function ui(e,t){z(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+L(~~(e/60),2)+t+L(~~e%60,2)}))}ui("Z",":"),ui("ZZ",""),Ce("Z",_e),Ce("ZZ",_e),Re(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=hi(_e,e)}));var di=/([\+\-]|\d\d)/gi;function hi(e,t){var n,i,r=(t||"").match(e);return null===r?null:0===(i=60*(n=((r[r.length-1]||[])+"").match(di)||["-",0,0])[1]+Oe(n[2]))?0:"+"===n[0]?i:-i}function pi(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(S(e)||d(e)?e.valueOf():Zn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),i.updateOffset(n,!1),n):Zn(e).local()}function fi(e){return-Math.round(e._d.getTimezoneOffset())}function mi(e,t,n){var r,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=hi(_e,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=fi(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),a!==e&&(!t||this._changeInProgress?Ri(this,Ni(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:fi(this)}function vi(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function gi(e){return this.utcOffset(0,e)}function yi(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(fi(this),"m")),this}function bi(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=hi(xe,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function xi(e){return!!this.isValid()&&(e=e?Zn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function _i(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function wi(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return _(t,this),(t=qn(t))._a?(e=t._isUTC?f(t._a):Zn(t._a),this._isDSTShifted=this.isValid()&&ci(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Si(){return!!this.isValid()&&!this._isUTC}function Mi(){return!!this.isValid()&&this._isUTC}function Ei(){return!!this.isValid()&&this._isUTC&&0===this._offset}i.updateOffset=function(){};var Ci=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ti=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ni(e,t){var n,i,r,a=e,o=null;return si(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:u(e)||!isNaN(+e)?(a={},t?a[t]=+e:a.milliseconds=+e):(o=Ci.exec(e))?(n="-"===o[1]?-1:1,a={y:0,d:Oe(o[Ue])*n,h:Oe(o[ze])*n,m:Oe(o[Be])*n,s:Oe(o[He])*n,ms:Oe(li(1e3*o[Ve]))*n}):(o=Ti.exec(e))?(n="-"===o[1]?-1:1,a={y:Ai(o[2],n),M:Ai(o[3],n),w:Ai(o[4],n),d:Ai(o[5],n),h:Ai(o[6],n),m:Ai(o[7],n),s:Ai(o[8],n)}):null==a?a={}:"object"===typeof a&&("from"in a||"to"in a)&&(r=Oi(Zn(a.from),Zn(a.to)),(a={}).ms=r.milliseconds,a.M=r.months),i=new oi(a),si(e)&&s(e,"_locale")&&(i._locale=e._locale),si(e)&&s(e,"_isValid")&&(i._isValid=e._isValid),i}function Ai(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function ki(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Oi(e,t){var n;return e.isValid()&&t.isValid()?(t=pi(t,e),e.isBefore(t)?n=ki(e,t):((n=ki(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Pi(e,t){return function(n,i){var r;return null===i||isNaN(+i)||(N(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),Ri(this,Ni(n,i),e),this}}function Ri(e,t,n,r){var a=t._milliseconds,o=li(t._days),s=li(t._months);e.isValid()&&(r=null==r||r,s&&ht(e,Je(e,"Month")+s*n),o&&$e(e,"Date",Je(e,"Date")+o*n),a&&e._d.setTime(e._d.valueOf()+a*n),r&&i.updateOffset(e,o||s))}Ni.fn=oi.prototype,Ni.invalid=ai;var ji=Pi(1,"add"),Li=Pi(-1,"subtract");function Ii(e){return"string"===typeof e||e instanceof String}function Di(e){return S(e)||d(e)||Ii(e)||u(e)||Ui(e)||Fi(e)||null===e||void 0===e}function Fi(e){var t,n,i=o(e)&&!l(e),r=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c=a.length;for(t=0;t<c;t+=1)n=a[t],r=r||s(e,n);return i&&r}function Ui(e){var t=a(e),n=!1;return t&&(n=0===e.filter((function(t){return!u(t)&&Ii(e)})).length),t&&n}function zi(e){var t,n,i=o(e)&&!l(e),r=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<a.length;t+=1)n=a[t],r=r||s(e,n);return i&&r}function Bi(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Hi(e,t){1===arguments.length&&(arguments[0]?Di(arguments[0])?(e=arguments[0],t=void 0):zi(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Zn(),r=pi(n,this).startOf("day"),a=i.calendarFormat(this,r)||"sameElse",o=t&&(A(t[a])?t[a].call(this,n):t[a]);return this.format(o||this.localeData().calendar(a,this,Zn(n)))}function Vi(){return new w(this)}function Wi(e,t){var n=S(e)?e:Zn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=ne(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Gi(e,t){var n=S(e)?e:Zn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=ne(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function qi(e,t,n,i){var r=S(e)?e:Zn(e),a=S(t)?t:Zn(t);return!!(this.isValid()&&r.isValid()&&a.isValid())&&("("===(i=i||"()")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===i[1]?this.isBefore(a,n):!this.isAfter(a,n))}function Yi(e,t){var n,i=S(e)?e:Zn(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=ne(t)||"millisecond")?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Xi(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Zi(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Ki(e,t,n){var i,r,a;if(!this.isValid())return NaN;if(!(i=pi(e,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),t=ne(t)){case"year":a=Ji(this,i)/12;break;case"month":a=Ji(this,i);break;case"quarter":a=Ji(this,i)/3;break;case"second":a=(this-i)/1e3;break;case"minute":a=(this-i)/6e4;break;case"hour":a=(this-i)/36e5;break;case"day":a=(this-i-r)/864e5;break;case"week":a=(this-i-r)/6048e5;break;default:a=this-i}return n?a:ke(a)}function Ji(e,t){if(e.date()<t.date())return-Ji(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(n,"months");return-(n+(t-i<0?(t-i)/(i-e.clone().add(n-1,"months")):(t-i)/(e.clone().add(n+1,"months")-i)))||0}function $i(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Qi(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?V(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):A(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",V(n,"Z")):V(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function er(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,i,r="moment",a="";return this.isLocal()||(r=0===this.utcOffset()?"moment.utc":"moment.parseZone",a="Z"),e="["+r+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",i=a+'[")]',this.format(e+t+n+i)}function tr(e){e||(e=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var t=V(this,e);return this.localeData().postformat(t)}function nr(e,t){return this.isValid()&&(S(e)&&e.isValid()||Zn(e).isValid())?Ni({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ir(e){return this.from(Zn(),e)}function rr(e,t){return this.isValid()&&(S(e)&&e.isValid()||Zn(e).isValid())?Ni({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ar(e){return this.to(Zn(),e)}function or(e){var t;return void 0===e?this._locale._abbr:(null!=(t=yn(e))&&(this._locale=t),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var sr=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function lr(){return this._locale}var cr=1e3,ur=60*cr,dr=60*ur,hr=3506328*dr;function pr(e,t){return(e%t+t)%t}function fr(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-hr:new Date(e,t,n).valueOf()}function mr(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-hr:Date.UTC(e,t,n)}function vr(e){var t,n;if(void 0===(e=ne(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?mr:fr,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=pr(t+(this._isUTC?0:this.utcOffset()*ur),dr);break;case"minute":t=this._d.valueOf(),t-=pr(t,ur);break;case"second":t=this._d.valueOf(),t-=pr(t,cr)}return this._d.setTime(t),i.updateOffset(this,!0),this}function gr(e){var t,n;if(void 0===(e=ne(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?mr:fr,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=dr-pr(t+(this._isUTC?0:this.utcOffset()*ur),dr)-1;break;case"minute":t=this._d.valueOf(),t+=ur-pr(t,ur)-1;break;case"second":t=this._d.valueOf(),t+=cr-pr(t,cr)-1}return this._d.setTime(t),i.updateOffset(this,!0),this}function yr(){return this._d.valueOf()-6e4*(this._offset||0)}function br(){return Math.floor(this.valueOf()/1e3)}function xr(){return new Date(this.valueOf())}function _r(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function wr(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Sr(){return this.isValid()?this.toISOString():null}function Mr(){return g(this)}function Er(){return p({},v(this))}function Cr(){return v(this).overflow}function Tr(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Nr(e,t){var n,r,a,o=this._eras||yn("en")._eras;for(n=0,r=o.length;n<r;++n)switch("string"===typeof o[n].since&&(a=i(o[n].since).startOf("day"),o[n].since=a.valueOf()),typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":a=i(o[n].until).startOf("day").valueOf(),o[n].until=a.valueOf()}return o}function Ar(e,t,n){var i,r,a,o,s,l=this.eras();for(e=e.toUpperCase(),i=0,r=l.length;i<r;++i)if(a=l[i].name.toUpperCase(),o=l[i].abbr.toUpperCase(),s=l[i].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return l[i];break;case"NNNN":if(a===e)return l[i];break;case"NNNNN":if(s===e)return l[i]}else if([a,o,s].indexOf(e)>=0)return l[i]}function kr(e,t){var n=e.since<=e.until?1:-1;return void 0===t?i(e.since).year():i(e.since).year()+(t-e.offset)*n}function Or(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].name;if(i[e].until<=n&&n<=i[e].since)return i[e].name}return""}function Pr(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].narrow;if(i[e].until<=n&&n<=i[e].since)return i[e].narrow}return""}function Rr(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].abbr;if(i[e].until<=n&&n<=i[e].since)return i[e].abbr}return""}function jr(){var e,t,n,r,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=a[e].since<=a[e].until?1:-1,r=this.clone().startOf("day").valueOf(),a[e].since<=r&&r<=a[e].until||a[e].until<=r&&r<=a[e].since)return(this.year()-i(a[e].since).year())*n+a[e].offset;return this.year()}function Lr(e){return s(this,"_erasNameRegex")||Hr.call(this),e?this._erasNameRegex:this._erasRegex}function Ir(e){return s(this,"_erasAbbrRegex")||Hr.call(this),e?this._erasAbbrRegex:this._erasRegex}function Dr(e){return s(this,"_erasNarrowRegex")||Hr.call(this),e?this._erasNarrowRegex:this._erasRegex}function Fr(e,t){return t.erasAbbrRegex(e)}function Ur(e,t){return t.erasNameRegex(e)}function zr(e,t){return t.erasNarrowRegex(e)}function Br(e,t){return t._eraYearOrdinalRegex||ye}function Hr(){var e,t,n,i,r,a=[],o=[],s=[],l=[],c=this.eras();for(e=0,t=c.length;e<t;++e)n=Ae(c[e].name),i=Ae(c[e].abbr),r=Ae(c[e].narrow),o.push(n),a.push(i),s.push(r),l.push(n),l.push(i),l.push(r);this._erasRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+o.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}function Vr(e,t){z(0,[e,e.length],0,t)}function Wr(e){return Kr.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Gr(e){return Kr.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function qr(){return St(this.year(),1,4)}function Yr(){return St(this.isoWeekYear(),1,4)}function Xr(){var e=this.localeData()._week;return St(this.year(),e.dow,e.doy)}function Zr(){var e=this.localeData()._week;return St(this.weekYear(),e.dow,e.doy)}function Kr(e,t,n,i,r){var a;return null==e?wt(this,i,r).year:(t>(a=St(e,i,r))&&(t=a),Jr.call(this,e,t,n,i,r))}function Jr(e,t,n,i,r){var a=_t(e,t,n,i,r),o=bt(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function $r(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}z("N",0,0,"eraAbbr"),z("NN",0,0,"eraAbbr"),z("NNN",0,0,"eraAbbr"),z("NNNN",0,0,"eraName"),z("NNNNN",0,0,"eraNarrow"),z("y",["y",1],"yo","eraYear"),z("y",["yy",2],0,"eraYear"),z("y",["yyy",3],0,"eraYear"),z("y",["yyyy",4],0,"eraYear"),Ce("N",Fr),Ce("NN",Fr),Ce("NNN",Fr),Ce("NNNN",Ur),Ce("NNNNN",zr),Re(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,i){var r=n._locale.erasParse(e,i,n._strict);r?v(n).era=r:v(n).invalidEra=e})),Ce("y",ye),Ce("yy",ye),Ce("yyy",ye),Ce("yyyy",ye),Ce("yo",Br),Re(["y","yy","yyy","yyyy"],De),Re(["yo"],(function(e,t,n,i){var r;n._locale._eraYearOrdinalRegex&&(r=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[De]=n._locale.eraYearOrdinalParse(e,r):t[De]=parseInt(e,10)})),z(0,["gg",2],0,(function(){return this.weekYear()%100})),z(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Vr("gggg","weekYear"),Vr("ggggg","weekYear"),Vr("GGGG","isoWeekYear"),Vr("GGGGG","isoWeekYear"),Ce("G",be),Ce("g",be),Ce("GG",he,le),Ce("gg",he,le),Ce("GGGG",ve,ue),Ce("gggg",ve,ue),Ce("GGGGG",ge,de),Ce("ggggg",ge,de),je(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,i){t[i.substr(0,2)]=Oe(e)})),je(["gg","GG"],(function(e,t,n,r){t[r]=i.parseTwoDigitYear(e)})),z("Q",0,"Qo","quarter"),Ce("Q",se),Re("Q",(function(e,t){t[Fe]=3*(Oe(e)-1)})),z("D",["DD",2],"Do","date"),Ce("D",he,Me),Ce("DD",he,le),Ce("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Re(["D","DD"],Ue),Re("Do",(function(e,t){t[Ue]=Oe(e.match(he)[0])}));var Qr=Ke("Date",!0);function ea(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}z("DDD",["DDDD",3],"DDDo","dayOfYear"),Ce("DDD",me),Ce("DDDD",ce),Re(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=Oe(e)})),z("m",["mm",2],0,"minute"),Ce("m",he,Ee),Ce("mm",he,le),Re(["m","mm"],Be);var ta=Ke("Minutes",!1);z("s",["ss",2],0,"second"),Ce("s",he,Ee),Ce("ss",he,le),Re(["s","ss"],He);var na,ia,ra=Ke("Seconds",!1);for(z("S",0,0,(function(){return~~(this.millisecond()/100)})),z(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),z(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),z(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),z(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),z(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),z(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),Ce("S",me,se),Ce("SS",me,le),Ce("SSS",me,ce),na="SSSS";na.length<=9;na+="S")Ce(na,ye);function aa(e,t){t[Ve]=Oe(1e3*("0."+e))}for(na="S";na.length<=9;na+="S")Re(na,aa);function oa(){return this._isUTC?"UTC":""}function sa(){return this._isUTC?"Coordinated Universal Time":""}ia=Ke("Milliseconds",!1),z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");var la=w.prototype;function ca(e){return Zn(1e3*e)}function ua(){return Zn.apply(null,arguments).parseZone()}function da(e){return e}la.add=ji,la.calendar=Hi,la.clone=Vi,la.diff=Ki,la.endOf=gr,la.format=tr,la.from=nr,la.fromNow=ir,la.to=rr,la.toNow=ar,la.get=Qe,la.invalidAt=Cr,la.isAfter=Wi,la.isBefore=Gi,la.isBetween=qi,la.isSame=Yi,la.isSameOrAfter=Xi,la.isSameOrBefore=Zi,la.isValid=Mr,la.lang=sr,la.locale=or,la.localeData=lr,la.max=Jn,la.min=Kn,la.parsingFlags=Er,la.set=et,la.startOf=vr,la.subtract=Li,la.toArray=_r,la.toObject=wr,la.toDate=xr,la.toISOString=Qi,la.inspect=er,"undefined"!==typeof Symbol&&null!=Symbol.for&&(la[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),la.toJSON=Sr,la.toString=$i,la.unix=br,la.valueOf=yr,la.creationData=Tr,la.eraName=Or,la.eraNarrow=Pr,la.eraAbbr=Rr,la.eraYear=jr,la.year=Xe,la.isLeapYear=Ze,la.weekYear=Wr,la.isoWeekYear=Gr,la.quarter=la.quarters=$r,la.month=pt,la.daysInMonth=ft,la.week=la.weeks=Nt,la.isoWeek=la.isoWeeks=At,la.weeksInYear=Xr,la.weeksInWeekYear=Zr,la.isoWeeksInYear=qr,la.isoWeeksInISOWeekYear=Yr,la.date=Qr,la.day=la.days=Wt,la.weekday=Gt,la.isoWeekday=qt,la.dayOfYear=ea,la.hour=la.hours=rn,la.minute=la.minutes=ta,la.second=la.seconds=ra,la.millisecond=la.milliseconds=ia,la.utcOffset=mi,la.utc=gi,la.local=yi,la.parseZone=bi,la.hasAlignedHourOffset=xi,la.isDST=_i,la.isLocal=Si,la.isUtcOffset=Mi,la.isUtc=Ei,la.isUTC=Ei,la.zoneAbbr=oa,la.zoneName=sa,la.dates=E("dates accessor is deprecated. Use date instead.",Qr),la.months=E("months accessor is deprecated. Use month instead",pt),la.years=E("years accessor is deprecated. Use year instead",Xe),la.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",vi),la.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",wi);var ha=P.prototype;function pa(e,t,n,i){var r=yn(),a=f().set(i,t);return r[n](a,e)}function fa(e,t,n){if(u(e)&&(t=e,e=void 0),e=e||"",null!=t)return pa(e,t,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=pa(e,i,n,"month");return r}function ma(e,t,n,i){"boolean"===typeof e?(u(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,u(t)&&(n=t,t=void 0),t=t||"");var r,a=yn(),o=e?a._week.dow:0,s=[];if(null!=n)return pa(t,(n+o)%7,i,"day");for(r=0;r<7;r++)s[r]=pa(t,(r+o)%7,i,"day");return s}function va(e,t){return fa(e,t,"months")}function ga(e,t){return fa(e,t,"monthsShort")}function ya(e,t,n){return ma(e,t,n,"weekdays")}function ba(e,t,n){return ma(e,t,n,"weekdaysShort")}function xa(e,t,n){return ma(e,t,n,"weekdaysMin")}ha.calendar=j,ha.longDateFormat=q,ha.invalidDate=X,ha.ordinal=J,ha.preparse=da,ha.postformat=da,ha.relativeTime=Q,ha.pastFuture=ee,ha.set=k,ha.eras=Nr,ha.erasParse=Ar,ha.erasConvertYear=kr,ha.erasAbbrRegex=Ir,ha.erasNameRegex=Lr,ha.erasNarrowRegex=Dr,ha.months=lt,ha.monthsShort=ct,ha.monthsParse=dt,ha.monthsRegex=vt,ha.monthsShortRegex=mt,ha.week=Mt,ha.firstDayOfYear=Tt,ha.firstDayOfWeek=Ct,ha.weekdays=Ut,ha.weekdaysMin=Bt,ha.weekdaysShort=zt,ha.weekdaysParse=Vt,ha.weekdaysRegex=Yt,ha.weekdaysShortRegex=Xt,ha.weekdaysMinRegex=Zt,ha.isPM=tn,ha.meridiem=an,mn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===Oe(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),i.lang=E("moment.lang is deprecated. Use moment.locale instead.",mn),i.langData=E("moment.langData is deprecated. Use moment.localeData instead.",yn);var _a=Math.abs;function wa(){var e=this._data;return this._milliseconds=_a(this._milliseconds),this._days=_a(this._days),this._months=_a(this._months),e.milliseconds=_a(e.milliseconds),e.seconds=_a(e.seconds),e.minutes=_a(e.minutes),e.hours=_a(e.hours),e.months=_a(e.months),e.years=_a(e.years),this}function Sa(e,t,n,i){var r=Ni(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function Ma(e,t){return Sa(this,e,t,1)}function Ea(e,t){return Sa(this,e,t,-1)}function Ca(e){return e<0?Math.floor(e):Math.ceil(e)}function Ta(){var e,t,n,i,r,a=this._milliseconds,o=this._days,s=this._months,l=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*Ca(Aa(s)+o),o=0,s=0),l.milliseconds=a%1e3,e=ke(a/1e3),l.seconds=e%60,t=ke(e/60),l.minutes=t%60,n=ke(t/60),l.hours=n%24,o+=ke(n/24),s+=r=ke(Na(o)),o-=Ca(Aa(r)),i=ke(s/12),s%=12,l.days=o,l.months=s,l.years=i,this}function Na(e){return 4800*e/146097}function Aa(e){return 146097*e/4800}function ka(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=ne(e))||"quarter"===e||"year"===e)switch(t=this._days+i/864e5,n=this._months+Na(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Aa(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function Oa(e){return function(){return this.as(e)}}var Pa=Oa("ms"),Ra=Oa("s"),ja=Oa("m"),La=Oa("h"),Ia=Oa("d"),Da=Oa("w"),Fa=Oa("M"),Ua=Oa("Q"),za=Oa("y"),Ba=Pa;function Ha(){return Ni(this)}function Va(e){return e=ne(e),this.isValid()?this[e+"s"]():NaN}function Wa(e){return function(){return this.isValid()?this._data[e]:NaN}}var Ga=Wa("milliseconds"),qa=Wa("seconds"),Ya=Wa("minutes"),Xa=Wa("hours"),Za=Wa("days"),Ka=Wa("months"),Ja=Wa("years");function $a(){return ke(this.days()/7)}var Qa=Math.round,eo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function to(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function no(e,t,n,i){var r=Ni(e).abs(),a=Qa(r.as("s")),o=Qa(r.as("m")),s=Qa(r.as("h")),l=Qa(r.as("d")),c=Qa(r.as("M")),u=Qa(r.as("w")),d=Qa(r.as("y")),h=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||o<=1&&["m"]||o<n.m&&["mm",o]||s<=1&&["h"]||s<n.h&&["hh",s]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(h=h||u<=1&&["w"]||u<n.w&&["ww",u]),(h=h||c<=1&&["M"]||c<n.M&&["MM",c]||d<=1&&["y"]||["yy",d])[2]=t,h[3]=+e>0,h[4]=i,to.apply(null,h)}function io(e){return void 0===e?Qa:"function"===typeof e&&(Qa=e,!0)}function ro(e,t){return void 0!==eo[e]&&(void 0===t?eo[e]:(eo[e]=t,"s"===e&&(eo.ss=t-1),!0))}function ao(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,i,r=!1,a=eo;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(r=e),"object"===typeof t&&(a=Object.assign({},eo,t),null!=t.s&&null==t.ss&&(a.ss=t.s-1)),i=no(this,!r,a,n=this.localeData()),r&&(i=n.pastFuture(+this,i)),n.postformat(i)}var oo=Math.abs;function so(e){return(e>0)-(e<0)||+e}function lo(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,i,r,a,o,s,l=oo(this._milliseconds)/1e3,c=oo(this._days),u=oo(this._months),d=this.asSeconds();return d?(e=ke(l/60),t=ke(e/60),l%=60,e%=60,n=ke(u/12),u%=12,i=l?l.toFixed(3).replace(/\.?0+$/,""):"",r=d<0?"-":"",a=so(this._months)!==so(d)?"-":"",o=so(this._days)!==so(d)?"-":"",s=so(this._milliseconds)!==so(d)?"-":"",r+"P"+(n?a+n+"Y":"")+(u?a+u+"M":"")+(c?o+c+"D":"")+(t||e||l?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(l?s+i+"S":"")):"P0D"}var co=oi.prototype;return co.isValid=ri,co.abs=wa,co.add=Ma,co.subtract=Ea,co.as=ka,co.asMilliseconds=Pa,co.asSeconds=Ra,co.asMinutes=ja,co.asHours=La,co.asDays=Ia,co.asWeeks=Da,co.asMonths=Fa,co.asQuarters=Ua,co.asYears=za,co.valueOf=Ba,co._bubble=Ta,co.clone=Ha,co.get=Va,co.milliseconds=Ga,co.seconds=qa,co.minutes=Ya,co.hours=Xa,co.days=Za,co.weeks=$a,co.months=Ka,co.years=Ja,co.humanize=ao,co.toISOString=lo,co.toString=lo,co.toJSON=lo,co.locale=or,co.localeData=lr,co.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",lo),co.lang=sr,z("X",0,0,"unix"),z("x",0,0,"valueOf"),Ce("x",be),Ce("X",we),Re("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Re("x",(function(e,t,n){n._d=new Date(Oe(e))})),i.version="2.30.1",r(Zn),i.fn=la,i.min=Qn,i.max=ei,i.now=ti,i.utc=f,i.unix=ca,i.months=va,i.isDate=d,i.locale=mn,i.invalid=y,i.duration=Ni,i.isMoment=S,i.weekdays=ya,i.parseZone=ua,i.localeData=yn,i.isDuration=si,i.monthsShort=ga,i.weekdaysMin=xa,i.defineLocale=vn,i.updateLocale=gn,i.locales=bn,i.weekdaysShort=ba,i.normalizeUnits=ne,i.relativeTimeRounding=io,i.relativeTimeThreshold=ro,i.calendarFormat=Bi,i.prototype=la,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i}()},1497:(e,t,n)=>{"use strict";var i=n(3218);function r(){}function a(){}a.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,a,o){if(o!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:r};return n.PropTypes=n,n}},5173:(e,t,n)=>{e.exports=n(1497)()},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4175:function(e){var t;"undefined"!==typeof self&&self,t=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=109)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(17),r=n(18),a=n(19),o=n(45),s=n(46),l=n(47),c=n(48),u=n(49),d=n(12),h=n(32),p=n(33),f=n(31),m=n(1),v={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:i.default,Format:r.default,Leaf:a.default,Embed:c.default,Scroll:o.default,Block:l.default,Inline:s.default,Text:u.default,Attributor:{Attribute:d.default,Class:h.default,Style:p.default,Store:f.default}};t.default=v},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t){var n=this;return t="[Parchment] "+t,(n=e.call(this,t)||this).message=t,n.name=n.constructor.name,n}return i(t,e),t}(Error);t.ParchmentError=r;var a,o={},s={},l={},c={};function u(e,t){var n;if(void 0===t&&(t=a.ANY),"string"===typeof e)n=c[e]||o[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)n=c.text;else if("number"===typeof e)e&a.LEVEL&a.BLOCK?n=c.block:e&a.LEVEL&a.INLINE&&(n=c.inline);else if(e instanceof HTMLElement){var i=(e.getAttribute("class")||"").split(/\s+/);for(var r in i)if(n=s[i[r]])break;n=n||l[e.tagName]}return null==n?null:t&a.LEVEL&n.scope&&t&a.TYPE&n.scope?n:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(a=t.Scope||(t.Scope={})),t.create=function(e,t){var n=u(e);if(null==n)throw new r("Unable to create "+e+" blot");var i=n,a=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:i.create(t);return new i(a,t)},t.find=function e(n,i){return void 0===i&&(i=!1),null==n?null:null!=n[t.DATA_KEY]?n[t.DATA_KEY].blot:i?e(n.parentNode,i):null},t.query=u,t.register=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t.length>1)return t.map((function(t){return e(t)}));var i=t[0];if("string"!==typeof i.blotName&&"string"!==typeof i.attrName)throw new r("Invalid definition");if("abstract"===i.blotName)throw new r("Cannot register abstract class");return c[i.blotName||i.attrName]=i,"string"===typeof i.keyName?o[i.keyName]=i:(null!=i.className&&(s[i.className]=i),null!=i.tagName&&(Array.isArray(i.tagName)?i.tagName=i.tagName.map((function(e){return e.toUpperCase()})):i.tagName=i.tagName.toUpperCase(),(Array.isArray(i.tagName)?i.tagName:[i.tagName]).forEach((function(e){null!=l[e]&&null!=i.className||(l[e]=i)})))),i}},function(e,t,n){var i=n(51),r=n(11),a=n(3),o=n(20),s=String.fromCharCode(0),l=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};l.prototype.insert=function(e,t){var n={};return 0===e.length?this:(n.insert=e,null!=t&&"object"===typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))},l.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},l.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"===typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)},l.prototype.push=function(e){var t=this.ops.length,n=this.ops[t-1];if(e=a(!0,{},e),"object"===typeof n){if("number"===typeof e.delete&&"number"===typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"===typeof n.delete&&null!=e.insert&&(t-=1,"object"!==typeof(n=this.ops[t-1])))return this.ops.unshift(e),this;if(r(e.attributes,n.attributes)){if("string"===typeof e.insert&&"string"===typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"===typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"===typeof e.retain&&"number"===typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"===typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},l.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},l.prototype.filter=function(e){return this.ops.filter(e)},l.prototype.forEach=function(e){this.ops.forEach(e)},l.prototype.map=function(e){return this.ops.map(e)},l.prototype.partition=function(e){var t=[],n=[];return this.forEach((function(i){(e(i)?t:n).push(i)})),[t,n]},l.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},l.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+o.length(t):t.delete?e-t.delete:e}),0)},l.prototype.length=function(){return this.reduce((function(e,t){return e+o.length(t)}),0)},l.prototype.slice=function(e,t){e=e||0,"number"!==typeof t&&(t=1/0);for(var n=[],i=o.iterator(this.ops),r=0;r<t&&i.hasNext();){var a;r<e?a=i.next(e-r):(a=i.next(t-r),n.push(a)),r+=o.length(a)}return new l(n)},l.prototype.compose=function(e){var t=o.iterator(this.ops),n=o.iterator(e.ops),i=[],a=n.peek();if(null!=a&&"number"===typeof a.retain&&null==a.attributes){for(var s=a.retain;"insert"===t.peekType()&&t.peekLength()<=s;)s-=t.peekLength(),i.push(t.next());a.retain-s>0&&n.next(a.retain-s)}for(var c=new l(i);t.hasNext()||n.hasNext();)if("insert"===n.peekType())c.push(n.next());else if("delete"===t.peekType())c.push(t.next());else{var u=Math.min(t.peekLength(),n.peekLength()),d=t.next(u),h=n.next(u);if("number"===typeof h.retain){var p={};"number"===typeof d.retain?p.retain=u:p.insert=d.insert;var f=o.attributes.compose(d.attributes,h.attributes,"number"===typeof d.retain);if(f&&(p.attributes=f),c.push(p),!n.hasNext()&&r(c.ops[c.ops.length-1],p)){var m=new l(t.rest());return c.concat(m).chop()}}else"number"===typeof h.delete&&"number"===typeof d.retain&&c.push(h)}return c.chop()},l.prototype.concat=function(e){var t=new l(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},l.prototype.diff=function(e,t){if(this.ops===e.ops)return new l;var n=[this,e].map((function(t){return t.map((function(n){if(null!=n.insert)return"string"===typeof n.insert?n.insert:s;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),a=new l,c=i(n[0],n[1],t),u=o.iterator(this.ops),d=o.iterator(e.ops);return c.forEach((function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case i.INSERT:n=Math.min(d.peekLength(),t),a.push(d.next(n));break;case i.DELETE:n=Math.min(t,u.peekLength()),u.next(n),a.delete(n);break;case i.EQUAL:n=Math.min(u.peekLength(),d.peekLength(),t);var s=u.next(n),l=d.next(n);r(s.insert,l.insert)?a.retain(n,o.attributes.diff(s.attributes,l.attributes)):a.push(l).delete(n)}t-=n}})),a.chop()},l.prototype.eachLine=function(e,t){t=t||"\n";for(var n=o.iterator(this.ops),i=new l,r=0;n.hasNext();){if("insert"!==n.peekType())return;var a=n.peek(),s=o.length(a)-n.peekLength(),c="string"===typeof a.insert?a.insert.indexOf(t,s)-s:-1;if(c<0)i.push(n.next());else if(c>0)i.push(n.next(c));else{if(!1===e(i,n.next(1).attributes||{},r))return;r+=1,i=new l}}i.length()>0&&e(i,{},r)},l.prototype.transform=function(e,t){if(t=!!t,"number"===typeof e)return this.transformPosition(e,t);for(var n=o.iterator(this.ops),i=o.iterator(e.ops),r=new l;n.hasNext()||i.hasNext();)if("insert"!==n.peekType()||!t&&"insert"===i.peekType())if("insert"===i.peekType())r.push(i.next());else{var a=Math.min(n.peekLength(),i.peekLength()),s=n.next(a),c=i.next(a);if(s.delete)continue;c.delete?r.push(c):r.retain(a,o.attributes.transform(s.attributes,c.attributes,t))}else r.retain(o.length(n.next()));return r.chop()},l.prototype.transformPosition=function(e,t){t=!!t;for(var n=o.iterator(this.ops),i=0;n.hasNext()&&i<=e;){var r=n.peekLength(),a=n.peekType();n.next(),"delete"!==a?("insert"===a&&(i<e||!t)&&(e+=r),i+=r):e-=Math.min(r,e-i)}return e},e.exports=l},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,i=Object.prototype.toString,r=Object.defineProperty,a=Object.getOwnPropertyDescriptor,o=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===i.call(e)},s=function(e){if(!e||"[object Object]"!==i.call(e))return!1;var t,r=n.call(e,"constructor"),a=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!a)return!1;for(t in e);return"undefined"===typeof t||n.call(e,t)},l=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},c=function(e,t){if("__proto__"===t){if(!n.call(e,t))return;if(a)return a(e,t).value}return e[t]};e.exports=function e(){var t,n,i,r,a,u,d=arguments[0],h=1,p=arguments.length,f=!1;for("boolean"===typeof d&&(f=d,d=arguments[1]||{},h=2),(null==d||"object"!==typeof d&&"function"!==typeof d)&&(d={});h<p;++h)if(null!=(t=arguments[h]))for(n in t)i=c(d,n),d!==(r=c(t,n))&&(f&&r&&(s(r)||(a=o(r)))?(a?(a=!1,u=i&&o(i)?i:[]):u=i&&s(i)?i:{},l(d,{name:n,newValue:e(f,u,r)})):"undefined"!==typeof r&&l(d,{name:n,newValue:r}));return d}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},a=d(n(3)),o=d(n(2)),s=d(n(0)),l=d(n(16)),c=d(n(6)),u=d(n(7));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return h(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),i(t,[{key:"attach",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new s.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new o.default).insert(this.value(),(0,a.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var n=s.default.query(e,s.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,t)}},{key:"formatAt",value:function(e,t,n,i){this.format(n,i)}},{key:"insertAt",value:function(e,n,i){if("string"===typeof n&&n.endsWith("\n")){var a=s.default.create(v.blotName);this.parent.insertBefore(a,0===e?this:this.next),a.insertAt(0,n.slice(0,-1))}else r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,i)}}]),t}(s.default.Embed);m.scope=s.default.Scope.BLOCK_BLOT;var v=function(e){function t(e){h(this,t);var n=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.cache={},n}return f(t,e),i(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(s.default.Leaf).reduce((function(e,t){return 0===t.length()?e:e.insert(t.value(),g(t))}),new o.default).insert("\n",g(this))),this.cache.delta}},{key:"deleteAt",value:function(e,n){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),this.cache={}}},{key:"formatAt",value:function(e,n,i,a){n<=0||(s.default.query(i,s.default.Scope.BLOCK)?e+n===this.length()&&this.format(i,a):r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(n,this.length()-e-1),i,a),this.cache={})}},{key:"insertAt",value:function(e,n,i){if(null!=i)return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,i);if(0!==n.length){var a=n.split("\n"),o=a.shift();o.length>0&&(e<this.length()-1||null==this.children.tail?r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});var s=this;a.reduce((function(e,t){return(s=s.split(e,!0)).insertAt(0,t),t.length}),e+o.length)}}},{key:"insertBefore",value:function(e,n){var i=this.children.head;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n),i instanceof l.default&&i.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,n){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,n),this.cache={}}},{key:"optimize",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===e||e>=this.length()-1)){var i=this.clone();return 0===e?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}var a=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,n);return this.cache={},a}}]),t}(s.default.Block);function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"===typeof e.formats&&(t=(0,a.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:g(e.parent,t))}v.blotName="block",v.tagName="P",v.defaultChild="break",v.allowedChildren=[c.default,s.default.Embed,u.default],t.bubbleFormats=g,t.BlockEmbed=m,t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(l){r=!0,a=l}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(50);var o=v(n(2)),s=v(n(14)),l=v(n(8)),c=v(n(9)),u=v(n(0)),d=n(15),h=v(d),p=v(n(3)),f=v(n(10)),m=v(n(34));function v(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=(0,f.default)("quill"),b=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=x(t,i),this.container=this.options.container,null==this.container)return y.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new l.default,this.scroll=u.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new s.default(this.scroll),this.selection=new h.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(e){e===l.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())})),this.emitter.on(l.default.events.SCROLL_UPDATE,(function(e,t){var i=n.selection.lastRange,r=i&&0===i.length?i.index:void 0;_.call(n,(function(){return n.editor.update(null,t,r)}),e)}));var a=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+r+"<p><br></p></div>");this.setContents(a),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),f.default.level(e)}},{key:"find",value:function(e){return e.__quill||u.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&y.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!==typeof e){var r=e.attrName||e.blotName;"string"===typeof r?this.register("formats/"+r,e,t):Object.keys(e).forEach((function(i){n.register(i,e[i],t)}))}else null==this.imports[e]||i||y.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?u.default.register(t):e.startsWith("modules")&&"function"===typeof t.register&&t.register()}}]),a(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"===typeof e){var n=e;(e=document.createElement("div")).classList.add(n)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,n){var i=this,a=w(e,t,n),o=r(a,4);return e=o[0],t=o[1],n=o[3],_.call(this,(function(){return i.editor.deleteText(e,t)}),n,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;return _.call(this,(function(){var i=n.getSelection(!0),r=new o.default;if(null==i)return r;if(u.default.query(e,u.default.Scope.BLOCK))r=n.editor.formatLine(i.index,i.length,g({},e,t));else{if(0===i.length)return n.selection.format(e,t),r;r=n.editor.formatText(i.index,i.length,g({},e,t))}return n.setSelection(i,l.default.sources.SILENT),r}),i)}},{key:"formatLine",value:function(e,t,n,i,a){var o,s=this,l=w(e,t,n,i,a),c=r(l,4);return e=c[0],t=c[1],o=c[2],a=c[3],_.call(this,(function(){return s.editor.formatLine(e,t,o)}),a,e,0)}},{key:"formatText",value:function(e,t,n,i,a){var o,s=this,l=w(e,t,n,i,a),c=r(l,4);return e=c[0],t=c[1],o=c[2],a=c[3],_.call(this,(function(){return s.editor.formatText(e,t,o)}),a,e,0)}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;n="number"===typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length);var i=this.container.getBoundingClientRect();return{bottom:n.bottom-i.top,height:n.height,left:n.left-i.left,right:n.right-i.left,top:n.top-i.top,width:n.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=w(e,t),i=r(n,2);return e=i[0],t=i[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"===typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!==typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=w(e,t),i=r(n,2);return e=i[0],t=i[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,n,i){var r=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return _.call(this,(function(){return r.editor.insertEmbed(t,n,i)}),a,t)}},{key:"insertText",value:function(e,t,n,i,a){var o,s=this,l=w(e,0,n,i,a),c=r(l,4);return e=c[0],o=c[2],a=c[3],_.call(this,(function(){return s.editor.insertText(e,t,o)}),a,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,n){this.clipboard.dangerouslyPasteHTML(e,t,n)}},{key:"removeFormat",value:function(e,t,n){var i=this,a=w(e,t,n),o=r(a,4);return e=o[0],t=o[1],n=o[3],_.call(this,(function(){return i.editor.removeFormat(e,t)}),n,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return _.call(this,(function(){e=new o.default(e);var n=t.getLength(),i=t.editor.deleteText(0,n),r=t.editor.applyDelta(e),a=r.ops[r.ops.length-1];return null!=a&&"string"===typeof a.insert&&"\n"===a.insert[a.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),r.delete(1)),i.compose(r)}),n)}},{key:"setSelection",value:function(t,n,i){if(null==t)this.selection.setRange(null,n||e.sources.API);else{var a=w(t,n,i),o=r(a,4);t=o[0],n=o[1],i=o[3],this.selection.setRange(new d.Range(t,n),i),i!==l.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API,n=(new o.default).insert(e);return this.setContents(n,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return _.call(this,(function(){return e=new o.default(e),t.editor.applyDelta(e,n)}),n,!0)}}]),e}();function x(e,t){if((t=(0,p.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==b.DEFAULTS.theme){if(t.theme=b.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=m.default;var n=(0,p.default)(!0,{},t.theme.DEFAULTS);[n,t].forEach((function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach((function(t){!0===e.modules[t]&&(e.modules[t]={})}))}));var i=Object.keys(n.modules).concat(Object.keys(t.modules)).reduce((function(e,t){var n=b.import("modules/"+t);return null==n?y.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=n.DEFAULTS||{},e}),{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,p.default)(!0,{},b.DEFAULTS,{modules:i},n,t),["bounds","container","scrollingContainer"].forEach((function(e){"string"===typeof t[e]&&(t[e]=document.querySelector(t[e]))})),t.modules=Object.keys(t.modules).reduce((function(e,n){return t.modules[n]&&(e[n]=t.modules[n]),e}),{}),t}function _(e,t,n,i){if(this.options.strict&&!this.isEnabled()&&t===l.default.sources.USER)return new o.default;var r=null==n?null:this.getSelection(),a=this.editor.delta,s=e();if(null!=r&&(!0===n&&(n=r.index),null==i?r=S(r,s,t):0!==i&&(r=S(r,n,i,t)),this.setSelection(r,l.default.sources.SILENT)),s.length()>0){var c,u,d=[l.default.events.TEXT_CHANGE,s,a,t];(c=this.emitter).emit.apply(c,[l.default.events.EDITOR_CHANGE].concat(d)),t!==l.default.sources.SILENT&&(u=this.emitter).emit.apply(u,d)}return s}function w(e,t,n,r,a){var o={};return"number"===typeof e.index&&"number"===typeof e.length?"number"!==typeof t?(a=r,r=n,n=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!==typeof t&&(a=r,r=n,n=t,t=0),"object"===("undefined"===typeof n?"undefined":i(n))?(o=n,a=r):"string"===typeof n&&(null!=r?o[n]=r:a=n),[e,t,o,a=a||l.default.sources.API]}function S(e,t,n,i){if(null==e)return null;var a=void 0,s=void 0;if(t instanceof o.default){var c=[e.index,e.index+e.length].map((function(e){return t.transformPosition(e,i!==l.default.sources.USER)})),u=r(c,2);a=u[0],s=u[1]}else{var h=[e.index,e.index+e.length].map((function(e){return e<t||e===t&&i===l.default.sources.USER?e:n>=0?e+n:Math.max(t,e+n)})),p=r(h,2);a=p[0],s=p[1]}return new d.Range(a,s-a)}b.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},b.events=l.default.events,b.sources=l.default.sources,b.version="1.3.7",b.imports={delta:o.default,parchment:u.default,"core/module":c.default,"core/theme":m.default},t.expandConfig=x,t.overload=w,t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},a=s(n(7)),o=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"formatAt",value:function(e,n,i,a){if(t.compare(this.statics.blotName,i)<0&&o.default.query(i,o.default.Scope.BLOT)){var s=this.isolate(e,n);a&&s.wrap(i,a)}else r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,i,a)}},{key:"optimize",value:function(e){if(r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(e,n){var i=t.order.indexOf(e),r=t.order.indexOf(n);return i>=0||r>=0?i-r:e===n?0:e<n?-1:1}}]),t}(o.default.Inline);l.allowedChildren=[l,o.default.Embed,a.default],l.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=r)&&i.__esModule?i:{default:i}).default.Text);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},a=o(n(54));function o(e){return e&&e.__esModule?e:{default:e}}var s=(0,o(n(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(e){document.addEventListener(e,(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(e){var n;e.__quill&&e.__quill.emitter&&(n=e.__quill.emitter).handleDOM.apply(n,t)}))}))}));var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",s.error),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"emit",value:function(){s.log.apply(s,arguments),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];(this.listeners[e.type]||[]).forEach((function(t){var i=t.node,r=t.handler;(e.target===i||i.contains(e.target))&&r.apply(void 0,[e].concat(n))}))}},{key:"listenDOM",value:function(e,t,n){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:n})}}]),t}(a.default);l.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},l.sources={API:"api",SILENT:"silent",USER:"user"},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=n};i.DEFAULTS={},t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=["error","warn","log","info"],r="warn";function a(e){if(i.indexOf(e)<=i.indexOf(r)){for(var t,n=arguments.length,a=Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];(t=console)[e].apply(t,a)}}function o(e){return i.reduce((function(t,n){return t[n]=a.bind(console,n,e),t}),{})}a.level=o.level=function(e){r=e},t.default=o},function(e,t,n){var i=Array.prototype.slice,r=n(52),a=n(53),o=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:function(e,t,n){var c,u;if(s(e)||s(t))return!1;if(e.prototype!==t.prototype)return!1;if(a(e))return!!a(t)&&(e=i.call(e),t=i.call(t),o(e,t,n));if(l(e)){if(!l(t))return!1;if(e.length!==t.length)return!1;for(c=0;c<e.length;c++)if(e[c]!==t[c])return!1;return!0}try{var d=r(e),h=r(t)}catch(p){return!1}if(d.length!=h.length)return!1;for(d.sort(),h.sort(),c=d.length-1;c>=0;c--)if(d[c]!=h[c])return!1;for(c=d.length-1;c>=0;c--)if(u=d[c],!o(e[u],t[u],n))return!1;return typeof e===typeof t}(e,t,n))};function s(e){return null===e||void 0===e}function l(e){return!(!e||"object"!==typeof e||"number"!==typeof e.length)&&"function"===typeof e.copy&&"function"===typeof e.slice&&!(e.length>0&&"number"!==typeof e[0])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=function(){function e(e,t,n){void 0===n&&(n={}),this.attrName=e,this.keyName=t;var r=i.Scope.TYPE&i.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&i.Scope.LEVEL|r:this.scope=i.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,(function(e){return e.name}))},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=i.query(e,i.Scope.BLOT&(this.scope|i.Scope.TYPE))&&(null==this.whitelist||("string"===typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(l){r=!0,a=l}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},o=d(n(2)),s=d(n(0)),l=d(n(4)),c=d(n(6)),u=d(n(7));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return h(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),t}(c.default);m.blotName="code",m.tagName="CODE";var v=function(e){function t(){return h(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),r(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce((function(t,n){return t.insert(n).insert("\n",e.formats())}),new o.default)}},{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n){var r=this.descendant(u.default,this.length()-1),o=i(r,1)[0];null!=o&&o.deleteAt(o.length()-1,1),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}},{key:"formatAt",value:function(e,n,i,r){if(0!==n&&null!=s.default.query(i,s.default.Scope.BLOCK)&&(i!==this.statics.blotName||r!==this.statics.formats(this.domNode))){var a=this.newlineIndex(e);if(!(a<0||a>=e+n)){var o=this.newlineIndex(e,!0)+1,l=a-o+1,c=this.isolate(o,l),u=c.next;c.format(i,r),u instanceof t&&u.formatAt(0,e-o+n-l,i,r)}}}},{key:"insertAt",value:function(e,t,n){if(null==n){var r=this.descendant(u.default,e),a=i(r,2),o=a[0],s=a[1];o.insertAt(s,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var t=this.domNode.textContent.slice(e).indexOf("\n");return t>-1?e+t:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(s.default.create("text","\n")),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(e),n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(e){var t=s.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof s.default.Embed?t.remove():t.unwrap()}))}}],[{key:"create",value:function(e){var n=a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),t}(l.default);v.blotName="code-block",v.tagName="PRE",v.TAB="  ",t.Code=m,t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(l){r=!0,a=l}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=g(n(2)),s=g(n(20)),l=g(n(0)),c=g(n(13)),u=g(n(24)),d=n(4),h=g(d),p=g(n(16)),f=g(n(21)),m=g(n(11)),v=g(n(3));function g(e){return e&&e.__esModule?e:{default:e}}var y=/^[ -~]*$/,b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}return a(e,[{key:"applyDelta",value:function(e){var t=this,n=!1;this.scroll.update();var a=this.scroll.length();return this.scroll.batchStart(),(e=function(e){return e.reduce((function(e,t){if(1===t.insert){var n=(0,f.default)(t.attributes);return delete n.image,e.insert({image:t.attributes.image},n)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=(0,f.default)(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"===typeof t.insert){var i=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(i,t.attributes)}return e.push(t)}),new o.default)}(e)).reduce((function(e,o){var c=o.retain||o.delete||o.insert.length||1,u=o.attributes||{};if(null!=o.insert){if("string"===typeof o.insert){var p=o.insert;p.endsWith("\n")&&n&&(n=!1,p=p.slice(0,-1)),e>=a&&!p.endsWith("\n")&&(n=!0),t.scroll.insertAt(e,p);var f=t.scroll.line(e),m=r(f,2),g=m[0],y=m[1],b=(0,v.default)({},(0,d.bubbleFormats)(g));if(g instanceof h.default){var x=g.descendant(l.default.Leaf,y),_=r(x,1)[0];b=(0,v.default)(b,(0,d.bubbleFormats)(_))}u=s.default.attributes.diff(b,u)||{}}else if("object"===i(o.insert)){var w=Object.keys(o.insert)[0];if(null==w)return e;t.scroll.insertAt(e,w,o.insert[w])}a+=c}return Object.keys(u).forEach((function(n){t.scroll.formatAt(e,c,n,u[n])})),e+c}),0),e.reduce((function(e,n){return"number"===typeof n.delete?(t.scroll.deleteAt(e,n.delete),e):e+(n.retain||n.insert.length||1)}),0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new o.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(i).forEach((function(r){if(null==n.scroll.whitelist||n.scroll.whitelist[r]){var a=n.scroll.lines(e,Math.max(t,1)),o=t;a.forEach((function(t){var a=t.length();if(t instanceof c.default){var s=e-t.offset(n.scroll),l=t.newlineIndex(s+o)-s+1;t.formatAt(s,l,r,i[r])}else t.format(r,i[r]);o-=a}))}})),this.scroll.optimize(),this.update((new o.default).retain(e).retain(t,(0,f.default)(i)))}},{key:"formatText",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(i).forEach((function(r){n.scroll.formatAt(e,t,r,i[r])})),this.update((new o.default).retain(e).retain(t,(0,f.default)(i)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(e,t){return e.concat(t.delta())}),new o.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],i=[];0===t?this.scroll.path(e).forEach((function(e){var t=r(e,1)[0];t instanceof h.default?n.push(t):t instanceof l.default.Leaf&&i.push(t)})):(n=this.scroll.lines(e,t),i=this.scroll.descendants(l.default.Leaf,e,t));var a=[n,i].map((function(e){if(0===e.length)return{};for(var t=(0,d.bubbleFormats)(e.shift());Object.keys(t).length>0;){var n=e.shift();if(null==n)return t;t=x((0,d.bubbleFormats)(n),t)}return t}));return v.default.apply(v.default,a)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter((function(e){return"string"===typeof e.insert})).map((function(e){return e.insert})).join("")}},{key:"insertEmbed",value:function(e,t,n){return this.scroll.insertAt(e,t,n),this.update((new o.default).retain(e).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n)))}},{key:"insertText",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(i).forEach((function(r){n.scroll.formatAt(e,t.length,r,i[r])})),this.update((new o.default).retain(e).insert(t,(0,f.default)(i)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===h.default.blotName&&!(e.children.length>1)&&e.children.head instanceof p.default}},{key:"removeFormat",value:function(e,t){var n=this.getText(e,t),i=this.scroll.line(e+t),a=r(i,2),s=a[0],l=a[1],u=0,d=new o.default;null!=s&&(u=s instanceof c.default?s.newlineIndex(l)-l+1:s.length()-l,d=s.delta().slice(l,l+u-1).insert("\n"));var h=this.getContents(e,t+u).diff((new o.default).insert(n).concat(d)),p=(new o.default).retain(e).concat(h);return this.applyDelta(p)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(y)&&l.default.find(t[0].target)){var r=l.default.find(t[0].target),a=(0,d.bubbleFormats)(r),s=r.offset(this.scroll),c=t[0].oldValue.replace(u.default.CONTENTS,""),h=(new o.default).insert(c),p=(new o.default).insert(r.value());e=(new o.default).retain(s).concat(h.diff(p,n)).reduce((function(e,t){return t.insert?e.insert(t.insert,a):e.push(t)}),new o.default),this.delta=i.compose(e)}else this.delta=this.getDelta(),e&&(0,m.default)(i.compose(e),this.delta)||(e=i.diff(this.delta,n));return e}}]),e}();function x(e,t){return Object.keys(t).reduce((function(n,i){return null==e[i]||(t[i]===e[i]?n[i]=t[i]:Array.isArray(t[i])?t[i].indexOf(e[i])<0&&(n[i]=t[i].concat([e[i]])):n[i]=[t[i],e[i]]),n}),{})}t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(l){r=!0,a=l}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=c(n(0)),o=c(n(21)),s=c(n(11)),l=c(n(8));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var h=(0,c(n(10)).default)("quill:selection"),p=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d(this,e),this.index=t,this.length=n},f=function(){function e(t,n){var i=this;d(this,e),this.emitter=n,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=a.default.create("cursor",this),this.lastRange=this.savedRange=new p(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){i.mouseDown||setTimeout(i.update.bind(i,l.default.sources.USER),1)})),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(e,t){e===l.default.events.TEXT_CHANGE&&t.length()>0&&i.update(l.default.sources.SILENT)})),this.emitter.on(l.default.events.SCROLL_BEFORE_UPDATE,(function(){if(i.hasFocus()){var e=i.getNativeRange();null!=e&&e.start.node!==i.cursor.textNode&&i.emitter.once(l.default.events.SCROLL_UPDATE,(function(){try{i.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(t){}}))}})),this.emitter.on(l.default.events.SCROLL_OPTIMIZE,(function(e,t){if(t.range){var n=t.range,r=n.startNode,a=n.startOffset,o=n.endNode,s=n.endOffset;i.setNativeRange(r,a,o,s)}})),this.update(l.default.sources.SILENT)}return r(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",(function(){e.composing=!0})),this.root.addEventListener("compositionend",(function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout((function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,(function(){e.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){e.mouseDown=!1,e.update(l.default.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!a.default.query(e,a.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var i=a.default.find(n.start.node,!1);if(null==i)return;if(i instanceof a.default.Leaf){var r=i.split(n.start.offset);i.parent.insertBefore(this.cursor,r)}else i.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();e=Math.min(e,n-1),t=Math.min(e+t,n-1)-e;var r=void 0,a=this.scroll.leaf(e),o=i(a,2),s=o[0],l=o[1];if(null==s)return null;var c=s.position(l,!0),u=i(c,2);r=u[0],l=u[1];var d=document.createRange();if(t>0){d.setStart(r,l);var h=this.scroll.leaf(e+t),p=i(h,2);if(s=p[0],l=p[1],null==s)return null;var f=s.position(l,!0),m=i(f,2);return r=m[0],l=m[1],d.setEnd(r,l),d.getBoundingClientRect()}var v="left",g=void 0;return r instanceof Text?(l<r.data.length?(d.setStart(r,l),d.setEnd(r,l+1)):(d.setStart(r,l-1),d.setEnd(r,l),v="right"),g=d.getBoundingClientRect()):(g=s.domNode.getBoundingClientRect(),l>0&&(v="right")),{bottom:g.top+g.height,height:g.height,left:g[v],right:g[v],top:g.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var n=this.normalizeNative(t);return h.info("getNativeRange",n),n}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);var r=n.map((function(e){var n=i(e,2),r=n[0],o=n[1],s=a.default.find(r,!0),l=s.offset(t.scroll);return 0===o?l:s instanceof a.default.Container?l+s.length():l+s.index(r,o)})),o=Math.min(Math.max.apply(Math,u(r)),this.scroll.length()-1),s=Math.min.apply(Math,[o].concat(u(r)));return new p(s,o-s)}},{key:"normalizeNative",value:function(e){if(!m(this.root,e.startContainer)||!e.collapsed&&!m(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach((function(e){for(var t=e.node,n=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>n)t=t.childNodes[n],n=0;else{if(t.childNodes.length!==n)break;n=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=n})),t}},{key:"rangeToNative",value:function(e){var t=this,n=e.collapsed?[e.index]:[e.index,e.index+e.length],r=[],a=this.scroll.length();return n.forEach((function(e,n){e=Math.min(a-1,e);var o,s=t.scroll.leaf(e),l=i(s,2),c=l[0],u=l[1],d=c.position(u,0!==n),h=i(d,2);o=h[0],u=h[1],r.push(o,u)})),r.length<2&&(r=r.concat(r)),r}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var n=this.getBounds(t.index,t.length);if(null!=n){var r=this.scroll.length()-1,a=this.scroll.line(Math.min(t.index,r)),o=i(a,1)[0],s=o;if(t.length>0){var l=this.scroll.line(Math.min(t.index+t.length,r));s=i(l,1)[0]}if(null!=o&&null!=s){var c=e.getBoundingClientRect();n.top<c.top?e.scrollTop-=c.top-n.top:n.bottom>c.bottom&&(e.scrollTop+=n.bottom-c.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(h.info("setNativeRange",e,t,n,i),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=n.parentNode){var a=document.getSelection();if(null!=a)if(null!=e){this.hasFocus()||this.root.focus();var o=(this.getNativeRange()||{}).native;if(null==o||r||e!==o.startContainer||t!==o.startOffset||n!==o.endContainer||i!==o.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==n.tagName&&(i=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var s=document.createRange();s.setStart(e,t),s.setEnd(n,i),a.removeAllRanges(),a.addRange(s)}}else a.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"===typeof t&&(n=t,t=!1),h.info("setRange",e),null!=e){var i=this.rangeToNative(e);this.setNativeRange.apply(this,u(i).concat([t]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.lastRange,n=this.getRange(),r=i(n,2),a=r[0],c=r[1];if(this.lastRange=a,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,s.default)(t,this.lastRange)){var u;!this.composing&&null!=c&&c.native.collapsed&&c.start.node!==this.cursor.textNode&&this.cursor.restore();var d,h=[l.default.events.SELECTION_CHANGE,(0,o.default)(this.lastRange),(0,o.default)(t),e];(u=this.emitter).emit.apply(u,[l.default.events.EDITOR_CHANGE].concat(h)),e!==l.default.sources.SILENT&&(d=this.emitter).emit.apply(d,h)}}}]),e}();function m(e,t){try{t.parentNode}catch(n){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}t.Range=p,t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},o=n(0),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"insertInto",value:function(e,n){0===e.children.length?a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(((i=o)&&i.__esModule?i:{default:i}).default.Embed);s.blotName="break",s.tagName="BR",t.default=s},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(44),a=n(30),o=n(1),s=function(e){function t(t){var n=e.call(this,t)||this;return n.build(),n}return i(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach((function(e){e.attach()}))},t.prototype.build=function(){var e=this;this.children=new r.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(t){try{var n=l(t);e.insertBefore(n,e.children.head||void 0)}catch(i){if(i instanceof o.ParchmentError)return;throw i}}))},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,(function(e,t,n){e.deleteAt(t,n)}))},t.prototype.descendant=function(e,n){var i=this.children.find(n),r=i[0],a=i[1];return null==e.blotName&&e(r)||null!=e.blotName&&r instanceof e?[r,a]:r instanceof t?r.descendant(e,a):[null,-1]},t.prototype.descendants=function(e,n,i){void 0===n&&(n=0),void 0===i&&(i=Number.MAX_VALUE);var r=[],a=i;return this.children.forEachAt(n,i,(function(n,i,o){(null==e.blotName&&e(n)||null!=e.blotName&&n instanceof e)&&r.push(n),n instanceof t&&(r=r.concat(n.descendants(e,i,a))),a-=o})),r},t.prototype.detach=function(){this.children.forEach((function(e){e.detach()})),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,n,i){this.children.forEachAt(e,t,(function(e,t,r){e.formatAt(t,r,n,i)}))},t.prototype.insertAt=function(e,t,n){var i=this.children.find(e),r=i[0],a=i[1];if(r)r.insertAt(a,t,n);else{var s=null==n?o.create("text",t):o.create(t,n);this.appendChild(s)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(t){return e instanceof t})))throw new o.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce((function(e,t){return e+t.length()}),0)},t.prototype.moveChildren=function(e,t){this.children.forEach((function(n){e.insertBefore(n,t)}))},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var n=o.create(this.statics.defaultChild);this.appendChild(n),n.optimize(t)}else this.remove()},t.prototype.path=function(e,n){void 0===n&&(n=!1);var i=this.children.find(e,n),r=i[0],a=i[1],o=[[this,e]];return r instanceof t?o.concat(r.path(a,n)):(null!=r&&o.push([r,a]),o)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(n){n instanceof t&&n.moveChildren(this),e.prototype.replace.call(this,n)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(e,this.length(),(function(e,i,r){e=e.split(i,t),n.appendChild(e)})),n},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var n=this,i=[],r=[];e.forEach((function(e){e.target===n.domNode&&"childList"===e.type&&(i.push.apply(i,e.addedNodes),r.push.apply(r,e.removedNodes))})),r.forEach((function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=o.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==n.domNode||t.detach())}})),i.filter((function(e){return e.parentNode==n.domNode})).sort((function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(e){var t=null;null!=e.nextSibling&&(t=o.find(e.nextSibling));var i=l(e);i.next==t&&null!=i.next||(null!=i.parent&&i.parent.removeChild(n),n.insertBefore(i,t||void 0))}))},t}(a.default);function l(e){var t=o.find(e);if(null==t)try{t=o.create(e)}catch(n){t=o.create(o.Scope.INLINE),[].slice.call(e.childNodes).forEach((function(e){t.domNode.appendChild(e)})),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=s},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),a=n(31),o=n(17),s=n(1),l=function(e){function t(t){var n=e.call(this,t)||this;return n.attributes=new a.default(n.domNode),n}return i(t,e),t.formats=function(e){return"string"===typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var n=s.query(e);n instanceof r.default?this.attributes.attribute(n,t):t&&(null==n||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,n){var i=e.prototype.replaceWith.call(this,t,n);return this.attributes.copy(i),i},t.prototype.update=function(t,n){var i=this;e.prototype.update.call(this,t,n),t.some((function(e){return e.target===i.domNode&&"attributes"===e.type}))&&this.attributes.build()},t.prototype.wrap=function(n,i){var r=e.prototype.wrap.call(this,n,i);return r instanceof t&&r.statics.scope===this.statics.scope&&this.attributes.move(r),r},t}(o.default);t.default=l},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(30),a=n(1),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(n+=1),[this.parent.domNode,n]},t.prototype.value=function(){var e;return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},t.scope=a.Scope.INLINE_BLOT,t}(r.default);t.default=o},function(e,t,n){var i=n(11),r=n(3),a={attributes:{compose:function(e,t,n){"object"!==typeof e&&(e={}),"object"!==typeof t&&(t={});var i=r(!0,{},t);for(var a in n||(i=Object.keys(i).reduce((function(e,t){return null!=i[t]&&(e[t]=i[t]),e}),{})),e)void 0!==e[a]&&void 0===t[a]&&(i[a]=e[a]);return Object.keys(i).length>0?i:void 0},diff:function(e,t){"object"!==typeof e&&(e={}),"object"!==typeof t&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce((function(n,r){return i(e[r],t[r])||(n[r]=void 0===t[r]?null:t[r]),n}),{});return Object.keys(n).length>0?n:void 0},transform:function(e,t,n){if("object"!==typeof e)return t;if("object"===typeof t){if(!n)return t;var i=Object.keys(t).reduce((function(n,i){return void 0===e[i]&&(n[i]=t[i]),n}),{});return Object.keys(i).length>0?i:void 0}}},iterator:function(e){return new o(e)},length:function(e){return"number"===typeof e.delete?e.delete:"number"===typeof e.retain?e.retain:"string"===typeof e.insert?e.insert.length:1}};function o(e){this.ops=e,this.index=0,this.offset=0}o.prototype.hasNext=function(){return this.peekLength()<1/0},o.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var n=this.offset,i=a.length(t);if(e>=i-n?(e=i-n,this.index+=1,this.offset=0):this.offset+=e,"number"===typeof t.delete)return{delete:e};var r={};return t.attributes&&(r.attributes=t.attributes),"number"===typeof t.retain?r.retain=e:"string"===typeof t.insert?r.insert=t.insert.substr(n,e):r.insert=t.insert,r}return{retain:1/0}},o.prototype.peek=function(){return this.ops[this.index]},o.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},o.prototype.peekType=function(){return this.ops[this.index]?"number"===typeof this.ops[this.index].delete?"delete":"number"===typeof this.ops[this.index].retain?"retain":"insert":"retain"},o.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,n=this.next(),i=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(i)}return[]},e.exports=a},function(e,t){var n=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var t,n,i;try{t=Map}catch(s){t=function(){}}try{n=Set}catch(s){n=function(){}}try{i=Promise}catch(s){i=function(){}}function r(a,s,l,c,u){"object"===typeof s&&(l=s.depth,c=s.prototype,u=s.includeNonEnumerable,s=s.circular);var d=[],h=[],p="undefined"!=typeof Buffer;return"undefined"==typeof s&&(s=!0),"undefined"==typeof l&&(l=1/0),function a(l,f){if(null===l)return null;if(0===f)return l;var m,v;if("object"!=typeof l)return l;if(e(l,t))m=new t;else if(e(l,n))m=new n;else if(e(l,i))m=new i((function(e,t){l.then((function(t){e(a(t,f-1))}),(function(e){t(a(e,f-1))}))}));else if(r.__isArray(l))m=[];else if(r.__isRegExp(l))m=new RegExp(l.source,o(l)),l.lastIndex&&(m.lastIndex=l.lastIndex);else if(r.__isDate(l))m=new Date(l.getTime());else{if(p&&Buffer.isBuffer(l))return m=Buffer.allocUnsafe?Buffer.allocUnsafe(l.length):new Buffer(l.length),l.copy(m),m;e(l,Error)?m=Object.create(l):"undefined"==typeof c?(v=Object.getPrototypeOf(l),m=Object.create(v)):(m=Object.create(c),v=c)}if(s){var g=d.indexOf(l);if(-1!=g)return h[g];d.push(l),h.push(m)}for(var y in e(l,t)&&l.forEach((function(e,t){var n=a(t,f-1),i=a(e,f-1);m.set(n,i)})),e(l,n)&&l.forEach((function(e){var t=a(e,f-1);m.add(t)})),l){var b;v&&(b=Object.getOwnPropertyDescriptor(v,y)),b&&null==b.set||(m[y]=a(l[y],f-1))}if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(l);for(y=0;y<x.length;y++){var _=x[y];(!(S=Object.getOwnPropertyDescriptor(l,_))||S.enumerable||u)&&(m[_]=a(l[_],f-1),S.enumerable||Object.defineProperty(m,_,{enumerable:!1}))}}if(u){var w=Object.getOwnPropertyNames(l);for(y=0;y<w.length;y++){var S,M=w[y];(S=Object.getOwnPropertyDescriptor(l,M))&&S.enumerable||(m[M]=a(l[M],f-1),Object.defineProperty(m,M,{enumerable:!1}))}}return m}(a,l)}function a(e){return Object.prototype.toString.call(e)}function o(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return r.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},r.__objToStr=a,r.__isDate=function(e){return"object"===typeof e&&"[object Date]"===a(e)},r.__isArray=function(e){return"object"===typeof e&&"[object Array]"===a(e)},r.__isRegExp=function(e){return"object"===typeof e&&"[object RegExp]"===a(e)},r.__getRegExpFlags=o,r}();"object"===typeof e&&e.exports&&(e.exports=n)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(l){r=!0,a=l}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},o=p(n(0)),s=p(n(8)),l=n(4),c=p(l),u=p(n(16)),d=p(n(13)),h=p(n(25));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){return e instanceof c.default||e instanceof l.BlockEmbed}var m=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.emitter=n.emitter,Array.isArray(n.whitelist)&&(i.whitelist=n.whitelist.reduce((function(e,t){return e[t]=!0,e}),{})),i.domNode.addEventListener("DOMNodeInserted",(function(){})),i.optimize(),i.enable(),i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,n){var r=this.line(e),o=i(r,2),s=o[0],c=o[1],h=this.line(e+n),p=i(h,1)[0];if(a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),null!=p&&s!==p&&c>0){if(s instanceof l.BlockEmbed||p instanceof l.BlockEmbed)return void this.optimize();if(s instanceof d.default){var f=s.newlineIndex(s.length(),!0);if(f>-1&&(s=s.split(f+1))===p)return void this.optimize()}else if(p instanceof d.default){var m=p.newlineIndex(0);m>-1&&p.split(m+1)}var v=p.children.head instanceof u.default?null:p.children.head;s.moveChildren(p,v),s.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,n,i,r){(null==this.whitelist||this.whitelist[i])&&(a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,i,r),this.optimize())}},{key:"insertAt",value:function(e,n,i){if(null==i||null==this.whitelist||this.whitelist[n]){if(e>=this.length())if(null==i||null==o.default.query(n,o.default.Scope.BLOCK)){var r=o.default.create(this.statics.defaultChild);this.appendChild(r),null==i&&n.endsWith("\n")&&(n=n.slice(0,-1)),r.insertAt(0,n,i)}else{var s=o.default.create(n,i);this.appendChild(s)}else a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,i);this.optimize()}}},{key:"insertBefore",value:function(e,n){if(e.statics.scope===o.default.Scope.INLINE_BLOT){var i=o.default.create(this.statics.defaultChild);i.appendChild(e),e=i}a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(f,e)}},{key:"lines",value:function(){return function e(t,n,i){var r=[],a=i;return t.children.forEachAt(n,i,(function(t,n,i){f(t)?r.push(t):t instanceof o.default.Container&&(r=r.concat(e(t,n,a))),a-=i})),r}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,n),e.length>0&&this.emitter.emit(s.default.events.SCROLL_OPTIMIZE,e,n))}},{key:"path",value:function(e){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var n=s.default.sources.USER;"string"===typeof e&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(s.default.events.SCROLL_BEFORE_UPDATE,n,e),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(s.default.events.SCROLL_UPDATE,n,e)}}}]),t}(o.default.Scroll);m.blotName="scroll",m.className="ql-editor",m.tagName="DIV",m.defaultChild="block",m.allowedChildren=[c.default,l.BlockEmbed,h.default],t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(l){r=!0,a=l}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=m(n(21)),s=m(n(11)),l=m(n(3)),c=m(n(2)),u=m(n(20)),d=m(n(0)),h=m(n(5)),p=m(n(10)),f=m(n(9));function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=(0,p.default)("quill:keyboard"),y=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",b=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.bindings={},Object.keys(i.options.bindings).forEach((function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&i.options.bindings[t]&&i.addBinding(i.options.bindings[t])})),i.addBinding({key:t.keys.ENTER,shiftKey:null},M),i.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(i.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},_),i.addBinding({key:t.keys.DELETE},{collapsed:!0},w)):(i.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},_),i.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},w)),i.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},S),i.addBinding({key:t.keys.DELETE},{collapsed:!1},S),i.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},_),i.listen(),i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,null,[{key:"match",value:function(e,t){return t=T(t),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(n){return!!t[n]!==e[n]&&null!==t[n]}))&&t.key===(e.which||e.keyCode)}}]),a(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=T(e);if(null==i||null==i.key)return g.warn("Attempted to add invalid keyboard binding",i);"function"===typeof t&&(t={handler:t}),"function"===typeof n&&(n={handler:n}),i=(0,l.default)(i,t,n),this.bindings[i.key]=this.bindings[i.key]||[],this.bindings[i.key].push(i)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",(function(n){if(!n.defaultPrevented){var a=n.which||n.keyCode,o=(e.bindings[a]||[]).filter((function(e){return t.match(n,e)}));if(0!==o.length){var l=e.quill.getSelection();if(null!=l&&e.quill.hasFocus()){var c=e.quill.getLine(l.index),u=r(c,2),h=u[0],p=u[1],f=e.quill.getLeaf(l.index),m=r(f,2),v=m[0],g=m[1],y=0===l.length?[v,g]:e.quill.getLeaf(l.index+l.length),b=r(y,2),x=b[0],_=b[1],w=v instanceof d.default.Text?v.value().slice(0,g):"",S=x instanceof d.default.Text?x.value().slice(_):"",M={collapsed:0===l.length,empty:0===l.length&&h.length()<=1,format:e.quill.getFormat(l),offset:p,prefix:w,suffix:S};o.some((function(t){if(null!=t.collapsed&&t.collapsed!==M.collapsed)return!1;if(null!=t.empty&&t.empty!==M.empty)return!1;if(null!=t.offset&&t.offset!==M.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((function(e){return null==M.format[e]})))return!1}else if("object"===i(t.format)&&!Object.keys(t.format).every((function(e){return!0===t.format[e]?null!=M.format[e]:!1===t.format[e]?null==M.format[e]:(0,s.default)(t.format[e],M.format[e])})))return!1;return!(null!=t.prefix&&!t.prefix.test(M.prefix))&&!(null!=t.suffix&&!t.suffix.test(M.suffix))&&!0!==t.handler.call(e,l,M)}))&&n.preventDefault()}}}}))}}]),t}(f.default);function x(e,t){var n,i=e===b.keys.LEFT?"prefix":"suffix";return v(n={key:e,shiftKey:t,altKey:null},i,/^$/),v(n,"handler",(function(n){var i=n.index;e===b.keys.RIGHT&&(i+=n.length+1);var a=this.quill.getLeaf(i);return!(r(a,1)[0]instanceof d.default.Embed)||(e===b.keys.LEFT?t?this.quill.setSelection(n.index-1,n.length+1,h.default.sources.USER):this.quill.setSelection(n.index-1,h.default.sources.USER):t?this.quill.setSelection(n.index,n.length+1,h.default.sources.USER):this.quill.setSelection(n.index+n.length+1,h.default.sources.USER),!1)})),n}function _(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var n=this.quill.getLine(e.index),i=r(n,1)[0],a={};if(0===t.offset){var o=this.quill.getLine(e.index-1),s=r(o,1)[0];if(null!=s&&s.length()>1){var l=i.formats(),c=this.quill.getFormat(e.index-1,1);a=u.default.attributes.diff(l,c)||{}}}var d=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-d,d,h.default.sources.USER),Object.keys(a).length>0&&this.quill.formatLine(e.index-d,d,a,h.default.sources.USER),this.quill.focus()}}function w(e,t){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-n)){var i={},a=0,o=this.quill.getLine(e.index),s=r(o,1)[0];if(t.offset>=s.length()-1){var l=this.quill.getLine(e.index+1),c=r(l,1)[0];if(c){var d=s.formats(),p=this.quill.getFormat(e.index,1);i=u.default.attributes.diff(d,p)||{},a=c.length()}}this.quill.deleteText(e.index,n,h.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(e.index+a-1,n,i,h.default.sources.USER)}}function S(e){var t=this.quill.getLines(e),n={};if(t.length>1){var i=t[0].formats(),r=t[t.length-1].formats();n=u.default.attributes.diff(r,i)||{}}this.quill.deleteText(e,h.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index,1,n,h.default.sources.USER),this.quill.setSelection(e.index,h.default.sources.SILENT),this.quill.focus()}function M(e,t){var n=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var i=Object.keys(t.format).reduce((function(e,n){return d.default.query(n,d.default.Scope.BLOCK)&&!Array.isArray(t.format[n])&&(e[n]=t.format[n]),e}),{});this.quill.insertText(e.index,"\n",i,h.default.sources.USER),this.quill.setSelection(e.index+1,h.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach((function(e){null==i[e]&&(Array.isArray(t.format[e])||"link"!==e&&n.quill.format(e,t.format[e],h.default.sources.USER))}))}function E(e){return{key:b.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var n=d.default.query("code-block"),i=t.index,a=t.length,o=this.quill.scroll.descendant(n,i),s=r(o,2),l=s[0],c=s[1];if(null!=l){var u=this.quill.getIndex(l),p=l.newlineIndex(c,!0)+1,f=l.newlineIndex(u+c+a),m=l.domNode.textContent.slice(p,f).split("\n");c=0,m.forEach((function(t,r){e?(l.insertAt(p+c,n.TAB),c+=n.TAB.length,0===r?i+=n.TAB.length:a+=n.TAB.length):t.startsWith(n.TAB)&&(l.deleteAt(p+c,n.TAB.length),c-=n.TAB.length,0===r?i-=n.TAB.length:a-=n.TAB.length),c+=t.length+1})),this.quill.update(h.default.sources.USER),this.quill.setSelection(i,a,h.default.sources.SILENT)}}}}function C(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,n){this.quill.format(e,!n.format[e],h.default.sources.USER)}}}function T(e){if("string"===typeof e||"number"===typeof e)return T({key:e});if("object"===("undefined"===typeof e?"undefined":i(e))&&(e=(0,o.default)(e,!1)),"string"===typeof e.key)if(null!=b.keys[e.key.toUpperCase()])e.key=b.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[y]=e.shortKey,delete e.shortKey),e}b.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},b.DEFAULTS={bindings:{bold:C("bold"),italic:C("italic"),underline:C("underline"),indent:{key:b.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",h.default.sources.USER)}},outdent:{key:b.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",h.default.sources.USER)}},"outdent backspace":{key:b.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",h.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,h.default.sources.USER)}},"indent code-block":E(!0),"outdent code-block":E(!1),"remove tab":{key:b.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,h.default.sources.USER)}},tab:{key:b.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new c.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,h.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,h.default.sources.SILENT)}},"list empty enter":{key:b.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,h.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,h.default.sources.USER)}},"checklist enter":{key:b.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),n=r(t,2),i=n[0],a=n[1],o=(0,l.default)({},i.formats(),{list:"checked"}),s=(new c.default).retain(e.index).insert("\n",o).retain(i.length()-a-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,h.default.sources.USER),this.quill.setSelection(e.index+1,h.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:b.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var n=this.quill.getLine(e.index),i=r(n,2),a=i[0],o=i[1],s=(new c.default).retain(e.index).insert("\n",t.format).retain(a.length()-o-1).retain(1,{header:null});this.quill.updateContents(s,h.default.sources.USER),this.quill.setSelection(e.index+1,h.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var n=t.prefix.length,i=this.quill.getLine(e.index),a=r(i,2),o=a[0],s=a[1];if(s>n)return!0;var l=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(e.index," ",h.default.sources.USER),this.quill.history.cutoff();var u=(new c.default).retain(e.index-s).delete(n+1).retain(o.length()-2-s).retain(1,{list:l});this.quill.updateContents(u,h.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,h.default.sources.SILENT)}},"code exit":{key:b.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),n=r(t,2),i=n[0],a=n[1],o=(new c.default).retain(e.index+i.length()-a-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(o,h.default.sources.USER)}},"embed left":x(b.keys.LEFT,!1),"embed left shift":x(b.keys.LEFT,!0),"embed right":x(b.keys.RIGHT,!1),"embed right shift":x(b.keys.RIGHT,!0)}},t.default=b,t.SHORTKEY=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(l){r=!0,a=l}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=l(n(0)),s=l(n(7));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.selection=n,i.textNode=document.createTextNode(t.CONTENTS),i.domNode.appendChild(i.textNode),i._length=0,i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,null,[{key:"value",value:function(){}}]),a(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,n){if(0!==this._length)return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);for(var i=this,a=0;null!=i&&i.statics.scope!==o.default.Scope.BLOCK_BLOT;)a+=i.offset(i.parent),i=i.parent;null!=i&&(this._length=t.CONTENTS.length,i.optimize(),i.formatAt(a,t.CONTENTS.length,e,n),this._length=0)}},{key:"index",value:function(e,n){return e===this.textNode?0:r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,n=this.selection.getNativeRange(),r=void 0,a=void 0,l=void 0;if(null!=n&&n.start.node===e&&n.end.node===e){var c=[e,n.start.offset,n.end.offset];r=c[0],a=c[1],l=c[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var u=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof s.default?(r=this.next.domNode,this.next.insertAt(0,u),this.textNode.data=t.CONTENTS):(this.textNode.data=u,this.parent.insertBefore(o.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=a){var d=[a,l].map((function(e){return Math.max(0,Math.min(r.data.length,e-1))})),h=i(d,2);return a=h[0],l=h[1],{startNode:r,startOffset:a,endNode:r,endOffset:l}}}}},{key:"update",value:function(e,t){var n=this;if(e.some((function(e){return"characterData"===e.type&&e.target===n.textNode}))){var i=this.restore();i&&(t.range=i)}}},{key:"value",value:function(){return""}}]),t}(o.default.Embed);c.blotName="cursor",c.className="ql-cursor",c.tagName="span",c.CONTENTS="\ufeff",t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(0)),r=n(4),a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.default.Container);s.allowedChildren=[a.default,r.BlockEmbed,s],t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},o=n(0),s=(i=o)&&i.__esModule?i:{default:i},l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"value",value:function(e){var n=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map((function(e){return("00"+parseInt(e).toString(16)).slice(-2)})).join("")):n}}]),t}(s.default.Attributor.Style),c=new s.default.Attributor.Class("color","ql-color",{scope:s.default.Scope.INLINE}),u=new l("color","color",{scope:s.default.Scope.INLINE});t.ColorAttributor=l,t.ColorClass=c,t.ColorStyle=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},o=n(6),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n)return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n)}}],[{key:"create",value:function(e){var n=a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),n.setAttribute("href",e),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return l(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(((i=o)&&i.__esModule?i:{default:i}).default);function l(e,t){var n=document.createElement("a");n.href=e;var i=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(i)>-1}s.blotName="link",s.tagName="A",s.SANITIZED_URL="about:blank",s.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=s,t.sanitize=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=s(n(23)),o=s(n(107));function s(e){return e&&e.__esModule?e:{default:e}}var l=0;function c(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}var u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){n.togglePicker()})),this.label.addEventListener("keydown",(function(e){switch(e.keyCode){case a.default.keys.ENTER:n.togglePicker();break;case a.default.keys.ESCAPE:n.escape(),e.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}return r(e,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),c(this.label,"aria-expanded"),c(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),e.hasAttribute("value")&&n.setAttribute("data-value",e.getAttribute("value")),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",(function(){t.selectItem(n,!0)})),n.addEventListener("keydown",(function(e){switch(e.keyCode){case a.default.keys.ENTER:t.selectItem(n,!0),e.preventDefault();break;case a.default.keys.ESCAPE:t.escape(),e.preventDefault()}})),n}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=o.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+l,l+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach((function(n){var i=e.buildItem(n);t.appendChild(i),!0===n.selected&&e.selectItem(i)})),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach((function(t){e.container.setAttribute(t.name,t.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout((function(){return e.label.focus()}),1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(e!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"===typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"===typeof Event?"undefined":i(Event))){var r=document.createEvent("Event");r.initEvent("change",!0,!0),this.select.dispatchEvent(r)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var n=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=g(n(0)),r=g(n(5)),a=n(4),o=g(a),s=g(n(16)),l=g(n(25)),c=g(n(24)),u=g(n(35)),d=g(n(6)),h=g(n(22)),p=g(n(7)),f=g(n(55)),m=g(n(42)),v=g(n(23));function g(e){return e&&e.__esModule?e:{default:e}}r.default.register({"blots/block":o.default,"blots/block/embed":a.BlockEmbed,"blots/break":s.default,"blots/container":l.default,"blots/cursor":c.default,"blots/embed":u.default,"blots/inline":d.default,"blots/scroll":h.default,"blots/text":p.default,"modules/clipboard":f.default,"modules/history":m.default,"modules/keyboard":v.default}),i.default.register(o.default,s.default,c.default,d.default,h.default,p.default),t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=function(){function e(e){this.domNode=e,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new i.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"===typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"===typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return i.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,n,r){var a=this.isolate(e,t);if(null!=i.query(n,i.Scope.BLOT)&&r)a.wrap(n,r);else if(null!=i.query(n,i.Scope.ATTRIBUTE)){var o=i.create(this.statics.scope);a.wrap(o),o.format(n,r)}},e.prototype.insertAt=function(e,t,n){var r=null==n?i.create("text",t):i.create(t,n),a=this.split(e);this.parent.insertBefore(r,a)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var n=null;e.children.insertBefore(this,t),null!=t&&(n=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==n||e.domNode.insertBefore(this.domNode,n),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var n=this.split(e);return n.split(t),n},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[i.DATA_KEY]&&delete this.domNode[i.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var n="string"===typeof e?i.create(e,t):e;return n.replace(this),n},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var n="string"===typeof e?i.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},e.blotName="abstract",e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(12),r=n(32),a=n(33),o=n(1),s=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=i.default.keys(this.domNode),n=r.default.keys(this.domNode),s=a.default.keys(this.domNode);t.concat(n).concat(s).forEach((function(t){var n=o.query(t,o.Scope.ATTRIBUTE);n instanceof i.default&&(e.attributes[n.attrName]=n)}))},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach((function(n){var i=t.attributes[n].value(t.domNode);e.format(n,i)}))},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach((function(e){t.attributes[e].remove(t.domNode)})),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce((function(t,n){return t[n]=e.attributes[n].value(e.domNode),t}),{})},e}();t.default=s},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function r(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter((function(e){return 0===e.indexOf(t+"-")}))}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map((function(e){return e.split("-").slice(0,-1).join("-")}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){r(e,this.keyName).forEach((function(t){e.classList.remove(t)})),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(r(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(n(12).default);t.default=a},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function r(e){var t=e.split("-"),n=t.slice(1).map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("");return t[0]+n}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map((function(e){return e.split(":")[0].trim()}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[r(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[r(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[r(this.keyName)];return this.canAdd(e,t)?t:""},t}(n(12).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=n,this.modules={}}return i(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach((function(t){null==e.modules[t]&&e.addModule(t)}))}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();r.DEFAULTS={modules:{}},r.themes={default:r},t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},a=s(n(0)),o=s(n(7));function s(e){return e&&e.__esModule?e:{default:e}}var l="\ufeff",c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach((function(e){n.contentNode.appendChild(e)})),n.leftGuard=document.createTextNode(l),n.rightGuard=document.createTextNode(l),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"index",value:function(e,n){return e===this.leftGuard?0:e===this.rightGuard?1:r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"restore",value:function(e){var t=void 0,n=void 0,i=e.data.split(l).join("");if(e===this.leftGuard)if(this.prev instanceof o.default){var r=this.prev.length();this.prev.insertAt(r,i),t={startNode:this.prev.domNode,startOffset:r+i.length}}else n=document.createTextNode(i),this.parent.insertBefore(a.default.create(n),this),t={startNode:n,startOffset:i.length};else e===this.rightGuard&&(this.next instanceof o.default?(this.next.insertAt(0,i),t={startNode:this.next.domNode,startOffset:i.length}):(n=document.createTextNode(i),this.parent.insertBefore(a.default.create(n),this.next),t={startNode:n,startOffset:i.length}));return e.data=l,t}},{key:"update",value:function(e,t){var n=this;e.forEach((function(e){if("characterData"===e.type&&(e.target===n.leftGuard||e.target===n.rightGuard)){var i=n.restore(e.target);i&&(t.range=i)}}))}}]),t}(a.default.Embed);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var i,r=n(0),a=(i=r)&&i.__esModule?i:{default:i},o={scope:a.default.Scope.BLOCK,whitelist:["right","center","justify"]},s=new a.default.Attributor.Attribute("align","align",o),l=new a.default.Attributor.Class("align","ql-align",o),c=new a.default.Attributor.Style("align","text-align",o);t.AlignAttribute=s,t.AlignClass=l,t.AlignStyle=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var i,r=n(0),a=(i=r)&&i.__esModule?i:{default:i},o=n(26),s=new a.default.Attributor.Class("background","ql-bg",{scope:a.default.Scope.INLINE}),l=new o.ColorAttributor("background","background-color",{scope:a.default.Scope.INLINE});t.BackgroundClass=s,t.BackgroundStyle=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var i,r=n(0),a=(i=r)&&i.__esModule?i:{default:i},o={scope:a.default.Scope.BLOCK,whitelist:["rtl"]},s=new a.default.Attributor.Attribute("direction","dir",o),l=new a.default.Attributor.Class("direction","ql-direction",o),c=new a.default.Attributor.Style("direction","direction",o);t.DirectionAttribute=s,t.DirectionClass=l,t.DirectionStyle=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},o=n(0),s=(i=o)&&i.__esModule?i:{default:i},l={scope:s.default.Scope.INLINE,whitelist:["serif","monospace"]},c=new s.default.Attributor.Class("font","ql-font",l),u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"value",value:function(e){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(s.default.Attributor.Style),d=new u("font","font-family",l);t.FontStyle=d,t.FontClass=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var i,r=n(0),a=(i=r)&&i.__esModule?i:{default:i},o=new a.default.Attributor.Class("size","ql-size",{scope:a.default.Scope.INLINE,whitelist:["small","large","huge"]}),s=new a.default.Attributor.Style("size","font-size",{scope:a.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=o,t.SizeStyle=s},function(e,t,n){"use strict";e.exports={align:{"":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),"code-block":n(58),color:n(84),direction:{"":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{1:n(92),2:n(93)},italic:n(94),image:n(95),indent:{"+1":n(96),"-1":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=o(n(0)),a=o(n(5));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.lastRecorded=0,i.ignoreChange=!1,i.clear(),i.quill.on(a.default.events.EDITOR_CHANGE,(function(e,t,n,r){e!==a.default.events.TEXT_CHANGE||i.ignoreChange||(i.options.userOnly&&r!==a.default.sources.USER?i.transform(t):i.record(t,n))})),i.quill.keyboard.addBinding({key:"Z",shortKey:!0},i.undo.bind(i)),i.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},i.redo.bind(i)),/Win/i.test(navigator.platform)&&i.quill.keyboard.addBinding({key:"Y",shortKey:!0},i.redo.bind(i)),i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var n=this.stack[e].pop();this.stack[t].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[e],a.default.sources.USER),this.ignoreChange=!1;var i=l(n[e]);this.quill.setSelection(i)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(t),i=Date.now();if(this.lastRecorded+this.options.delay>i&&this.stack.undo.length>0){var r=this.stack.undo.pop();n=n.compose(r.undo),e=r.redo.compose(e)}else this.lastRecorded=i;this.stack.undo.push({redo:e,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})),this.stack.redo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(o(n(9)).default);function l(e){var t=e.reduce((function(e,t){return e+=t.delete||0}),0),n=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"===typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some((function(e){return null!=r.default.query(e,r.default.Scope.BLOCK)})))}(e)&&(n-=1),n}s.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=s,t.getLastChangeIndex=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},a=f(n(3)),o=f(n(2)),s=f(n(8)),l=f(n(23)),c=f(n(34)),u=f(n(59)),d=f(n(60)),h=f(n(28)),p=f(n(61));function f(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=[!1,"center","right","justify"],b=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],x=[!1,"serif","monospace"],_=["1","2","3",!1],w=["small",!1,"large","huge"],S=function(e){function t(e,n){m(this,t);var i=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return e.emitter.listenDOM("click",document.body,(function t(n){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==i.tooltip||i.tooltip.root.contains(n.target)||document.activeElement===i.tooltip.textbox||i.quill.hasFocus()||i.tooltip.hide(),null!=i.pickers&&i.pickers.forEach((function(e){e.container.contains(n.target)||e.close()}))})),i}return g(t,e),i(t,[{key:"addModule",value:function(e){var n=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(e,t){e.forEach((function(e){(e.getAttribute("class")||"").split(/\s+/).forEach((function(n){if(n.startsWith("ql-")&&(n=n.slice(3),null!=t[n]))if("direction"===n)e.innerHTML=t[n][""]+t[n].rtl;else if("string"===typeof t[n])e.innerHTML=t[n];else{var i=e.value||"";null!=i&&t[n][i]&&(e.innerHTML=t[n][i])}}))}))}},{key:"buildPickers",value:function(e,t){var n=this;this.pickers=e.map((function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&E(e,y),new d.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var n=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&E(e,b,"background"===n?"#ffffff":"#000000"),new u.default(e,t[n])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?E(e,x):e.classList.contains("ql-header")?E(e,_):e.classList.contains("ql-size")&&E(e,w)),new h.default(e)})),this.quill.on(s.default.events.EDITOR_CHANGE,(function(){n.pickers.forEach((function(e){e.update()}))}))}}]),t}(c.default);S.DEFAULTS=(0,a.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",(function(){if(null!=t.files&&null!=t.files[0]){var n=new FileReader;n.onload=function(n){var i=e.quill.getSelection(!0);e.quill.updateContents((new o.default).retain(i.index).delete(i.length).insert({image:n.target.result}),s.default.sources.USER),e.quill.setSelection(i.index+1,s.default.sources.SILENT),t.value=""},n.readAsDataURL(t.files[0])}})),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var M=function(e){function t(e,n){m(this,t);var i=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.textbox=i.root.querySelector('input[type="text"]'),i.listen(),i}return g(t,e),i(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",(function(t){l.default.match(t,"enter")?(e.save(),t.preventDefault()):l.default.match(t,"escape")&&(e.cancel(),t.preventDefault())}))}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var t=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,s.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,s.default.sources.USER)),this.quill.root.scrollTop=t;break;case"video":e=function(e){var t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0":(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/":e}(e);case"formula":if(!e)break;var n=this.quill.getSelection(!0);if(null!=n){var i=n.index+n.length;this.quill.insertEmbed(i,this.root.getAttribute("data-mode"),e,s.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(i+1," ",s.default.sources.USER),this.quill.setSelection(i+2,s.default.sources.USER)}}this.textbox.value="",this.hide()}}]),t}(p.default);function E(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach((function(t){var i=document.createElement("option");t===n?i.setAttribute("selected","selected"):i.setAttribute("value",t),e.appendChild(i)}))}t.BaseTooltip=M,t.default=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,n=this.iterator();t=n();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,n=this.head;null!=n;){if(n===e)return t;t+=n.length(),n=n.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var n,i=this.iterator();n=i();){var r=n.length();if(e<r||t&&e===r&&(null==n.next||0!==n.next.length()))return[n,e];e-=r}return[null,0]},e.prototype.forEach=function(e){for(var t,n=this.iterator();t=n();)e(t)},e.prototype.forEachAt=function(e,t,n){if(!(t<=0))for(var i,r=this.find(e),a=r[0],o=e-r[1],s=this.iterator(a);(i=s())&&o<e+t;){var l=i.length();e>o?n(i,e-o,Math.min(t,o+l-e)):n(i,0,Math.min(l,e+t-o)),o+=l}},e.prototype.map=function(e){return this.reduce((function(t,n){return t.push(e(n)),t}),[])},e.prototype.reduce=function(e,t){for(var n,i=this.iterator();n=i();)t=e(t,n);return t},e}();t.default=i},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),a=n(1),o={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},s=function(e){function t(t){var n=e.call(this,t)||this;return n.scroll=n,n.observer=new MutationObserver((function(e){n.update(e)})),n.observer.observe(n.domNode,o),n.attach(),n}return i(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,n){this.update(),0===t&&n===this.length()?this.children.forEach((function(e){e.remove()})):e.prototype.deleteAt.call(this,t,n)},t.prototype.formatAt=function(t,n,i,r){this.update(),e.prototype.formatAt.call(this,t,n,i,r)},t.prototype.insertAt=function(t,n,i){this.update(),e.prototype.insertAt.call(this,t,n,i)},t.prototype.optimize=function(t,n){var i=this;void 0===t&&(t=[]),void 0===n&&(n={}),e.prototype.optimize.call(this,n);for(var o=[].slice.call(this.observer.takeRecords());o.length>0;)t.push(o.pop());for(var s=function(e,t){void 0===t&&(t=!0),null!=e&&e!==i&&null!=e.domNode.parentNode&&(null==e.domNode[a.DATA_KEY].mutations&&(e.domNode[a.DATA_KEY].mutations=[]),t&&s(e.parent))},l=function(e){null!=e.domNode[a.DATA_KEY]&&null!=e.domNode[a.DATA_KEY].mutations&&(e instanceof r.default&&e.children.forEach(l),e.optimize(n))},c=t,u=0;c.length>0;u+=1){if(u>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach((function(e){var t=a.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(s(a.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,(function(e){var t=a.find(e,!1);s(t,!1),t instanceof r.default&&t.children.forEach((function(e){s(e,!1)}))}))):"attributes"===e.type&&s(t.prev)),s(t))})),this.children.forEach(l),o=(c=[].slice.call(this.observer.takeRecords())).slice();o.length>0;)t.push(o.pop())}},t.prototype.update=function(t,n){var i=this;void 0===n&&(n={}),(t=t||this.observer.takeRecords()).map((function(e){var t=a.find(e.target,!0);return null==t?null:null==t.domNode[a.DATA_KEY].mutations?(t.domNode[a.DATA_KEY].mutations=[e],t):(t.domNode[a.DATA_KEY].mutations.push(e),null)})).forEach((function(e){null!=e&&e!==i&&null!=e.domNode[a.DATA_KEY]&&e.update(e.domNode[a.DATA_KEY].mutations||[],n)})),null!=this.domNode[a.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,n),this.optimize(t,n)},t.blotName="scroll",t.defaultChild="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="DIV",t}(r.default);t.default=s},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),a=n(1),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.formats=function(n){if(n.tagName!==t.tagName)return e.formats.call(this,n)},t.prototype.format=function(n,i){var a=this;n!==this.statics.blotName||i?e.prototype.format.call(this,n,i):(this.children.forEach((function(e){e instanceof r.default||(e=e.wrap(t.blotName,!0)),a.attributes.copy(e)})),this.unwrap())},t.prototype.formatAt=function(t,n,i,r){null!=this.formats()[i]||a.query(i,a.Scope.ATTRIBUTE)?this.isolate(t,n).format(i,r):e.prototype.formatAt.call(this,t,n,i,r)},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n);var i=this.formats();if(0===Object.keys(i).length)return this.unwrap();var r=this.next;r instanceof t&&r.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}(i,r.formats())&&(r.moveChildren(this),r.remove())},t.blotName="inline",t.scope=a.Scope.INLINE_BLOT,t.tagName="SPAN",t}(r.default);t.default=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),a=n(1),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.formats=function(n){var i=a.query(t.blotName).tagName;if(n.tagName!==i)return e.formats.call(this,n)},t.prototype.format=function(n,i){null!=a.query(n,a.Scope.BLOCK)&&(n!==this.statics.blotName||i?e.prototype.format.call(this,n,i):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,n,i,r){null!=a.query(i,a.Scope.BLOCK)?this.format(i,r):e.prototype.formatAt.call(this,t,n,i,r)},t.prototype.insertAt=function(t,n,i){if(null==i||null!=a.query(n,a.Scope.INLINE))e.prototype.insertAt.call(this,t,n,i);else{var r=this.split(t),o=a.create(n,i);r.parent.insertBefore(o,r)}},t.prototype.update=function(t,n){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,n)},t.blotName="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="P",t}(r.default);t.default=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.formats=function(e){},t.prototype.format=function(t,n){e.prototype.formatAt.call(this,0,this.length(),t,n)},t.prototype.formatAt=function(t,n,i,r){0===t&&n===this.length()?this.format(i,r):e.prototype.formatAt.call(this,t,n,i,r)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(n(19).default);t.default=r},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),a=n(1),o=function(e){function t(t){var n=e.call(this,t)||this;return n.text=n.statics.value(n.domNode),n}return i(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,n,i){null==i?(this.text=this.text.slice(0,t)+n+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,n,i)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=a.create(this.domNode.splitText(e));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},t.prototype.update=function(e,t){var n=this;e.some((function(e){return"characterData"===e.type&&e.target===n.domNode}))&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=a.Scope.INLINE_BLOT,t}(r.default);t.default=o},function(e,t,n){"use strict";var i=document.createElement("div");if(i.classList.toggle("test-class",!1),i.classList.contains("test-class")){var r=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)===!t?t:r.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!==typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var i=n.indexOf(e,t);return-1!==i&&i===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!==typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),i=n.length>>>0,r=arguments[1],a=0;a<i;a++)if(t=n[a],e.call(r,t,a,n))return t}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},function(e,t){var n=-1,i=1,r=0;function a(e,t,u){if(e==t)return e?[[r,e]]:[];(u<0||e.length<u)&&(u=null);var h=s(e,t),p=e.substring(0,h);h=l(e=e.substring(h),t=t.substring(h));var f=e.substring(e.length-h),m=function(e,t){var c;if(!e)return[[i,t]];if(!t)return[[n,e]];var u=e.length>t.length?e:t,d=e.length>t.length?t:e,h=u.indexOf(d);if(-1!=h)return c=[[i,u.substring(0,h)],[r,d],[i,u.substring(h+d.length)]],e.length>t.length&&(c[0][0]=c[2][0]=n),c;if(1==d.length)return[[n,e],[i,t]];var p=function(e,t){var n=e.length>t.length?e:t,i=e.length>t.length?t:e;if(n.length<4||2*i.length<n.length)return null;function r(e,t,n){for(var i,r,a,o,c=e.substring(n,n+Math.floor(e.length/4)),u=-1,d="";-1!=(u=t.indexOf(c,u+1));){var h=s(e.substring(n),t.substring(u)),p=l(e.substring(0,n),t.substring(0,u));d.length<p+h&&(d=t.substring(u-p,u)+t.substring(u,u+h),i=e.substring(0,n-p),r=e.substring(n+h),a=t.substring(0,u-p),o=t.substring(u+h))}return 2*d.length>=e.length?[i,r,a,o,d]:null}var a,o,c,u,d,h=r(n,i,Math.ceil(n.length/4)),p=r(n,i,Math.ceil(n.length/2));if(!h&&!p)return null;a=p?h&&h[4].length>p[4].length?h:p:h,e.length>t.length?(o=a[0],c=a[1],u=a[2],d=a[3]):(u=a[0],d=a[1],o=a[2],c=a[3]);var f=a[4];return[o,c,u,d,f]}(e,t);if(p){var f=p[0],m=p[1],v=p[2],g=p[3],y=p[4],b=a(f,v),x=a(m,g);return b.concat([[r,y]],x)}return function(e,t){for(var r=e.length,a=t.length,s=Math.ceil((r+a)/2),l=s,c=2*s,u=new Array(c),d=new Array(c),h=0;h<c;h++)u[h]=-1,d[h]=-1;u[l+1]=0,d[l+1]=0;for(var p=r-a,f=p%2!=0,m=0,v=0,g=0,y=0,b=0;b<s;b++){for(var x=-b+m;x<=b-v;x+=2){for(var _=l+x,w=(T=x==-b||x!=b&&u[_-1]<u[_+1]?u[_+1]:u[_-1]+1)-x;T<r&&w<a&&e.charAt(T)==t.charAt(w);)T++,w++;if(u[_]=T,T>r)v+=2;else if(w>a)m+=2;else if(f&&(E=l+p-x)>=0&&E<c&&-1!=d[E]&&T>=(M=r-d[E]))return o(e,t,T,w)}for(var S=-b+g;S<=b-y;S+=2){for(var M,E=l+S,C=(M=S==-b||S!=b&&d[E-1]<d[E+1]?d[E+1]:d[E-1]+1)-S;M<r&&C<a&&e.charAt(r-M-1)==t.charAt(a-C-1);)M++,C++;if(d[E]=M,M>r)y+=2;else if(C>a)g+=2;else if(!f){var T;if((_=l+p-S)>=0&&_<c&&-1!=u[_])if(w=l+(T=u[_])-_,T>=(M=r-M))return o(e,t,T,w)}}}return[[n,e],[i,t]]}(e,t)}(e=e.substring(0,e.length-h),t=t.substring(0,t.length-h));return p&&m.unshift([r,p]),f&&m.push([r,f]),c(m),null!=u&&(m=function(e,t){var i=function(e,t){if(0===t)return[r,e];for(var i=0,a=0;a<e.length;a++){var o=e[a];if(o[0]===n||o[0]===r){var s=i+o[1].length;if(t===s)return[a+1,e];if(t<s){e=e.slice();var l=t-i,c=[o[0],o[1].slice(0,l)],u=[o[0],o[1].slice(l)];return e.splice(a,1,c,u),[a+1,e]}i=s}}throw new Error("cursor_pos is out of bounds!")}(e,t),a=i[1],o=i[0],s=a[o],l=a[o+1];if(null==s)return e;if(s[0]!==r)return e;if(null!=l&&s[1]+l[1]===l[1]+s[1])return a.splice(o,2,l,s),d(a,o,2);if(null!=l&&0===l[1].indexOf(s[1])){a.splice(o,2,[l[0],s[1]],[0,s[1]]);var c=l[1].slice(s[1].length);return c.length>0&&a.splice(o+2,0,[l[0],c]),d(a,o,3)}return e}(m,u)),m=function(e){for(var t=!1,a=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},o=function(e){return e.charCodeAt(e.length-1)>=55296&&e.charCodeAt(e.length-1)<=56319},s=2;s<e.length;s+=1)e[s-2][0]===r&&o(e[s-2][1])&&e[s-1][0]===n&&a(e[s-1][1])&&e[s][0]===i&&a(e[s][1])&&(t=!0,e[s-1][1]=e[s-2][1].slice(-1)+e[s-1][1],e[s][1]=e[s-2][1].slice(-1)+e[s][1],e[s-2][1]=e[s-2][1].slice(0,-1));if(!t)return e;var l=[];for(s=0;s<e.length;s+=1)e[s][1].length>0&&l.push(e[s]);return l}(m)}function o(e,t,n,i){var r=e.substring(0,n),o=t.substring(0,i),s=e.substring(n),l=t.substring(i),c=a(r,o),u=a(s,l);return c.concat(u)}function s(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,i=Math.min(e.length,t.length),r=i,a=0;n<r;)e.substring(a,r)==t.substring(a,r)?a=n=r:i=r,r=Math.floor((i-n)/2+n);return r}function l(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,i=Math.min(e.length,t.length),r=i,a=0;n<r;)e.substring(e.length-r,e.length-a)==t.substring(t.length-r,t.length-a)?a=n=r:i=r,r=Math.floor((i-n)/2+n);return r}function c(e){e.push([r,""]);for(var t,a=0,o=0,u=0,d="",h="";a<e.length;)switch(e[a][0]){case i:u++,h+=e[a][1],a++;break;case n:o++,d+=e[a][1],a++;break;case r:o+u>1?(0!==o&&0!==u&&(0!==(t=s(h,d))&&(a-o-u>0&&e[a-o-u-1][0]==r?e[a-o-u-1][1]+=h.substring(0,t):(e.splice(0,0,[r,h.substring(0,t)]),a++),h=h.substring(t),d=d.substring(t)),0!==(t=l(h,d))&&(e[a][1]=h.substring(h.length-t)+e[a][1],h=h.substring(0,h.length-t),d=d.substring(0,d.length-t))),0===o?e.splice(a-u,o+u,[i,h]):0===u?e.splice(a-o,o+u,[n,d]):e.splice(a-o-u,o+u,[n,d],[i,h]),a=a-o-u+(o?1:0)+(u?1:0)+1):0!==a&&e[a-1][0]==r?(e[a-1][1]+=e[a][1],e.splice(a,1)):a++,u=0,o=0,d="",h=""}""===e[e.length-1][1]&&e.pop();var p=!1;for(a=1;a<e.length-1;)e[a-1][0]==r&&e[a+1][0]==r&&(e[a][1].substring(e[a][1].length-e[a-1][1].length)==e[a-1][1]?(e[a][1]=e[a-1][1]+e[a][1].substring(0,e[a][1].length-e[a-1][1].length),e[a+1][1]=e[a-1][1]+e[a+1][1],e.splice(a-1,1),p=!0):e[a][1].substring(0,e[a+1][1].length)==e[a+1][1]&&(e[a-1][1]+=e[a+1][1],e[a][1]=e[a][1].substring(e[a+1][1].length)+e[a+1][1],e.splice(a+1,1),p=!0)),a++;p&&c(e)}var u=a;function d(e,t,n){for(var i=t+n-1;i>=0&&i>=t-1;i--)if(i+1<e.length){var r=e[i],a=e[i+1];r[0]===a[1]&&e.splice(i,2,[r[0],r[1]+a[1]])}return e}u.INSERT=i,u.DELETE=n,u.EQUAL=r,e.exports=u},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}(e.exports="function"===typeof Object.keys?Object.keys:n).shim=n},function(e,t){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function i(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function r(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=n?i:r).supported=i,t.unsupported=r},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function r(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(i=!1)),o.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},o.prototype.listeners=function(e,t){var n=i?i+e:e,r=this._events[n];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var a=0,o=r.length,s=new Array(o);a<o;a++)s[a]=r[a].fn;return s},o.prototype.emit=function(e,t,n,r,a,o){var s=i?i+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,r),!0;case 5:return u.fn.call(u.context,t,n,r,a),!0;case 6:return u.fn.call(u.context,t,n,r,a,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,r);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(e,t,n){var r=new a(t,n||this),o=i?i+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},o.prototype.once=function(e,t,n){var r=new a(t,n||this,!0),o=i?i+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},o.prototype.removeListener=function(e,t,n,a){var o=i?i+e:e;if(!this._events[o])return this;if(!t)return 0===--this._eventsCount?this._events=new r:delete this._events[o],this;var s=this._events[o];if(s.fn)s.fn!==t||a&&!s.once||n&&s.context!==n||(0===--this._eventsCount?this._events=new r:delete this._events[o]);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||a&&!s[l].once||n&&s[l].context!==n)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:0===--this._eventsCount?this._events=new r:delete this._events[o]}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&(0===--this._eventsCount?this._events=new r:delete this._events[t])):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=i,o.EventEmitter=o,"undefined"!==typeof e&&(e.exports=o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(l){r=!0,a=l}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=b(n(3)),s=b(n(2)),l=b(n(0)),c=b(n(5)),u=b(n(10)),d=b(n(9)),h=n(36),p=n(37),f=b(n(13)),m=n(26),v=n(38),g=n(39),y=n(40);function b(e){return e&&e.__esModule?e:{default:e}}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=(0,u.default)("quill:clipboard"),w="__ql-matcher",S=[[Node.TEXT_NODE,D],[Node.TEXT_NODE,L],["br",function(e,t){return A(t,"\n")||t.insert("\n"),t}],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,j],[Node.ELEMENT_NODE,I],[Node.ELEMENT_NODE,R],[Node.ELEMENT_NODE,function(e,t){var n={},i=e.style||{};return i.fontStyle&&"italic"===N(e).fontStyle&&(n.italic=!0),i.fontWeight&&(N(e).fontWeight.startsWith("bold")||parseInt(N(e).fontWeight)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(t=T(t,n)),parseFloat(i.textIndent||0)>0&&(t=(new s.default).insert("\t").concat(t)),t}],["li",function(e,t){var n=l.default.query(e);if(null==n||"list-item"!==n.blotName||!A(t,"\n"))return t;for(var i=-1,r=e.parentNode;!r.classList.contains("ql-clipboard");)"list"===(l.default.query(r)||{}).blotName&&(i+=1),r=r.parentNode;return i<=0?t:t.compose((new s.default).retain(t.length()-1).retain(1,{indent:i}))}],["b",P.bind(P,"bold")],["i",P.bind(P,"italic")],["style",function(){return new s.default}]],M=[h.AlignAttribute,v.DirectionAttribute].reduce((function(e,t){return e[t.keyName]=t,e}),{}),E=[h.AlignStyle,p.BackgroundStyle,m.ColorStyle,v.DirectionStyle,g.FontStyle,y.SizeStyle].reduce((function(e,t){return e[t.keyName]=t,e}),{}),C=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.quill.root.addEventListener("paste",i.onPaste.bind(i)),i.container=i.quill.addContainer("ql-clipboard"),i.container.setAttribute("contenteditable",!0),i.container.setAttribute("tabindex",-1),i.matchers=[],S.concat(i.options.matchers).forEach((function(e){var t=r(e,2),a=t[0],o=t[1];(n.matchVisual||o!==I)&&i.addMatcher(a,o)})),i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"===typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[f.default.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new s.default).insert(n,x({},f.default.blotName,t[f.default.blotName]))}var i=this.prepareMatching(),a=r(i,2),o=a[0],l=a[1],c=O(this.container,o,l);return A(c,"\n")&&null==c.ops[c.ops.length-1].attributes&&(c=c.compose((new s.default).retain(c.length()-1).delete(1))),_.log("convert",this.container.innerHTML,c),this.container.innerHTML="",c}},{key:"dangerouslyPasteHTML",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.sources.API;if("string"===typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,c.default.sources.SILENT);else{var i=this.convert(t);this.quill.updateContents((new s.default).retain(e).concat(i),n),this.quill.setSelection(e+i.length(),c.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),i=(new s.default).retain(n.index),r=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(c.default.sources.SILENT),setTimeout((function(){i=i.concat(t.convert()).delete(n.length),t.quill.updateContents(i,c.default.sources.USER),t.quill.setSelection(i.length()-n.length,c.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=r,t.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],n=[];return this.matchers.forEach((function(i){var a=r(i,2),o=a[0],s=a[1];switch(o){case Node.TEXT_NODE:n.push(s);break;case Node.ELEMENT_NODE:t.push(s);break;default:[].forEach.call(e.container.querySelectorAll(o),(function(e){e[w]=e[w]||[],e[w].push(s)}))}})),[t,n]}}]),t}(d.default);function T(e,t,n){return"object"===("undefined"===typeof t?"undefined":i(t))?Object.keys(t).reduce((function(e,n){return T(e,n,t[n])}),e):e.reduce((function(e,i){return i.attributes&&i.attributes[t]?e.push(i):e.insert(i.insert,(0,o.default)({},x({},t,n),i.attributes))}),new s.default)}function N(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};var t="__ql-computed-style";return e[t]||(e[t]=window.getComputedStyle(e))}function A(e,t){for(var n="",i=e.ops.length-1;i>=0&&n.length<t.length;--i){var r=e.ops[i];if("string"!==typeof r.insert)break;n=r.insert+n}return n.slice(-1*t.length)===t}function k(e){if(0===e.childNodes.length)return!1;var t=N(e);return["block","list-item"].indexOf(t.display)>-1}function O(e,t,n){return e.nodeType===e.TEXT_NODE?n.reduce((function(t,n){return n(e,t)}),new s.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],(function(i,r){var a=O(r,t,n);return r.nodeType===e.ELEMENT_NODE&&(a=t.reduce((function(e,t){return t(r,e)}),a),a=(r[w]||[]).reduce((function(e,t){return t(r,e)}),a)),i.concat(a)}),new s.default):new s.default}function P(e,t,n){return T(n,e,!0)}function R(e,t){var n=l.default.Attributor.Attribute.keys(e),i=l.default.Attributor.Class.keys(e),r=l.default.Attributor.Style.keys(e),a={};return n.concat(i).concat(r).forEach((function(t){var n=l.default.query(t,l.default.Scope.ATTRIBUTE);null!=n&&(a[n.attrName]=n.value(e),a[n.attrName])||(null==(n=M[t])||n.attrName!==t&&n.keyName!==t||(a[n.attrName]=n.value(e)||void 0),null==(n=E[t])||n.attrName!==t&&n.keyName!==t||(n=E[t],a[n.attrName]=n.value(e)||void 0))})),Object.keys(a).length>0&&(t=T(t,a)),t}function j(e,t){var n=l.default.query(e);if(null==n)return t;if(n.prototype instanceof l.default.Embed){var i={},r=n.value(e);null!=r&&(i[n.blotName]=r,t=(new s.default).insert(i,n.formats(e)))}else"function"===typeof n.formats&&(t=T(t,n.blotName,n.formats(e)));return t}function L(e,t){return A(t,"\n")||(k(e)||t.length()>0&&e.nextSibling&&k(e.nextSibling))&&t.insert("\n"),t}function I(e,t){if(k(e)&&null!=e.nextElementSibling&&!A(t,"\n\n")){var n=e.offsetHeight+parseFloat(N(e).marginTop)+parseFloat(N(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*n&&t.insert("\n")}return t}function D(e,t){var n=e.data;if("O:P"===e.parentNode.tagName)return t.insert(n.trim());if(0===n.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!N(e.parentNode).whiteSpace.startsWith("pre")){var i=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,i.bind(i,!0)),(null==e.previousSibling&&k(e.parentNode)||null!=e.previousSibling&&k(e.previousSibling))&&(n=n.replace(/^\s+/,i.bind(i,!1))),(null==e.nextSibling&&k(e.parentNode)||null!=e.nextSibling&&k(e.nextSibling))&&(n=n.replace(/\s+$/,i.bind(i,!1)))}return t.insert(n)}C.DEFAULTS={matchers:[],matchVisual:!0},t.default=C,t.matchAttributor=R,t.matchBlot=j,t.matchNewline=L,t.matchSpacing=I,t.matchText=D},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},o=n(6),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"optimize",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(((i=o)&&i.__esModule?i:{default:i}).default);s.blotName="bold",s.tagName=["STRONG","B"],t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(l){r=!0,a=l}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=u(n(2)),o=u(n(0)),s=u(n(5)),l=u(n(10)),c=u(n(9));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=(0,l.default)("quill:toolbar"),p=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r,a=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(Array.isArray(a.options.container)){var o=document.createElement("div");m(o,a.options.container),e.container.parentNode.insertBefore(o,e.container),a.container=o}else"string"===typeof a.options.container?a.container=document.querySelector(a.options.container):a.container=a.options.container;return a.container instanceof HTMLElement?(a.container.classList.add("ql-toolbar"),a.controls=[],a.handlers={},Object.keys(a.options.handlers).forEach((function(e){a.addHandler(e,a.options.handlers[e])})),[].forEach.call(a.container.querySelectorAll("button, select"),(function(e){a.attach(e)})),a.quill.on(s.default.events.EDITOR_CHANGE,(function(e,t){e===s.default.events.SELECTION_CHANGE&&a.update(t)})),a.quill.on(s.default.events.SCROLL_OPTIMIZE,(function(){var e=a.quill.selection.getRange(),t=i(e,1)[0];a.update(t)})),a):(r=h.error("Container required for toolbar",a.options),d(a,r))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,n=[].find.call(e.classList,(function(e){return 0===e.indexOf("ql-")}));if(n){if(n=n.slice(3),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void h.warn("ignoring attaching to disabled format",n,e);if(null==o.default.query(n))return void h.warn("ignoring attaching to nonexistent format",n,e)}var r="SELECT"===e.tagName?"change":"click";e.addEventListener(r,(function(r){var l=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var c=e.options[e.selectedIndex];l=!c.hasAttribute("selected")&&(c.value||!1)}else l=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),r.preventDefault();t.quill.focus();var u=t.quill.selection.getRange(),d=i(u,1)[0];if(null!=t.handlers[n])t.handlers[n].call(t,l);else if(o.default.query(n).prototype instanceof o.default.Embed){if(!(l=prompt("Enter "+n)))return;t.quill.updateContents((new a.default).retain(d.index).delete(d.length).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,l)),s.default.sources.USER)}else t.quill.format(n,l,s.default.sources.USER);t.update(d)})),this.controls.push([n,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach((function(n){var r=i(n,2),a=r[0],o=r[1];if("SELECT"===o.tagName){var s=void 0;if(null==e)s=null;else if(null==t[a])s=o.querySelector("option[selected]");else if(!Array.isArray(t[a])){var l=t[a];"string"===typeof l&&(l=l.replace(/\"/g,'\\"')),s=o.querySelector('option[value="'+l+'"]')}null==s?(o.value="",o.selectedIndex=-1):s.selected=!0}else if(null==e)o.classList.remove("ql-active");else if(o.hasAttribute("value")){var c=t[a]===o.getAttribute("value")||null!=t[a]&&t[a].toString()===o.getAttribute("value")||null==t[a]&&!o.getAttribute("value");o.classList.toggle("ql-active",c)}else o.classList.toggle("ql-active",null!=t[a])}))}}]),t}(c.default);function f(e,t,n){var i=document.createElement("button");i.setAttribute("type","button"),i.classList.add("ql-"+t),null!=n&&(i.value=n),e.appendChild(i)}function m(e,t){Array.isArray(t[0])||(t=[t]),t.forEach((function(t){var n=document.createElement("span");n.classList.add("ql-formats"),t.forEach((function(e){if("string"===typeof e)f(n,e);else{var t=Object.keys(e)[0],i=e[t];Array.isArray(i)?function(e,t,n){var i=document.createElement("select");i.classList.add("ql-"+t),n.forEach((function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),i.appendChild(t)})),e.appendChild(i)}(n,t,i):f(n,t,i)}})),e.appendChild(n)}))}p.DEFAULTS={},p.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var n=this.quill.getFormat();Object.keys(n).forEach((function(t){null!=o.default.query(t,o.default.Scope.INLINE)&&e.quill.format(t,!1)}))}else this.quill.removeFormat(t,s.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",s.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,s.default.sources.USER),this.quill.format("direction",e,s.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t),i=parseInt(n.indent||0);if("+1"===e||"-1"===e){var r="+1"===e?1:-1;"rtl"===n.direction&&(r*=-1),this.quill.format("indent",i+r,s.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,s.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t);"check"===e?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,s.default.sources.USER):this.quill.format("list","unchecked",s.default.sources.USER):this.quill.format("list",e,s.default.sources.USER)}}},t.default=p,t.addControls=m},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},o=n(28),s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.label.innerHTML=n,i.container.classList.add("ql-color-picker"),[].slice.call(i.container.querySelectorAll(".ql-picker-item"),0,7).forEach((function(e){e.classList.add("ql-primary")})),i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"buildItem",value:function(e){var n=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return n.style.backgroundColor=e.getAttribute("value")||"",n}},{key:"selectItem",value:function(e,n){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n);var i=this.label.querySelector(".ql-color-label"),r=e&&e.getAttribute("data-value")||"";i&&("line"===i.tagName?i.style.stroke=r:i.style.fill=r)}}]),t}(((i=o)&&i.__esModule?i:{default:i}).default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},o=n(28),s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.container.classList.add("ql-icon-picker"),[].forEach.call(i.container.querySelectorAll(".ql-picker-item"),(function(e){e.innerHTML=n[e.getAttribute("data-value")||""]})),i.defaultItem=i.container.querySelector(".ql-selected"),i.selectItem(i.defaultItem),i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"selectItem",value:function(e,n){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(((i=o)&&i.__esModule?i:{default:i}).default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.boundsContainer=n||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",(function(){i.root.style.marginTop=-1*i.quill.root.scrollTop+"px"})),this.hide()}return i(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,n=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var i=this.boundsContainer.getBoundingClientRect(),r=this.root.getBoundingClientRect(),a=0;if(r.right>i.right&&(a=i.right-r.right,this.root.style.left=t+a+"px"),r.left<i.left&&(a=i.left-r.left,this.root.style.left=t+a+"px"),r.bottom>i.bottom){var o=r.bottom-r.top,s=e.bottom-e.top+o;this.root.style.top=n-s+"px",this.root.classList.add("ql-flip")}return a}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(l){r=!0,a=l}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=p(n(3)),s=p(n(8)),l=n(43),c=p(l),u=p(n(27)),d=n(15),h=p(n(41));function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],y=function(e){function t(e,n){f(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=g);var i=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.quill.container.classList.add("ql-snow"),i}return v(t,e),a(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),h.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),h.default),this.tooltip=new b(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},(function(t,n){e.handlers.link.call(e,!n.format.link)}))}}]),t}(c.default);y.DEFAULTS=(0,o.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var n=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n),this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1)}}}}});var b=function(e){function t(e,n){f(this,t);var i=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.preview=i.root.querySelector("a.ql-preview"),i}return v(t,e),a(t,[{key:"listen",value:function(){var e=this;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",(function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(t){if(null!=e.linkRange){var n=e.linkRange;e.restoreFocus(),e.quill.formatText(n,"link",!1,s.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()})),this.quill.on(s.default.events.SELECTION_CHANGE,(function(t,n,r){if(null!=t){if(0===t.length&&r===s.default.sources.USER){var a=e.quill.scroll.descendant(u.default,t.index),o=i(a,2),l=o[0],c=o[1];if(null!=l){e.linkRange=new d.Range(t.index-c,l.length());var h=u.default.formats(l.domNode);return e.preview.textContent=h,e.preview.setAttribute("href",h),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}}))}},{key:"show",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(l.BaseTooltip);b.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=L(n(29)),r=n(36),a=n(38),o=n(64),s=L(n(65)),l=L(n(66)),c=n(67),u=L(c),d=n(37),h=n(26),p=n(39),f=n(40),m=L(n(56)),v=L(n(68)),g=L(n(27)),y=L(n(69)),b=L(n(70)),x=L(n(71)),_=L(n(72)),w=L(n(73)),S=n(13),M=L(S),E=L(n(74)),C=L(n(75)),T=L(n(57)),N=L(n(41)),A=L(n(28)),k=L(n(59)),O=L(n(60)),P=L(n(61)),R=L(n(108)),j=L(n(62));function L(e){return e&&e.__esModule?e:{default:e}}i.default.register({"attributors/attribute/direction":a.DirectionAttribute,"attributors/class/align":r.AlignClass,"attributors/class/background":d.BackgroundClass,"attributors/class/color":h.ColorClass,"attributors/class/direction":a.DirectionClass,"attributors/class/font":p.FontClass,"attributors/class/size":f.SizeClass,"attributors/style/align":r.AlignStyle,"attributors/style/background":d.BackgroundStyle,"attributors/style/color":h.ColorStyle,"attributors/style/direction":a.DirectionStyle,"attributors/style/font":p.FontStyle,"attributors/style/size":f.SizeStyle},!0),i.default.register({"formats/align":r.AlignClass,"formats/direction":a.DirectionClass,"formats/indent":o.IndentClass,"formats/background":d.BackgroundStyle,"formats/color":h.ColorStyle,"formats/font":p.FontClass,"formats/size":f.SizeClass,"formats/blockquote":s.default,"formats/code-block":M.default,"formats/header":l.default,"formats/list":u.default,"formats/bold":m.default,"formats/code":S.Code,"formats/italic":v.default,"formats/link":g.default,"formats/script":y.default,"formats/strike":b.default,"formats/underline":x.default,"formats/image":_.default,"formats/video":w.default,"formats/list/item":c.ListItem,"modules/formula":E.default,"modules/syntax":C.default,"modules/toolbar":T.default,"themes/bubble":R.default,"themes/snow":j.default,"ui/icons":N.default,"ui/picker":A.default,"ui/icon-picker":O.default,"ui/color-picker":k.default,"ui/tooltip":P.default},!0),t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},o=n(0),s=(i=o)&&i.__esModule?i:{default:i},l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"add",value:function(e,n){if("+1"===n||"-1"===n){var i=this.value(e)||0;n="+1"===n?i+1:i-1}return 0===n?(this.remove(e),!0):a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,n)}},{key:"canAdd",value:function(e,n){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,n)||a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(n))}},{key:"value",value:function(e){return parseInt(a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(s.default.Attributor.Class),c=new l("indent","ql-indent",{scope:s.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(4),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=r)&&i.__esModule?i:{default:i}).default);a.blotName="blockquote",a.tagName="blockquote",t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(4),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(((i=a)&&i.__esModule?i:{default:i}).default);o.blotName="header",o.tagName=["H1","H2","H3","H4","H5","H6"],t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},a=l(n(0)),o=l(n(4)),s=l(n(25));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),i(t,[{key:"format",value:function(e,n){e!==p.blotName||n?r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n):this.replaceWith(a.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,n){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,n),this):(this.parent.unwrap(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,n))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:r(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(o.default);h.blotName="list-item",h.tagName="LI";var p=function(e){function t(e){c(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),i=function(t){if(t.target.parentNode===e){var i=n.statics.formats(e),r=a.default.find(t.target);"checked"===i?r.format("list","unchecked"):"unchecked"===i&&r.format("list","checked")}};return e.addEventListener("touchstart",i),e.addEventListener("mousedown",i),n}return d(t,e),i(t,null,[{key:"create",value:function(e){var n="ordered"===e?"OL":"UL",i=r(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,n);return"checked"!==e&&"unchecked"!==e||i.setAttribute("data-checked","checked"===e),i}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),i(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return e={},t=this.statics.blotName,n=this.statics.formats(this.domNode),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;var e,t,n}},{key:"insertBefore",value:function(e,n){if(e instanceof h)r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n);else{var i=null==n?this.length():n.offset(this),a=this.split(i);a.parent.insertBefore(e,a)}}},{key:"optimize",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var n=a.default.create(this.statics.defaultChild);e.moveChildren(n),this.appendChild(n)}r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(s.default);p.blotName="list",p.scope=a.default.Scope.BLOCK_BLOT,p.tagName=["OL","UL"],p.defaultChild="list-item",p.allowedChildren=[h],t.ListItem=h,t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(56),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=r)&&i.__esModule?i:{default:i}).default);a.blotName="italic",a.tagName=["EM","I"],t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},o=n(6),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(((i=o)&&i.__esModule?i:{default:i}).default);s.blotName="script",s.tagName=["SUB","SUP"],t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(6),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=r)&&i.__esModule?i:{default:i}).default);a.blotName="strike",a.tagName="S",t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(6),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=r)&&i.__esModule?i:{default:i}).default);a.blotName="underline",a.tagName="U",t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},o=n(0),s=(i=o)&&i.__esModule?i:{default:i},l=n(27),c=["alt","height","width"],u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"format",value:function(e,n){c.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"===typeof e&&n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return c.reduce((function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t}),{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,l.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(s.default.Embed);u.blotName="image",u.tagName="IMG",t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},o=n(4),s=n(27),l=(i=s)&&i.__esModule?i:{default:i},c=["height","width"],u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"format",value:function(e,n){c.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return c.reduce((function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t}),{})}},{key:"sanitize",value:function(e){return l.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(o.BlockEmbed);u.blotName="video",u.className="ql-video",u.tagName="IFRAME",t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},a=l(n(35)),o=l(n(5)),s=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),i(t,null,[{key:"create",value:function(e){var n=r(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"===typeof e&&(window.katex.render(e,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",e)),n}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(a.default);h.blotName="formula",h.className="ql-formula",h.tagName="SPAN";var p=function(e){function t(){c(this,t);var e=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return d(t,e),i(t,null,[{key:"register",value:function(){o.default.register(h,!0)}}]),t}(s.default);t.FormulaBlot=h,t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},a=l(n(0)),o=l(n(5)),s=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),i(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(l(n(13)).default);h.className="ql-syntax";var p=new a.default.Attributor.Class("token","hljs",{scope:a.default.Scope.INLINE}),f=function(e){function t(e,n){c(this,t);var i=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if("function"!==typeof i.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var r=null;return i.quill.on(o.default.events.SCROLL_OPTIMIZE,(function(){clearTimeout(r),r=setTimeout((function(){i.highlight(),r=null}),i.options.interval)})),i.highlight(),i}return d(t,e),i(t,null,[{key:"register",value:function(){o.default.register(p,!0),o.default.register(h,!0)}}]),i(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(o.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(h).forEach((function(t){t.highlight(e.options.highlight)})),this.quill.update(o.default.sources.SILENT),null!=t&&this.quill.setSelection(t,o.default.sources.SILENT)}}}]),t}(s.default);f.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3},t.CodeBlock=h,t.CodeToken=p,t.default=f},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var i=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=d(n(3)),o=d(n(8)),s=n(43),l=d(s),c=n(15),u=d(n(41));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],v=function(e){function t(e,n){h(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=m);var i=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.quill.container.classList.add("ql-bubble"),i}return f(t,e),r(t,[{key:"extendToolbar",value:function(e){this.tooltip=new g(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),u.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),u.default)}}]),t}(l.default);v.DEFAULTS=(0,a.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var g=function(e){function t(e,n){h(this,t);var i=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.quill.on(o.default.events.EDITOR_CHANGE,(function(e,t,n,r){if(e===o.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&r===o.default.sources.USER){i.show(),i.root.style.left="0px",i.root.style.width="",i.root.style.width=i.root.offsetWidth+"px";var a=i.quill.getLines(t.index,t.length);if(1===a.length)i.position(i.quill.getBounds(t));else{var s=a[a.length-1],l=i.quill.getIndex(s),u=Math.min(s.length()-1,t.index+t.length-l),d=i.quill.getBounds(new c.Range(l,u));i.position(d)}}else document.activeElement!==i.textbox&&i.quill.hasFocus()&&i.hide()})),i}return f(t,e),r(t,[{key:"listen",value:function(){var e=this;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",(function(){e.root.classList.remove("ql-editing")})),this.quill.on(o.default.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}}),1)}))}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var n=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),r=this.root.querySelector(".ql-tooltip-arrow");if(r.style.marginLeft="",0===n)return n;r.style.marginLeft=-1*n-r.offsetWidth/2+"px"}}]),t}(s.BaseTooltip);g.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=g,t.default=v},function(e,t,n){e.exports=n(63)}]).default},e.exports=t()},8786:(e,t,n)=>{"use strict";var i,r,a,o,s,l,c,u,d,h,p,f,m,v,g,y,b,x,_,w,S,M,E,C,T,N,A,k,O,P,R,j,L,I,D,F,U,z,B,H,V,W,G,q,Y,X,Z,K,J,$,Q,ee,te,ne,ie,re,ae=n(166).default;var oe=n(5043),se=n(8945);function le(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var ce,ue=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}(oe),de=le(oe),he=le(se);function pe(e,t){return e[t]}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return[...e.slice(0,n),t,...e.slice(n)]}function me(){let e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id";const n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).slice(),i=pe(e,t);return i?n.splice(n.findIndex((e=>pe(e,t)===i)),1):n.splice(n.findIndex((t=>t===e)),1),n}function ve(e){return e.map(((e,t)=>{const n=Object.assign(Object.assign({},e),{sortable:e.sortable||!!e.sortFunction||void 0});return e.id||(n.id=t+1),n}))}function ge(e,t){return Math.ceil(e/t)}function ye(e,t){return Math.min(e,t)}!function(e){e.ASC="asc",e.DESC="desc"}(ce||(ce={}));const be=()=>null;function xe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={},i=[...arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]];return t.length&&t.forEach((t=>{if(!t.when||"function"!=typeof t.when)throw new Error('"when" must be defined in the conditional style object and must be function');t.when(e)&&(n=t.style||{},t.classNames&&(i=[...i,...t.classNames]),"function"==typeof t.style&&(n=t.style(e)||{}))})),{conditionalStyle:n,classNames:i.join(" ")}}function _e(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id";const i=pe(e,n);return i?t.some((e=>pe(e,n)===i)):t.some((t=>t===e))}function we(e,t){return t?e.findIndex((e=>Se(e.id,t))):-1}function Se(e,t){return e==t}function Me(e,t){const n=!e.toggleOnSelectedRowsChange;switch(t.type){case"SELECT_ALL_ROWS":{const{keyField:n,rows:i,rowCount:r,mergeSelections:a}=t,o=!e.allSelected,s=!e.toggleOnSelectedRowsChange;if(a){const t=o?[...e.selectedRows,...i.filter((t=>!_e(t,e.selectedRows,n)))]:e.selectedRows.filter((e=>!_e(e,i,n)));return Object.assign(Object.assign({},e),{allSelected:o,selectedCount:t.length,selectedRows:t,toggleOnSelectedRowsChange:s})}return Object.assign(Object.assign({},e),{allSelected:o,selectedCount:o?r:0,selectedRows:o?i:[],toggleOnSelectedRowsChange:s})}case"SELECT_SINGLE_ROW":{const{keyField:i,row:r,isSelected:a,rowCount:o,singleSelect:s}=t;return s?a?Object.assign(Object.assign({},e),{selectedCount:0,allSelected:!1,selectedRows:[],toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},e),{selectedCount:1,allSelected:!1,selectedRows:[r],toggleOnSelectedRowsChange:n}):a?Object.assign(Object.assign({},e),{selectedCount:e.selectedRows.length>0?e.selectedRows.length-1:0,allSelected:!1,selectedRows:me(e.selectedRows,r,i),toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},e),{selectedCount:e.selectedRows.length+1,allSelected:e.selectedRows.length+1===o,selectedRows:fe(e.selectedRows,r),toggleOnSelectedRowsChange:n})}case"SELECT_MULTIPLE_ROWS":{const{keyField:i,selectedRows:r,totalRows:a,mergeSelections:o}=t;if(o){const t=[...e.selectedRows,...r.filter((t=>!_e(t,e.selectedRows,i)))];return Object.assign(Object.assign({},e),{selectedCount:t.length,allSelected:!1,selectedRows:t,toggleOnSelectedRowsChange:n})}return Object.assign(Object.assign({},e),{selectedCount:r.length,allSelected:r.length===a,selectedRows:r,toggleOnSelectedRowsChange:n})}case"CLEAR_SELECTED_ROWS":{const{selectedRowsFlag:n}=t;return Object.assign(Object.assign({},e),{allSelected:!1,selectedCount:0,selectedRows:[],selectedRowsFlag:n})}case"SORT_CHANGE":{const{sortDirection:i,selectedColumn:r,clearSelectedOnSort:a}=t;return Object.assign(Object.assign(Object.assign({},e),{selectedColumn:r,sortDirection:i,currentPage:1}),a&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_PAGE":{const{page:i,paginationServer:r,visibleOnly:a,persistSelectedOnPageChange:o}=t,s=r&&o,l=r&&!o||a;return Object.assign(Object.assign(Object.assign(Object.assign({},e),{currentPage:i}),s&&{allSelected:!1}),l&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_ROWS_PER_PAGE":{const{rowsPerPage:n,page:i}=t;return Object.assign(Object.assign({},e),{currentPage:i,rowsPerPage:n})}}}const Ee=se.css(i||(i=ae(["\n\tpointer-events: none;\n\topacity: 0.4;\n"]))),Ce=he.default.div(r||(r=ae(["\n\tposition: relative;\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: 100%;\n\theight: 100%;\n\tmax-width: 100%;\n\t",";\n\t",";\n"])),(e=>{let{disabled:t}=e;return t&&Ee}),(e=>{let{theme:t}=e;return t.table.style})),Te=se.css(a||(a=ae(["\n\tposition: sticky;\n\tposition: -webkit-sticky; /* Safari */\n\ttop: 0;\n\tz-index: 1;\n"]))),Ne=he.default.div(o||(o=ae(["\n\tdisplay: flex;\n\twidth: 100%;\n\t",";\n\t",";\n"])),(e=>{let{$fixedHeader:t}=e;return t&&Te}),(e=>{let{theme:t}=e;return t.head.style})),Ae=he.default.div(s||(s=ae(["\n\tdisplay: flex;\n\talign-items: stretch;\n\twidth: 100%;\n\t",";\n\t",";\n"])),(e=>{let{theme:t}=e;return t.headRow.style}),(e=>{let{$dense:t,theme:n}=e;return t&&n.headRow.denseStyle})),ke=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return se.css(l||(l=ae(["\n\t\t@media screen and (max-width: ","px) {\n\t\t\t","\n\t\t}\n\t"])),599,se.css(e,...n))},Oe=he.default.div(h||(h=ae(["\n\tposition: relative;\n\tdisplay: flex;\n\talign-items: center;\n\tbox-sizing: border-box;\n\tline-height: normal;\n\t",";\n\t",";\n"])),(e=>{let{theme:t,$headCell:n}=e;return t[n?"headCells":"cells"].style}),(e=>{let{$noPadding:t}=e;return t&&"padding: 0"})),Pe=he.default(Oe)(p||(p=ae(["\n\tflex-grow: ",";\n\tflex-shrink: 0;\n\tflex-basis: 0;\n\tmax-width: ",";\n\tmin-width: ",";\n\t",";\n\t",";\n\t",";\n\t",";\n\n\t/* handle hiding cells */\n\t",";\n\t",";\n\t",";\n\t",";\n"])),(e=>{let{button:t,grow:n}=e;return 0===n||t?0:n||1}),(e=>{let{maxWidth:t}=e;return t||"100%"}),(e=>{let{minWidth:t}=e;return t||"100px"}),(e=>{let{width:t}=e;return t&&se.css(f||(f=ae(["\n\t\t\tmin-width: ",";\n\t\t\tmax-width: ",";\n\t\t"])),t,t)}),(e=>{let{right:t}=e;return t&&"justify-content: flex-end"}),(e=>{let{button:t,center:n}=e;return(n||t)&&"justify-content: center"}),(e=>{let{compact:t,button:n}=e;return(t||n)&&"padding: 0"}),(e=>{let{hide:t}=e;return t&&"sm"===t&&ke(m||(m=ae(["\n    display: none;\n  "])))}),(e=>{let{hide:t}=e;return t&&"md"===t&&function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return se.css(c||(c=ae(["\n\t\t@media screen and (max-width: ","px) {\n\t\t\t","\n\t\t}\n\t"])),959,se.css(e,...n))}(v||(v=ae(["\n    display: none;\n  "])))}),(e=>{let{hide:t}=e;return t&&"lg"===t&&function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return se.css(u||(u=ae(["\n\t\t@media screen and (max-width: ","px) {\n\t\t\t","\n\t\t}\n\t"])),1280,se.css(e,...n))}(g||(g=ae(["\n    display: none;\n  "])))}),(e=>{let{hide:t}=e;return t&&Number.isInteger(t)&&(e=>function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return se.css(d||(d=ae(["\n\t\t\t@media screen and (max-width: ","px) {\n\t\t\t\t","\n\t\t\t}\n\t\t"])),e,se.css(t,...i))})(t)(y||(y=ae(["\n    display: none;\n  "])))})),Re=se.css(b||(b=ae(["\n\tdiv:first-child {\n\t\twhite-space: ",";\n\t\toverflow: ",";\n\t\ttext-overflow: ellipsis;\n\t}\n"])),(e=>{let{$wrapCell:t}=e;return t?"normal":"nowrap"}),(e=>{let{$allowOverflow:t}=e;return t?"visible":"hidden"})),je=he.default(Pe).attrs((e=>({style:e.style})))(x||(x=ae(["\n\t",";\n\t",";\n\t",";\n"])),(e=>{let{$renderAsCell:t}=e;return!t&&Re}),(e=>{let{theme:t,$isDragging:n}=e;return n&&t.cells.draggingStyle}),(e=>{let{$cellStyle:t}=e;return t}));var Le=ue.memo((function(e){let{id:t,column:n,row:i,rowIndex:r,dataTag:a,isDragging:o,onDragStart:s,onDragOver:l,onDragEnd:c,onDragEnter:u,onDragLeave:d}=e;const{conditionalStyle:h,classNames:p}=xe(i,n.conditionalCellStyles,["rdt_TableCell"]);return ue.createElement(je,{id:t,"data-column-id":n.id,role:"cell",className:p,"data-tag":a,$cellStyle:n.style,$renderAsCell:!!n.cell,$allowOverflow:n.allowOverflow,button:n.button,center:n.center,compact:n.compact,grow:n.grow,hide:n.hide,maxWidth:n.maxWidth,minWidth:n.minWidth,right:n.right,width:n.width,$wrapCell:n.wrap,style:h,$isDragging:o,onDragStart:s,onDragOver:l,onDragEnd:c,onDragEnter:u,onDragLeave:d},!n.cell&&ue.createElement("div",{"data-tag":a},function(e,t,n,i){return t?n&&"function"==typeof n?n(e,i):t(e,i):null}(i,n.selector,n.format,r)),n.cell&&n.cell(i,r,n,t))}));const Ie="input";var De=ue.memo((function(e){let{name:t,component:n=Ie,componentOptions:i={style:{}},indeterminate:r=!1,checked:a=!1,disabled:o=!1,onClick:s=be}=e;const l=n,c=l!==Ie?i.style:(e=>Object.assign(Object.assign({fontSize:"18px"},!e&&{cursor:"pointer"}),{padding:0,marginTop:"1px",verticalAlign:"middle",position:"relative"}))(o),u=ue.useMemo((()=>function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];let r;return Object.keys(e).map((t=>e[t])).forEach(((t,i)=>{const a=e;"function"==typeof t&&(r=Object.assign(Object.assign({},a),{[Object.keys(e)[i]]:t(...n)}))})),r||e}(i,r)),[i,r]);return ue.createElement(l,Object.assign({type:"checkbox",ref:e=>{e&&(e.indeterminate=r)},style:c,onClick:o?be:s,name:t,"aria-label":t,checked:a,disabled:o},u,{onChange:be}))}));const Fe=he.default(Oe)(_||(_=ae(["\n\tflex: 0 0 48px;\n\tmin-width: 48px;\n\tjustify-content: center;\n\talign-items: center;\n\tuser-select: none;\n\twhite-space: nowrap;\n"])));function Ue(e){let{name:t,keyField:n,row:i,rowCount:r,selected:a,selectableRowsComponent:o,selectableRowsComponentProps:s,selectableRowsSingle:l,selectableRowDisabled:c,onSelectedRow:u}=e;const d=!(!c||!c(i));return ue.createElement(Fe,{onClick:e=>e.stopPropagation(),className:"rdt_TableCell",$noPadding:!0},ue.createElement(De,{name:t,component:o,componentOptions:s,checked:a,"aria-checked":a,onClick:()=>{u({type:"SELECT_SINGLE_ROW",row:i,isSelected:a,keyField:n,rowCount:r,singleSelect:l})},disabled:d}))}const ze=he.default.button(w||(w=ae(["\n\tdisplay: inline-flex;\n\talign-items: center;\n\tuser-select: none;\n\twhite-space: nowrap;\n\tborder: none;\n\tbackground-color: transparent;\n\t",";\n"])),(e=>{let{theme:t}=e;return t.expanderButton.style}));function Be(e){let{disabled:t=!1,expanded:n=!1,expandableIcon:i,id:r,row:a,onToggled:o}=e;const s=n?i.expanded:i.collapsed;return ue.createElement(ze,{"aria-disabled":t,onClick:()=>o&&o(a),"data-testid":"expander-button-".concat(r),disabled:t,"aria-label":n?"Collapse Row":"Expand Row",role:"button",type:"button"},s)}const He=he.default(Oe)(S||(S=ae(["\n\twhite-space: nowrap;\n\tfont-weight: 400;\n\tmin-width: 48px;\n\t",";\n"])),(e=>{let{theme:t}=e;return t.expanderCell.style}));function Ve(e){let{row:t,expanded:n=!1,expandableIcon:i,id:r,onToggled:a,disabled:o=!1}=e;return ue.createElement(He,{onClick:e=>e.stopPropagation(),$noPadding:!0},ue.createElement(Be,{id:r,row:t,expanded:n,expandableIcon:i,disabled:o,onToggled:a}))}const We=he.default.div(M||(M=ae(["\n\twidth: 100%;\n\tbox-sizing: border-box;\n\t",";\n\t",";\n"])),(e=>{let{theme:t}=e;return t.expanderRow.style}),(e=>{let{$extendedRowStyle:t}=e;return t}));var Ge=ue.memo((function(e){let{data:t,ExpanderComponent:n,expanderComponentProps:i,extendedRowStyle:r,extendedClassNames:a}=e;const o=["rdt_ExpanderRow",...a.split(" ").filter((e=>"rdt_TableRow"!==e))].join(" ");return ue.createElement(We,{className:o,$extendedRowStyle:r},ue.createElement(n,Object.assign({data:t},i)))}));const qe="allowRowEvents";var Ye,Xe,Ze;t.OP=void 0,(Ye=t.OP||(t.OP={})).LTR="ltr",Ye.RTL="rtl",Ye.AUTO="auto",t.C1=void 0,(Xe=t.C1||(t.C1={})).LEFT="left",Xe.RIGHT="right",Xe.CENTER="center",t.$U=void 0,(Ze=t.$U||(t.$U={})).SM="sm",Ze.MD="md",Ze.LG="lg";const Ke=se.css(E||(E=ae(["\n\t&:hover {\n\t\t",";\n\t}\n"])),(e=>{let{$highlightOnHover:t,theme:n}=e;return t&&n.rows.highlightOnHoverStyle})),Je=se.css(C||(C=ae(["\n\t&:hover {\n\t\tcursor: pointer;\n\t}\n"]))),$e=he.default.div.attrs((e=>({style:e.style})))(T||(T=ae(["\n\tdisplay: flex;\n\talign-items: stretch;\n\talign-content: stretch;\n\twidth: 100%;\n\tbox-sizing: border-box;\n\t",";\n\t",";\n\t",";\n\t",";\n\t",";\n\t",";\n\t",";\n"])),(e=>{let{theme:t}=e;return t.rows.style}),(e=>{let{$dense:t,theme:n}=e;return t&&n.rows.denseStyle}),(e=>{let{$striped:t,theme:n}=e;return t&&n.rows.stripedStyle}),(e=>{let{$highlightOnHover:t}=e;return t&&Ke}),(e=>{let{$pointerOnHover:t}=e;return t&&Je}),(e=>{let{$selected:t,theme:n}=e;return t&&n.rows.selectedHighlightStyle}),(e=>{let{$conditionalStyle:t}=e;return t}));function Qe(e){let{columns:t=[],conditionalRowStyles:n=[],defaultExpanded:i=!1,defaultExpanderDisabled:r=!1,dense:a=!1,expandableIcon:o,expandableRows:s=!1,expandableRowsComponent:l,expandableRowsComponentProps:c,expandableRowsHideExpander:u,expandOnRowClicked:d=!1,expandOnRowDoubleClicked:h=!1,highlightOnHover:p=!1,id:f,expandableInheritConditionalStyles:m,keyField:v,onRowClicked:g=be,onRowDoubleClicked:y=be,onRowMouseEnter:b=be,onRowMouseLeave:x=be,onRowExpandToggled:_=be,onSelectedRow:w=be,pointerOnHover:S=!1,row:M,rowCount:E,rowIndex:C,selectableRowDisabled:T=null,selectableRows:N=!1,selectableRowsComponent:A,selectableRowsComponentProps:k,selectableRowsHighlight:O=!1,selectableRowsSingle:P=!1,selected:R,striped:j=!1,draggingColumnId:L,onDragStart:I,onDragOver:D,onDragEnd:F,onDragEnter:U,onDragLeave:z}=e;const[B,H]=ue.useState(i);ue.useEffect((()=>{H(i)}),[i]);const V=ue.useCallback((()=>{H(!B),_(!B,M)}),[B,_,M]),W=S||s&&(d||h),G=ue.useCallback((e=>{e.target.getAttribute("data-tag")===qe&&(g(M,e),!r&&s&&d&&V())}),[r,d,s,V,g,M]),q=ue.useCallback((e=>{e.target.getAttribute("data-tag")===qe&&(y(M,e),!r&&s&&h&&V())}),[r,h,s,V,y,M]),Y=ue.useCallback((e=>{b(M,e)}),[b,M]),X=ue.useCallback((e=>{x(M,e)}),[x,M]),Z=pe(M,v),{conditionalStyle:K,classNames:J}=xe(M,n,["rdt_TableRow"]),$=O&&R,Q=m?K:{},ee=j&&C%2==0;return ue.createElement(ue.Fragment,null,ue.createElement($e,{id:"row-".concat(f),role:"row",$striped:ee,$highlightOnHover:p,$pointerOnHover:!r&&W,$dense:a,onClick:G,onDoubleClick:q,onMouseEnter:Y,onMouseLeave:X,className:J,$selected:$,$conditionalStyle:K},N&&ue.createElement(Ue,{name:"select-row-".concat(Z),keyField:v,row:M,rowCount:E,selected:R,selectableRowsComponent:A,selectableRowsComponentProps:k,selectableRowDisabled:T,selectableRowsSingle:P,onSelectedRow:w}),s&&!u&&ue.createElement(Ve,{id:Z,expandableIcon:o,expanded:B,row:M,onToggled:V,disabled:r}),t.map((e=>e.omit?null:ue.createElement(Le,{id:"cell-".concat(e.id,"-").concat(Z),key:"cell-".concat(e.id,"-").concat(Z),dataTag:e.ignoreRowClick||e.button?null:qe,column:e,row:M,rowIndex:C,isDragging:Se(L,e.id),onDragStart:I,onDragOver:D,onDragEnd:F,onDragEnter:U,onDragLeave:z})))),s&&B&&ue.createElement(Ge,{key:"expander-".concat(Z),data:M,extendedRowStyle:Q,extendedClassNames:J,ExpanderComponent:l,expanderComponentProps:c}))}const et=he.default.span(N||(N=ae(["\n\tpadding: 2px;\n\tcolor: inherit;\n\tflex-grow: 0;\n\tflex-shrink: 0;\n\t",";\n\t",";\n"])),(e=>{let{$sortActive:t}=e;return t?"opacity: 1":"opacity: 0"}),(e=>{let{$sortDirection:t}=e;return"desc"===t&&"transform: rotate(180deg)"})),tt=e=>{let{sortActive:t,sortDirection:n}=e;return de.default.createElement(et,{$sortActive:t,$sortDirection:n},"\u25b2")},nt=he.default(Pe)(A||(A=ae(["\n\t",";\n\t",";\n"])),(e=>{let{button:t}=e;return t&&"text-align: center"}),(e=>{let{theme:t,$isDragging:n}=e;return n&&t.headCells.draggingStyle})),it=se.css(k||(k=ae(["\n\tcursor: pointer;\n\tspan.__rdt_custom_sort_icon__ {\n\t\ti,\n\t\tsvg {\n\t\t\ttransform: 'translate3d(0, 0, 0)';\n\t\t\t",";\n\t\t\tcolor: inherit;\n\t\t\tfont-size: 18px;\n\t\t\theight: 18px;\n\t\t\twidth: 18px;\n\t\t\tbackface-visibility: hidden;\n\t\t\ttransform-style: preserve-3d;\n\t\t\ttransition-duration: 95ms;\n\t\t\ttransition-property: transform;\n\t\t}\n\n\t\t&.asc i,\n\t\t&.asc svg {\n\t\t\ttransform: rotate(180deg);\n\t\t}\n\t}\n\n\t",";\n"])),(e=>{let{$sortActive:t}=e;return t?"opacity: 1":"opacity: 0"}),(e=>{let{$sortActive:t}=e;return!t&&se.css(O||(O=ae(["\n\t\t\t&:hover,\n\t\t\t&:focus {\n\t\t\t\topacity: 0.7;\n\n\t\t\t\tspan,\n\t\t\t\tspan.__rdt_custom_sort_icon__ * {\n\t\t\t\t\topacity: 0.7;\n\t\t\t\t}\n\t\t\t}\n\t\t"])))})),rt=he.default.div(P||(P=ae(["\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: inherit;\n\theight: 100%;\n\twidth: 100%;\n\toutline: none;\n\tuser-select: none;\n\toverflow: hidden;\n\t",";\n"])),(e=>{let{disabled:t}=e;return!t&&it})),at=he.default.div(R||(R=ae(["\n\toverflow: hidden;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n"])));var ot=ue.memo((function(e){let{column:t,disabled:n,draggingColumnId:i,selectedColumn:r={},sortDirection:a,sortIcon:o,sortServer:s,pagination:l,paginationServer:c,persistSelectedOnSort:u,selectableRowsVisibleOnly:d,onSort:h,onDragStart:p,onDragOver:f,onDragEnd:m,onDragEnter:v,onDragLeave:g}=e;ue.useEffect((()=>{"string"==typeof t.selector&&console.error("Warning: ".concat(t.selector," is a string based column selector which has been deprecated as of v7 and will be removed in v8. Instead, use a selector function e.g. row => row[field]..."))}),[]);const[y,b]=ue.useState(!1),x=ue.useRef(null);if(ue.useEffect((()=>{x.current&&b(x.current.scrollWidth>x.current.clientWidth)}),[y]),t.omit)return null;const _=()=>{if(!t.sortable&&!t.selector)return;let e=a;Se(r.id,t.id)&&(e=a===ce.ASC?ce.DESC:ce.ASC),h({type:"SORT_CHANGE",sortDirection:e,selectedColumn:t,clearSelectedOnSort:l&&c&&!u||s||d})},w=e=>ue.createElement(tt,{sortActive:e,sortDirection:a}),S=()=>ue.createElement("span",{className:[a,"__rdt_custom_sort_icon__"].join(" ")},o),M=!(!t.sortable||!Se(r.id,t.id)),E=!t.sortable||n,C=t.sortable&&!o&&!t.right,T=t.sortable&&!o&&t.right,N=t.sortable&&o&&!t.right,A=t.sortable&&o&&t.right;return ue.createElement(nt,{"data-column-id":t.id,className:"rdt_TableCol",$headCell:!0,allowOverflow:t.allowOverflow,button:t.button,compact:t.compact,grow:t.grow,hide:t.hide,maxWidth:t.maxWidth,minWidth:t.minWidth,right:t.right,center:t.center,width:t.width,draggable:t.reorder,$isDragging:Se(t.id,i),onDragStart:p,onDragOver:f,onDragEnd:m,onDragEnter:v,onDragLeave:g},t.name&&ue.createElement(rt,{"data-column-id":t.id,"data-sort-id":t.id,role:"columnheader",tabIndex:0,className:"rdt_TableCol_Sortable",onClick:E?void 0:_,onKeyPress:E?void 0:e=>{"Enter"===e.key&&_()},$sortActive:!E&&M,disabled:E},!E&&A&&S(),!E&&T&&w(M),"string"==typeof t.name?ue.createElement(at,{title:y?t.name:void 0,ref:x,"data-column-id":t.id},t.name):t.name,!E&&N&&S(),!E&&C&&w(M)))}));const st=he.default(Oe)(j||(j=ae(["\n\tflex: 0 0 48px;\n\tjustify-content: center;\n\talign-items: center;\n\tuser-select: none;\n\twhite-space: nowrap;\n\tfont-size: unset;\n"])));function lt(e){let{headCell:t=!0,rowData:n,keyField:i,allSelected:r,mergeSelections:a,selectedRows:o,selectableRowsComponent:s,selectableRowsComponentProps:l,selectableRowDisabled:c,onSelectAllRows:u}=e;const d=o.length>0&&!r,h=c?n.filter((e=>!c(e))):n,p=0===h.length,f=Math.min(n.length,h.length);return ue.createElement(st,{className:"rdt_TableCol",$headCell:t,$noPadding:!0},ue.createElement(De,{name:"select-all-rows",component:s,componentOptions:l,onClick:()=>{u({type:"SELECT_ALL_ROWS",rows:h,rowCount:f,mergeSelections:a,keyField:i})},checked:r,indeterminate:d,disabled:p}))}function ct(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.OP.AUTO;const n="object"==typeof window,[i,r]=ue.useState(!1);return ue.useEffect((()=>{if(n)if("auto"!==e)r("rtl"===e);else{const e=!(!window.document||!window.document.createElement),t=document.getElementsByTagName("BODY")[0],n=document.getElementsByTagName("HTML")[0],i="rtl"===t.dir||"rtl"===n.dir;r(e&&i)}}),[e,n]),i}const ut=he.default.div(L||(L=ae(["\n\tdisplay: flex;\n\talign-items: center;\n\tflex: 1 0 auto;\n\theight: 100%;\n\tcolor: ",";\n\tfont-size: ",";\n\tfont-weight: 400;\n"])),(e=>{let{theme:t}=e;return t.contextMenu.fontColor}),(e=>{let{theme:t}=e;return t.contextMenu.fontSize})),dt=he.default.div(I||(I=ae(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: flex-end;\n\tflex-wrap: wrap;\n"]))),ht=he.default.div(D||(D=ae(["\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tbox-sizing: inherit;\n\tz-index: 1;\n\talign-items: center;\n\tjustify-content: space-between;\n\tdisplay: flex;\n\t",";\n\t",";\n\t",";\n"])),(e=>{let{$rtl:t}=e;return t&&"direction: rtl"}),(e=>{let{theme:t}=e;return t.contextMenu.style}),(e=>{let{theme:t,$visible:n}=e;return n&&t.contextMenu.activeStyle}));function pt(e){let{contextMessage:t,contextActions:n,contextComponent:i,selectedCount:r,direction:a}=e;const o=ct(a),s=r>0;return i?ue.createElement(ht,{$visible:s},ue.cloneElement(i,{selectedCount:r})):ue.createElement(ht,{$visible:s,$rtl:o},ue.createElement(ut,null,((e,t,n)=>{if(0===t)return null;const i=1===t?e.singular:e.plural;return n?"".concat(t," ").concat(e.message||""," ").concat(i):"".concat(t," ").concat(i," ").concat(e.message||"")})(t,r,o)),ue.createElement(dt,null,n))}const ft=he.default.div(F||(F=ae(["\n\tposition: relative;\n\tbox-sizing: border-box;\n\toverflow: hidden;\n\tdisplay: flex;\n\tflex: 1 1 auto;\n\talign-items: center;\n\tjustify-content: space-between;\n\twidth: 100%;\n\tflex-wrap: wrap;\n\t","\n"])),(e=>{let{theme:t}=e;return t.header.style})),mt=he.default.div(U||(U=ae(["\n\tflex: 1 0 auto;\n\tcolor: ",";\n\tfont-size: ",";\n\tfont-weight: 400;\n"])),(e=>{let{theme:t}=e;return t.header.fontColor}),(e=>{let{theme:t}=e;return t.header.fontSize})),vt=he.default.div(z||(z=ae(["\n\tflex: 1 0 auto;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: flex-end;\n\n\t> * {\n\t\tmargin-left: 5px;\n\t}\n"]))),gt=e=>{let{title:t,actions:n=null,contextMessage:i,contextActions:r,contextComponent:a,selectedCount:o,direction:s,showMenu:l=!0}=e;return ue.createElement(ft,{className:"rdt_TableHeader",role:"heading","aria-level":1},ue.createElement(mt,null,t),n&&ue.createElement(vt,null,n),l&&ue.createElement(pt,{contextMessage:i,contextActions:r,contextComponent:a,direction:s,selectedCount:o}))};function yt(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}"function"==typeof SuppressedError&&SuppressedError;const bt={left:"flex-start",right:"flex-end",center:"center"},xt=he.default.header(B||(B=ae(["\n\tposition: relative;\n\tdisplay: flex;\n\tflex: 1 1 auto;\n\tbox-sizing: border-box;\n\talign-items: center;\n\tpadding: 4px 16px 4px 24px;\n\twidth: 100%;\n\tjustify-content: ",";\n\tflex-wrap: ",";\n\t","\n"])),(e=>{let{align:t}=e;return bt[t]}),(e=>{let{$wrapContent:t}=e;return t?"wrap":"nowrap"}),(e=>{let{theme:t}=e;return t.subHeader.style})),_t=e=>{var{align:t="right",wrapContent:n=!0}=e,i=yt(e,["align","wrapContent"]);return ue.createElement(xt,Object.assign({align:t,$wrapContent:n},i))},wt=he.default.div(H||(H=ae(["\n\tdisplay: flex;\n\tflex-direction: column;\n"]))),St=he.default.div(V||(V=ae(["\n\tposition: relative;\n\twidth: 100%;\n\tborder-radius: inherit;\n\t",";\n\n\t",";\n\n\t",";\n"])),(e=>{let{$responsive:t,$fixedHeader:n}=e;return t&&se.css(W||(W=ae(["\n\t\t\toverflow-x: auto;\n\n\t\t\t// hidden prevents vertical scrolling in firefox when fixedHeader is disabled\n\t\t\toverflow-y: ",";\n\t\t\tmin-height: 0;\n\t\t"])),n?"auto":"hidden")}),(e=>{let{$fixedHeader:t=!1,$fixedHeaderScrollHeight:n="100vh"}=e;return t&&se.css(G||(G=ae(["\n\t\t\tmax-height: ",";\n\t\t\t-webkit-overflow-scrolling: touch;\n\t\t"])),n)}),(e=>{let{theme:t}=e;return t.responsiveWrapper.style})),Mt=he.default.div(q||(q=ae(["\n\tposition: relative;\n\tbox-sizing: border-box;\n\twidth: 100%;\n\theight: 100%;\n\t",";\n"])),(e=>e.theme.progress.style)),Et=he.default.div(Y||(Y=ae(["\n\tposition: relative;\n\twidth: 100%;\n\t",";\n"])),(e=>{let{theme:t}=e;return t.tableWrapper.style})),Ct=he.default(Oe)(X||(X=ae(["\n\twhite-space: nowrap;\n\t",";\n"])),(e=>{let{theme:t}=e;return t.expanderCell.style})),Tt=he.default.div(Z||(Z=ae(["\n\tbox-sizing: border-box;\n\twidth: 100%;\n\theight: 100%;\n\t",";\n"])),(e=>{let{theme:t}=e;return t.noData.style})),Nt=()=>de.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},de.default.createElement("path",{d:"M7 10l5 5 5-5z"}),de.default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),At=he.default.select(K||(K=ae(["\n\tcursor: pointer;\n\theight: 24px;\n\tmax-width: 100%;\n\tuser-select: none;\n\tpadding-left: 8px;\n\tpadding-right: 24px;\n\tbox-sizing: content-box;\n\tfont-size: inherit;\n\tcolor: inherit;\n\tborder: none;\n\tbackground-color: transparent;\n\tappearance: none;\n\tdirection: ltr;\n\tflex-shrink: 0;\n\n\t&::-ms-expand {\n\t\tdisplay: none;\n\t}\n\n\t&:disabled::-ms-expand {\n\t\tbackground: #f60;\n\t}\n\n\toption {\n\t\tcolor: initial;\n\t}\n"]))),kt=he.default.div(J||(J=ae(["\n\tposition: relative;\n\tflex-shrink: 0;\n\tfont-size: inherit;\n\tcolor: inherit;\n\tmargin-top: 1px;\n\n\tsvg {\n\t\ttop: 0;\n\t\tright: 0;\n\t\tcolor: inherit;\n\t\tposition: absolute;\n\t\tfill: currentColor;\n\t\twidth: 24px;\n\t\theight: 24px;\n\t\tdisplay: inline-block;\n\t\tuser-select: none;\n\t\tpointer-events: none;\n\t}\n"]))),Ot=e=>{var{defaultValue:t,onChange:n}=e,i=yt(e,["defaultValue","onChange"]);return ue.createElement(kt,null,ue.createElement(At,Object.assign({onChange:n,defaultValue:t},i)),ue.createElement(Nt,null))},Pt={columns:[],data:[],title:"",keyField:"id",selectableRows:!1,selectableRowsHighlight:!1,selectableRowsNoSelectAll:!1,selectableRowSelected:null,selectableRowDisabled:null,selectableRowsComponent:"input",selectableRowsComponentProps:{},selectableRowsVisibleOnly:!1,selectableRowsSingle:!1,clearSelectedRows:!1,expandableRows:!1,expandableRowDisabled:null,expandableRowExpanded:null,expandOnRowClicked:!1,expandableRowsHideExpander:!1,expandOnRowDoubleClicked:!1,expandableInheritConditionalStyles:!1,expandableRowsComponent:function(){return de.default.createElement("div",null,"To add an expander pass in a component instance via ",de.default.createElement("strong",null,"expandableRowsComponent"),". You can then access props.data from this component.")},expandableIcon:{collapsed:de.default.createElement((()=>de.default.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},de.default.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),de.default.createElement("path",{d:"M0-.25h24v24H0z",fill:"none"}))),null),expanded:de.default.createElement((()=>de.default.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},de.default.createElement("path",{d:"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"}),de.default.createElement("path",{d:"M0-.75h24v24H0z",fill:"none"}))),null)},expandableRowsComponentProps:{},progressPending:!1,progressComponent:de.default.createElement("div",{style:{fontSize:"24px",fontWeight:700,padding:"24px"}},"Loading..."),persistTableHead:!1,sortIcon:null,sortFunction:null,sortServer:!1,striped:!1,highlightOnHover:!1,pointerOnHover:!1,noContextMenu:!1,contextMessage:{singular:"item",plural:"items",message:"selected"},actions:null,contextActions:null,contextComponent:null,defaultSortFieldId:null,defaultSortAsc:!0,responsive:!0,noDataComponent:de.default.createElement("div",{style:{padding:"24px"}},"There are no records to display"),disabled:!1,noTableHead:!1,noHeader:!1,subHeader:!1,subHeaderAlign:t.C1.RIGHT,subHeaderWrap:!0,subHeaderComponent:null,fixedHeader:!1,fixedHeaderScrollHeight:"100vh",pagination:!1,paginationServer:!1,paginationServerOptions:{persistSelectedOnSort:!1,persistSelectedOnPageChange:!1},paginationDefaultPage:1,paginationResetDefaultPage:!1,paginationTotalRows:0,paginationPerPage:10,paginationRowsPerPageOptions:[10,15,20,25,30],paginationComponent:null,paginationComponentOptions:{},paginationIconFirstPage:de.default.createElement((()=>de.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},de.default.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),de.default.createElement("path",{fill:"none",d:"M24 24H0V0h24v24z"}))),null),paginationIconLastPage:de.default.createElement((()=>de.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},de.default.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),de.default.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}))),null),paginationIconNext:de.default.createElement((()=>de.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},de.default.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),de.default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),null),paginationIconPrevious:de.default.createElement((()=>de.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},de.default.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),de.default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),null),dense:!1,conditionalRowStyles:[],theme:"default",customStyles:{},direction:t.OP.AUTO,onChangePage:be,onChangeRowsPerPage:be,onRowClicked:be,onRowDoubleClicked:be,onRowMouseEnter:be,onRowMouseLeave:be,onRowExpandToggled:be,onSelectedRowsChange:be,onSort:be,onColumnOrderChange:be},Rt={rowsPerPageText:"Rows per page:",rangeSeparatorText:"of",noRowsPerPage:!1,selectAllRowsItem:!1,selectAllRowsItemText:"All"},jt=he.default.nav($||($=ae(["\n\tdisplay: flex;\n\tflex: 1 1 auto;\n\tjustify-content: flex-end;\n\talign-items: center;\n\tbox-sizing: border-box;\n\tpadding-right: 8px;\n\tpadding-left: 8px;\n\twidth: 100%;\n\t",";\n"])),(e=>{let{theme:t}=e;return t.pagination.style})),Lt=he.default.button(Q||(Q=ae(["\n\tposition: relative;\n\tdisplay: block;\n\tuser-select: none;\n\tborder: none;\n\t",";\n\t",";\n"])),(e=>{let{theme:t}=e;return t.pagination.pageButtonsStyle}),(e=>{let{$isRTL:t}=e;return t&&"transform: scale(-1, -1)"})),It=he.default.div(ee||(ee=ae(["\n\tdisplay: flex;\n\talign-items: center;\n\tborder-radius: 4px;\n\twhite-space: nowrap;\n\t",";\n"])),ke(te||(te=ae(["\n    width: 100%;\n    justify-content: space-around;\n  "])))),Dt=he.default.span(ne||(ne=ae(["\n\tflex-shrink: 1;\n\tuser-select: none;\n"]))),Ft=he.default(Dt)(ie||(ie=ae(["\n\tmargin: 0 24px;\n"]))),Ut=he.default(Dt)(re||(re=ae(["\n\tmargin: 0 4px;\n"])));var zt=ue.memo((function(e){let{rowsPerPage:t,rowCount:n,currentPage:i,direction:r=Pt.direction,paginationRowsPerPageOptions:a=Pt.paginationRowsPerPageOptions,paginationIconLastPage:o=Pt.paginationIconLastPage,paginationIconFirstPage:s=Pt.paginationIconFirstPage,paginationIconNext:l=Pt.paginationIconNext,paginationIconPrevious:c=Pt.paginationIconPrevious,paginationComponentOptions:u=Pt.paginationComponentOptions,onChangeRowsPerPage:d=Pt.onChangeRowsPerPage,onChangePage:h=Pt.onChangePage}=e;const p=(()=>{const e="object"==typeof window;function t(){return{width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0}}const[n,i]=ue.useState(t);return ue.useEffect((()=>{if(!e)return()=>null;function n(){i(t())}return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)}),[]),n})(),f=ct(r),m=p.width&&p.width>599,v=ge(n,t),g=i*t,y=g-t+1,b=1===i,x=i===v,_=Object.assign(Object.assign({},Rt),u),w=i===v?"".concat(y,"-").concat(n," ").concat(_.rangeSeparatorText," ").concat(n):"".concat(y,"-").concat(g," ").concat(_.rangeSeparatorText," ").concat(n),S=ue.useCallback((()=>h(i-1)),[i,h]),M=ue.useCallback((()=>h(i+1)),[i,h]),E=ue.useCallback((()=>h(1)),[h]),C=ue.useCallback((()=>h(ge(n,t))),[h,n,t]),T=ue.useCallback((e=>d(Number(e.target.value),i)),[i,d]),N=a.map((e=>ue.createElement("option",{key:e,value:e},e)));_.selectAllRowsItem&&N.push(ue.createElement("option",{key:-1,value:n},_.selectAllRowsItemText));const A=ue.createElement(Ot,{onChange:T,defaultValue:t,"aria-label":_.rowsPerPageText},N);return ue.createElement(jt,{className:"rdt_Pagination"},!_.noRowsPerPage&&m&&ue.createElement(ue.Fragment,null,ue.createElement(Ut,null,_.rowsPerPageText),A),m&&ue.createElement(Ft,null,w),ue.createElement(It,null,ue.createElement(Lt,{id:"pagination-first-page",type:"button","aria-label":"First Page","aria-disabled":b,onClick:E,disabled:b,$isRTL:f},s),ue.createElement(Lt,{id:"pagination-previous-page",type:"button","aria-label":"Previous Page","aria-disabled":b,onClick:S,disabled:b,$isRTL:f},c),!_.noRowsPerPage&&!m&&A,ue.createElement(Lt,{id:"pagination-next-page",type:"button","aria-label":"Next Page","aria-disabled":x,onClick:M,disabled:x,$isRTL:f},l),ue.createElement(Lt,{id:"pagination-last-page",type:"button","aria-label":"Last Page","aria-disabled":x,onClick:C,disabled:x,$isRTL:f},o)))}));const Bt=(e,t)=>{const n=ue.useRef(!0);ue.useEffect((()=>{n.current?n.current=!1:e()}),t)};var Ht=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===Vt}(e)}(e)},Vt="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function Wt(e,t){return!1!==t.clone&&t.isMergeableObject(e)?Xt((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function Gt(e,t,n){return e.concat(t).map((function(e){return Wt(e,n)}))}function qt(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function Yt(e,t){try{return t in e}catch(e){return!1}}function Xt(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||Gt,n.isMergeableObject=n.isMergeableObject||Ht,n.cloneUnlessOtherwiseSpecified=Wt;var i=Array.isArray(t);return i===Array.isArray(e)?i?n.arrayMerge(e,t,n):function(e,t,n){var i={};return n.isMergeableObject(e)&&qt(e).forEach((function(t){i[t]=Wt(e[t],n)})),qt(t).forEach((function(r){(function(e,t){return Yt(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,r)||(Yt(e,r)&&n.isMergeableObject(t[r])?i[r]=function(e,t){if(!t.customMerge)return Xt;var n=t.customMerge(e);return"function"==typeof n?n:Xt}(r,n)(e[r],t[r],n):i[r]=Wt(t[r],n))})),i}(e,t,n):Wt(t,n)}Xt.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return Xt(e,n,t)}),{})};var Zt=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(Xt);const Kt={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)"},background:{default:"#FFFFFF"},context:{background:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},divider:{default:"rgba(0,0,0,.12)"},button:{default:"rgba(0,0,0,.54)",focus:"rgba(0,0,0,.12)",hover:"rgba(0,0,0,.12)",disabled:"rgba(0, 0, 0, .18)"},selected:{default:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},highlightOnHover:{default:"#EEEEEE",text:"rgba(0, 0, 0, 0.87)"},striped:{default:"#FAFAFA",text:"rgba(0, 0, 0, 0.87)"}},Jt={default:Kt,light:Kt,dark:{text:{primary:"#FFFFFF",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(0,0,0,.12)"},background:{default:"#424242"},context:{background:"#E91E63",text:"#FFFFFF"},divider:{default:"rgba(81, 81, 81, 1)"},button:{default:"#FFFFFF",focus:"rgba(255, 255, 255, .54)",hover:"rgba(255, 255, 255, .12)",disabled:"rgba(255, 255, 255, .18)"},selected:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},highlightOnHover:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},striped:{default:"rgba(0, 0, 0, .87)",text:"#FFFFFF"}}};function $t(e,t,n,i){const[r,a]=ue.useState((()=>ve(e))),[o,s]=ue.useState(""),l=ue.useRef("");Bt((()=>{a(ve(e))}),[e]);const c=ue.useCallback((e=>{var t,n,i;const{attributes:a}=e.target,o=null===(t=a.getNamedItem("data-column-id"))||void 0===t?void 0:t.value;o&&(l.current=(null===(i=null===(n=r[we(r,o)])||void 0===n?void 0:n.id)||void 0===i?void 0:i.toString())||"",s(l.current))}),[r]),u=ue.useCallback((e=>{var n;const{attributes:i}=e.target,o=null===(n=i.getNamedItem("data-column-id"))||void 0===n?void 0:n.value;if(o&&l.current&&o!==l.current){const e=we(r,l.current),n=we(r,o),i=[...r];i[e]=r[n],i[n]=r[e],a(i),t(i)}}),[t,r]),d=ue.useCallback((e=>{e.preventDefault()}),[]),h=ue.useCallback((e=>{e.preventDefault()}),[]),p=ue.useCallback((e=>{e.preventDefault(),l.current="",s("")}),[]),f=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?ce.ASC:ce.DESC}(i),m=ue.useMemo((()=>r[we(r,null==n?void 0:n.toString())]||{}),[n,r]);return{tableColumns:r,draggingColumnId:o,handleDragStart:c,handleDragEnter:u,handleDragOver:d,handleDragLeave:h,handleDragEnd:p,defaultSortDirection:f,defaultSortColumn:m}}var Qt=ue.memo((function(e){const{data:t=Pt.data,columns:n=Pt.columns,title:i=Pt.title,actions:r=Pt.actions,keyField:a=Pt.keyField,striped:o=Pt.striped,highlightOnHover:s=Pt.highlightOnHover,pointerOnHover:l=Pt.pointerOnHover,dense:c=Pt.dense,selectableRows:u=Pt.selectableRows,selectableRowsSingle:d=Pt.selectableRowsSingle,selectableRowsHighlight:h=Pt.selectableRowsHighlight,selectableRowsNoSelectAll:p=Pt.selectableRowsNoSelectAll,selectableRowsVisibleOnly:f=Pt.selectableRowsVisibleOnly,selectableRowSelected:m=Pt.selectableRowSelected,selectableRowDisabled:v=Pt.selectableRowDisabled,selectableRowsComponent:g=Pt.selectableRowsComponent,selectableRowsComponentProps:y=Pt.selectableRowsComponentProps,onRowExpandToggled:b=Pt.onRowExpandToggled,onSelectedRowsChange:x=Pt.onSelectedRowsChange,expandableIcon:_=Pt.expandableIcon,onChangeRowsPerPage:w=Pt.onChangeRowsPerPage,onChangePage:S=Pt.onChangePage,paginationServer:M=Pt.paginationServer,paginationServerOptions:E=Pt.paginationServerOptions,paginationTotalRows:C=Pt.paginationTotalRows,paginationDefaultPage:T=Pt.paginationDefaultPage,paginationResetDefaultPage:N=Pt.paginationResetDefaultPage,paginationPerPage:A=Pt.paginationPerPage,paginationRowsPerPageOptions:k=Pt.paginationRowsPerPageOptions,paginationIconLastPage:O=Pt.paginationIconLastPage,paginationIconFirstPage:P=Pt.paginationIconFirstPage,paginationIconNext:R=Pt.paginationIconNext,paginationIconPrevious:j=Pt.paginationIconPrevious,paginationComponent:L=Pt.paginationComponent,paginationComponentOptions:I=Pt.paginationComponentOptions,responsive:D=Pt.responsive,progressPending:F=Pt.progressPending,progressComponent:U=Pt.progressComponent,persistTableHead:z=Pt.persistTableHead,noDataComponent:B=Pt.noDataComponent,disabled:H=Pt.disabled,noTableHead:V=Pt.noTableHead,noHeader:W=Pt.noHeader,fixedHeader:G=Pt.fixedHeader,fixedHeaderScrollHeight:q=Pt.fixedHeaderScrollHeight,pagination:Y=Pt.pagination,subHeader:X=Pt.subHeader,subHeaderAlign:Z=Pt.subHeaderAlign,subHeaderWrap:K=Pt.subHeaderWrap,subHeaderComponent:J=Pt.subHeaderComponent,noContextMenu:$=Pt.noContextMenu,contextMessage:Q=Pt.contextMessage,contextActions:ee=Pt.contextActions,contextComponent:te=Pt.contextComponent,expandableRows:ne=Pt.expandableRows,onRowClicked:ie=Pt.onRowClicked,onRowDoubleClicked:re=Pt.onRowDoubleClicked,onRowMouseEnter:ae=Pt.onRowMouseEnter,onRowMouseLeave:oe=Pt.onRowMouseLeave,sortIcon:le=Pt.sortIcon,onSort:de=Pt.onSort,sortFunction:he=Pt.sortFunction,sortServer:fe=Pt.sortServer,expandableRowsComponent:me=Pt.expandableRowsComponent,expandableRowsComponentProps:ve=Pt.expandableRowsComponentProps,expandableRowDisabled:be=Pt.expandableRowDisabled,expandableRowsHideExpander:xe=Pt.expandableRowsHideExpander,expandOnRowClicked:we=Pt.expandOnRowClicked,expandOnRowDoubleClicked:Se=Pt.expandOnRowDoubleClicked,expandableRowExpanded:Ee=Pt.expandableRowExpanded,expandableInheritConditionalStyles:Te=Pt.expandableInheritConditionalStyles,defaultSortFieldId:ke=Pt.defaultSortFieldId,defaultSortAsc:Pe=Pt.defaultSortAsc,clearSelectedRows:Re=Pt.clearSelectedRows,conditionalRowStyles:je=Pt.conditionalRowStyles,theme:Le=Pt.theme,customStyles:Ie=Pt.customStyles,direction:De=Pt.direction,onColumnOrderChange:Fe=Pt.onColumnOrderChange,className:Ue}=e,{tableColumns:ze,draggingColumnId:Be,handleDragStart:He,handleDragEnter:Ve,handleDragOver:We,handleDragLeave:Ge,handleDragEnd:qe,defaultSortDirection:Ye,defaultSortColumn:Xe}=$t(n,Fe,ke,Pe),[{rowsPerPage:Ze,currentPage:Ke,selectedRows:Je,allSelected:$e,selectedCount:et,selectedColumn:tt,sortDirection:nt,toggleOnSelectedRowsChange:it},rt]=ue.useReducer(Me,{allSelected:!1,selectedCount:0,selectedRows:[],selectedColumn:Xe,toggleOnSelectedRowsChange:!1,sortDirection:Ye,currentPage:T,rowsPerPage:A,selectedRowsFlag:!1,contextMessage:Pt.contextMessage}),{persistSelectedOnSort:at=!1,persistSelectedOnPageChange:st=!1}=E,ct=!(!M||!st&&!at),ut=Y&&!F&&t.length>0,dt=L||zt,ht=ue.useMemo((()=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";const i=Jt[t]?t:n;return Zt({table:{style:{color:(r=Jt[i]).text.primary,backgroundColor:r.background.default}},tableWrapper:{style:{display:"table"}},responsiveWrapper:{style:{}},header:{style:{fontSize:"22px",color:r.text.primary,backgroundColor:r.background.default,minHeight:"56px",paddingLeft:"16px",paddingRight:"8px"}},subHeader:{style:{backgroundColor:r.background.default,minHeight:"52px"}},head:{style:{color:r.text.primary,fontSize:"12px",fontWeight:500}},headRow:{style:{backgroundColor:r.background.default,minHeight:"52px",borderBottomWidth:"1px",borderBottomColor:r.divider.default,borderBottomStyle:"solid"},denseStyle:{minHeight:"32px"}},headCells:{style:{paddingLeft:"16px",paddingRight:"16px"},draggingStyle:{cursor:"move"}},contextMenu:{style:{backgroundColor:r.context.background,fontSize:"18px",fontWeight:400,color:r.context.text,paddingLeft:"16px",paddingRight:"8px",transform:"translate3d(0, -100%, 0)",transitionDuration:"125ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",willChange:"transform"},activeStyle:{transform:"translate3d(0, 0, 0)"}},cells:{style:{paddingLeft:"16px",paddingRight:"16px",wordBreak:"break-word"},draggingStyle:{}},rows:{style:{fontSize:"13px",fontWeight:400,color:r.text.primary,backgroundColor:r.background.default,minHeight:"48px","&:not(:last-of-type)":{borderBottomStyle:"solid",borderBottomWidth:"1px",borderBottomColor:r.divider.default}},denseStyle:{minHeight:"32px"},selectedHighlightStyle:{"&:nth-of-type(n)":{color:r.selected.text,backgroundColor:r.selected.default,borderBottomColor:r.background.default}},highlightOnHoverStyle:{color:r.highlightOnHover.text,backgroundColor:r.highlightOnHover.default,transitionDuration:"0.15s",transitionProperty:"background-color",borderBottomColor:r.background.default,outlineStyle:"solid",outlineWidth:"1px",outlineColor:r.background.default},stripedStyle:{color:r.striped.text,backgroundColor:r.striped.default}},expanderRow:{style:{color:r.text.primary,backgroundColor:r.background.default}},expanderCell:{style:{flex:"0 0 48px"}},expanderButton:{style:{color:r.button.default,fill:r.button.default,backgroundColor:"transparent",borderRadius:"2px",transition:"0.25s",height:"100%",width:"100%","&:hover:enabled":{cursor:"pointer"},"&:disabled":{color:r.button.disabled},"&:hover:not(:disabled)":{cursor:"pointer",backgroundColor:r.button.hover},"&:focus":{outline:"none",backgroundColor:r.button.focus},svg:{margin:"auto"}}},pagination:{style:{color:r.text.secondary,fontSize:"13px",minHeight:"56px",backgroundColor:r.background.default,borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:r.divider.default},pageButtonsStyle:{borderRadius:"50%",height:"40px",width:"40px",padding:"8px",margin:"px",cursor:"pointer",transition:"0.4s",color:r.button.default,fill:r.button.default,backgroundColor:"transparent","&:disabled":{cursor:"unset",color:r.button.disabled,fill:r.button.disabled},"&:hover:not(:disabled)":{backgroundColor:r.button.hover},"&:focus":{outline:"none",backgroundColor:r.button.focus}}},noData:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:r.text.primary,backgroundColor:r.background.default}},progress:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:r.text.primary,backgroundColor:r.background.default}}},e);var r}(Ie,Le)),[Ie,Le]),pt=ue.useMemo((()=>Object.assign({},"auto"!==De&&{dir:De})),[De]),ft=ue.useMemo((()=>{if(fe)return t;if((null==tt?void 0:tt.sortFunction)&&"function"==typeof tt.sortFunction){const e=tt.sortFunction,n=nt===ce.ASC?e:(t,n)=>-1*e(t,n);return[...t].sort(n)}return function(e,t,n,i){return t?i&&"function"==typeof i?i(e.slice(0),t,n):e.slice(0).sort(((e,i)=>{const r=t(e),a=t(i);if("asc"===n){if(r<a)return-1;if(r>a)return 1}if("desc"===n){if(r>a)return-1;if(r<a)return 1}return 0})):e}(t,null==tt?void 0:tt.selector,nt,he)}),[fe,tt,nt,t,he]),mt=ue.useMemo((()=>{if(Y&&!M){const e=Ke*Ze,t=e-Ze;return ft.slice(t,e)}return ft}),[Ke,Y,M,Ze,ft]),vt=ue.useCallback((e=>{rt(e)}),[]),yt=ue.useCallback((e=>{rt(e)}),[]),bt=ue.useCallback((e=>{rt(e)}),[]),xt=ue.useCallback(((e,t)=>ie(e,t)),[ie]),Nt=ue.useCallback(((e,t)=>re(e,t)),[re]),At=ue.useCallback(((e,t)=>ae(e,t)),[ae]),kt=ue.useCallback(((e,t)=>oe(e,t)),[oe]),Ot=ue.useCallback((e=>rt({type:"CHANGE_PAGE",page:e,paginationServer:M,visibleOnly:f,persistSelectedOnPageChange:st})),[M,st,f]),Rt=ue.useCallback((e=>{const t=ge(C||mt.length,e),n=ye(Ke,t);M||Ot(n),rt({type:"CHANGE_ROWS_PER_PAGE",page:n,rowsPerPage:e})}),[Ke,Ot,M,C,mt.length]);if(Y&&!M&&ft.length>0&&0===mt.length){const e=ge(ft.length,Ze),t=ye(Ke,e);Ot(t)}Bt((()=>{x({allSelected:$e,selectedCount:et,selectedRows:Je.slice(0)})}),[it]),Bt((()=>{de(tt,nt,ft.slice(0))}),[tt,nt]),Bt((()=>{S(Ke,C||ft.length)}),[Ke]),Bt((()=>{w(Ze,Ke)}),[Ze]),Bt((()=>{Ot(T)}),[T,N]),Bt((()=>{if(Y&&M&&C>0){const e=ge(C,Ze),t=ye(Ke,e);Ke!==t&&Ot(t)}}),[C]),ue.useEffect((()=>{rt({type:"CLEAR_SELECTED_ROWS",selectedRowsFlag:Re})}),[d,Re]),ue.useEffect((()=>{if(!m)return;const e=ft.filter((e=>m(e))),t=d?e.slice(0,1):e;rt({type:"SELECT_MULTIPLE_ROWS",keyField:a,selectedRows:t,totalRows:ft.length,mergeSelections:ct})}),[t,m]);const jt=f?mt:ft,Lt=st||d||p;return ue.createElement(se.ThemeProvider,{theme:ht},!W&&(!!i||!!r)&&ue.createElement(gt,{title:i,actions:r,showMenu:!$,selectedCount:et,direction:De,contextActions:ee,contextComponent:te,contextMessage:Q}),X&&ue.createElement(_t,{align:Z,wrapContent:K},J),ue.createElement(St,Object.assign({$responsive:D,$fixedHeader:G,$fixedHeaderScrollHeight:q,className:Ue},pt),ue.createElement(Et,null,F&&!z&&ue.createElement(Mt,null,U),ue.createElement(Ce,{disabled:H,className:"rdt_Table",role:"table"},!V&&(!!z||ft.length>0&&!F)&&ue.createElement(Ne,{className:"rdt_TableHead",role:"rowgroup",$fixedHeader:G},ue.createElement(Ae,{className:"rdt_TableHeadRow",role:"row",$dense:c},u&&(Lt?ue.createElement(Oe,{style:{flex:"0 0 48px"}}):ue.createElement(lt,{allSelected:$e,selectedRows:Je,selectableRowsComponent:g,selectableRowsComponentProps:y,selectableRowDisabled:v,rowData:jt,keyField:a,mergeSelections:ct,onSelectAllRows:yt})),ne&&!xe&&ue.createElement(Ct,null),ze.map((e=>ue.createElement(ot,{key:e.id,column:e,selectedColumn:tt,disabled:F||0===ft.length,pagination:Y,paginationServer:M,persistSelectedOnSort:at,selectableRowsVisibleOnly:f,sortDirection:nt,sortIcon:le,sortServer:fe,onSort:vt,onDragStart:He,onDragOver:We,onDragEnd:qe,onDragEnter:Ve,onDragLeave:Ge,draggingColumnId:Be}))))),!ft.length&&!F&&ue.createElement(Tt,null,B),F&&z&&ue.createElement(Mt,null,U),!F&&ft.length>0&&ue.createElement(wt,{className:"rdt_TableBody",role:"rowgroup"},mt.map(((e,t)=>{const n=pe(e,a),i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"number"!=typeof e&&(!e||0===e.length)}(n)?t:n,r=_e(e,Je,a),p=!!(ne&&Ee&&Ee(e)),f=!!(ne&&be&&be(e));return ue.createElement(Qe,{id:i,key:i,keyField:a,"data-row-id":i,columns:ze,row:e,rowCount:ft.length,rowIndex:t,selectableRows:u,expandableRows:ne,expandableIcon:_,highlightOnHover:s,pointerOnHover:l,dense:c,expandOnRowClicked:we,expandOnRowDoubleClicked:Se,expandableRowsComponent:me,expandableRowsComponentProps:ve,expandableRowsHideExpander:xe,defaultExpanderDisabled:f,defaultExpanded:p,expandableInheritConditionalStyles:Te,conditionalRowStyles:je,selected:r,selectableRowsHighlight:h,selectableRowsComponent:g,selectableRowsComponentProps:y,selectableRowDisabled:v,selectableRowsSingle:d,striped:o,onRowExpandToggled:b,onRowClicked:xt,onRowDoubleClicked:Nt,onRowMouseEnter:At,onRowMouseLeave:kt,onSelectedRow:bt,draggingColumnId:Be,onDragStart:He,onDragOver:We,onDragEnd:qe,onDragEnter:Ve,onDragLeave:Ge})})))))),ut&&ue.createElement("div",null,ue.createElement(dt,{onChangePage:Ot,onChangeRowsPerPage:Rt,rowCount:C||ft.length,currentPage:Ke,rowsPerPage:Ze,direction:De,paginationRowsPerPageOptions:k,paginationIconLastPage:O,paginationIconFirstPage:P,paginationIconNext:R,paginationIconPrevious:j,paginationComponentOptions:I})))}));t.Ay=Qt},2730:(e,t,n)=>{"use strict";var i=n(5043),r=n(7067);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,i,r,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,i){var r=v.hasOwnProperty(t)?v[t]:null;(null!==r?0!==r.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var j=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=j&&e[j]||e["@@iterator"])?e:null}var I,D=Object.assign;function F(e){if(void 0===I)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),a=i.stack.split("\n"),o=r.length-1,s=a.length-1;1<=o&&0<=s&&r[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(r[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||r[o]!==a[s]){var l="\n"+r[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case w:return"Portal";case E:return"Profiler";case M:return"StrictMode";case A:return"Suspense";case k:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=G(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){J(e,t);var n=W(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),i=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=me(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ge=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Se=null,Me=null;function Ee(e){if(e=br(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=_r(t),we(e.stateNode,e.type,t))}}function Ce(e){Se?Me?Me.push(e):Me=[e]:Se=e}function Te(){if(Se){var e=Se,t=Me;if(Me=Se=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ne(e,t){return e(t)}function Ae(){}var ke=!1;function Oe(e,t,n){if(ke)return e(t,n);ke=!0;try{return Ne(e,t,n)}finally{ke=!1,(null!==Se||null!==Me)&&(Ae(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var i=_r(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(u)try{var je={};Object.defineProperty(je,"passive",{get:function(){Re=!0}}),window.addEventListener("test",je,je),window.removeEventListener("test",je,je)}catch(ue){Re=!1}function Le(e,t,n,i,r,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Ie=!1,De=null,Fe=!1,Ue=null,ze={onError:function(e){Ie=!0,De=e}};function Be(e,t,n,i,r,a,o,s,l){Ie=!1,De=null,Le.apply(ze,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(He(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return We(r),e;if(o===i)return We(r),t;o=o.sibling}throw Error(a(188))}if(n.return!==i.return)n=r,i=o;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,i=o;break}if(l===i){s=!0,i=r,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,i=r;break}if(l===i){s=!0,i=o,n=r;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==i)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ye=r.unstable_scheduleCallback,Xe=r.unstable_cancelCallback,Ze=r.unstable_shouldYield,Ke=r.unstable_requestPaint,Je=r.unstable_now,$e=r.unstable_getCurrentPriorityLevel,Qe=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,it=r.unstable_IdlePriority,rt=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~r;0!==s?i=dt(s):0!==(a&=o)&&(i=dt(a))}else 0!==(o=n&~r)?i=dt(o):0!==a&&(i=dt(a));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&r)&&((r=i&-i)>=(a=t&-t)||16===r&&0!==(4194240&a)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-ot(t)),i|=e[n],t&=~r;return i}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-ot(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,wt,St,Mt,Et,Ct=!1,Tt=[],Nt=null,At=null,kt=null,Ot=new Map,Pt=new Map,Rt=[],jt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":kt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function It(e,t,n,i,r,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},null!==t&&(null!==(t=br(t))&&wt(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Dt(e){var t=yr(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Et(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=br(n))&&wt(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);xe=i,n.target.dispatchEvent(i),xe=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function zt(){Ct=!1,null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),null!==kt&&Ft(kt)&&(kt=null),Ot.forEach(Ut),Pt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,zt)))}function Ht(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var i=Tt[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==Nt&&Bt(Nt,e),null!==At&&Bt(At,e),null!==kt&&Bt(kt,e),Ot.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(i=Rt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Dt(n),null===n.blockedOn&&Rt.shift()}var Vt=x.ReactCurrentBatchConfig,Wt=!0;function Gt(e,t,n,i){var r=bt,a=Vt.transition;Vt.transition=null;try{bt=1,Yt(e,t,n,i)}finally{bt=r,Vt.transition=a}}function qt(e,t,n,i){var r=bt,a=Vt.transition;Vt.transition=null;try{bt=4,Yt(e,t,n,i)}finally{bt=r,Vt.transition=a}}function Yt(e,t,n,i){if(Wt){var r=Zt(e,t,n,i);if(null===r)Wi(e,t,i,Xt,n),Lt(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return Nt=It(Nt,e,t,n,i,r),!0;case"dragenter":return At=It(At,e,t,n,i,r),!0;case"mouseover":return kt=It(kt,e,t,n,i,r),!0;case"pointerover":var a=r.pointerId;return Ot.set(a,It(Ot.get(a)||null,e,t,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,Pt.set(a,It(Pt.get(a)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(Lt(e,i),4&t&&-1<jt.indexOf(e)){for(;null!==r;){var a=br(r);if(null!==a&&_t(a),null===(a=Zt(e,t,n,i))&&Wi(e,t,i,Xt,n),a===r)break;r=a}null!==r&&i.stopPropagation()}else Wi(e,t,i,null,n)}}var Xt=null;function Zt(e,t,n,i){if(Xt=null,null!==(e=yr(e=_e(i))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Qe:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Jt=null,$t=null,Qt=null;function en(){if(Qt)return Qt;var e,t,n=$t,i=n.length,r="value"in Jt?Jt.value:Jt.textContent,a=r.length;for(e=0;e<i&&n[e]===r[e];e++);var o=i-e;for(t=1;t<=o&&n[i-t]===r[a-t];t++);return Qt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,i,r,a){for(var o in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=D({},cn,{view:0,detail:0}),hn=an(dn),pn=D({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=an(pn),mn=an(D({},pn,{dataTransfer:0})),vn=an(D({},dn,{relatedTarget:0})),gn=an(D({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=D({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),xn=an(D({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function En(){return Mn}var Cn=D({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Cn),Nn=an(D({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(D({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),kn=an(D({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=D({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(On),Rn=[9,13,27,32],jn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var In=u&&"TextEvent"in window&&!Ln,Dn=u&&(!jn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function zn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Gn(e,t,n,i){Ce(i),0<(t=qi(t,"onChange")).length&&(n=new un("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var qn=null,Yn=null;function Xn(e){Fi(e,0)}function Zn(e){if(Y(xr(e)))return e}function Kn(e,t){if("change"===e)return t}var Jn=!1;if(u){var $n;if(u){var Qn="oninput"in document;if(!Qn){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),Qn="function"===typeof ei.oninput}$n=Qn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function ti(){qn&&(qn.detachEvent("onpropertychange",ni),Yn=qn=null)}function ni(e){if("value"===e.propertyName&&Zn(Yn)){var t=[];Gn(t,Yn,e,_e(e)),Oe(Xn,t)}}function ii(e,t,n){"focusin"===e?(ti(),Yn=n,(qn=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function ri(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Yn)}function ai(e,t){if("click"===e)return Zn(t)}function oi(e,t){if("input"===e||"change"===e)return Zn(t)}var si="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function li(e,t){if(si(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!d.call(t,r)||!si(e[r],t[r]))return!1}return!0}function ci(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ui(e,t){var n,i=ci(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ci(i)}}function di(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?di(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hi(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function pi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fi(e){var t=hi(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&di(n.ownerDocument.documentElement,n)){if(null!==i&&pi(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,a=Math.min(i.start,r);i=void 0===i.end?a:Math.min(i.end,r),!e.extend&&a>i&&(r=i,i=a,a=r),r=ui(n,a);var o=ui(n,i);r&&o&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),a>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mi=u&&"documentMode"in document&&11>=document.documentMode,vi=null,gi=null,yi=null,bi=!1;function xi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;bi||null==vi||vi!==X(i)||("selectionStart"in(i=vi)&&pi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},yi&&li(yi,i)||(yi=i,0<(i=qi(gi,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=vi)))}function _i(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wi={animationend:_i("Animation","AnimationEnd"),animationiteration:_i("Animation","AnimationIteration"),animationstart:_i("Animation","AnimationStart"),transitionend:_i("Transition","TransitionEnd")},Si={},Mi={};function Ei(e){if(Si[e])return Si[e];if(!wi[e])return e;var t,n=wi[e];for(t in n)if(n.hasOwnProperty(t)&&t in Mi)return Si[e]=n[t];return e}u&&(Mi=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);var Ci=Ei("animationend"),Ti=Ei("animationiteration"),Ni=Ei("animationstart"),Ai=Ei("transitionend"),ki=new Map,Oi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pi(e,t){ki.set(e,t),l(t,[e])}for(var Ri=0;Ri<Oi.length;Ri++){var ji=Oi[Ri];Pi(ji.toLowerCase(),"on"+(ji[0].toUpperCase()+ji.slice(1)))}Pi(Ci,"onAnimationEnd"),Pi(Ti,"onAnimationIteration"),Pi(Ni,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(Ai,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ii=new Set("cancel close invalid load scroll toggle".split(" ").concat(Li));function Di(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,o,s,l,c){if(Be.apply(this,arguments),Ie){if(!Ie)throw Error(a(198));var u=De;Ie=!1,De=null,Fe||(Fe=!0,Ue=u)}}(i,t,void 0,e),e.currentTarget=null}function Fi(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var o=i.length-1;0<=o;o--){var s=i[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&r.isPropagationStopped())break e;Di(r,s,c),a=l}else for(o=0;o<i.length;o++){if(l=(s=i[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&r.isPropagationStopped())break e;Di(r,s,c),a=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ui(e,t){var n=t[mr];void 0===n&&(n=t[mr]=new Set);var i=e+"__bubble";n.has(i)||(Vi(t,e,2,!1),n.add(i))}function zi(e,t,n){var i=0;t&&(i|=4),Vi(n,e,i,t)}var Bi="_reactListening"+Math.random().toString(36).slice(2);function Hi(e){if(!e[Bi]){e[Bi]=!0,o.forEach((function(t){"selectionchange"!==t&&(Ii.has(t)||zi(t,!1,e),zi(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Bi]||(t[Bi]=!0,zi("selectionchange",!1,t))}}function Vi(e,t,n,i){switch(Kt(t)){case 1:var r=Gt;break;case 4:r=qt;break;default:r=Yt}n=r.bind(null,t,n,e),r=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Wi(e,t,n,i,r){var a=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var s=i.stateNode.containerInfo;if(s===r||8===s.nodeType&&s.parentNode===r)break;if(4===o)for(o=i.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;o=o.return}for(;null!==s;){if(null===(o=yr(s)))return;if(5===(l=o.tag)||6===l){i=a=o;continue e}s=s.parentNode}}i=i.return}Oe((function(){var i=a,r=_e(n),o=[];e:{var s=ki.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=vn;break;case"focusout":c="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Ci:case Ti:case Ni:l=gn;break;case Ai:l=kn;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var p,f=i;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=Pe(f,h))&&u.push(Gi(f,m,p)))),d)break;f=f.return}0<u.length&&(s=new l(s,c,null,n,r),o.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!yr(c)&&!c[fr])&&(l||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?yr(c):null)&&(c!==(d=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Nn,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?s:xr(l),p=null==c?s:xr(c),(s=new u(m,f+"leave",l,n,r)).target=d,s.relatedTarget=p,m=null,yr(r)===i&&((u=new u(h,f+"enter",c,n,r)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,f=0,p=u=l;p;p=Yi(p))f++;for(p=0,m=h;m;m=Yi(m))p++;for(;0<f-p;)u=Yi(u),f--;for(;0<p-f;)h=Yi(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Yi(u),h=Yi(h)}u=null}else u=null;null!==l&&Xi(o,s,l,u,!1),null!==c&&null!==d&&Xi(o,d,c,u,!0)}if("select"===(l=(s=i?xr(i):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var v=Kn;else if(Wn(s))if(Jn)v=oi;else{v=ri;var g=ii}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=ai);switch(v&&(v=v(e,i))?Gn(o,v,n,r):(g&&g(e,s,i),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=i?xr(i):window,e){case"focusin":(Wn(g)||"true"===g.contentEditable)&&(vi=g,gi=i,yi=null);break;case"focusout":yi=gi=vi=null;break;case"mousedown":bi=!0;break;case"contextmenu":case"mouseup":case"dragend":bi=!1,xi(o,n,r);break;case"selectionchange":if(mi)break;case"keydown":case"keyup":xi(o,n,r)}var y;if(jn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Dn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(y=en()):($t="value"in(Jt=r)?Jt.value:Jt.textContent,Hn=!0)),0<(g=qi(i,b)).length&&(b=new xn(b,e,null,n,r),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=In?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!jn&&zn(e,t)?(e=en(),Qt=$t=Jt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=qi(i,"onBeforeInput")).length&&(r=new xn("onBeforeInput","beforeinput",null,n,r),o.push({event:r,listeners:i}),r.data=y))}Fi(o,t)}))}function Gi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qi(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,a=r.stateNode;5===r.tag&&null!==a&&(r=a,null!=(a=Pe(e,n))&&i.unshift(Gi(e,a,r)),null!=(a=Pe(e,t))&&i.push(Gi(e,a,r))),e=e.return}return i}function Yi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xi(e,t,n,i,r){for(var a=t._reactName,o=[];null!==n&&n!==i;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===i)break;5===s.tag&&null!==c&&(s=c,r?null!=(l=Pe(n,a))&&o.unshift(Gi(n,l,s)):r||null!=(l=Pe(n,a))&&o.push(Gi(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Zi=/\r\n?/g,Ki=/\u0000|\uFFFD/g;function Ji(e){return("string"===typeof e?e:""+e).replace(Zi,"\n").replace(Ki,"")}function $i(e,t,n){if(t=Ji(t),Ji(e)!==t&&n)throw Error(a(425))}function Qi(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,ar="function"===typeof Promise?Promise:void 0,or="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ar?function(e){return ar.resolve(null).then(e).catch(sr)}:ir;function sr(e){setTimeout((function(){throw e}))}function lr(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),void Ht(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Ht(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ur(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var dr=Math.random().toString(36).slice(2),hr="__reactFiber$"+dr,pr="__reactProps$"+dr,fr="__reactContainer$"+dr,mr="__reactEvents$"+dr,vr="__reactListeners$"+dr,gr="__reactHandles$"+dr;function yr(e){var t=e[hr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fr]||n[hr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ur(e);null!==e;){if(n=e[hr])return n;e=ur(e)}return t}n=(e=n).parentNode}return null}function br(e){return!(e=e[hr]||e[fr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function _r(e){return e[pr]||null}var wr=[],Sr=-1;function Mr(e){return{current:e}}function Er(e){0>Sr||(e.current=wr[Sr],wr[Sr]=null,Sr--)}function Cr(e,t){Sr++,wr[Sr]=e.current,e.current=t}var Tr={},Nr=Mr(Tr),Ar=Mr(!1),kr=Tr;function Or(e,t){var n=e.type.contextTypes;if(!n)return Tr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,a={};for(r in n)a[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Rr(){Er(Ar),Er(Nr)}function jr(e,t,n){if(Nr.current!==Tr)throw Error(a(168));Cr(Nr,t),Cr(Ar,n)}function Lr(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(a(108,V(e)||"Unknown",r));return D({},n,i)}function Ir(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Tr,kr=Nr.current,Cr(Nr,e),Cr(Ar,Ar.current),!0}function Dr(e,t,n){var i=e.stateNode;if(!i)throw Error(a(169));n?(e=Lr(e,t,kr),i.__reactInternalMemoizedMergedChildContext=e,Er(Ar),Er(Nr),Cr(Nr,e)):Er(Ar),Cr(Ar,n)}var Fr=null,Ur=!1,zr=!1;function Br(e){null===Fr?Fr=[e]:Fr.push(e)}function Hr(){if(!zr&&null!==Fr){zr=!0;var e=0,t=bt;try{var n=Fr;for(bt=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}Fr=null,Ur=!1}catch(r){throw null!==Fr&&(Fr=Fr.slice(e+1)),Ye(Qe,Hr),r}finally{bt=t,zr=!1}}return null}var Vr=[],Wr=0,Gr=null,qr=0,Yr=[],Xr=0,Zr=null,Kr=1,Jr="";function $r(e,t){Vr[Wr++]=qr,Vr[Wr++]=Gr,Gr=e,qr=t}function Qr(e,t,n){Yr[Xr++]=Kr,Yr[Xr++]=Jr,Yr[Xr++]=Zr,Zr=e;var i=Kr;e=Jr;var r=32-ot(i)-1;i&=~(1<<r),n+=1;var a=32-ot(t)+r;if(30<a){var o=r-r%5;a=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Kr=1<<32-ot(t)+r|n<<r|i,Jr=a+e}else Kr=1<<a|n<<r|i,Jr=e}function ea(e){null!==e.return&&($r(e,1),Qr(e,1,0))}function ta(e){for(;e===Gr;)Gr=Vr[--Wr],Vr[Wr]=null,qr=Vr[--Wr],Vr[Wr]=null;for(;e===Zr;)Zr=Yr[--Xr],Yr[Xr]=null,Jr=Yr[--Xr],Yr[Xr]=null,Kr=Yr[--Xr],Yr[Xr]=null}var na=null,ia=null,ra=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ia=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ia=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Zr?{id:Kr,overflow:Jr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ia=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ra){var t=ia;if(t){var n=t;if(!sa(e,t)){if(la(e))throw Error(a(418));t=cr(n.nextSibling);var i=na;t&&sa(e,t)?oa(i,n):(e.flags=-4097&e.flags|2,ra=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ra=!1,na=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ra)return ua(e),ra=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=ia)){if(la(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=cr(t.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ia=cr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ia=null}}else ia=na?cr(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ia;e;)e=cr(e.nextSibling)}function pa(){ia=na=null,ra=!1}function fa(e){null===aa?aa=[e]:aa.push(e)}var ma=x.ReactCurrentBatchConfig;function va(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var i=n.stateNode}if(!i)throw Error(a(147,e));var r=i,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=r.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ya(e){return(0,e._init)(e._payload)}function ba(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Dc(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){var a=n.type;return a===S?d(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&ya(a)===t.type)?((i=r(t,n.props)).ref=va(e,t,n),i.return=e,i):((i=jc(n.type,n.key,n.props,null,e.mode,i)).ref=va(e,t,n),i.return=e,i)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,i,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,i,a)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=jc(t.type,t.key,t.props,null,e.mode,n)).ref=va(e,null,t),n.return=e,n;case w:return(t=Fc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;ga(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===r?c(e,t,n,i):null;case w:return n.key===r?u(e,t,n,i):null;case P:return p(e,t,(r=n._init)(n._payload),i)}if(te(n)||L(n))return null!==r?null:d(e,t,n,i,null);ga(e,n)}return null}function f(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case _:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case w:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case P:return f(e,t,n,(0,i._init)(i._payload),r)}if(te(i)||L(i))return d(t,e=e.get(n)||null,i,r,null);ga(t,i)}return null}function m(r,a,s,l){for(var c=null,u=null,d=a,m=a=0,v=null;null!==d&&m<s.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var g=p(r,d,s[m],l);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(r,d),a=o(g,a,m),null===u?c=g:u.sibling=g,u=g,d=v}if(m===s.length)return n(r,d),ra&&$r(r,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(r,s[m],l))&&(a=o(d,a,m),null===u?c=d:u.sibling=d,u=d);return ra&&$r(r,m),c}for(d=i(r,d);m<s.length;m++)null!==(v=f(d,r,m,s[m],l))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),a=o(v,a,m),null===u?c=v:u.sibling=v,u=v);return e&&d.forEach((function(e){return t(r,e)})),ra&&$r(r,m),c}function v(r,s,l,c){var u=L(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,m=s,v=s=0,g=null,y=l.next();null!==m&&!y.done;v++,y=l.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=p(r,m,y.value,c);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(r,m),s=o(b,s,v),null===d?u=b:d.sibling=b,d=b,m=g}if(y.done)return n(r,m),ra&&$r(r,v),u;if(null===m){for(;!y.done;v++,y=l.next())null!==(y=h(r,y.value,c))&&(s=o(y,s,v),null===d?u=y:d.sibling=y,d=y);return ra&&$r(r,v),u}for(m=i(r,m);!y.done;v++,y=l.next())null!==(y=f(m,r,v,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=o(y,s,v),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(r,e)})),ra&&$r(r,v),u}return function e(i,a,o,l){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var c=o.key,u=a;null!==u;){if(u.key===c){if((c=o.type)===S){if(7===u.tag){n(i,u.sibling),(a=r(u,o.props.children)).return=i,i=a;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&ya(c)===u.type){n(i,u.sibling),(a=r(u,o.props)).ref=va(i,u,o),a.return=i,i=a;break e}n(i,u);break}t(i,u),u=u.sibling}o.type===S?((a=Lc(o.props.children,i.mode,l,o.key)).return=i,i=a):((l=jc(o.type,o.key,o.props,null,i.mode,l)).ref=va(i,a,o),l.return=i,i=l)}return s(i);case w:e:{for(u=o.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(i,a.sibling),(a=r(a,o.children||[])).return=i,i=a;break e}n(i,a);break}t(i,a),a=a.sibling}(a=Fc(o,i.mode,l)).return=i,i=a}return s(i);case P:return e(i,a,(u=o._init)(o._payload),l)}if(te(o))return m(i,a,o,l);if(L(o))return v(i,a,o,l);ga(i,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(i,a.sibling),(a=r(a,o)).return=i,i=a):(n(i,a),(a=Dc(o,i.mode,l)).return=i,i=a),s(i)):n(i,a)}}var xa=ba(!0),_a=ba(!1),wa=Mr(null),Sa=null,Ma=null,Ea=null;function Ca(){Ea=Ma=Sa=null}function Ta(e){var t=wa.current;Er(wa),e._currentValue=t}function Na(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Aa(e,t){Sa=e,Ea=Ma=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function ka(e){var t=e._currentValue;if(Ea!==e)if(e={context:e,memoizedValue:t,next:null},null===Ma){if(null===Sa)throw Error(a(308));Ma=e,Sa.dependencies={lanes:0,firstContext:e}}else Ma=Ma.next=e;return t}var Oa=null;function Pa(e){null===Oa?Oa=[e]:Oa.push(e)}function Ra(e,t,n,i){var r=t.interleaved;return null===r?(n.next=n,Pa(t)):(n.next=r.next,r.next=n),t.interleaved=n,ja(e,i)}function ja(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var La=!1;function Ia(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ua(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Nl)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,ja(e,n)}return null===(r=i.interleaved)?(t.next=t,Pa(i)):(t.next=r.next,r.next=t),i.interleaved=t,ja(e,n)}function za(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ba(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?r=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?r=a=t:a=a.next=t}else r=a=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ha(e,t,n,i){var r=e.updateQueue;La=!1;var a=r.firstBaseUpdate,o=r.lastBaseUpdate,s=r.shared.pending;if(null!==s){r.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=r.baseState;for(o=0,u=c=l=null,s=a;;){var h=s.lane,p=s.eventTime;if((i&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,m=s;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(p,d,h):f)||void 0===h)break e;d=D({},d,h);break e;case 2:La=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=r.effects)?r.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,o|=h;if(null===(s=s.next)){if(null===(s=r.shared.pending))break;s=(h=s).next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}if(null===u&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(t=r.shared.interleaved)){r=t;do{o|=r.lane,r=r.next}while(r!==t)}else null===a&&(r.shared.lanes=0);Il|=o,e.lanes=o,e.memoizedState=d}}function Va(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(a(191,r));r.call(i)}}}var Wa={},Ga=Mr(Wa),qa=Mr(Wa),Ya=Mr(Wa);function Xa(e){if(e===Wa)throw Error(a(174));return e}function Za(e,t){switch(Cr(Ya,t),Cr(qa,e),Cr(Ga,Wa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Er(Ga),Cr(Ga,t)}function Ka(){Er(Ga),Er(qa),Er(Ya)}function Ja(e){Xa(Ya.current);var t=Xa(Ga.current),n=le(t,e.type);t!==n&&(Cr(qa,e),Cr(Ga,n))}function $a(e){qa.current===e&&(Er(Ga),Er(qa))}var Qa=Mr(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var io=x.ReactCurrentDispatcher,ro=x.ReactCurrentBatchConfig,ao=0,oo=null,so=null,lo=null,co=!1,uo=!1,ho=0,po=0;function fo(){throw Error(a(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!si(e[n],t[n]))return!1;return!0}function vo(e,t,n,i,r,o){if(ao=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=null===e||null===e.memoizedState?Qo:es,e=n(i,r),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(a(301));o+=1,lo=so=null,t.updateQueue=null,io.current=ts,e=n(i,r)}while(uo)}if(io.current=$o,t=null!==so&&null!==so.next,ao=0,lo=so=oo=null,co=!1,t)throw Error(a(300));return e}function go(){var e=0!==ho;return ho=0,e}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function bo(){if(null===so){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function xo(e,t){return"function"===typeof t?t(e):t}function _o(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=so,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var s=r.next;r.next=o.next,o.next=s}i.baseQueue=r=o,n.pending=null}if(null!==r){o=r.next,i=i.baseState;var l=s=null,c=null,u=o;do{var d=u.lane;if((ao&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:e(i,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=i):c=c.next=h,oo.lanes|=d,Il|=d}u=u.next}while(null!==u&&u!==o);null===c?s=i:c.next=l,si(i,t.memoizedState)||(bs=!0),t.memoizedState=i,t.baseState=s,t.baseQueue=c,n.lastRenderedState=i}if(null!==(e=n.interleaved)){r=e;do{o=r.lane,oo.lanes|=o,Il|=o,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wo(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{o=e(o,s.action),s=s.next}while(s!==r);si(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function So(){}function Mo(e,t){var n=oo,i=bo(),r=t(),o=!si(i.memoizedState,r);if(o&&(i.memoizedState=r,bs=!0),i=i.queue,Io(To.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Oo(9,Co.bind(null,n,i,r,t),void 0,null),null===Al)throw Error(a(349));0!==(30&ao)||Eo(n,t,r)}return r}function Eo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Co(e,t,n,i){t.value=n,t.getSnapshot=i,No(t)&&Ao(e)}function To(e,t,n){return n((function(){No(t)&&Ao(e)}))}function No(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!si(e,n)}catch(i){return!0}}function Ao(e){var t=ja(e,1);null!==t&&nc(t,e,1,-1)}function ko(e){var t=yo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:e},t.queue=e,e=e.dispatch=Xo.bind(null,oo,e),[t.memoizedState,e]}function Oo(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Po(){return bo().memoizedState}function Ro(e,t,n,i){var r=yo();oo.flags|=e,r.memoizedState=Oo(1|t,n,void 0,void 0===i?null:i)}function jo(e,t,n,i){var r=bo();i=void 0===i?null:i;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==i&&mo(i,o.deps))return void(r.memoizedState=Oo(t,n,a,i))}oo.flags|=e,r.memoizedState=Oo(1|t,n,a,i)}function Lo(e,t){return Ro(8390656,8,e,t)}function Io(e,t){return jo(2048,8,e,t)}function Do(e,t){return jo(4,2,e,t)}function Fo(e,t){return jo(4,4,e,t)}function Uo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,jo(4,4,Uo.bind(null,t,e),n)}function Bo(){}function Ho(e,t){var n=bo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&mo(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Vo(e,t){var n=bo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&mo(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Wo(e,t,n){return 0===(21&ao)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(si(n,t)||(n=mt(),oo.lanes|=n,Il|=n,e.baseState=!0),t)}function Go(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var i=ro.transition;ro.transition={};try{e(!1),t()}finally{bt=n,ro.transition=i}}function qo(){return bo().memoizedState}function Yo(e,t,n){var i=tc(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Zo(e))Ko(t,n);else if(null!==(n=Ra(e,t,n,i))){nc(n,e,i,ec()),Jo(n,t,i)}}function Xo(e,t,n){var i=tc(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zo(e))Ko(t,r);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(r.hasEagerState=!0,r.eagerState=s,si(s,o)){var l=t.interleaved;return null===l?(r.next=r,Pa(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=Ra(e,t,r,i))&&(nc(n,e,i,r=ec()),Jo(n,t,i))}}function Zo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Ko(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jo(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}var $o={readContext:ka,useCallback:fo,useContext:fo,useEffect:fo,useImperativeHandle:fo,useInsertionEffect:fo,useLayoutEffect:fo,useMemo:fo,useReducer:fo,useRef:fo,useState:fo,useDebugValue:fo,useDeferredValue:fo,useTransition:fo,useMutableSource:fo,useSyncExternalStore:fo,useId:fo,unstable_isNewReconciler:!1},Qo={readContext:ka,useCallback:function(e,t){return yo().memoizedState=[e,void 0===t?null:t],e},useContext:ka,useEffect:Lo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ro(4194308,4,Uo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ro(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ro(4,2,e,t)},useMemo:function(e,t){var n=yo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=yo();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Yo.bind(null,oo,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},yo().memoizedState=e},useState:ko,useDebugValue:Bo,useDeferredValue:function(e){return yo().memoizedState=e},useTransition:function(){var e=ko(!1),t=e[0];return e=Go.bind(null,e[1]),yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=oo,r=yo();if(ra){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Al)throw Error(a(349));0!==(30&ao)||Eo(i,t,n)}r.memoizedState=n;var o={value:n,getSnapshot:t};return r.queue=o,Lo(To.bind(null,i,o,e),[e]),i.flags|=2048,Oo(9,Co.bind(null,i,o,n,t),void 0,null),n},useId:function(){var e=yo(),t=Al.identifierPrefix;if(ra){var n=Jr;t=":"+t+"R"+(n=(Kr&~(1<<32-ot(Kr)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:ka,useCallback:Ho,useContext:ka,useEffect:Io,useImperativeHandle:zo,useInsertionEffect:Do,useLayoutEffect:Fo,useMemo:Vo,useReducer:_o,useRef:Po,useState:function(){return _o(xo)},useDebugValue:Bo,useDeferredValue:function(e){return Wo(bo(),so.memoizedState,e)},useTransition:function(){return[_o(xo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:Mo,useId:qo,unstable_isNewReconciler:!1},ts={readContext:ka,useCallback:Ho,useContext:ka,useEffect:Io,useImperativeHandle:zo,useInsertionEffect:Do,useLayoutEffect:Fo,useMemo:Vo,useReducer:wo,useRef:Po,useState:function(){return wo(xo)},useDebugValue:Bo,useDeferredValue:function(e){var t=bo();return null===so?t.memoizedState=e:Wo(t,so.memoizedState,e)},useTransition:function(){return[wo(xo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:Mo,useId:qo,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function is(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var rs={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ec(),r=tc(e),a=Fa(i,r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ua(e,a,r))&&(nc(t,e,r,i),za(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ec(),r=tc(e),a=Fa(i,r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ua(e,a,r))&&(nc(t,e,r,i),za(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),i=tc(e),r=Fa(n,i);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Ua(e,r,i))&&(nc(t,e,i,n),za(t,e,i))}};function as(e,t,n,i,r,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,i)||!li(r,a))}function os(e,t,n){var i=!1,r=Tr,a=t.contextType;return"object"===typeof a&&null!==a?a=ka(a):(r=Pr(t)?kr:Nr.current,a=(i=null!==(i=t.contextTypes)&&void 0!==i)?Or(e,r):Tr),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=rs,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function ss(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&rs.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Ia(e);var a=t.contextType;"object"===typeof a&&null!==a?r.context=ka(a):(a=Pr(t)?kr:Nr.current,r.context=Or(e,a)),r.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(is(e,t,a,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&rs.enqueueReplaceState(r,r.state,null),Ha(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",i=t;do{n+=B(i),i=i.return}while(i);var r=n}catch(a){r="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:r,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Fa(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Wl||(Wl=!0,Gl=i),ds(0,t)},n}function fs(e,t,n){(n=Fa(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){ds(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof i&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new hs;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,i,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fa(-1,1)).tag=2,Ua(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var ys=x.ReactCurrentOwner,bs=!1;function xs(e,t,n,i){t.child=null===e?_a(t,null,n,i):xa(t,e.child,n,i)}function _s(e,t,n,i,r){n=n.render;var a=t.ref;return Aa(t,r),i=vo(e,t,n,i,a,r),n=go(),null===e||bs?(ra&&n&&ea(t),t.flags|=1,xs(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ws(e,t,r))}function ws(e,t,n,i,r){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=jc(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,i,r))}if(a=e.child,0===(e.lanes&r)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:li)(o,i)&&e.ref===t.ref)return Ws(e,t,r)}return t.flags|=1,(e=Rc(a,i)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,i,r){if(null!==e){var a=e.memoizedProps;if(li(a,i)&&e.ref===t.ref){if(bs=!1,t.pendingProps=i=a,0===(e.lanes&r))return t.lanes=e.lanes,Ws(e,t,r);0!==(131072&e.flags)&&(bs=!0)}}return Cs(e,t,n,i,r)}function Ms(e,t,n){var i=t.pendingProps,r=i.children,a=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cr(Rl,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cr(Rl,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==a?a.baseLanes:n,Cr(Rl,Pl),Pl|=i}else null!==a?(i=a.baseLanes|n,t.memoizedState=null):i=n,Cr(Rl,Pl),Pl|=i;return xs(e,t,r,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,i,r){var a=Pr(n)?kr:Nr.current;return a=Or(t,a),Aa(t,r),n=vo(e,t,n,i,a,r),i=go(),null===e||bs?(ra&&i&&ea(t),t.flags|=1,xs(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ws(e,t,r))}function Ts(e,t,n,i,r){if(Pr(n)){var a=!0;Ir(t)}else a=!1;if(Aa(t,r),null===t.stateNode)Vs(e,t),os(t,n,i),ls(t,n,i,r),i=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=ka(c):c=Or(t,c=Pr(n)?kr:Nr.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==i||l!==c)&&ss(t,o,i,c),La=!1;var h=t.memoizedState;o.state=h,Ha(t,i,o,r),l=t.memoizedState,s!==i||h!==l||Ar.current||La?("function"===typeof u&&(is(t,n,u,i),l=t.memoizedState),(s=La||as(t,n,s,i,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),o.props=i,o.state=l,o.context=c,i=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,Da(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=ka(l):l=Or(t,l=Pr(n)?kr:Nr.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,o,i,l),La=!1,h=t.memoizedState,o.state=h,Ha(t,i,o,r);var f=t.memoizedState;s!==d||h!==f||Ar.current||La?("function"===typeof p&&(is(t,n,p,i),f=t.memoizedState),(c=La||as(t,n,c,i,h,f,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(i,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=f),o.props=i,o.state=f,o.context=l,i=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return Ns(e,t,n,i,a,r)}function Ns(e,t,n,i,r,a){Es(e,t);var o=0!==(128&t.flags);if(!i&&!o)return r&&Dr(t,n,!1),Ws(e,t,a);i=t.stateNode,ys.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&o?(t.child=xa(t,e.child,null,a),t.child=xa(t,null,s,a)):xs(e,t,s,a),t.memoizedState=i.state,r&&Dr(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?jr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&jr(0,t.context,!1),Za(e,t.containerInfo)}function ks(e,t,n,i,r){return pa(),fa(r),t.flags|=256,xs(e,t,n,i),t.child}var Os,Ps,Rs,js,Ls={dehydrated:null,treeContext:null,retryLane:0};function Is(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ds(e,t,n){var i,r=t.pendingProps,o=Qa.current,s=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&o)),i?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Cr(Qa,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,s?(r=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Ic(l,r,0,null),e=Lc(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Is(n),t.memoizedState=Ls,e):Fs(t,l));if(null!==(o=e.memoizedState)&&null!==(i=o.dehydrated))return function(e,t,n,i,r,o,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,i=us(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=i.fallback,r=t.mode,i=Ic({mode:"visible",children:i.children},r,0,null),(o=Lc(o,r,s,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,0!==(1&t.mode)&&xa(t,e.child,null,s),t.child.memoizedState=Is(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,Us(e,t,s,i=us(o=Error(a(419)),i,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(i=Al)){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|s))?0:r)&&r!==o.retryLane&&(o.retryLane=r,ja(e,r),nc(i,e,r,-1))}return mc(),Us(e,t,s,i=us(Error(a(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),r._reactRetry=t,null):(e=o.treeContext,ia=cr(r.nextSibling),na=t,ra=!0,aa=null,null!==e&&(Yr[Xr++]=Kr,Yr[Xr++]=Jr,Yr[Xr++]=Zr,Kr=e.id,Jr=e.overflow,Zr=t),t=Fs(t,i.children),t.flags|=4096,t)}(e,t,l,r,i,o,n);if(s){s=r.fallback,l=t.mode,i=(o=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==o?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==i?s=Rc(i,s):(s=Lc(s,l,n,null)).flags|=2,s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,l=null===(l=e.child.memoizedState)?Is(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,r}return e=(s=e.child).sibling,r=Rc(s,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Fs(e,t){return(t=Ic({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,i){return null!==i&&fa(i),xa(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Na(e.return,t,n)}function Bs(e,t,n,i,r){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r)}function Hs(e,t,n){var i=t.pendingProps,r=i.revealOrder,a=i.tail;if(xs(e,t,i.children,n),0!==(2&(i=Qa.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Cr(Qa,i),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Bs(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===eo(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Il|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){if(!ra)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function qs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Ys(e,t,n){var i=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:case 17:return Pr(t.type)&&Rr(),qs(t),null;case 3:return i=t.stateNode,Ka(),Er(Ar),Er(Nr),no(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Ps(e,t),qs(t),null;case 5:$a(t);var r=Xa(Ya.current);if(n=t.type,null!==e&&null!=t.stateNode)Rs(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(a(166));return qs(t),null}if(e=Xa(Ga.current),da(t)){i=t.stateNode,n=t.type;var o=t.memoizedProps;switch(i[hr]=t,i[pr]=o,e=0!==(1&t.mode),n){case"dialog":Ui("cancel",i),Ui("close",i);break;case"iframe":case"object":case"embed":Ui("load",i);break;case"video":case"audio":for(r=0;r<Li.length;r++)Ui(Li[r],i);break;case"source":Ui("error",i);break;case"img":case"image":case"link":Ui("error",i),Ui("load",i);break;case"details":Ui("toggle",i);break;case"input":K(i,o),Ui("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Ui("invalid",i);break;case"textarea":re(i,o),Ui("invalid",i)}for(var l in ye(n,o),r=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==o.suppressHydrationWarning&&$i(i.textContent,c,e),r=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&$i(i.textContent,c,e),r=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ui("scroll",i)}switch(n){case"input":q(i),Q(i,o,!0);break;case"textarea":q(i),oe(i);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(i.onclick=Qi)}i=r,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[hr]=t,e[pr]=i,Os(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,i),n){case"dialog":Ui("cancel",e),Ui("close",e),r=i;break;case"iframe":case"object":case"embed":Ui("load",e),r=i;break;case"video":case"audio":for(r=0;r<Li.length;r++)Ui(Li[r],e);r=i;break;case"source":Ui("error",e),r=i;break;case"img":case"image":case"link":Ui("error",e),Ui("load",e),r=i;break;case"details":Ui("toggle",e),r=i;break;case"input":K(e,i),r=Z(e,i),Ui("invalid",e);break;case"option":default:r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=D({},i,{value:void 0}),Ui("invalid",e);break;case"textarea":re(e,i),r=ie(e,i),Ui("invalid",e)}for(o in ye(n,r),c=r)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ve(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Ui("scroll",e):null!=u&&b(e,o,u,l))}switch(n){case"input":q(e),Q(e,i,!1);break;case"textarea":q(e),oe(e);break;case"option":null!=i.value&&e.setAttribute("value",""+W(i.value));break;case"select":e.multiple=!!i.multiple,null!=(o=i.value)?ne(e,!!i.multiple,o,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Qi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qs(t),null;case 6:if(e&&null!=t.stateNode)js(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(a(166));if(n=Xa(Ya.current),Xa(Ga.current),da(t)){if(i=t.stateNode,n=t.memoizedProps,i[hr]=t,(o=i.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:$i(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$i(i.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[hr]=t,t.stateNode=i}return qs(t),null;case 13:if(Er(Qa),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ra&&null!==ia&&0!==(1&t.mode)&&0===(128&t.flags))ha(),pa(),t.flags|=98560,o=!1;else if(o=da(t),null!==i&&null!==i.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hr]=t}else pa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qs(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Qa.current)?0===jl&&(jl=3):mc())),null!==t.updateQueue&&(t.flags|=4),qs(t),null);case 4:return Ka(),Ps(e,t),null===e&&Hi(t.stateNode.containerInfo),qs(t),null;case 10:return Ta(t.type._context),qs(t),null;case 19:if(Er(Qa),null===(o=t.memoizedState))return qs(t),null;if(i=0!==(128&t.flags),null===(l=o.rendering))if(i)Gs(o,!1);else{if(0!==jl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Gs(o,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Cr(Qa,1&Qa.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Hl&&(t.flags|=128,i=!0,Gs(o,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=eo(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ra)return qs(t),null}else 2*Je()-o.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,i=!0,Gs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=Qa.current,Cr(Qa,i?1&n|2:1&n),t):(qs(t),null);case 22:case 23:return dc(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(qs(t),6&t.subtreeFlags&&(t.flags|=8192)):qs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Xs(e,t){switch(ta(t),t.tag){case 1:return Pr(t.type)&&Rr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ka(),Er(Ar),Er(Nr),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $a(t),null;case 13:if(Er(Qa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Er(Qa),null;case 4:return Ka(),null;case 10:return Ta(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Os=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(){},Rs=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,Xa(Ga.current);var a,o=null;switch(n){case"input":r=Z(e,r),i=Z(e,i),o=[];break;case"select":r=D({},r,{value:void 0}),i=D({},i,{value:void 0}),o=[];break;case"textarea":r=ie(e,r),i=ie(e,i),o=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(e.onclick=Qi)}for(u in ye(n,i),n=null,r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var l=r[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in i){var c=i[u];if(l=null!=r?r[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ui("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},js=function(e,t,n,i){n!==i&&(t.flags|=4)};var Zs=!1,Ks=!1,Js="function"===typeof WeakSet?WeakSet:Set,$s=null;function Qs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Mc(e,t,i)}else n.current=null}function el(e,t,n){try{n()}catch(i){Mc(e,t,i)}}var tl=!1;function nl(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var a=r.destroy;r.destroy=void 0,void 0!==a&&el(t,n,a)}r=r.next}while(r!==i)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hr],delete t[pr],delete t[mr],delete t[vr],delete t[gr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qi));else if(4!==i&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(rt,n)}catch(s){}switch(n.tag){case 5:Ks||Qs(n,t);case 6:var i=ul,r=dl;ul=null,hl(e,t,n),dl=r,null!==(ul=i)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),Ht(e)):lr(ul,n.stateNode));break;case 4:i=ul,r=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=i,dl=r;break;case 0:case 11:case 14:case 15:if(!Ks&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var a=r,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&el(n,t,o),r=r.next}while(r!==i)}hl(e,t,n);break;case 1:if(!Ks&&(Qs(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(s){Mc(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Ks=(i=Ks)||null!==n.memoizedState,hl(e,t,n),Ks=i):hl(e,t,n);break;default:hl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var i=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(a(160));pl(o,s,r),ul=null,dl=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(u){Mc(r,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),gl(e),4&i){try{nl(3,e,e.return),il(3,e)}catch(v){Mc(e,e.return,v)}try{nl(5,e,e.return)}catch(v){Mc(e,e.return,v)}}break;case 1:ml(t,e),gl(e),512&i&&null!==n&&Qs(n,n.return);break;case 5:if(ml(t,e),gl(e),512&i&&null!==n&&Qs(n,n.return),32&e.flags){var r=e.stateNode;try{he(r,"")}catch(v){Mc(e,e.return,v)}}if(4&i&&null!=(r=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&J(r,o),be(l,s);var u=be(l,o);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ve(r,h):"dangerouslySetInnerHTML"===d?de(r,h):"children"===d?he(r,h):b(r,d,h,u)}switch(l){case"input":$(r,o);break;case"textarea":ae(r,o);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?ne(r,!!o.multiple,f,!1):p!==!!o.multiple&&(null!=o.defaultValue?ne(r,!!o.multiple,o.defaultValue,!0):ne(r,!!o.multiple,o.multiple?[]:"",!1))}r[pr]=o}catch(v){Mc(e,e.return,v)}}break;case 6:if(ml(t,e),gl(e),4&i){if(null===e.stateNode)throw Error(a(162));r=e.stateNode,o=e.memoizedProps;try{r.nodeValue=o}catch(v){Mc(e,e.return,v)}}break;case 3:if(ml(t,e),gl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(v){Mc(e,e.return,v)}break;case 4:default:ml(t,e),gl(e);break;case 13:ml(t,e),gl(e),8192&(r=e.child).flags&&(o=null!==r.memoizedState,r.stateNode.isHidden=o,!o||null!==r.alternate&&null!==r.alternate.memoizedState||(Bl=Je())),4&i&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ks=(u=Ks)||d,ml(t,e),Ks=u):ml(t,e),gl(e),8192&i){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for($s=e,d=e.child;null!==d;){for(h=$s=d;null!==$s;){switch(f=(p=$s).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Qs(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){i=p,n=p.return;try{t=i,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){Mc(i,n,v)}}break;case 5:Qs(p,p.return);break;case 22:if(null!==p.memoizedState){_l(h);continue}}null!==f?(f.return=p,$s=f):_l(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{r=h.stateNode,u?"function"===typeof(o=r.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(v){Mc(e,e.return,v)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Mc(e,e.return,v)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),gl(e),4&i&&fl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var i=n;break e}n=n.return}throw Error(a(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(he(r,""),i.flags&=-33),cl(e,sl(e),r);break;case 3:case 4:var o=i.stateNode.containerInfo;ll(e,sl(e),o);break;default:throw Error(a(161))}}catch(s){Mc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){$s=e,bl(e,t,n)}function bl(e,t,n){for(var i=0!==(1&e.mode);null!==$s;){var r=$s,a=r.child;if(22===r.tag&&i){var o=null!==r.memoizedState||Zs;if(!o){var s=r.alternate,l=null!==s&&null!==s.memoizedState||Ks;s=Zs;var c=Ks;if(Zs=o,(Ks=l)&&!c)for($s=r;null!==$s;)l=(o=$s).child,22===o.tag&&null!==o.memoizedState?wl(r):null!==l?(l.return=o,$s=l):wl(r);for(;null!==a;)$s=a,bl(a,t,n),a=a.sibling;$s=r,Zs=s,Ks=c}xl(e)}else 0!==(8772&r.subtreeFlags)&&null!==a?(a.return=r,$s=a):xl(e)}}function xl(e){for(;null!==$s;){var t=$s;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ks||il(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Ks)if(null===n)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Va(t,o,i);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Va(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ht(h)}}}break;default:throw Error(a(163))}Ks||512&t.flags&&rl(t)}catch(p){Mc(t,t.return,p)}}if(t===e){$s=null;break}if(null!==(n=t.sibling)){n.return=t.return,$s=n;break}$s=t.return}}function _l(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$s=n;break}$s=t.return}}function wl(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Mc(t,n,l)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(l){Mc(t,r,l)}}var a=t.return;try{rl(t)}catch(l){Mc(t,a,l)}break;case 5:var o=t.return;try{rl(t)}catch(l){Mc(t,o,l)}}}catch(l){Mc(t,t.return,l)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var Sl,Ml=Math.ceil,El=x.ReactCurrentDispatcher,Cl=x.ReactCurrentOwner,Tl=x.ReactCurrentBatchConfig,Nl=0,Al=null,kl=null,Ol=0,Pl=0,Rl=Mr(0),jl=0,Ll=null,Il=0,Dl=0,Fl=0,Ul=null,zl=null,Bl=0,Hl=1/0,Vl=null,Wl=!1,Gl=null,ql=null,Yl=!1,Xl=null,Zl=0,Kl=0,Jl=null,$l=-1,Ql=0;function ec(){return 0!==(6&Nl)?Je():-1!==$l?$l:$l=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==Ol?Ol&-Ol:null!==ma.transition?(0===Ql&&(Ql=mt()),Ql):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function nc(e,t,n,i){if(50<Kl)throw Kl=0,Jl=null,Error(a(185));gt(e,n,i),0!==(2&Nl)&&e===Al||(e===Al&&(0===(2&Nl)&&(Dl|=n),4===jl&&sc(e,Ol)),ic(e,i),1===n&&0===Nl&&0===(1&t.mode)&&(Hl=Je()+500,Ur&&Hr()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,l=r[o];-1===l?0!==(s&n)&&0===(s&i)||(r[o]=pt(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var i=ht(e,e===Al?Ol:0);if(0===i)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){Ur=!0,Br(e)}(lc.bind(null,e)):Br(lc.bind(null,e)),or((function(){0===(6&Nl)&&Hr()})),n=null;else{switch(xt(i)){case 1:n=Qe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=Ac(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if($l=-1,Ql=0,0!==(6&Nl))throw Error(a(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var i=ht(e,e===Al?Ol:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=vc(e,i);else{t=i;var r=Nl;Nl|=2;var o=fc();for(Al===e&&Ol===t||(Vl=null,Hl=Je()+500,hc(e,t));;)try{yc();break}catch(l){pc(e,l)}Ca(),El.current=o,Nl=r,null!==kl?t=0:(Al=null,Ol=0,t=jl)}if(0!==t){if(2===t&&(0!==(r=ft(e))&&(i=r,t=ac(e,r))),1===t)throw n=Ll,hc(e,0),sc(e,i),ic(e,Je()),n;if(6===t)sc(e,i);else{if(r=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!si(a(),r))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=vc(e,i))&&(0!==(o=ft(e))&&(i=o,t=ac(e,o))),1===t))throw n=Ll,hc(e,0),sc(e,i),ic(e,Je()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(a(345));case 2:case 5:_c(e,zl,Vl);break;case 3:if(sc(e,i),(130023424&i)===i&&10<(t=Bl+500-Je())){if(0!==ht(e,0))break;if(((r=e.suspendedLanes)&i)!==i){ec(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ir(_c.bind(null,e,zl,Vl),t);break}_c(e,zl,Vl);break;case 4:if(sc(e,i),(4194240&i)===i)break;for(t=e.eventTimes,r=-1;0<i;){var s=31-ot(i);o=1<<s,(s=t[s])>r&&(r=s),i&=~o}if(i=r,10<(i=(120>(i=Je()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Ml(i/1960))-i)){e.timeoutHandle=ir(_c.bind(null,e,zl,Vl),i);break}_c(e,zl,Vl);break;default:throw Error(a(329))}}}return ic(e,Je()),e.callbackNode===n?rc.bind(null,e):null}function ac(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=zl,zl=n,null!==t&&oc(t)),e}function oc(e){null===zl?zl=e:zl.push.apply(zl,e)}function sc(e,t){for(t&=~Fl,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),i=1<<n;e[n]=-1,t&=~i}}function lc(e){if(0!==(6&Nl))throw Error(a(327));wc();var t=ht(e,0);if(0===(1&t))return ic(e,Je()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var i=ft(e);0!==i&&(t=i,n=ac(e,i))}if(1===n)throw n=Ll,hc(e,0),sc(e,t),ic(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,zl,Vl),ic(e,Je()),null}function cc(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(Hl=Je()+500,Ur&&Hr())}}function uc(e){null!==Xl&&0===Xl.tag&&0===(6&Nl)&&wc();var t=Nl;Nl|=1;var n=Tl.transition,i=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=i,Tl.transition=n,0===(6&(Nl=t))&&Hr()}}function dc(){Pl=Rl.current,Er(Rl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==kl)for(n=kl.return;null!==n;){var i=n;switch(ta(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Rr();break;case 3:Ka(),Er(Ar),Er(Nr),no();break;case 5:$a(i);break;case 4:Ka();break;case 13:case 19:Er(Qa);break;case 10:Ta(i.type._context);break;case 22:case 23:dc()}n=n.return}if(Al=e,kl=e=Rc(e.current,null),Ol=Pl=t,jl=0,Ll=null,Fl=Dl=Il=0,zl=Ul=null,null!==Oa){for(t=0;t<Oa.length;t++)if(null!==(i=(n=Oa[t]).interleaved)){n.interleaved=null;var r=i.next,a=n.pending;if(null!==a){var o=a.next;a.next=r,i.next=o}n.pending=i}Oa=null}return e}function pc(e,t){for(;;){var n=kl;try{if(Ca(),io.current=$o,co){for(var i=oo.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}co=!1}if(ao=0,lo=so=oo=null,uo=!1,ho=0,Cl.current=null,null===n||null===n.return){jl=1,Ll=t,kl=null;break}e:{var o=e,s=n.return,l=n,c=t;if(t=Ol,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=vs(s);if(null!==f){f.flags&=-257,gs(f,s,l,0,t),1&f.mode&&ms(o,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var v=new Set;v.add(c),t.updateQueue=v}else m.add(c);break e}if(0===(1&t)){ms(o,u,t),mc();break e}c=Error(a(426))}else if(ra&&1&l.mode){var g=vs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),gs(g,s,l,0,t),fa(cs(c,l));break e}}o=c=cs(c,l),4!==jl&&(jl=2),null===Ul?Ul=[o]:Ul.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ba(o,ps(0,c,t));break e;case 1:l=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ba(o,fs(o,l,t));break e}}o=o.return}while(null!==o)}xc(n)}catch(x){t=x,kl===n&&null!==n&&(kl=n=n.return);continue}break}}function fc(){var e=El.current;return El.current=$o,null===e?$o:e}function mc(){0!==jl&&3!==jl&&2!==jl||(jl=4),null===Al||0===(268435455&Il)&&0===(268435455&Dl)||sc(Al,Ol)}function vc(e,t){var n=Nl;Nl|=2;var i=fc();for(Al===e&&Ol===t||(Vl=null,hc(e,t));;)try{gc();break}catch(r){pc(e,r)}if(Ca(),Nl=n,El.current=i,null!==kl)throw Error(a(261));return Al=null,Ol=0,jl}function gc(){for(;null!==kl;)bc(kl)}function yc(){for(;null!==kl&&!Ze();)bc(kl)}function bc(e){var t=Sl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?xc(e):kl=t,Cl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ys(n,t,Pl)))return void(kl=n)}else{if(null!==(n=Xs(n,t)))return n.flags&=32767,void(kl=n);if(null===e)return jl=6,void(kl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(kl=t);kl=t=e}while(null!==t);0===jl&&(jl=5)}function _c(e,t,n){var i=bt,r=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,i){do{wc()}while(null!==Xl);if(0!==(6&Nl))throw Error(a(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-ot(n),a=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~a}}(e,o),e===Al&&(kl=Al=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,Ac(tt,(function(){return wc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Tl.transition,Tl.transition=null;var s=bt;bt=1;var l=Nl;Nl|=4,Cl.current=null,function(e,t){if(er=Wt,pi(e=hi())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==r&&3!==h.nodeType||(l=s+r),h!==o||0!==i&&3!==h.nodeType||(c=s+i),3===h.nodeType&&(s+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===r&&(l=s),p===o&&++d===i&&(c=s),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Wt=!1,$s=t;null!==$s;)if(e=(t=$s).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var v=m.memoizedProps,g=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:ns(t.type,v),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(a(163))}}catch(_){Mc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}m=tl,tl=!1}(e,n),vl(n,e),fi(tr),Wt=!!er,tr=er=null,e.current=n,yl(n,e,r),Ke(),Nl=l,bt=s,Tl.transition=o}else e.current=n;if(Yl&&(Yl=!1,Xl=e,Zl=r),o=e.pendingLanes,0===o&&(ql=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Wl)throw Wl=!1,e=Gl,Gl=null,e;0!==(1&Zl)&&0!==e.tag&&wc(),o=e.pendingLanes,0!==(1&o)?e===Jl?Kl++:(Kl=0,Jl=e):Kl=0,Hr()}(e,t,n,i)}finally{Tl.transition=r,bt=i}return null}function wc(){if(null!==Xl){var e=xt(Zl),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===Xl)var i=!1;else{if(e=Xl,Xl=null,Zl=0,0!==(6&Nl))throw Error(a(331));var r=Nl;for(Nl|=4,$s=e.current;null!==$s;){var o=$s,s=o.child;if(0!==(16&$s.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for($s=u;null!==$s;){var d=$s;switch(d.tag){case 0:case 11:case 15:nl(8,d,o)}var h=d.child;if(null!==h)h.return=d,$s=h;else for(;null!==$s;){var p=(d=$s).sibling,f=d.return;if(al(d),d===u){$s=null;break}if(null!==p){p.return=f,$s=p;break}$s=f}}}var m=o.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}$s=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,$s=s;else e:for(;null!==$s;){if(0!==(2048&(o=$s).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,$s=y;break e}$s=o.return}}var b=e.current;for($s=b;null!==$s;){var x=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,$s=x;else e:for(s=b;null!==$s;){if(0!==(2048&(l=$s).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(w){Mc(l,l.return,w)}if(l===s){$s=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,$s=_;break e}$s=l.return}}if(Nl=r,Hr(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(rt,e)}catch(w){}i=!0}return i}finally{bt=n,Tl.transition=t}}return!1}function Sc(e,t,n){e=Ua(e,t=ps(0,t=cs(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),ic(e,t))}function Mc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===ql||!ql.has(i))){t=Ua(t,e=fs(t,e=cs(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),ic(t,e));break}}t=t.return}}function Ec(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Ol&n)===n&&(4===jl||3===jl&&(130023424&Ol)===Ol&&500>Je()-Bl?hc(e,0):Fl|=n),ic(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=ja(e,t))&&(gt(e,t,n),ic(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(a(314))}null!==i&&i.delete(t),Cc(e,n)}function Ac(e,t){return Ye(e,t)}function kc(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,i){return new kc(e,t,n,i)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jc(e,t,n,i,r,o){var s=2;if(i=e,"function"===typeof e)Pc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Lc(n.children,r,o,t);case M:s=8,r|=8;break;case E:return(e=Oc(12,n,t,2|r)).elementType=E,e.lanes=o,e;case A:return(e=Oc(13,n,t,r)).elementType=A,e.lanes=o,e;case k:return(e=Oc(19,n,t,r)).elementType=k,e.lanes=o,e;case R:return Ic(n,r,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case T:s=9;break e;case N:s=11;break e;case O:s=14;break e;case P:s=16,i=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(s,n,t,r)).elementType=e,t.type=i,t.lanes=o,t}function Lc(e,t,n,i){return(e=Oc(7,e,i,t)).lanes=n,e}function Ic(e,t,n,i){return(e=Oc(22,e,i,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Dc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,i,r,a,o,s,l){return e=new Uc(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ia(a),e}function Bc(e){if(!e)return Tr;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pr(n))return Lr(e,n,t)}return t}function Hc(e,t,n,i,r,a,o,s,l){return(e=zc(n,i,!0,e,0,a,0,s,l)).context=Bc(null),n=e.current,(a=Fa(i=ec(),r=tc(n))).callback=void 0!==t&&null!==t?t:null,Ua(n,a,r),e.current.lanes=r,gt(e,r,i),ic(e,i),e}function Vc(e,t,n,i){var r=t.current,a=ec(),o=tc(r);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fa(a,o)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=Ua(r,t,o))&&(nc(e,r,o,a),za(e,r,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ar.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:As(t),pa();break;case 5:Ja(t);break;case 1:Pr(t.type)&&Ir(t);break;case 4:Za(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;Cr(wa,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(Cr(Qa,1&Qa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ds(e,t,n):(Cr(Qa,1&Qa.current),null!==(e=Ws(e,t,n))?e.sibling:null);Cr(Qa,1&Qa.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return Hs(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Cr(Qa,Qa.current),i)break;return null;case 22:case 23:return t.lanes=0,Ms(e,t,n)}return Ws(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ra&&0!==(1048576&t.flags)&&Qr(t,qr,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Vs(e,t),e=t.pendingProps;var r=Or(t,Nr.current);Aa(t,n),r=vo(null,t,i,e,r,n);var o=go();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pr(i)?(o=!0,Ir(t)):o=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Ia(t),r.updater=rs,t.stateNode=r,r._reactInternals=t,ls(t,i,e,n),t=Ns(null,t,i,!0,o,n)):(t.tag=0,ra&&o&&ea(t),xs(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Vs(e,t),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===O)return 14}return 2}(i),e=ns(i,e),r){case 0:t=Cs(null,t,i,e,n);break e;case 1:t=Ts(null,t,i,e,n);break e;case 11:t=_s(null,t,i,e,n);break e;case 14:t=ws(null,t,i,ns(i.type,e),n);break e}throw Error(a(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,Cs(e,t,i,r=t.elementType===i?r:ns(i,r),n);case 1:return i=t.type,r=t.pendingProps,Ts(e,t,i,r=t.elementType===i?r:ns(i,r),n);case 3:e:{if(As(t),null===e)throw Error(a(387));i=t.pendingProps,r=(o=t.memoizedState).element,Da(e,t),Ha(t,i,null,n);var s=t.memoizedState;if(i=s.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=ks(e,t,i,n,r=cs(Error(a(423)),t));break e}if(i!==r){t=ks(e,t,i,n,r=cs(Error(a(424)),t));break e}for(ia=cr(t.stateNode.containerInfo.firstChild),na=t,ra=!0,aa=null,n=_a(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),i===r){t=Ws(e,t,n);break e}xs(e,t,i,n)}t=t.child}return t;case 5:return Ja(t),null===e&&ca(t),i=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,s=r.children,nr(i,r)?s=null:null!==o&&nr(i,o)&&(t.flags|=32),Es(e,t),xs(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Ds(e,t,n);case 4:return Za(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=xa(t,null,i,n):xs(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,_s(e,t,i,r=t.elementType===i?r:ns(i,r),n);case 7:return xs(e,t,t.pendingProps,n),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,o=t.memoizedProps,s=r.value,Cr(wa,i._currentValue),i._currentValue=s,null!==o)if(si(o.value,s)){if(o.children===r.children&&!Ar.current){t=Ws(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===o.tag){(c=Fa(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Na(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Na(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}xs(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,Aa(t,n),i=i(r=ka(r)),t.flags|=1,xs(e,t,i,n),t.child;case 14:return r=ns(i=t.type,t.pendingProps),ws(e,t,i,r=ns(i.type,r),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:ns(i,r),Vs(e,t),t.tag=1,Pr(i)?(e=!0,Ir(t)):e=!1,Aa(t,n),os(t,i,r),ls(t,i,r,n),Ns(null,t,i,!0,e,n);case 19:return Hs(e,t,n);case 22:return Ms(e,t,n)}throw Error(a(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function Zc(e){this._internalRoot=e}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function Qc(e,t,n,i,r){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof r){var s=r;r=function(){var e=Wc(o);s.call(e)}}Vc(t,o,e,r)}else o=function(e,t,n,i,r){if(r){if("function"===typeof i){var a=i;i=function(){var e=Wc(o);a.call(e)}}var o=Hc(t,i,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[fr]=o.current,Hi(8===e.nodeType?e.parentNode:e),uc(),o}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof i){var s=i;i=function(){var e=Wc(l);s.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=l,e[fr]=l.current,Hi(8===e.nodeType?e.parentNode:e),uc((function(){Vc(t,l,n,i)})),l}(n,t,e,r,i);return Wc(o)}Zc.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Vc(e,t,null,null)},Zc.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Vc(null,e,null,null)})),t[fr]=null}},Zc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Dt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Je()),0===(6&Nl)&&(Hl=Je()+500,Hr()))}break;case 13:uc((function(){var t=ja(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),qc(e,1)}},wt=function(e){if(13===e.tag){var t=ja(e,134217728);if(null!==t)nc(t,e,134217728,ec());qc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=ja(e,t);if(null!==n)nc(n,e,t,ec());qc(e,t)}},Mt=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},we=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=_r(i);if(!r)throw Error(a(90));Y(i),$(i,r)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=cc,Ae=uc;var eu={usingClientEntryPoint:!1,Events:[br,xr,_r,Ce,Te,cc]},tu={findFiberByHostInstance:yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{rt=iu.inject(nu),at=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kc(t))throw Error(a(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Kc(e))throw Error(a(299));var n=!1,i="",r=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,i,r),e[fr]=t.current,Hi(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return Qc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Kc(e))throw Error(a(405));var i=null!=n&&n.hydratedSources||null,r=!1,o="",s=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,r,0,o,s),e[fr]=t.current,Hi(e),i)for(e=0;e<i.length;e++)r=(r=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Zc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return Qc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(uc((function(){Qc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fr]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Qc(e,t,n,!1,i)},t.version="18.3.1-next-f1338f8080-20240426"},4391:(e,t,n)=>{"use strict";var i=n(7950);t.createRoot=i.createRoot,t.hydrateRoot=i.hydrateRoot},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},4612:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<a(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,o=r>>>1;i<o;){var s=2*(i+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<r&&0>a(u,l)?(e[i]=u,e[c]=n,i=c):(e[i]=l,e[s]=n,i=s);else{if(!(c<r&&0>a(u,n)))break e;e[i]=u,e[c]=n,i=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=i(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=i(u)}}function _(e){if(v=!1,x(e),!m)if(null!==i(c))m=!0,R(w);else{var t=i(u);null!==t&&j(_,t.startTime-e)}}function w(e,n){m=!1,v&&(v=!1,y(C),C=-1),f=!0;var a=p;try{for(x(n),h=i(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,p=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===i(c)&&r(c),x(n)}else r(c);h=i(c)}if(null!==h)var l=!0;else{var d=i(u);null!==d&&j(_,d.startTime-n),l=!1}return l}finally{h=null,p=a,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,M=!1,E=null,C=-1,T=5,N=-1;function A(){return!(t.unstable_now()-N<T)}function k(){if(null!==E){var e=t.unstable_now();N=e;var n=!0;try{n=E(!0,e)}finally{n?S():(M=!1,E=null)}}else M=!1}if("function"===typeof b)S=function(){b(k)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=k,S=function(){P.postMessage(null)}}else S=function(){g(k,0)};function R(e){E=e,M||(M=!0,S())}function j(e,n){C=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,R(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===i(c)&&e===i(u)&&(v?(y(C),C=-1):v=!0,j(_,a-o))):(e.sortIndex=s,n(c,e),m||f||(m=!0,R(w))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},7067:(e,t,n)=>{"use strict";e.exports=n(4612)},5685:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!==typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=i?Object.getOwnPropertyDescriptor(e,r):null;a&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(5043)),a=(i=n(5173))&&i.__esModule?i:{default:i};function o(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=h(e);if(t){var r=h(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"===typeof t))return t;return d(e)}(this,n)}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(o,e);var t,n,i,a=u(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),p(d(t=a.call(this,e)),"getProps",(function(e){var n=o.defaultProps.options,i=t.props.options;Object.keys(n).forEach((function(t){i[t]=e[t]?e[t]:e.options[t]?e.options[t]:n[t]})),t.setState({options:i,paginationData:e.data})})),p(d(t),"isCurrent",(function(e){return(t.state.paginationData.meta?t.state.paginationData.meta.current_page:t.state.paginationData.current_page)===e})),p(d(t),"handleClick",(function(e){var n={};t.props.requestParams&&(n=t.props.requestParams),n.page=e,t.props.changePage(n)})),p(d(t),"generateButtonsPrev",(function(){var e=t.state.options;return e.buttonIcons?r.default.createElement("i",{className:e.prevButtonIcon}):e.prevButtonText})),p(d(t),"generateButtonsNext",(function(){var e=t.state.options;return e.buttonIcons?r.default.createElement("i",{className:e.nextButtonIcon}):e.nextButtonText})),p(d(t),"generatePagination",(function(){var e,n=t.state.paginationData;if(Object.keys(n).length){for(var i,a=t.state.options,o=n.hasOwnProperty("current_page")?n.current_page:n.meta.current_page,s=n.hasOwnProperty("last_page")?n.last_page:n.meta.last_page,l=parseInt(a.numbersCountForShow),c=o-l,u=o+l+1,d=[],h=[],p=1;p<=s;p++)(1===p||p===s||p>=c&&p<u)&&d.push(p);for(var f=0,m=d;f<m.length;f++){var v=m[f];i&&(v-i===2?h.push(i+1):v-i!==1&&h.push("...")),h.push(v),i=v}var g=n.hasOwnProperty("next_page_url")?n.next_page_url:n.links.next,y=n.hasOwnProperty("prev_page_url")?n.prev_page_url:n.links.prev;e=r.default.createElement("ul",{className:a.containerClass},y?r.default.createElement("li",{className:a.prevButtonClass,onClick:function(e){e.preventDefault(),t.handleClick(o-1)}},r.default.createElement("a",{href:"",className:a.numberClass},t.generateButtonsPrev())):"",h.map((function(e,n){return t.generateNumber(e,n)})),g?r.default.createElement("li",{className:a.nextButtonClass,onClick:function(e){e.preventDefault(),t.handleClick(o+1)}},r.default.createElement("a",{href:"",className:a.numberClass},t.generateButtonsNext())):"")}return e})),t.state={options:{},paginationData:{},nextPageUrl:null,prevPageUrl:null,currentPage:null},t}return t=o,(n=[{key:"componentDidMount",value:function(){this.getProps(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e,t){this.getProps(e)}},{key:"generateNumber",value:function(e,t){var n=this,i=this.state.options;return r.default.createElement("li",{className:this.isCurrent(e)?i.numberButtonClass+" "+i.activeClass:i.numberButtonClass,key:t},r.default.createElement("a",{href:"",className:i.numberClass,onClick:function(i){i.preventDefault(),n.handleClick("..."===e?t+1:e)}},e))}},{key:"render",value:function(){return r.default.createElement(r.default.Fragment,null,this.generatePagination())}}])&&l(t.prototype,n),i&&l(t,i),o}(r.Component);f.defaultProps={options:{containerClass:"pagination",buttonIcons:!1,prevButtonClass:"page-item",prevButtonText:"Prev",prevButtonIcon:"fa fa-chevron-left",nextButtonClass:"page-item",nextButtonText:"Next",nextButtonIcon:"fa fa-chevron-right",numberButtonClass:"page-item",numberClass:"page-link",numbersCountForShow:2,activeClass:"active"},data:{}},f.propTypes={options:a.default.shape({containerClass:a.default.string,buttonIcons:a.default.bool,nextButtonClass:a.default.string,nextButtonText:a.default.string,nextButtonIcon:a.default.string,prevButtonClass:a.default.string,prevButtonText:a.default.string,prevButtonIcon:a.default.string,numberButtonClass:a.default.string,numberClass:a.default.string,numberCountForShow:a.default.number,activeClass:a.default.string}),data:a.default.object};var m=f;t.default=m},3769:(e,t,n)=>{"use strict";Object.defineProperty(t,"d",{enumerable:!0,get:function(){return r.default}});var i,r=(i=n(5685))&&i.__esModule?i:{default:i}},2823:function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},r.apply(this,arguments)},a=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,r++)i[r]=a[o];return i},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},s=o(n(5043)),l=o(n(7950)),c=o(n(9853)),u=o(n(4175)),d=function(e){function t(t){var n=e.call(this,t)||this;n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],n.state={generation:0},n.selection=null,n.onEditorChange=function(e,t,i,r){var a,o,s,l;"text-change"===e?null===(o=(a=n).onEditorChangeText)||void 0===o||o.call(a,n.editor.root.innerHTML,t,r,n.unprivilegedEditor):"selection-change"===e&&(null===(l=(s=n).onEditorChangeSelection)||void 0===l||l.call(s,t,r,n.unprivilegedEditor))};var i=n.isControlled()?t.value:t.defaultValue;return n.value=null!==i&&void 0!==i?i:"",n}return i(t,e),t.prototype.validateProps=function(e){var t;if(s.default.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(s.default.Children.count(e.children)&&"textarea"===(null===(t=s.default.Children.only(e.children))||void 0===t?void 0:t.type))throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.");if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(e,t){var n,i=this;if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){var r=this.getEditorContents(),o=null!==(n=e.value)&&void 0!==n?n:"";this.isEqualValue(o,r)||this.setEditorContents(this.editor,o)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),a(this.cleanProps,this.dirtyProps).some((function(t){return!c.default(e[t],i.props[t])}))},t.prototype.shouldComponentRegenerate=function(e){var t=this;return this.dirtyProps.some((function(n){return!c.default(e[n],t.props[n])}))},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(e,t){var n=this;if(this.editor&&this.shouldComponentRegenerate(e)){var i=this.editor.getContents(),r=this.editor.getSelection();this.regenerationSnapshot={delta:i,selection:r},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){var a=this.regenerationSnapshot,o=(i=a.delta,a.selection);delete this.regenerationSnapshot,this.instantiateEditor();var s=this.editor;s.setContents(i),h((function(){return n.setEditorSelection(s,o)}))}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(e,t){var n=new u.default(e,t);return null!=t.tabIndex&&this.setEditorTabIndex(n,t.tabIndex),this.hookEditor(n),n},t.prototype.hookEditor=function(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(e){e.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(e){return e&&e.ops},t.prototype.isEqualValue=function(e,t){return this.isDelta(e)&&this.isDelta(t)?c.default(e.ops,t.ops):c.default(e,t)},t.prototype.setEditorContents=function(e,t){var n=this;this.value=t;var i=this.getEditorSelection();"string"===typeof t?e.setContents(e.clipboard.convert(t)):e.setContents(t),h((function(){return n.setEditorSelection(e,i)}))},t.prototype.setEditorSelection=function(e,t){if(this.selection=t,t){var n=e.getLength();t.index=Math.max(0,Math.min(t.index,n-1)),t.length=Math.max(0,Math.min(t.length,n-1-t.index)),e.setSelection(t)}},t.prototype.setEditorTabIndex=function(e,t){var n,i;(null===(i=null===(n=e)||void 0===n?void 0:n.scroll)||void 0===i?void 0:i.domNode)&&(e.scroll.domNode.tabIndex=t)},t.prototype.setEditorReadOnly=function(e,t){t?e.disable():e.enable()},t.prototype.makeUnprivilegedEditor=function(e){var t=e;return{getHTML:function(){return t.root.innerHTML},getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var e=l.default.findDOMNode(this.editingArea);if(!e)throw new Error("Cannot find element for editing area");if(3===e.nodeType)throw new Error("Editing area cannot be a text node");return e},t.prototype.renderEditingArea=function(){var e=this,t=this.props,n=t.children,i=t.preserveWhitespace,a={key:this.state.generation,ref:function(t){e.editingArea=t}};return s.default.Children.count(n)?s.default.cloneElement(s.default.Children.only(n),a):i?s.default.createElement("pre",r({},a)):s.default.createElement("div",r({},a))},t.prototype.render=function(){var e;return s.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(e=this.props.className,null!==e&&void 0!==e?e:""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(e,t,n,i){var r,a;if(this.editor){var o=this.isDelta(this.value)?i.getContents():i.getHTML();o!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=o,null===(a=(r=this.props).onChange)||void 0===a||a.call(r,e,t,n,i))}},t.prototype.onEditorChangeSelection=function(e,t,n){var i,r,a,o,s,l;if(this.editor){var u=this.getEditorSelection(),d=!u&&e,h=u&&!e;c.default(e,u)||(this.selection=e,null===(r=(i=this.props).onChangeSelection)||void 0===r||r.call(i,e,t,n),d?null===(o=(a=this.props).onFocus)||void 0===o||o.call(a,e,t,n):h&&(null===(l=(s=this.props).onBlur)||void 0===l||l.call(s,u,t,n)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=u.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(s.default.Component);function h(e){Promise.resolve().then(e)}e.exports=d},1153:(e,t,n)=>{"use strict";var i=n(5043),r=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,a={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,i)&&!l.hasOwnProperty(i)&&(a[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===a[i]&&(a[i]=t[i]);return{$$typeof:r,type:e,key:c,ref:u,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||f}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var x=b.prototype=new y;x.constructor=b,m(x,g.prototype),x.isPureReactComponent=!0;var _=Array.isArray,w=Object.prototype.hasOwnProperty,S={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,i){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!M.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(1===l)a.children=i;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===a[r]&&(a[r]=l[r]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:S.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,r,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return o=o(l=e),e=""===a?"."+N(l,0):a,_(o)?(r="",null!=e&&(r=e.replace(T,"$&/")+"/"),A(o,t,r,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,r+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",_(e))for(var c=0;c<e.length;c++){var u=a+N(s=e[c],c);l+=A(s,t,r,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=A(s=s.value,t,r,u=a+N(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function k(e,t,n){if(null==e)return e;var i=[],r=0;return A(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},j={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:S};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:k,forEach:function(e,t,n){k(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return k(e,(function(){t++})),t},toArray:function(e){return k(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=r,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,t.act=L,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=m({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!M.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:r,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},7324:e=>{e.exports=function(e,t,n,i){var r=n?n.call(i,e,t):void 0;if(void 0!==r)return!!r;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<a.length;l++){var c=a[l];if(!s(c))return!1;var u=e[c],d=t[c];if(!1===(r=n?n.call(i,u,d,c):void 0)||void 0===r&&u!==d)return!1}return!0}},8945:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ServerStyleSheet:()=>on,StyleSheetConsumer:()=>kt,StyleSheetContext:()=>At,StyleSheetManager:()=>Rt,ThemeConsumer:()=>Wt,ThemeContext:()=>Vt,ThemeProvider:()=>qt,__PRIVATE__:()=>sn,createGlobalStyle:()=>nn,css:()=>Jt,default:()=>en,isStyledComponent:()=>Je,keyframes:()=>rn,styled:()=>en,useTheme:()=>Gt,version:()=>he,withTheme:()=>an});var i=function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)};Object.create;function r(e,t,n){if(n||2===arguments.length)for(var i,r=0,a=t.length;r<a;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var a=n(5043),o=n(7324),s=n.n(o),l="-ms-",c="-moz-",u="-webkit-",d="comm",h="rule",p="decl",f="@import",m="@keyframes",v="@layer",g=Math.abs,y=String.fromCharCode,b=Object.assign;function x(e){return e.trim()}function _(e,t){return(e=t.exec(e))?e[0]:e}function w(e,t,n){return e.replace(t,n)}function S(e,t,n){return e.indexOf(t,n)}function M(e,t){return 0|e.charCodeAt(t)}function E(e,t,n){return e.slice(t,n)}function C(e){return e.length}function T(e){return e.length}function N(e,t){return t.push(e),e}function A(e,t){return e.filter((function(e){return!_(e,t)}))}var k=1,O=1,P=0,R=0,j=0,L="";function I(e,t,n,i,r,a,o,s){return{value:e,root:t,parent:n,type:i,props:r,children:a,line:k,column:O,length:o,return:"",siblings:s}}function D(e,t){return b(I("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function F(e){for(;e.root;)e=D(e.root,{children:[e]});N(e,e.siblings)}function U(){return j=R>0?M(L,--R):0,O--,10===j&&(O=1,k--),j}function z(){return j=R<P?M(L,R++):0,O++,10===j&&(O=1,k++),j}function B(){return M(L,R)}function H(){return R}function V(e,t){return E(L,e,t)}function W(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function G(e){return k=O=1,P=C(L=e),R=0,[]}function q(e){return L="",e}function Y(e){return x(V(R-1,K(91===e?e+2:40===e?e+1:e)))}function X(e){for(;(j=B())&&j<33;)z();return W(e)>2||W(j)>3?"":" "}function Z(e,t){for(;--t&&z()&&!(j<48||j>102||j>57&&j<65||j>70&&j<97););return V(e,H()+(t<6&&32==B()&&32==z()))}function K(e){for(;z();)switch(j){case e:return R;case 34:case 39:34!==e&&39!==e&&K(j);break;case 40:41===e&&K(e);break;case 92:z()}return R}function J(e,t){for(;z()&&e+j!==57&&(e+j!==84||47!==B()););return"/*"+V(t,R-1)+"*"+y(47===e?e:z())}function $(e){for(;!W(B());)z();return V(e,R)}function Q(e,t){for(var n="",i=0;i<e.length;i++)n+=t(e[i],i,e,t)||"";return n}function ee(e,t,n,i){switch(e.type){case v:if(e.children.length)break;case f:case p:return e.return=e.return||e.value;case d:return"";case m:return e.return=e.value+"{"+Q(e.children,i)+"}";case h:if(!C(e.value=e.props.join(",")))return""}return C(n=Q(e.children,i))?e.return=e.value+"{"+n+"}":""}function te(e,t,n){switch(function(e,t){return 45^M(e,0)?(((t<<2^M(e,0))<<2^M(e,1))<<2^M(e,2))<<2^M(e,3):0}(e,t)){case 5103:return u+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return u+e+e;case 4789:return c+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return u+e+c+e+l+e+e;case 5936:switch(M(e,t+11)){case 114:return u+e+l+w(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return u+e+l+w(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return u+e+l+w(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return u+e+l+e+e;case 6165:return u+e+l+"flex-"+e+e;case 5187:return u+e+w(e,/(\w+).+(:[^]+)/,u+"box-$1$2"+l+"flex-$1$2")+e;case 5443:return u+e+l+"flex-item-"+w(e,/flex-|-self/g,"")+(_(e,/flex-|baseline/)?"":l+"grid-row-"+w(e,/flex-|-self/g,""))+e;case 4675:return u+e+l+"flex-line-pack"+w(e,/align-content|flex-|-self/g,"")+e;case 5548:return u+e+l+w(e,"shrink","negative")+e;case 5292:return u+e+l+w(e,"basis","preferred-size")+e;case 6060:return u+"box-"+w(e,"-grow","")+u+e+l+w(e,"grow","positive")+e;case 4554:return u+w(e,/([^-])(transform)/g,"$1"+u+"$2")+e;case 6187:return w(w(w(e,/(zoom-|grab)/,u+"$1"),/(image-set)/,u+"$1"),e,"")+e;case 5495:case 3959:return w(e,/(image-set\([^]*)/,u+"$1$`$1");case 4968:return w(w(e,/(.+:)(flex-)?(.*)/,u+"box-pack:$3"+l+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+u+e+e;case 4200:if(!_(e,/flex-|baseline/))return l+"grid-column-align"+E(e,t)+e;break;case 2592:case 3360:return l+w(e,"template-","")+e;case 4384:case 3616:return n&&n.some((function(e,n){return t=n,_(e.props,/grid-\w+-end/)}))?~S(e+(n=n[t].value),"span",0)?e:l+w(e,"-start","")+e+l+"grid-row-span:"+(~S(n,"span",0)?_(n,/\d+/):+_(n,/\d+/)-+_(e,/\d+/))+";":l+w(e,"-start","")+e;case 4896:case 4128:return n&&n.some((function(e){return _(e.props,/grid-\w+-start/)}))?e:l+w(w(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return w(e,/(.+)-inline(.+)/,u+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(C(e)-1-t>6)switch(M(e,t+1)){case 109:if(45!==M(e,t+4))break;case 102:return w(e,/(.+:)(.+)-([^]+)/,"$1"+u+"$2-$3$1"+c+(108==M(e,t+3)?"$3":"$2-$3"))+e;case 115:return~S(e,"stretch",0)?te(w(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return w(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,n,i,r,a,o,s){return l+n+":"+i+s+(r?l+n+"-span:"+(a?o:+o-+i)+s:"")+e}));case 4949:if(121===M(e,t+6))return w(e,":",":"+u)+e;break;case 6444:switch(M(e,45===M(e,14)?18:11)){case 120:return w(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+u+(45===M(e,14)?"inline-":"")+"box$3$1"+u+"$2$3$1"+l+"$2box$3")+e;case 100:return w(e,":",":"+l)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return w(e,"scroll-","scroll-snap-")+e}return e}function ne(e,t,n,i){if(e.length>-1&&!e.return)switch(e.type){case p:return void(e.return=te(e.value,e.length,n));case m:return Q([D(e,{value:w(e.value,"@","@"+u)})],i);case h:if(e.length)return function(e,t){return e.map(t).join("")}(n=e.props,(function(t){switch(_(t,i=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":F(D(e,{props:[w(t,/:(read-\w+)/,":"+c+"$1")]})),F(D(e,{props:[t]})),b(e,{props:A(n,i)});break;case"::placeholder":F(D(e,{props:[w(t,/:(plac\w+)/,":"+u+"input-$1")]})),F(D(e,{props:[w(t,/:(plac\w+)/,":"+c+"$1")]})),F(D(e,{props:[w(t,/:(plac\w+)/,l+"input-$1")]})),F(D(e,{props:[t]})),b(e,{props:A(n,i)})}return""}))}}function ie(e){return q(re("",null,null,null,[""],e=G(e),0,[0],e))}function re(e,t,n,i,r,a,o,s,l){for(var c=0,u=0,d=o,h=0,p=0,f=0,m=1,v=1,b=1,x=0,_="",E=r,T=a,A=i,k=_;v;)switch(f=x,x=z()){case 40:if(108!=f&&58==M(k,d-1)){-1!=S(k+=w(Y(x),"&","&\f"),"&\f",g(c?s[c-1]:0))&&(b=-1);break}case 34:case 39:case 91:k+=Y(x);break;case 9:case 10:case 13:case 32:k+=X(f);break;case 92:k+=Z(H()-1,7);continue;case 47:switch(B()){case 42:case 47:N(oe(J(z(),H()),t,n,l),l);break;default:k+="/"}break;case 123*m:s[c++]=C(k)*b;case 125*m:case 59:case 0:switch(x){case 0:case 125:v=0;case 59+u:-1==b&&(k=w(k,/\f/g,"")),p>0&&C(k)-d&&N(p>32?se(k+";",i,n,d-1,l):se(w(k," ","")+";",i,n,d-2,l),l);break;case 59:k+=";";default:if(N(A=ae(k,t,n,c,u,r,s,_,E=[],T=[],d,a),a),123===x)if(0===u)re(k,t,A,A,E,a,d,s,T);else switch(99===h&&110===M(k,3)?100:h){case 100:case 108:case 109:case 115:re(e,A,A,i&&N(ae(e,A,A,0,0,r,s,_,r,E=[],d,T),T),r,T,d,s,i?E:T);break;default:re(k,A,A,A,[""],T,0,s,T)}}c=u=p=0,m=b=1,_=k="",d=o;break;case 58:d=1+C(k),p=f;default:if(m<1)if(123==x)--m;else if(125==x&&0==m++&&125==U())continue;switch(k+=y(x),x*m){case 38:b=u>0?1:(k+="\f",-1);break;case 44:s[c++]=(C(k)-1)*b,b=1;break;case 64:45===B()&&(k+=Y(z())),h=B(),u=d=C(_=k+=$(H())),x++;break;case 45:45===f&&2==C(k)&&(m=0)}}return a}function ae(e,t,n,i,r,a,o,s,l,c,u,d){for(var p=r-1,f=0===r?a:[""],m=T(f),v=0,y=0,b=0;v<i;++v)for(var _=0,S=E(e,p+1,p=g(y=o[v])),M=e;_<m;++_)(M=x(y>0?f[_]+" "+S:w(S,/&\f/g,f[_])))&&(l[b++]=M);return I(e,t,n,0===r?h:s,l,c,u,d)}function oe(e,t,n,i){return I(e,t,n,d,y(j),E(e,2,-2),0,i)}function se(e,t,n,i,r){return I(e,t,n,p,E(e,0,i),E(e,i+1,-1),i,r)}var le=n(3342),ce="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:8000"}&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:8000"}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:8000"}.SC_ATTR)||"data-styled",ue="active",de="data-styled-version",he="6.1.13",pe="/*!sc*/\n",fe="undefined"!=typeof window&&"HTMLElement"in window,me=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:8000"}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:8000"}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:8000"}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:8000"}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:8000"}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:8000"}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:8000"}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:8000"}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:8000"}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:8000"}.SC_DISABLE_SPEEDY)),ve={},ge=(new Set,Object.freeze([])),ye=Object.freeze({});function be(e,t,n){return void 0===n&&(n=ye),e.theme!==n.theme&&e.theme||t||n.theme}var xe=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),_e=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,we=/(^-|-$)/g;function Se(e){return e.replace(_e,"-").replace(we,"")}var Me=/(a)(d)/gi,Ee=52,Ce=function(e){return String.fromCharCode(e+(e>25?39:97))};function Te(e){var t,n="";for(t=Math.abs(e);t>Ee;t=t/Ee|0)n=Ce(t%Ee)+n;return(Ce(t%Ee)+n).replace(Me,"$1-$2")}var Ne,Ae=5381,ke=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Oe=function(e){return ke(Ae,e)};function Pe(e){return Te(Oe(e)>>>0)}function Re(e){return e.displayName||e.name||"Component"}function je(e){return"string"==typeof e&&!0}var Le="function"==typeof Symbol&&Symbol.for,Ie=Le?Symbol.for("react.memo"):60115,De=Le?Symbol.for("react.forward_ref"):60112,Fe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Ue={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ze={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Be=((Ne={})[De]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ne[Ie]=ze,Ne);function He(e){return("type"in(t=e)&&t.type.$$typeof)===Ie?ze:"$$typeof"in e?Be[e.$$typeof]:Fe;var t}var Ve=Object.defineProperty,We=Object.getOwnPropertyNames,Ge=Object.getOwnPropertySymbols,qe=Object.getOwnPropertyDescriptor,Ye=Object.getPrototypeOf,Xe=Object.prototype;function Ze(e,t,n){if("string"!=typeof t){if(Xe){var i=Ye(t);i&&i!==Xe&&Ze(e,i,n)}var r=We(t);Ge&&(r=r.concat(Ge(t)));for(var a=He(e),o=He(t),s=0;s<r.length;++s){var l=r[s];if(!(l in Ue||n&&n[l]||o&&l in o||a&&l in a)){var c=qe(t,l);try{Ve(e,l,c)}catch(e){}}}}return e}function Ke(e){return"function"==typeof e}function Je(e){return"object"==typeof e&&"styledComponentId"in e}function $e(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function Qe(e,t){if(0===e.length)return"";for(var n=e[0],i=1;i<e.length;i++)n+=t?t+e[i]:e[i];return n}function et(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function tt(e,t,n){if(void 0===n&&(n=!1),!n&&!et(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var i=0;i<t.length;i++)e[i]=tt(e[i],t[i]);else if(et(t))for(var i in t)e[i]=tt(e[i],t[i]);return e}function nt(e,t){Object.defineProperty(e,"toString",{value:t})}function it(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var rt=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,i=n.length,r=i;e>=r;)if((r<<=1)<0)throw it(16,"".concat(e));this.groupSizes=new Uint32Array(r),this.groupSizes.set(n),this.length=r;for(var a=i;a<r;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=(a=0,t.length);a<s;a++)this.tag.insertRule(o,t[a])&&(this.groupSizes[e]++,o++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),i=n+t;this.groupSizes[e]=0;for(var r=n;r<i;r++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],i=this.indexOfGroup(e),r=i+n,a=i;a<r;a++)t+="".concat(this.tag.getRule(a)).concat(pe);return t},e}(),at=new Map,ot=new Map,st=1,lt=function(e){if(at.has(e))return at.get(e);for(;ot.has(st);)st++;var t=st++;return at.set(e,t),ot.set(t,e),t},ct=function(e,t){st=t+1,at.set(e,t),ot.set(t,e)},ut="style[".concat(ce,"][").concat(de,'="').concat(he,'"]'),dt=new RegExp("^".concat(ce,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),ht=function(e,t,n){for(var i,r=n.split(","),a=0,o=r.length;a<o;a++)(i=r[a])&&e.registerName(t,i)},pt=function(e,t){for(var n,i=(null!==(n=t.textContent)&&void 0!==n?n:"").split(pe),r=[],a=0,o=i.length;a<o;a++){var s=i[a].trim();if(s){var l=s.match(dt);if(l){var c=0|parseInt(l[1],10),u=l[2];0!==c&&(ct(u,c),ht(e,u,l[3]),e.getTag().insertRules(c,r)),r.length=0}else r.push(s)}}},ft=function(e){for(var t=document.querySelectorAll(ut),n=0,i=t.length;n<i;n++){var r=t[n];r&&r.getAttribute(ce)!==ue&&(pt(e,r),r.parentNode&&r.parentNode.removeChild(r))}};function mt(){return n.nc}var vt=function(e){var t=document.head,n=e||t,i=document.createElement("style"),r=function(e){var t=Array.from(e.querySelectorAll("style[".concat(ce,"]")));return t[t.length-1]}(n),a=void 0!==r?r.nextSibling:null;i.setAttribute(ce,ue),i.setAttribute(de,he);var o=mt();return o&&i.setAttribute("nonce",o),n.insertBefore(i,a),i},gt=function(){function e(e){this.element=vt(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,i=t.length;n<i;n++){var r=t[n];if(r.ownerNode===e)return r}throw it(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),yt=function(){function e(e){this.element=vt(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),bt=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),xt=fe,_t={isServer:!fe,useCSSOMInjection:!me},wt=function(){function e(e,t,n){void 0===e&&(e=ye),void 0===t&&(t={});var r=this;this.options=i(i({},_t),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&fe&&xt&&(xt=!1,ft(this)),nt(this,(function(){return function(e){for(var t=e.getTag(),n=t.length,i="",r=function(n){var r=function(e){return ot.get(e)}(n);if(void 0===r)return"continue";var a=e.names.get(r),o=t.getGroup(n);if(void 0===a||!a.size||0===o.length)return"continue";var s="".concat(ce,".g").concat(n,'[id="').concat(r,'"]'),l="";void 0!==a&&a.forEach((function(e){e.length>0&&(l+="".concat(e,","))})),i+="".concat(o).concat(s,'{content:"').concat(l,'"}').concat(pe)},a=0;a<n;a++)r(a);return i}(r)}))}return e.registerId=function(e){return lt(e)},e.prototype.rehydrate=function(){!this.server&&fe&&ft(this)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(i(i({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,n=e.target;return e.isServer?new bt(n):t?new gt(n):new yt(n)}(this.options),new rt(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(lt(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(lt(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(lt(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),St=/&/g,Mt=/^\s*\/\/.*$/gm;function Et(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=Et(e.children,t)),e}))}function Ct(e){var t,n,i,r=void 0===e?ye:e,a=r.options,o=void 0===a?ye:a,s=r.plugins,l=void 0===s?ge:s,c=function(e,i,r){return r.startsWith(n)&&r.endsWith(n)&&r.replaceAll(n,"").length>0?".".concat(t):e},u=l.slice();u.push((function(e){e.type===h&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(St,n).replace(i,c))})),o.prefix&&u.push(ne),u.push(ee);var d=function(e,r,a,s){void 0===r&&(r=""),void 0===a&&(a=""),void 0===s&&(s="&"),t=s,n=r,i=new RegExp("\\".concat(n,"\\b"),"g");var l=e.replace(Mt,""),c=ie(a||r?"".concat(a," ").concat(r," { ").concat(l," }"):l);o.namespace&&(c=Et(c,o.namespace));var d,h=[];return Q(c,function(e){var t=T(e);return function(n,i,r,a){for(var o="",s=0;s<t;s++)o+=e[s](n,i,r,a)||"";return o}}(u.concat((d=function(e){return h.push(e)},function(e){e.root||(e=e.return)&&d(e)})))),h};return d.hash=l.length?l.reduce((function(e,t){return t.name||it(15),ke(e,t.name)}),Ae).toString():"",d}var Tt=new wt,Nt=Ct(),At=a.createContext({shouldForwardProp:void 0,styleSheet:Tt,stylis:Nt}),kt=At.Consumer,Ot=a.createContext(void 0);function Pt(){return(0,a.useContext)(At)}function Rt(e){var t=(0,a.useState)(e.stylisPlugins),n=t[0],i=t[1],r=Pt().styleSheet,o=(0,a.useMemo)((function(){var t=r;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target,r]),l=(0,a.useMemo)((function(){return Ct({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:n})}),[e.enableVendorPrefixes,e.namespace,n]);(0,a.useEffect)((function(){s()(n,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]);var c=(0,a.useMemo)((function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:o,stylis:l}}),[e.shouldForwardProp,o,l]);return a.createElement(At.Provider,{value:c},a.createElement(Ot.Provider,{value:l},e.children))}var jt=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Nt);var i=n.name+t.hash;e.hasNameForId(n.id,i)||e.insertRules(n.id,i,t(n.rules,i,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,nt(this,(function(){throw it(12,String(n.name))}))}return e.prototype.getName=function(e){return void 0===e&&(e=Nt),this.name+e.hash},e}(),Lt=function(e){return e>="A"&&e<="Z"};function It(e){for(var t="",n=0;n<e.length;n++){var i=e[n];if(1===n&&"-"===i&&"-"===e[0])return e;Lt(i)?t+="-"+i.toLowerCase():t+=i}return t.startsWith("ms-")?"-"+t:t}var Dt=function(e){return null==e||!1===e||""===e},Ft=function(e){var t,n,i=[];for(var a in e){var o=e[a];e.hasOwnProperty(a)&&!Dt(o)&&(Array.isArray(o)&&o.isCss||Ke(o)?i.push("".concat(It(a),":"),o,";"):et(o)?i.push.apply(i,r(r(["".concat(a," {")],Ft(o),!1),["}"],!1)):i.push("".concat(It(a),": ").concat((t=a,null==(n=o)||"boolean"==typeof n||""===n?"":"number"!=typeof n||0===n||t in le.A||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return i};function Ut(e,t,n,i){return Dt(e)?[]:Je(e)?[".".concat(e.styledComponentId)]:Ke(e)?!Ke(r=e)||r.prototype&&r.prototype.isReactComponent||!t?[e]:Ut(e(t),t,n,i):e instanceof jt?n?(e.inject(n,i),[e.getName(i)]):[e]:et(e)?Ft(e):Array.isArray(e)?Array.prototype.concat.apply(ge,e.map((function(e){return Ut(e,t,n,i)}))):[e.toString()];var r}function zt(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Ke(n)&&!Je(n))return!1}return!0}var Bt=Oe(he),Ht=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&zt(e),this.componentId=t,this.baseHash=ke(Bt,t),this.baseStyle=n,wt.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))i=$e(i,this.staticRulesId);else{var r=Qe(Ut(this.rules,e,t,n)),a=Te(ke(this.baseHash,r)>>>0);if(!t.hasNameForId(this.componentId,a)){var o=n(r,".".concat(a),void 0,this.componentId);t.insertRules(this.componentId,a,o)}i=$e(i,a),this.staticRulesId=a}else{for(var s=ke(this.baseHash,n.hash),l="",c=0;c<this.rules.length;c++){var u=this.rules[c];if("string"==typeof u)l+=u;else if(u){var d=Qe(Ut(u,e,t,n));s=ke(s,d+c),l+=d}}if(l){var h=Te(s>>>0);t.hasNameForId(this.componentId,h)||t.insertRules(this.componentId,h,n(l,".".concat(h),void 0,this.componentId)),i=$e(i,h)}}return i},e}(),Vt=a.createContext(void 0),Wt=Vt.Consumer;function Gt(){var e=(0,a.useContext)(Vt);if(!e)throw it(18);return e}function qt(e){var t=a.useContext(Vt),n=(0,a.useMemo)((function(){return function(e,t){if(!e)throw it(14);if(Ke(e))return e(t);if(Array.isArray(e)||"object"!=typeof e)throw it(8);return t?i(i({},t),e):e}(e.theme,t)}),[e.theme,t]);return e.children?a.createElement(Vt.Provider,{value:n},e.children):null}var Yt={};new Set;function Xt(e,t,n){var r=Je(e),o=e,s=!je(e),l=t.attrs,c=void 0===l?ge:l,u=t.componentId,d=void 0===u?function(e,t){var n="string"!=typeof e?"sc":Se(e);Yt[n]=(Yt[n]||0)+1;var i="".concat(n,"-").concat(Pe(he+n+Yt[n]));return t?"".concat(t,"-").concat(i):i}(t.displayName,t.parentComponentId):u,h=t.displayName,p=void 0===h?function(e){return je(e)?"styled.".concat(e):"Styled(".concat(Re(e),")")}(e):h,f=t.displayName&&t.componentId?"".concat(Se(t.displayName),"-").concat(t.componentId):t.componentId||d,m=r&&o.attrs?o.attrs.concat(c).filter(Boolean):c,v=t.shouldForwardProp;if(r&&o.shouldForwardProp){var g=o.shouldForwardProp;if(t.shouldForwardProp){var y=t.shouldForwardProp;v=function(e,t){return g(e,t)&&y(e,t)}}else v=g}var b=new Ht(n,f,r?o.componentStyle:void 0);function x(e,t){return function(e,t,n){var r=e.attrs,o=e.componentStyle,s=e.defaultProps,l=e.foldedComponentIds,c=e.styledComponentId,u=e.target,d=a.useContext(Vt),h=Pt(),p=e.shouldForwardProp||h.shouldForwardProp,f=be(t,d,s)||ye,m=function(e,t,n){for(var r,a=i(i({},t),{className:void 0,theme:n}),o=0;o<e.length;o+=1){var s=Ke(r=e[o])?r(a):r;for(var l in s)a[l]="className"===l?$e(a[l],s[l]):"style"===l?i(i({},a[l]),s[l]):s[l]}return t.className&&(a.className=$e(a.className,t.className)),a}(r,t,f),v=m.as||u,g={};for(var y in m)void 0===m[y]||"$"===y[0]||"as"===y||"theme"===y&&m.theme===f||("forwardedAs"===y?g.as=m.forwardedAs:p&&!p(y,v)||(g[y]=m[y]));var b=function(e,t){var n=Pt();return e.generateAndInjectStyles(t,n.styleSheet,n.stylis)}(o,m),x=$e(l,c);return b&&(x+=" "+b),m.className&&(x+=" "+m.className),g[je(v)&&!xe.has(v)?"class":"className"]=x,g.ref=n,(0,a.createElement)(v,g)}(_,e,t)}x.displayName=p;var _=a.forwardRef(x);return _.attrs=m,_.componentStyle=b,_.displayName=p,_.shouldForwardProp=v,_.foldedComponentIds=r?$e(o.foldedComponentIds,o.styledComponentId):"",_.styledComponentId=f,_.target=r?o.target:e,Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=r?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=0,r=t;i<r.length;i++)tt(e,r[i],!0);return e}({},o.defaultProps,e):e}}),nt(_,(function(){return".".concat(_.styledComponentId)})),s&&Ze(_,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),_}function Zt(e,t){for(var n=[e[0]],i=0,r=t.length;i<r;i+=1)n.push(t[i],e[i+1]);return n}var Kt=function(e){return Object.assign(e,{isCss:!0})};function Jt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ke(e)||et(e))return Kt(Ut(Zt(ge,r([e],t,!0))));var i=e;return 0===t.length&&1===i.length&&"string"==typeof i[0]?Ut(i):Kt(Ut(Zt(i,t)))}function $t(e,t,n){if(void 0===n&&(n=ye),!t)throw it(1,t);var a=function(i){for(var a=[],o=1;o<arguments.length;o++)a[o-1]=arguments[o];return e(t,n,Jt.apply(void 0,r([i],a,!1)))};return a.attrs=function(r){return $t(e,t,i(i({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},a.withConfig=function(r){return $t(e,t,i(i({},n),r))},a}var Qt=function(e){return $t(Xt,e)},en=Qt;xe.forEach((function(e){en[e]=Qt(e)}));var tn=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=zt(e),wt.registerId(this.componentId+1)}return e.prototype.createStyles=function(e,t,n,i){var r=i(Qe(Ut(this.rules,t,n,i)),""),a=this.componentId+e;n.insertRules(a,a,r)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,n,i){e>2&&wt.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,i)},e}();function nn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=Jt.apply(void 0,r([e],t,!1)),s="sc-global-".concat(Pe(JSON.stringify(o))),l=new tn(o,s),c=function(e){var t=Pt(),n=a.useContext(Vt),i=a.useRef(t.styleSheet.allocateGSInstance(s)).current;return t.styleSheet.server&&u(i,e,t.styleSheet,n,t.stylis),a.useLayoutEffect((function(){if(!t.styleSheet.server)return u(i,e,t.styleSheet,n,t.stylis),function(){return l.removeStyles(i,t.styleSheet)}}),[i,e,t.styleSheet,n,t.stylis]),null};function u(e,t,n,r,a){if(l.isStatic)l.renderStyles(e,ve,n,a);else{var o=i(i({},t),{theme:be(t,r,c.defaultProps)});l.renderStyles(e,o,n,a)}}return a.memo(c)}function rn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=Qe(Jt.apply(void 0,r([e],t,!1))),a=Pe(i);return new jt(a,i)}function an(e){var t=a.forwardRef((function(t,n){var r=be(t,a.useContext(Vt),e.defaultProps);return a.createElement(e,i({},t,{theme:r,ref:n}))}));return t.displayName="WithTheme(".concat(Re(e),")"),Ze(t,e)}var on=function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=mt(),i=Qe([n&&'nonce="'.concat(n,'"'),"".concat(ce,'="true"'),"".concat(de,'="').concat(he,'"')].filter(Boolean)," ");return"<style ".concat(i,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw it(2);return e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)throw it(2);var n=e.instance.toString();if(!n)return[];var r=((t={})[ce]="",t[de]=he,t.dangerouslySetInnerHTML={__html:n},t),o=mt();return o&&(r.nonce=o),[a.createElement("style",i({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new wt({isServer:!0}),this.sealed=!1}return e.prototype.collectStyles=function(e){if(this.sealed)throw it(2);return a.createElement(Rt,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw it(3)},e}(),sn={StyleSheet:wt,mainSheet:Tt};"__sc-".concat(ce,"__")},166:e=>{e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var a=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"===typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"===typeof i.then)return i}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&i;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>o[e]=()=>i[e]));return o.default=()=>i,n.d(a,o),a}})(),n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",n.nc=void 0,(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>Fn,hasStandardBrowserEnv:()=>Un,hasStandardBrowserWebWorkerEnv:()=>Bn});var t={};n.r(t),n.d(t,{ACESFilmicToneMapping:()=>rf,AddEquation:()=>wp,AddOperation:()=>$p,AdditiveAnimationBlendMode:()=>Bm,AdditiveBlending:()=>yp,AgXToneMapping:()=>of,AlphaFormat:()=>Bf,AlwaysCompare:()=>Tv,AlwaysDepth:()=>Vp,AlwaysStencilFunc:()=>bv,AmbientLight:()=>hT,AnimationAction:()=>tN,AnimationClip:()=>IC,AnimationLoader:()=>GC,AnimationMixer:()=>iN,AnimationObjectGroup:()=>eN,AnimationUtils:()=>SC,ArcCurve:()=>BM,ArrayCamera:()=>Vw,ArrowHelper:()=>ZN,AttachedBindMode:()=>lf,Audio:()=>UT,AudioAnalyser:()=>GT,AudioContext:()=>CT,AudioListener:()=>FT,AudioLoader:()=>TT,AxesHelper:()=>KN,BackSide:()=>fp,BasicDepthPacking:()=>Gm,BasicShadowMap:()=>cp,BatchedMesh:()=>dM,Bone:()=>LS,BooleanKeyframeTrack:()=>AC,Box2:()=>vN,Box3:()=>jg,Box3Helper:()=>WN,BoxGeometry:()=>Gb,BoxHelper:()=>VN,BufferAttribute:()=>lb,BufferGeometry:()=>Eb,BufferGeometryLoader:()=>bT,ByteType:()=>kf,Cache:()=>FC,Camera:()=>Jb,CameraHelper:()=>zN,CanvasTexture:()=>FM,CapsuleGeometry:()=>lE,CatmullRomCurve3:()=>YM,CineonToneMapping:()=>nf,CircleGeometry:()=>cE,ClampToEdgeWrapping:()=>gf,Clock:()=>PT,Color:()=>Ky,ColorKeyframeTrack:()=>kC,ColorManagement:()=>pg,CompressedArrayTexture:()=>IM,CompressedCubeTexture:()=>DM,CompressedTexture:()=>LM,CompressedTextureLoader:()=>qC,ConeGeometry:()=>dE,ConstantAlphaFactor:()=>zp,ConstantColorFactor:()=>Fp,CubeCamera:()=>ix,CubeReflectionMapping:()=>df,CubeRefractionMapping:()=>hf,CubeTexture:()=>rx,CubeTextureLoader:()=>XC,CubeUVReflectionMapping:()=>mf,CubicBezierCurve:()=>JM,CubicBezierCurve3:()=>$M,CubicInterpolant:()=>EC,CullFaceBack:()=>op,CullFaceFront:()=>sp,CullFaceFrontBack:()=>lp,CullFaceNone:()=>ap,Curve:()=>UM,CurvePath:()=>aE,CustomBlending:()=>_p,CustomToneMapping:()=>af,CylinderGeometry:()=>uE,Cylindrical:()=>fN,Data3DTexture:()=>Ng,DataArrayTexture:()=>Cg,DataTexture:()=>IS,DataTextureLoader:()=>ZC,DataUtils:()=>ab,DecrementStencilOp:()=>lv,DecrementWrapStencilOp:()=>uv,DefaultLoadingManager:()=>zC,DepthFormat:()=>qf,DepthStencilFormat:()=>Yf,DepthTexture:()=>$x,DetachedBindMode:()=>cf,DirectionalLight:()=>dT,DirectionalLightHelper:()=>DN,DiscreteInterpolant:()=>TC,DisplayP3ColorSpace:()=>$m,DodecahedronGeometry:()=>pE,DoubleSide:()=>mp,DstAlphaFactor:()=>Rp,DstColorFactor:()=>Lp,DynamicCopyUsage:()=>Lv,DynamicDrawUsage:()=>Av,DynamicReadUsage:()=>Pv,EdgesGeometry:()=>yE,EllipseCurve:()=>zM,EqualCompare:()=>wv,EqualDepth:()=>qp,EqualStencilFunc:()=>fv,EquirectangularReflectionMapping:()=>pf,EquirectangularRefractionMapping:()=>ff,Euler:()=>gy,EventDispatcher:()=>Bv,ExtrudeGeometry:()=>XE,FileLoader:()=>WC,Float16BufferAttribute:()=>vb,Float32BufferAttribute:()=>gb,FloatType:()=>Lf,Fog:()=>tS,FogExp2:()=>eS,FramebufferTexture:()=>jM,FrontSide:()=>pp,Frustum:()=>hx,GLBufferAttribute:()=>lN,GLSL1:()=>Dv,GLSL3:()=>Fv,GreaterCompare:()=>Mv,GreaterDepth:()=>Xp,GreaterEqualCompare:()=>Cv,GreaterEqualDepth:()=>Yp,GreaterEqualStencilFunc:()=>yv,GreaterStencilFunc:()=>vv,GridHelper:()=>PN,Group:()=>Ww,HalfFloatType:()=>If,HemisphereLight:()=>$C,HemisphereLightHelper:()=>ON,IcosahedronGeometry:()=>KE,ImageBitmapLoader:()=>MT,ImageLoader:()=>YC,ImageUtils:()=>gg,IncrementStencilOp:()=>sv,IncrementWrapStencilOp:()=>cv,InstancedBufferAttribute:()=>zS,InstancedBufferGeometry:()=>yT,InstancedInterleavedBuffer:()=>sN,InstancedMesh:()=>XS,Int16BufferAttribute:()=>hb,Int32BufferAttribute:()=>fb,Int8BufferAttribute:()=>cb,IntType:()=>Rf,InterleavedBuffer:()=>iS,InterleavedBufferAttribute:()=>aS,Interpolant:()=>MC,InterpolateDiscrete:()=>jm,InterpolateLinear:()=>Lm,InterpolateSmooth:()=>Im,InvertStencilOp:()=>dv,KeepStencilOp:()=>av,KeyframeTrack:()=>NC,LOD:()=>MS,LatheGeometry:()=>sE,Layers:()=>yy,LessCompare:()=>_v,LessDepth:()=>Wp,LessEqualCompare:()=>Sv,LessEqualDepth:()=>Gp,LessEqualStencilFunc:()=>mv,LessStencilFunc:()=>pv,Light:()=>JC,LightProbe:()=>mT,Line:()=>xM,Line3:()=>bN,LineBasicMaterial:()=>hM,LineCurve:()=>QM,LineCurve3:()=>eE,LineDashedMaterial:()=>gC,LineLoop:()=>EM,LineSegments:()=>MM,LinearDisplayP3ColorSpace:()=>Qm,LinearFilter:()=>Mf,LinearInterpolant:()=>CC,LinearMipMapLinearFilter:()=>Nf,LinearMipMapNearestFilter:()=>Cf,LinearMipmapLinearFilter:()=>Tf,LinearMipmapNearestFilter:()=>Ef,LinearSRGBColorSpace:()=>Jm,LinearToneMapping:()=>ef,LinearTransfer:()=>ev,Loader:()=>BC,LoaderUtils:()=>gT,LoadingManager:()=>UC,LoopOnce:()=>Om,LoopPingPong:()=>Rm,LoopRepeat:()=>Pm,LuminanceAlphaFormat:()=>Gf,LuminanceFormat:()=>Wf,MOUSE:()=>ip,Material:()=>Qy,MaterialLoader:()=>vT,MathUtils:()=>$v,Matrix3:()=>eg,Matrix4:()=>sy,MaxEquation:()=>Cp,Mesh:()=>Vb,MeshBasicMaterial:()=>eb,MeshDepthMaterial:()=>Dw,MeshDistanceMaterial:()=>Fw,MeshLambertMaterial:()=>mC,MeshMatcapMaterial:()=>vC,MeshNormalMaterial:()=>fC,MeshPhongMaterial:()=>hC,MeshPhysicalMaterial:()=>dC,MeshStandardMaterial:()=>uC,MeshToonMaterial:()=>pC,MinEquation:()=>Ep,MirroredRepeatWrapping:()=>yf,MixOperation:()=>Jp,MultiplyBlending:()=>xp,MultiplyOperation:()=>Kp,NearestFilter:()=>bf,NearestMipMapLinearFilter:()=>Sf,NearestMipMapNearestFilter:()=>_f,NearestMipmapLinearFilter:()=>wf,NearestMipmapNearestFilter:()=>xf,NeutralToneMapping:()=>sf,NeverCompare:()=>xv,NeverDepth:()=>Hp,NeverStencilFunc:()=>hv,NoBlending:()=>vp,NoColorSpace:()=>Zm,NoToneMapping:()=>Qp,NormalAnimationBlendMode:()=>zm,NormalBlending:()=>gp,NotEqualCompare:()=>Ev,NotEqualDepth:()=>Zp,NotEqualStencilFunc:()=>gv,NumberKeyframeTrack:()=>OC,Object3D:()=>jy,ObjectLoader:()=>xT,ObjectSpaceNormalMap:()=>Xm,OctahedronGeometry:()=>JE,OneFactor:()=>Np,OneMinusConstantAlphaFactor:()=>Bp,OneMinusConstantColorFactor:()=>Up,OneMinusDstAlphaFactor:()=>jp,OneMinusDstColorFactor:()=>Ip,OneMinusSrcAlphaFactor:()=>Pp,OneMinusSrcColorFactor:()=>kp,OrthographicCamera:()=>Nx,P3Primaries:()=>iv,PCFShadowMap:()=>up,PCFSoftShadowMap:()=>dp,PMREMGenerator:()=>zx,Path:()=>oE,PerspectiveCamera:()=>tx,Plane:()=>cx,PlaneGeometry:()=>mx,PlaneHelper:()=>GN,PointLight:()=>cT,PointLightHelper:()=>TN,Points:()=>OM,PointsMaterial:()=>CM,PolarGridHelper:()=>RN,PolyhedronGeometry:()=>hE,PositionalAudio:()=>WT,PropertyBinding:()=>QT,PropertyMixer:()=>qT,QuadraticBezierCurve:()=>tE,QuadraticBezierCurve3:()=>nE,Quaternion:()=>kg,QuaternionKeyframeTrack:()=>RC,QuaternionLinearInterpolant:()=>PC,RED_GREEN_RGTC2_Format:()=>Am,RED_RGTC1_Format:()=>Tm,REVISION:()=>np,RGBADepthPacking:()=>qm,RGBAFormat:()=>Vf,RGBAIntegerFormat:()=>$f,RGBA_ASTC_10x10_Format:()=>_m,RGBA_ASTC_10x5_Format:()=>ym,RGBA_ASTC_10x6_Format:()=>bm,RGBA_ASTC_10x8_Format:()=>xm,RGBA_ASTC_12x10_Format:()=>wm,RGBA_ASTC_12x12_Format:()=>Sm,RGBA_ASTC_4x4_Format:()=>um,RGBA_ASTC_5x4_Format:()=>dm,RGBA_ASTC_5x5_Format:()=>hm,RGBA_ASTC_6x5_Format:()=>pm,RGBA_ASTC_6x6_Format:()=>fm,RGBA_ASTC_8x5_Format:()=>mm,RGBA_ASTC_8x6_Format:()=>vm,RGBA_ASTC_8x8_Format:()=>gm,RGBA_BPTC_Format:()=>Mm,RGBA_ETC2_EAC_Format:()=>cm,RGBA_PVRTC_2BPPV1_Format:()=>om,RGBA_PVRTC_4BPPV1_Format:()=>am,RGBA_S3TC_DXT1_Format:()=>em,RGBA_S3TC_DXT3_Format:()=>tm,RGBA_S3TC_DXT5_Format:()=>nm,RGBFormat:()=>Hf,RGB_BPTC_SIGNED_Format:()=>Em,RGB_BPTC_UNSIGNED_Format:()=>Cm,RGB_ETC1_Format:()=>sm,RGB_ETC2_Format:()=>lm,RGB_PVRTC_2BPPV1_Format:()=>rm,RGB_PVRTC_4BPPV1_Format:()=>im,RGB_S3TC_DXT1_Format:()=>Qf,RGFormat:()=>Kf,RGIntegerFormat:()=>Jf,RawShaderMaterial:()=>cC,Ray:()=>oy,Raycaster:()=>uN,Rec709Primaries:()=>nv,RectAreaLight:()=>pT,RedFormat:()=>Xf,RedIntegerFormat:()=>Zf,ReinhardToneMapping:()=>tf,RenderTarget:()=>Mg,RepeatWrapping:()=>vf,ReplaceStencilOp:()=>ov,ReverseSubtractEquation:()=>Mp,RingGeometry:()=>$E,SIGNED_RED_GREEN_RGTC2_Format:()=>km,SIGNED_RED_RGTC1_Format:()=>Nm,SRGBColorSpace:()=>Km,SRGBTransfer:()=>tv,Scene:()=>nS,ShaderChunk:()=>vx,ShaderLib:()=>yx,ShaderMaterial:()=>Kb,ShadowMaterial:()=>lC,Shape:()=>bE,ShapeGeometry:()=>QE,ShapePath:()=>JN,ShapeUtils:()=>GE,ShortType:()=>Of,Skeleton:()=>US,SkeletonHelper:()=>EN,SkinnedMesh:()=>jS,Source:()=>bg,Sphere:()=>$g,SphereGeometry:()=>eC,Spherical:()=>pN,SphericalHarmonics3:()=>fT,SplineCurve:()=>iE,SpotLight:()=>rT,SpotLightHelper:()=>_N,Sprite:()=>xS,SpriteMaterial:()=>oS,SrcAlphaFactor:()=>Op,SrcAlphaSaturateFactor:()=>Dp,SrcColorFactor:()=>Ap,StaticCopyUsage:()=>jv,StaticDrawUsage:()=>Nv,StaticReadUsage:()=>Ov,StereoCamera:()=>OT,StreamCopyUsage:()=>Iv,StreamDrawUsage:()=>kv,StreamReadUsage:()=>Rv,StringKeyframeTrack:()=>jC,SubtractEquation:()=>Sp,SubtractiveBlending:()=>bp,TOUCH:()=>rp,TangentSpaceNormalMap:()=>Ym,TetrahedronGeometry:()=>tC,Texture:()=>wg,TextureLoader:()=>KC,TorusGeometry:()=>nC,TorusKnotGeometry:()=>iC,Triangle:()=>Gy,TriangleFanDrawMode:()=>Wm,TriangleStripDrawMode:()=>Vm,TrianglesDrawMode:()=>Hm,TubeGeometry:()=>rC,UVMapping:()=>uf,Uint16BufferAttribute:()=>pb,Uint32BufferAttribute:()=>mb,Uint8BufferAttribute:()=>ub,Uint8ClampedBufferAttribute:()=>db,Uniform:()=>rN,UniformsGroup:()=>oN,UniformsLib:()=>gx,UniformsUtils:()=>Zb,UnsignedByteType:()=>Af,UnsignedInt248Type:()=>Uf,UnsignedInt5999Type:()=>zf,UnsignedIntType:()=>jf,UnsignedShort4444Type:()=>Df,UnsignedShort5551Type:()=>Ff,UnsignedShortType:()=>Pf,VSMShadowMap:()=>hp,Vector2:()=>Qv,Vector3:()=>Og,Vector4:()=>Sg,VectorKeyframeTrack:()=>LC,VideoTexture:()=>RM,WebGL3DRenderTarget:()=>Ag,WebGLArrayRenderTarget:()=>Tg,WebGLCoordinateSystem:()=>Uv,WebGLCubeRenderTarget:()=>ax,WebGLMultipleRenderTargets:()=>$N,WebGLRenderTarget:()=>Eg,WebGLRenderer:()=>Qw,WebGLUtils:()=>Hw,WebGPUCoordinateSystem:()=>zv,WireframeGeometry:()=>aC,WrapAroundEnding:()=>Um,ZeroCurvatureEnding:()=>Dm,ZeroFactor:()=>Tp,ZeroSlopeEnding:()=>Fm,ZeroStencilOp:()=>rv,createCanvasElement:()=>og});var i,r=n(5043),a=n.t(r,2),o=n(4391),s=n(7950),l=n.t(s,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));const u="popstate";function d(e){return void 0===e&&(e={}),y((function(e,t){let{pathname:n,search:i,hash:r}=e.location;return m("",{pathname:n,search:i,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:v(t)}),null,e)}function h(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function p(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function m(e,t,n,i){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function v(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function y(e,t,n,r){void 0===r&&(r={});let{window:a=document.defaultView,v5Compat:o=!1}=r,s=a.history,l=i.Pop,d=null,p=g();function g(){return(s.state||{idx:null}).idx}function y(){l=i.Pop;let e=g(),t=null==e?null:e-p;p=e,d&&d({action:l,location:x.location,delta:t})}function b(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:v(e);return n=n.replace(/ $/,"%20"),h(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==p&&(p=0,s.replaceState(c({},s.state,{idx:p}),""));let x={get action(){return l},get location(){return e(a,s)},listen(e){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(u,y),d=e,()=>{a.removeEventListener(u,y),d=null}},createHref:e=>t(a,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=i.Push;let r=m(x.location,e,t);n&&n(r,e),p=g()+1;let c=f(r,p),u=x.createHref(r);try{s.pushState(c,"",u)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;a.location.assign(u)}o&&d&&d({action:l,location:x.location,delta:1})},replace:function(e,t){l=i.Replace;let r=m(x.location,e,t);n&&n(r,e),p=g();let a=f(r,p),c=x.createHref(r);s.replaceState(a,"",c),o&&d&&d({action:l,location:x.location,delta:0})},go:e=>s.go(e)};return x}var b;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(b||(b={}));const x=new Set(["lazy","caseSensitive","path","id","index","children"]);function _(e,t,n,i){return void 0===n&&(n=[]),void 0===i&&(i={}),e.map(((e,r)=>{let a=[...n,r],o="string"===typeof e.id?e.id:a.join("-");if(h(!0!==e.index||!e.children,"Cannot specify children on an index route"),h(!i[o],'Found a route id collision on id "'+o+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){let n=c({},e,t(e),{id:o});return i[o]=n,n}{let n=c({},e,t(e),{id:o,children:void 0});return i[o]=n,e.children&&(n.children=_(e.children,t,a,i)),n}}))}function w(e,t,n){void 0===n&&(n="/");let i=I(("string"===typeof t?g(t):t).pathname||"/",n);if(null==i)return null;let r=S(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(r);let a=null;for(let o=0;null==a&&o<r.length;++o){let e=L(i);a=R(r[o],e)}return a}function S(e,t,n,i){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===i&&(i="");let r=(e,r,a)=>{let o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};o.relativePath.startsWith("/")&&(h(o.relativePath.startsWith(i),'Absolute route path "'+o.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(i.length));let s=B([i,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),S(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:P(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let i of M(e.path))r(e,t,i);else r(e,t)})),t}function M(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===i.length)return r?[a,""]:[a];let o=M(i.join("/")),s=[];return s.push(...o.map((e=>""===e?a:[a,e].join("/")))),r&&s.push(...o),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const E=/^:[\w-]+$/,C=3,T=2,N=1,A=10,k=-2,O=e=>"*"===e;function P(e,t){let n=e.split("/"),i=n.length;return n.some(O)&&(i+=k),t&&(i+=T),n.filter((e=>!O(e))).reduce(((e,t)=>e+(E.test(t)?C:""===t?N:A)),i)}function R(e,t){let{routesMeta:n}=e,i={},r="/",a=[];for(let o=0;o<n.length;++o){let e=n[o],s=o===n.length-1,l="/"===r?t:t.slice(r.length)||"/",c=j({path:e.relativePath,caseSensitive:e.caseSensitive,end:s},l);if(!c)return null;Object.assign(i,c.params);let u=e.route;a.push({params:i,pathname:B([r,c.pathname]),pathnameBase:H(B([r,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(r=B([r,c.pathnameBase]))}return a}function j(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);p("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(i.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(i.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let a=new RegExp(r,t?void 0:"i");return[a,i]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let a=r[0],o=a.replace(/(.)\/+$/,"$1"),s=r.slice(1),l=i.reduce(((e,t,n)=>{let{paramName:i,isOptional:r}=t;if("*"===i){let e=s[n]||"";o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[i]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:a,pathnameBase:o,pattern:e}}function L(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return p(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function I(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}function D(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function F(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function U(e,t){let n=F(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function z(e,t,n,i){let r;void 0===i&&(i=!1),"string"===typeof e?r=g(e):(r=c({},e),h(!r.pathname||!r.pathname.includes("?"),D("?","pathname","search",r)),h(!r.pathname||!r.pathname.includes("#"),D("#","pathname","hash",r)),h(!r.search||!r.search.includes("#"),D("#","search","hash",r)));let a,o=""===e||""===r.pathname,s=o?"/":r.pathname;if(null==s)a=n;else{let e=t.length-1;if(!i&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:i="",hash:r=""}="string"===typeof e?g(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:V(i),hash:W(r)}}(r,a),u=s&&"/"!==s&&s.endsWith("/"),d=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!d||(l.pathname+="/"),l}const B=e=>e.join("/").replace(/\/\/+/g,"/"),H=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",W=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;class G{constructor(e,t,n,i){void 0===i&&(i=!1),this.status=e,this.statusText=t||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const Y=["post","put","patch","delete"],X=new Set(Y),Z=["get",...Y],K=new Set(Z),J=new Set([301,302,303,307,308]),$=new Set([307,308]),Q={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ee={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},te={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ne=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ie=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),re="remix-router-transitions";function ae(e){const t=e.window?e.window:"undefined"!==typeof window?window:void 0,n="undefined"!==typeof t&&"undefined"!==typeof t.document&&"undefined"!==typeof t.document.createElement,r=!n;let a;if(h(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)a=e.mapRouteProperties;else if(e.detectErrorBoundary){let t=e.detectErrorBoundary;a=e=>({hasErrorBoundary:t(e)})}else a=ie;let o,s,l={},u=_(e.routes,a,void 0,l),d=e.basename||"/",f=e.unstable_dataStrategy||pe,v=c({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},e.future),g=null,y=new Set,x=null,S=null,M=null,E=null!=e.hydrationData,C=w(u,e.history.location,d),T=null;if(null==C){let t=Te(404,{pathname:e.history.location.pathname}),{matches:n,route:i}=Ce(u);C=n,T={[i.id]:t}}let N,A=C.some((e=>e.route.lazy)),k=C.some((e=>e.route.loader));if(A)s=!1;else if(k)if(v.v7_partialHydration){let t=e.hydrationData?e.hydrationData.loaderData:null,n=e.hydrationData?e.hydrationData.errors:null,i=e=>!e.route.loader||("function"!==typeof e.route.loader||!0!==e.route.loader.hydrate)&&(t&&void 0!==t[e.route.id]||n&&void 0!==n[e.route.id]);if(n){let e=C.findIndex((e=>void 0!==n[e.route.id]));s=C.slice(0,e+1).every(i)}else s=C.every(i)}else s=null!=e.hydrationData;else s=!0;let O,P={historyAction:e.history.action,location:e.history.location,matches:C,initialized:s,navigation:Q,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||T,fetchers:new Map,blockers:new Map},R=i.Pop,j=!1,L=!1,D=new Map,F=null,U=!1,z=!1,B=[],H=[],V=new Map,W=0,G=-1,q=new Map,Y=new Set,X=new Map,Z=new Map,K=new Set,J=new Map,ae=new Map,le=!1;function ue(e,t){void 0===t&&(t={}),P=c({},P,e);let n=[],i=[];v.v7_fetcherPersist&&P.fetchers.forEach(((e,t)=>{"idle"===e.state&&(K.has(t)?i.push(t):n.push(t))})),[...y].forEach((e=>e(P,{deletedFetchers:i,unstable_viewTransitionOpts:t.viewTransitionOpts,unstable_flushSync:!0===t.flushSync}))),v.v7_fetcherPersist&&(n.forEach((e=>P.fetchers.delete(e))),i.forEach((e=>Ge(e))))}function de(t,n,r){var a,s;let l,{flushSync:d}=void 0===r?{}:r,h=null!=P.actionData&&null!=P.navigation.formMethod&&Ie(P.navigation.formMethod)&&"loading"===P.navigation.state&&!0!==(null==(a=t.state)?void 0:a._isRedirect);l=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:h?P.actionData:null;let p=n.loaderData?Se(P.loaderData,n.loaderData,n.matches||[],n.errors):P.loaderData,f=P.blockers;f.size>0&&(f=new Map(f),f.forEach(((e,t)=>f.set(t,te))));let m,v=!0===j||null!=P.navigation.formMethod&&Ie(P.navigation.formMethod)&&!0!==(null==(s=t.state)?void 0:s._isRedirect);if(o&&(u=o,o=void 0),U||R===i.Pop||(R===i.Push?e.history.push(t,t.state):R===i.Replace&&e.history.replace(t,t.state)),R===i.Pop){let e=D.get(P.location.pathname);e&&e.has(t.pathname)?m={currentLocation:P.location,nextLocation:t}:D.has(t.pathname)&&(m={currentLocation:t,nextLocation:P.location})}else if(L){let e=D.get(P.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),D.set(P.location.pathname,e)),m={currentLocation:P.location,nextLocation:t}}ue(c({},n,{actionData:l,loaderData:p,historyAction:R,location:t,initialized:!0,navigation:Q,revalidation:"idle",restoreScrollPosition:tt(t,n.matches||P.matches),preventScrollReset:v,blockers:f}),{viewTransitionOpts:m,flushSync:!0===d}),R=i.Pop,j=!1,L=!1,U=!1,z=!1,B=[],H=[]}async function he(t,n,r){O&&O.abort(),O=null,R=t,U=!0===(r&&r.startUninterruptedRevalidation),function(e,t){if(x&&M){let n=et(e,t);x[n]=M()}}(P.location,P.matches),j=!0===(r&&r.preventScrollReset),L=!0===(r&&r.enableViewTransition);let a=o||u,s=r&&r.overrideNavigation,l=w(a,n,d),h=!0===(r&&r.flushSync);if(!l){let e=Te(404,{pathname:n.pathname}),{matches:t,route:i}=Ce(a);return Qe(),void de(n,{matches:t,loaderData:{},errors:{[i.id]:e}},{flushSync:h})}if(P.initialized&&!z&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(P.location,n)&&!(r&&r.submission&&Ie(r.submission.formMethod)))return void de(n,{matches:l},{flushSync:h});O=new AbortController;let p,f=ye(e.history,n,O.signal,r&&r.submission);if(r&&r.pendingError)p=[Ee(l).route.id,{type:b.error,error:r.pendingError}];else if(r&&r.submission&&Ie(r.submission.formMethod)){let t=await async function(e,t,n,r,a){void 0===a&&(a={});Ae();let o,s=function(e,t){let n={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return n}(t,n);ue({navigation:s},{flushSync:!0===a.flushSync});let l=ze(r,t);if(l.route.action||l.route.lazy){if(o=(await xe("action",e,[l],r))[0],e.signal.aborted)return{shortCircuited:!0}}else o={type:b.error,error:Te(405,{method:e.method,pathname:t.pathname,routeId:l.route.id})};if(Re(o)){let t;if(a&&null!=a.replace)t=a.replace;else{t=ge(o.response.headers.get("Location"),new URL(e.url),d)===P.location.pathname+P.location.search}return await be(e,o,{submission:n,replace:t}),{shortCircuited:!0}}if(Oe(o))throw Te(400,{type:"defer-action"});if(Pe(o)){let e=Ee(r,l.route.id);return!0!==(a&&a.replace)&&(R=i.Push),{pendingActionResult:[e.route.id,o]}}return{pendingActionResult:[l.route.id,o]}}(f,n,r.submission,l,{replace:r.replace,flushSync:h});if(t.shortCircuited)return;p=t.pendingActionResult,s=He(n,r.submission),h=!1,f=ye(e.history,f.url,f.signal)}let{shortCircuited:m,loaderData:g,errors:y}=await async function(t,n,i,r,a,s,l,h,p,f){let m=r||He(n,a),g=a||s||Be(m),y=o||u,[b,x]=ce(e.history,P,i,g,n,v.v7_partialHydration&&!0===h,v.unstable_skipActionErrorRevalidation,z,B,H,K,X,Y,y,d,f);if(Qe((e=>!(i&&i.some((t=>t.route.id===e)))||b&&b.some((t=>t.route.id===e)))),G=++W,0===b.length&&0===x.length){let e=Xe();return de(n,c({matches:i,loaderData:{},errors:f&&Pe(f[1])?{[f[0]]:f[1].error}:null},Me(f),e?{fetchers:new Map(P.fetchers)}:{}),{flushSync:p}),{shortCircuited:!0}}if(!U&&(!v.v7_partialHydration||!h)){let e;x.forEach((e=>{let t=P.fetchers.get(e.key),n=Ve(void 0,t?t.data:void 0);P.fetchers.set(e.key,n)})),f&&!Pe(f[1])?e={[f[0]]:f[1].data}:P.actionData&&(e=0===Object.keys(P.actionData).length?null:P.actionData),ue(c({navigation:m},void 0!==e?{actionData:e}:{},x.length>0?{fetchers:new Map(P.fetchers)}:{}),{flushSync:p})}x.forEach((e=>{V.has(e.key)&&qe(e.key),e.controller&&V.set(e.key,e.controller)}));let _=()=>x.forEach((e=>qe(e.key)));O&&O.signal.addEventListener("abort",_);let{loaderResults:w,fetcherResults:S}=await _e(P.matches,i,b,x,t);if(t.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",_);x.forEach((e=>V.delete(e.key)));let M=Ne([...w,...S]);if(M){if(M.idx>=b.length){let e=x[M.idx-b.length].key;Y.add(e)}return await be(t,M.result,{replace:l}),{shortCircuited:!0}}let{loaderData:E,errors:C}=we(P,i,b,w,f,x,S,J);J.forEach(((e,t)=>{e.subscribe((n=>{(n||e.done)&&J.delete(t)}))})),v.v7_partialHydration&&h&&P.errors&&Object.entries(P.errors).filter((e=>{let[t]=e;return!b.some((e=>e.route.id===t))})).forEach((e=>{let[t,n]=e;C=Object.assign(C||{},{[t]:n})}));let T=Xe(),N=Ze(G),A=T||N||x.length>0;return c({loaderData:E,errors:C},A?{fetchers:new Map(P.fetchers)}:{})}(f,n,l,s,r&&r.submission,r&&r.fetcherSubmission,r&&r.replace,r&&!0===r.initialHydration,h,p);m||(O=null,de(n,c({matches:l},Me(p),{loaderData:g,errors:y})))}async function be(r,a,o){let{submission:s,fetcherSubmission:l,replace:u}=void 0===o?{}:o;a.response.headers.has("X-Remix-Revalidate")&&(z=!0);let p=a.response.headers.get("Location");h(p,"Expected a Location header on the redirect Response"),p=ge(p,new URL(r.url),d);let f=m(P.location,p,{_isRedirect:!0});if(n){let n=!1;if(a.response.headers.has("X-Remix-Reload-Document"))n=!0;else if(ne.test(p)){const i=e.history.createURL(p);n=i.origin!==t.location.origin||null==I(i.pathname,d)}if(n)return void(u?t.location.replace(p):t.location.assign(p))}O=null;let v=!0===u?i.Replace:i.Push,{formMethod:g,formAction:y,formEncType:b}=P.navigation;!s&&!l&&g&&y&&b&&(s=Be(P.navigation));let x=s||l;if($.has(a.response.status)&&x&&Ie(x.formMethod))await he(v,f,{submission:c({},x,{formAction:p}),preventScrollReset:j});else{let e=He(f,s);await he(v,f,{overrideNavigation:e,fetcherSubmission:l,preventScrollReset:j})}}async function xe(e,t,n,i){try{let r=await fe(f,e,t,n,i,l,a);return await Promise.all(r.map(((e,r)=>{if(ke(e)){let a=e.result;return{type:b.redirect,response:ve(a,t,n[r].route.id,i,d,v.v7_relativeSplatPath)}}return me(e)})))}catch(r){return n.map((()=>({type:b.error,error:r})))}}async function _e(t,n,i,r,a){let[o,...s]=await Promise.all([i.length?xe("loader",a,i,n):[],...r.map((t=>{if(t.matches&&t.match&&t.controller){return xe("loader",ye(e.history,t.path,t.controller.signal),[t.match],t.matches).then((e=>e[0]))}return Promise.resolve({type:b.error,error:Te(404,{pathname:t.path})})}))]);return await Promise.all([De(t,i,o,o.map((()=>a.signal)),!1,P.loaderData),De(t,r.map((e=>e.match)),s,r.map((e=>e.controller?e.controller.signal:null)),!0)]),{loaderResults:o,fetcherResults:s}}function Ae(){z=!0,B.push(...Qe()),X.forEach(((e,t)=>{V.has(t)&&(H.push(t),qe(t))}))}function je(e,t,n){void 0===n&&(n={}),P.fetchers.set(e,t),ue({fetchers:new Map(P.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function Le(e,t,n,i){void 0===i&&(i={});let r=Ee(P.matches,t);Ge(e),ue({errors:{[r.route.id]:n},fetchers:new Map(P.fetchers)},{flushSync:!0===(i&&i.flushSync)})}function Ue(e){return v.v7_fetcherPersist&&(Z.set(e,(Z.get(e)||0)+1),K.has(e)&&K.delete(e)),P.fetchers.get(e)||ee}function Ge(e){let t=P.fetchers.get(e);!V.has(e)||t&&"loading"===t.state&&q.has(e)||qe(e),X.delete(e),q.delete(e),Y.delete(e),K.delete(e),P.fetchers.delete(e)}function qe(e){let t=V.get(e);h(t,"Expected fetch controller: "+e),t.abort(),V.delete(e)}function Ye(e){for(let t of e){let e=We(Ue(t).data);P.fetchers.set(t,e)}}function Xe(){let e=[],t=!1;for(let n of Y){let i=P.fetchers.get(n);h(i,"Expected fetcher: "+n),"loading"===i.state&&(Y.delete(n),e.push(n),t=!0)}return Ye(e),t}function Ze(e){let t=[];for(let[n,i]of q)if(i<e){let e=P.fetchers.get(n);h(e,"Expected fetcher: "+n),"loading"===e.state&&(qe(n),q.delete(n),t.push(n))}return Ye(t),t.length>0}function Ke(e){P.blockers.delete(e),ae.delete(e)}function Je(e,t){let n=P.blockers.get(e)||te;h("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);let i=new Map(P.blockers);i.set(e,t),ue({blockers:i})}function $e(e){let{currentLocation:t,nextLocation:n,historyAction:i}=e;if(0===ae.size)return;ae.size>1&&p(!1,"A router only supports one blocker at a time");let r=Array.from(ae.entries()),[a,o]=r[r.length-1],s=P.blockers.get(a);return s&&"proceeding"===s.state?void 0:o({currentLocation:t,nextLocation:n,historyAction:i})?a:void 0}function Qe(e){let t=[];return J.forEach(((n,i)=>{e&&!e(i)||(n.cancel(),t.push(i),J.delete(i))})),t}function et(e,t){if(S){let n=S(e,t.map((e=>function(e,t){let{route:n,pathname:i,params:r}=e;return{id:n.id,pathname:i,params:r,data:t[n.id],handle:n.handle}}(e,P.loaderData))));return n||e.key}return e.key}function tt(e,t){if(x){let n=et(e,t),i=x[n];if("number"===typeof i)return i}return null}return N={get basename(){return d},get future(){return v},get state(){return P},get routes(){return u},get window(){return t},initialize:function(){if(g=e.history.listen((t=>{let{action:n,location:i,delta:r}=t;if(le)return void(le=!1);p(0===ae.size||null!=r,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let a=$e({currentLocation:P.location,nextLocation:i,historyAction:n});return a&&null!=r?(le=!0,e.history.go(-1*r),void Je(a,{state:"blocked",location:i,proceed(){Je(a,{state:"proceeding",proceed:void 0,reset:void 0,location:i}),e.history.go(r)},reset(){let e=new Map(P.blockers);e.set(a,te),ue({blockers:e})}})):he(n,i)})),n){!function(e,t){try{let n=e.sessionStorage.getItem(re);if(n){let e=JSON.parse(n);for(let[n,i]of Object.entries(e||{}))i&&Array.isArray(i)&&t.set(n,new Set(i||[]))}}catch(n){}}(t,D);let e=()=>function(e,t){if(t.size>0){let i={};for(let[e,n]of t)i[e]=[...n];try{e.sessionStorage.setItem(re,JSON.stringify(i))}catch(n){p(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}(t,D);t.addEventListener("pagehide",e),F=()=>t.removeEventListener("pagehide",e)}return P.initialized||he(i.Pop,P.location,{initialHydration:!0}),N},subscribe:function(e){return y.add(e),()=>y.delete(e)},enableScrollRestoration:function(e,t,n){if(x=e,M=t,S=n||null,!E&&P.navigation===Q){E=!0;let e=tt(P.location,P.matches);null!=e&&ue({restoreScrollPosition:e})}return()=>{x=null,M=null,S=null}},navigate:async function t(n,r){if("number"===typeof n)return void e.history.go(n);let a=oe(P.location,P.matches,d,v.v7_prependBasename,n,v.v7_relativeSplatPath,null==r?void 0:r.fromRouteId,null==r?void 0:r.relative),{path:o,submission:s,error:l}=se(v.v7_normalizeFormMethod,!1,a,r),u=P.location,h=m(P.location,o,r&&r.state);h=c({},h,e.history.encodeLocation(h));let p=r&&null!=r.replace?r.replace:void 0,f=i.Push;!0===p?f=i.Replace:!1===p||null!=s&&Ie(s.formMethod)&&s.formAction===P.location.pathname+P.location.search&&(f=i.Replace);let g=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,y=!0===(r&&r.unstable_flushSync),b=$e({currentLocation:u,nextLocation:h,historyAction:f});if(!b)return await he(f,h,{submission:s,pendingError:l,preventScrollReset:g,replace:r&&r.replace,enableViewTransition:r&&r.unstable_viewTransition,flushSync:y});Je(b,{state:"blocked",location:h,proceed(){Je(b,{state:"proceeding",proceed:void 0,reset:void 0,location:h}),t(n,r)},reset(){let e=new Map(P.blockers);e.set(b,te),ue({blockers:e})}})},fetch:function(t,n,i,a){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");V.has(t)&&qe(t);let s=!0===(a&&a.unstable_flushSync),l=o||u,c=oe(P.location,P.matches,d,v.v7_prependBasename,i,v.v7_relativeSplatPath,n,null==a?void 0:a.relative),p=w(l,c,d);if(!p)return void Le(t,n,Te(404,{pathname:c}),{flushSync:s});let{path:f,submission:m,error:g}=se(v.v7_normalizeFormMethod,!0,c,a);if(g)return void Le(t,n,g,{flushSync:s});let y=ze(p,f);j=!0===(a&&a.preventScrollReset),m&&Ie(m.formMethod)?async function(t,n,i,r,a,s,l){if(Ae(),X.delete(t),!r.route.action&&!r.route.lazy){let e=Te(405,{method:l.formMethod,pathname:i,routeId:n});return void Le(t,n,e,{flushSync:s})}let c=P.fetchers.get(t);je(t,function(e,t){let n={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return n}(l,c),{flushSync:s});let p=new AbortController,f=ye(e.history,i,p.signal,l);V.set(t,p);let m=W,g=await xe("action",f,[r],a),y=g[0];if(f.signal.aborted)return void(V.get(t)===p&&V.delete(t));if(v.v7_fetcherPersist&&K.has(t)){if(Re(y)||Pe(y))return void je(t,We(void 0))}else{if(Re(y))return V.delete(t),G>m?void je(t,We(void 0)):(Y.add(t),je(t,Ve(l)),be(f,y,{fetcherSubmission:l}));if(Pe(y))return void Le(t,n,y.error)}if(Oe(y))throw Te(400,{type:"defer-action"});let b=P.navigation.location||P.location,x=ye(e.history,b,p.signal),_=o||u,S="idle"!==P.navigation.state?w(_,P.navigation.location,d):P.matches;h(S,"Didn't find any matches after fetcher action");let M=++W;q.set(t,M);let E=Ve(l,y.data);P.fetchers.set(t,E);let[C,T]=ce(e.history,P,S,l,b,!1,v.unstable_skipActionErrorRevalidation,z,B,H,K,X,Y,_,d,[r.route.id,y]);T.filter((e=>e.key!==t)).forEach((e=>{let t=e.key,n=P.fetchers.get(t),i=Ve(void 0,n?n.data:void 0);P.fetchers.set(t,i),V.has(t)&&qe(t),e.controller&&V.set(t,e.controller)})),ue({fetchers:new Map(P.fetchers)});let N=()=>T.forEach((e=>qe(e.key)));p.signal.addEventListener("abort",N);let{loaderResults:A,fetcherResults:k}=await _e(P.matches,S,C,T,x);if(p.signal.aborted)return;p.signal.removeEventListener("abort",N),q.delete(t),V.delete(t),T.forEach((e=>V.delete(e.key)));let j=Ne([...A,...k]);if(j){if(j.idx>=C.length){let e=T[j.idx-C.length].key;Y.add(e)}return be(x,j.result)}let{loaderData:L,errors:I}=we(P,P.matches,C,A,void 0,T,k,J);if(P.fetchers.has(t)){let e=We(y.data);P.fetchers.set(t,e)}Ze(M),"loading"===P.navigation.state&&M>G?(h(R,"Expected pending action"),O&&O.abort(),de(P.navigation.location,{matches:S,loaderData:L,errors:I,fetchers:new Map(P.fetchers)})):(ue({errors:I,loaderData:Se(P.loaderData,L,S,I),fetchers:new Map(P.fetchers)}),z=!1)}(t,n,f,y,p,s,m):(X.set(t,{routeId:n,path:f}),async function(t,n,i,r,a,o,s){let l=P.fetchers.get(t);je(t,Ve(s,l?l.data:void 0),{flushSync:o});let c=new AbortController,u=ye(e.history,i,c.signal);V.set(t,c);let d=W,p=await xe("loader",u,[r],a),f=p[0];Oe(f)&&(f=await Fe(f,u.signal,!0)||f);V.get(t)===c&&V.delete(t);if(u.signal.aborted)return;if(K.has(t))return void je(t,We(void 0));if(Re(f))return G>d?void je(t,We(void 0)):(Y.add(t),void await be(u,f));if(Pe(f))return void Le(t,n,f.error);h(!Oe(f),"Unhandled fetcher deferred data"),je(t,We(f.data))}(t,n,f,y,p,s,m))},revalidate:function(){Ae(),ue({revalidation:"loading"}),"submitting"!==P.navigation.state&&("idle"!==P.navigation.state?he(R||P.historyAction,P.navigation.location,{overrideNavigation:P.navigation}):he(P.historyAction,P.location,{startUninterruptedRevalidation:!0}))},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:Ue,deleteFetcher:function(e){if(v.v7_fetcherPersist){let t=(Z.get(e)||0)-1;t<=0?(Z.delete(e),K.add(e)):Z.set(e,t)}else Ge(e);ue({fetchers:new Map(P.fetchers)})},dispose:function(){g&&g(),F&&F(),y.clear(),O&&O.abort(),P.fetchers.forEach(((e,t)=>Ge(t))),P.blockers.forEach(((e,t)=>Ke(t)))},getBlocker:function(e,t){let n=P.blockers.get(e)||te;return ae.get(e)!==t&&ae.set(e,t),n},deleteBlocker:Ke,_internalFetchControllers:V,_internalActiveDeferreds:J,_internalSetRoutes:function(e){l={},o=_(e,a,void 0,l)}},N}Symbol("deferred");function oe(e,t,n,i,r,a,o,s){let l,c;if(o){l=[];for(let e of t)if(l.push(e),e.route.id===o){c=e;break}}else l=t,c=t[t.length-1];let u=z(r||".",U(l,a),I(e.pathname,n)||e.pathname,"path"===s);return null==r&&(u.search=e.search,u.hash=e.hash),null!=r&&""!==r&&"."!==r||!c||!c.route.index||Ue(u.search)||(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i&&"/"!==n&&(u.pathname="/"===u.pathname?n:B([n,u.pathname])),v(u)}function se(e,t,n,i){if(!i||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(i))return{path:n};if(i.formMethod&&!Le(i.formMethod))return{path:n,error:Te(405,{method:i.formMethod})};let r,a,o=()=>({path:n,error:Te(400,{type:"invalid-body"})}),s=i.formMethod||"get",l=e?s.toUpperCase():s.toLowerCase(),c=Ae(n);if(void 0!==i.body){if("text/plain"===i.formEncType){if(!Ie(l))return o();let e="string"===typeof i.body?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce(((e,t)=>{let[n,i]=t;return""+e+n+"="+i+"\n"}),""):String(i.body);return{path:n,submission:{formMethod:l,formAction:c,formEncType:i.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===i.formEncType){if(!Ie(l))return o();try{let e="string"===typeof i.body?JSON.parse(i.body):i.body;return{path:n,submission:{formMethod:l,formAction:c,formEncType:i.formEncType,formData:void 0,json:e,text:void 0}}}catch(p){return o()}}}if(h("function"===typeof FormData,"FormData is not available in this environment"),i.formData)r=be(i.formData),a=i.formData;else if(i.body instanceof FormData)r=be(i.body),a=i.body;else if(i.body instanceof URLSearchParams)r=i.body,a=xe(r);else if(null==i.body)r=new URLSearchParams,a=new FormData;else try{r=new URLSearchParams(i.body),a=xe(r)}catch(p){return o()}let u={formMethod:l,formAction:c,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:a,json:void 0,text:void 0};if(Ie(u.formMethod))return{path:n,submission:u};let d=g(n);return t&&d.search&&Ue(d.search)&&r.append("index",""),d.search="?"+r,{path:v(d),submission:u}}function le(e,t){let n=e;if(t){let i=e.findIndex((e=>e.route.id===t));i>=0&&(n=e.slice(0,i))}return n}function ce(e,t,n,i,r,a,o,s,l,u,d,h,p,f,m,v){let g=v?Pe(v[1])?v[1].error:v[1].data:void 0,y=e.createURL(t.location),b=e.createURL(r),x=v&&Pe(v[1])?v[0]:void 0,_=x?le(n,x):n,S=v?v[1].statusCode:void 0,M=o&&S&&S>=400,E=_.filter(((e,n)=>{let{route:r}=e;if(r.lazy)return!0;if(null==r.loader)return!1;if(a)return!("function"===typeof r.loader&&!r.loader.hydrate)||void 0===t.loaderData[r.id]&&(!t.errors||void 0===t.errors[r.id]);if(function(e,t,n){let i=!t||n.route.id!==t.route.id,r=void 0===e[n.route.id];return i||r}(t.loaderData,t.matches[n],e)||l.some((t=>t===e.route.id)))return!0;let o=t.matches[n],u=e;return de(e,c({currentUrl:y,currentParams:o.params,nextUrl:b,nextParams:u.params},i,{actionResult:g,unstable_actionStatus:S,defaultShouldRevalidate:!M&&(s||y.pathname+y.search===b.pathname+b.search||y.search!==b.search||ue(o,u))}))})),C=[];return h.forEach(((e,r)=>{if(a||!n.some((t=>t.route.id===e.routeId))||d.has(r))return;let o=w(f,e.path,m);if(!o)return void C.push({key:r,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let l=t.fetchers.get(r),h=ze(o,e.path),v=!1;v=!p.has(r)&&(!!u.includes(r)||(l&&"idle"!==l.state&&void 0===l.data?s:de(h,c({currentUrl:y,currentParams:t.matches[t.matches.length-1].params,nextUrl:b,nextParams:n[n.length-1].params},i,{actionResult:g,unstable_actionStatus:S,defaultShouldRevalidate:!M&&s})))),v&&C.push({key:r,routeId:e.routeId,path:e.path,matches:o,match:h,controller:new AbortController})})),[E,C]}function ue(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function de(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}async function he(e,t,n){if(!e.lazy)return;let i=await e.lazy();if(!e.lazy)return;let r=n[e.id];h(r,"No route found in manifest");let a={};for(let o in i){let e=void 0!==r[o]&&"hasErrorBoundary"!==o;p(!e,'Route "'+r.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+o+'" will be ignored.'),e||x.has(o)||(a[o]=i[o])}Object.assign(r,a),Object.assign(r,c({},t(r),{lazy:void 0}))}function pe(e){return Promise.all(e.matches.map((e=>e.resolve())))}async function fe(e,t,n,i,r,a,o,s){let l=i.reduce(((e,t)=>e.add(t.route.id)),new Set),u=new Set,d=await e({matches:r.map((e=>{let i=l.has(e.route.id);return c({},e,{shouldLoad:i,resolve:r=>(u.add(e.route.id),i?async function(e,t,n,i,r,a,o){let s,l,c=i=>{let r,s=new Promise(((e,t)=>r=t));l=()=>r(),t.signal.addEventListener("abort",l);let c,u=r=>"function"!==typeof i?Promise.reject(new Error('You cannot call the handler for a route which defines a boolean "'+e+'" [routeId: '+n.route.id+"]")):i({request:t,params:n.params,context:o},...void 0!==r?[r]:[]);return c=a?a((e=>u(e))):(async()=>{try{return{type:"data",result:await u()}}catch(e){return{type:"error",result:e}}})(),Promise.race([c,s])};try{let a=n.route[e];if(n.route.lazy)if(a){let e,[t]=await Promise.all([c(a).catch((t=>{e=t})),he(n.route,r,i)]);if(void 0!==e)throw e;s=t}else{if(await he(n.route,r,i),a=n.route[e],!a){if("action"===e){let e=new URL(t.url),i=e.pathname+e.search;throw Te(405,{method:t.method,pathname:i,routeId:n.route.id})}return{type:b.data,result:void 0}}s=await c(a)}else{if(!a){let e=new URL(t.url);throw Te(404,{pathname:e.pathname+e.search})}s=await c(a)}h(void 0!==s.result,"You defined "+("action"===e?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(u){return{type:b.error,result:u}}finally{l&&t.signal.removeEventListener("abort",l)}return s}(t,n,e,a,o,r,s):Promise.resolve({type:b.data,result:void 0}))})})),request:n,params:r[0].params,context:s});return r.forEach((e=>h(u.has(e.route.id),'`match.resolve()` was not called for route id "'+e.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.'))),d.filter(((e,t)=>l.has(r[t].route.id)))}async function me(e){let{result:t,type:n,status:i}=e;if(je(t)){let e;try{let n=t.headers.get("Content-Type");e=n&&/\bapplication\/json\b/.test(n)?null==t.body?null:await t.json():await t.text()}catch(o){return{type:b.error,error:o}}return n===b.error?{type:b.error,error:new G(t.status,t.statusText,e),statusCode:t.status,headers:t.headers}:{type:b.data,data:e,statusCode:t.status,headers:t.headers}}return n===b.error?{type:b.error,error:t,statusCode:q(t)?t.status:i}:function(e){let t=e;return t&&"object"===typeof t&&"object"===typeof t.data&&"function"===typeof t.subscribe&&"function"===typeof t.cancel&&"function"===typeof t.resolveData}(t)?{type:b.deferred,deferredData:t,statusCode:null==(r=t.init)?void 0:r.status,headers:(null==(a=t.init)?void 0:a.headers)&&new Headers(t.init.headers)}:{type:b.data,data:t,statusCode:i};var r,a}function ve(e,t,n,i,r,a){let o=e.headers.get("Location");if(h(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!ne.test(o)){let s=i.slice(0,i.findIndex((e=>e.route.id===n))+1);o=oe(new URL(t.url),s,r,!0,o,a),e.headers.set("Location",o)}return e}function ge(e,t,n){if(ne.test(e)){let i=e,r=i.startsWith("//")?new URL(t.protocol+i):new URL(i),a=null!=I(r.pathname,n);if(r.origin===t.origin&&a)return r.pathname+r.search+r.hash}return e}function ye(e,t,n,i){let r=e.createURL(Ae(t)).toString(),a={signal:n};if(i&&Ie(i.formMethod)){let{formMethod:e,formEncType:t}=i;a.method=e.toUpperCase(),"application/json"===t?(a.headers=new Headers({"Content-Type":t}),a.body=JSON.stringify(i.json)):"text/plain"===t?a.body=i.text:"application/x-www-form-urlencoded"===t&&i.formData?a.body=be(i.formData):a.body=i.formData}return new Request(r,a)}function be(e){let t=new URLSearchParams;for(let[n,i]of e.entries())t.append(n,"string"===typeof i?i:i.name);return t}function xe(e){let t=new FormData;for(let[n,i]of e.entries())t.append(n,i);return t}function _e(e,t,n,i,r,a){let o,s={},l=null,c=!1,u={},d=i&&Pe(i[1])?i[1].error:void 0;return n.forEach(((n,i)=>{let p=t[i].route.id;if(h(!Re(n),"Cannot handle redirect results in processLoaderData"),Pe(n)){let t=n.error;if(void 0!==d&&(t=d,d=void 0),l=l||{},a)l[p]=t;else{let n=Ee(e,p);null==l[n.route.id]&&(l[n.route.id]=t)}s[p]=void 0,c||(c=!0,o=q(n.error)?n.error.status:500),n.headers&&(u[p]=n.headers)}else Oe(n)?(r.set(p,n.deferredData),s[p]=n.deferredData.data,null==n.statusCode||200===n.statusCode||c||(o=n.statusCode),n.headers&&(u[p]=n.headers)):(s[p]=n.data,n.statusCode&&200!==n.statusCode&&!c&&(o=n.statusCode),n.headers&&(u[p]=n.headers))})),void 0!==d&&i&&(l={[i[0]]:d},s[i[0]]=void 0),{loaderData:s,errors:l,statusCode:o||200,loaderHeaders:u}}function we(e,t,n,i,r,a,o,s){let{loaderData:l,errors:u}=_e(t,n,i,r,s,!1);for(let d=0;d<a.length;d++){let{key:t,match:n,controller:i}=a[d];h(void 0!==o&&void 0!==o[d],"Did not find corresponding fetcher result");let r=o[d];if(!i||!i.signal.aborted)if(Pe(r)){let i=Ee(e.matches,null==n?void 0:n.route.id);u&&u[i.route.id]||(u=c({},u,{[i.route.id]:r.error})),e.fetchers.delete(t)}else if(Re(r))h(!1,"Unhandled fetcher revalidation redirect");else if(Oe(r))h(!1,"Unhandled fetcher deferred data");else{let n=We(r.data);e.fetchers.set(t,n)}}return{loaderData:l,errors:u}}function Se(e,t,n,i){let r=c({},t);for(let a of n){let n=a.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(r[n]=t[n]):void 0!==e[n]&&a.route.loader&&(r[n]=e[n]),i&&i.hasOwnProperty(n))break}return r}function Me(e){return e?Pe(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Ee(e,t){let n=t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e];return n.reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function Ce(e){let t=1===e.length?e[0]:e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Te(e,t){let{pathname:n,routeId:i,method:r,type:a}=void 0===t?{}:t,o="Unknown Server Error",s="Unknown @remix-run/router error";return 400===e?(o="Bad Request",r&&n&&i?s="You made a "+r+' request to "'+n+'" but did not provide a `loader` for route "'+i+'", so there is no way to handle the request.':"defer-action"===a?s="defer() is not supported in actions":"invalid-body"===a&&(s="Unable to encode submission body")):403===e?(o="Forbidden",s='Route "'+i+'" does not match URL "'+n+'"'):404===e?(o="Not Found",s='No route matches URL "'+n+'"'):405===e&&(o="Method Not Allowed",r&&n&&i?s="You made a "+r.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+i+'", so there is no way to handle the request.':r&&(s='Invalid request method "'+r.toUpperCase()+'"')),new G(e||500,o,new Error(s),!0)}function Ne(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Re(n))return{result:n,idx:t}}}function Ae(e){return v(c({},"string"===typeof e?g(e):e,{hash:""}))}function ke(e){return je(e.result)&&J.has(e.result.status)}function Oe(e){return e.type===b.deferred}function Pe(e){return e.type===b.error}function Re(e){return(e&&e.type)===b.redirect}function je(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function Le(e){return K.has(e.toLowerCase())}function Ie(e){return X.has(e.toLowerCase())}async function De(e,t,n,i,r,a){for(let o=0;o<n.length;o++){let s=n[o],l=t[o];if(!l)continue;let c=e.find((e=>e.route.id===l.route.id)),u=null!=c&&!ue(c,l)&&void 0!==(a&&a[l.route.id]);if(Oe(s)&&(r||u)){let e=i[o];h(e,"Expected an AbortSignal for revalidating fetcher deferred result"),await Fe(s,e,r).then((e=>{e&&(n[o]=e||n[o])}))}}}async function Fe(e,t,n){if(void 0===n&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:b.data,data:e.deferredData.unwrappedData}}catch(i){return{type:b.error,error:i}}return{type:b.data,data:e.deferredData.data}}}function Ue(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function ze(e,t){let n="string"===typeof t?g(t).search:t.search;if(e[e.length-1].route.index&&Ue(n||""))return e[e.length-1];let i=F(e);return i[i.length-1]}function Be(e){let{formMethod:t,formAction:n,formEncType:i,text:r,formData:a,json:o}=e;if(t&&n&&i)return null!=r?{formMethod:t,formAction:n,formEncType:i,formData:void 0,json:void 0,text:r}:null!=a?{formMethod:t,formAction:n,formEncType:i,formData:a,json:void 0,text:void 0}:void 0!==o?{formMethod:t,formAction:n,formEncType:i,formData:void 0,json:o,text:void 0}:void 0}function He(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Ve(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function We(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Ge(){return Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ge.apply(this,arguments)}const qe=r.createContext(null);const Ye=r.createContext(null);const Xe=r.createContext(null);const Ze=r.createContext(null);const Ke=r.createContext({outlet:null,matches:[],isDataRoute:!1});const Je=r.createContext(null);function $e(){return null!=r.useContext(Ze)}function Qe(){return $e()||h(!1),r.useContext(Ze).location}function et(e){r.useContext(Xe).static||r.useLayoutEffect(e)}function tt(){let{isDataRoute:e}=r.useContext(Ke);return e?function(){let{router:e}=pt(dt.UseNavigateStable),t=mt(ht.UseNavigateStable),n=r.useRef(!1);et((()=>{n.current=!0}));let i=r.useCallback((function(i,r){void 0===r&&(r={}),n.current&&("number"===typeof i?e.navigate(i):e.navigate(i,Ge({fromRouteId:t},r)))}),[e,t]);return i}():function(){$e()||h(!1);let e=r.useContext(qe),{basename:t,future:n,navigator:i}=r.useContext(Xe),{matches:a}=r.useContext(Ke),{pathname:o}=Qe(),s=JSON.stringify(U(a,n.v7_relativeSplatPath)),l=r.useRef(!1);et((()=>{l.current=!0}));let c=r.useCallback((function(n,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof n)return void i.go(n);let a=z(n,JSON.parse(s),o,"path"===r.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:B([t,a.pathname])),(r.replace?i.replace:i.push)(a,r.state,r)}),[t,i,s,o,e]);return c}()}const nt=r.createContext(null);function it(){let{matches:e}=r.useContext(Ke),t=e[e.length-1];return t?t.params:{}}function rt(e,t){let{relative:n}=void 0===t?{}:t,{future:i}=r.useContext(Xe),{matches:a}=r.useContext(Ke),{pathname:o}=Qe(),s=JSON.stringify(U(a,i.v7_relativeSplatPath));return r.useMemo((()=>z(e,JSON.parse(s),o,"path"===n)),[e,s,o,n])}function at(e,t,n,a){$e()||h(!1);let{navigator:o}=r.useContext(Xe),{matches:s}=r.useContext(Ke),l=s[s.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,p=Qe();if(t){var f;let e="string"===typeof t?g(t):t;"/"===u||(null==(f=e.pathname)?void 0:f.startsWith(u))||h(!1),d=e}else d=p;let m=d.pathname||"/",v=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=w(e,{pathname:v});let b=ut(y&&y.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:B([u,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:B([u,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,n,a);return t&&b?r.createElement(Ze.Provider,{value:{location:Ge({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:i.Pop}},b):b}function ot(){let e=function(){var e;let t=r.useContext(Je),n=ft(ht.UseRouteError),i=mt(ht.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}const st=r.createElement(ot,null);class lt extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(Ke.Provider,{value:this.props.routeContext},r.createElement(Je.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ct(e){let{routeContext:t,match:n,children:i}=e,a=r.useContext(qe);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(Ke.Provider,{value:t},i)}function ut(e,t,n,i){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==e){var o;if(null==(o=n)||!o.errors)return null;e=n.matches}let s=e,l=null==(a=n)?void 0:a.errors;if(null!=l){let e=s.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||h(!1),s=s.slice(0,Math.min(s.length,e+1))}let c=!1,u=-1;if(n&&i&&i.v7_partialHydration)for(let r=0;r<s.length;r++){let e=s[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=r),e.route.id){let{loaderData:t,errors:i}=n,r=e.route.loader&&void 0===t[e.route.id]&&(!i||void 0===i[e.route.id]);if(e.route.lazy||r){c=!0,s=u>=0?s.slice(0,u+1):[s[0]];break}}}return s.reduceRight(((e,i,a)=>{let o,d=!1,h=null,p=null;var f;n&&(o=l&&i.route.id?l[i.route.id]:void 0,h=i.route.errorElement||st,c&&(u<0&&0===a?(f="route-fallback",!1||vt[f]||(vt[f]=!0),d=!0,p=null):u===a&&(d=!0,p=i.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,a+1)),v=()=>{let t;return t=o?h:d?p:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(ct,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?r.createElement(lt,{location:n.location,revalidation:n.revalidation,component:h,error:o,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()}),null)}var dt=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(dt||{}),ht=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ht||{});function pt(e){let t=r.useContext(qe);return t||h(!1),t}function ft(e){let t=r.useContext(Ye);return t||h(!1),t}function mt(e){let t=function(e){let t=r.useContext(Ke);return t||h(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||h(!1),n.route.id}const vt={};a.startTransition;function gt(e){return function(e){let t=r.useContext(Ke).outlet;return t?r.createElement(nt.Provider,{value:e},t):t}(e.context)}function yt(e){let{basename:t="/",children:n=null,location:a,navigationType:o=i.Pop,navigator:s,static:l=!1,future:c}=e;$e()&&h(!1);let u=t.replace(/^\/*/,"/"),d=r.useMemo((()=>({basename:u,navigator:s,static:l,future:Ge({v7_relativeSplatPath:!1},c)})),[u,c,s,l]);"string"===typeof a&&(a=g(a));let{pathname:p="/",search:f="",hash:m="",state:v=null,key:y="default"}=a,b=r.useMemo((()=>{let e=I(p,u);return null==e?null:{location:{pathname:e,search:f,hash:m,state:v,key:y},navigationType:o}}),[u,p,f,m,v,y,o]);return null==b?null:r.createElement(Xe.Provider,{value:d},r.createElement(Ze.Provider,{children:n,value:b}))}new Promise((()=>{}));r.Component;function bt(e){let t={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(t,{element:r.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:r.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:r.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}function xt(){return xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},xt.apply(this,arguments)}function _t(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const wt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(fU){}function St(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=xt({},t,{errors:Mt(t.errors)})),t}function Mt(e){if(!e)return null;let t=Object.entries(e),n={};for(let[i,r]of t)if(r&&"RouteErrorResponse"===r.__type)n[i]=new G(r.status,r.statusText,r.data,!0===r.internal);else if(r&&"Error"===r.__type){if(r.__subType){let e=window[r.__subType];if("function"===typeof e)try{let t=new e(r.message);t.stack="",n[i]=t}catch(fU){}}if(null==n[i]){let e=new Error(r.message);e.stack="",n[i]=e}}else n[i]=r;return n}const Et=r.createContext({isTransitioning:!1});const Ct=r.createContext(new Map);const Tt=a.startTransition,Nt=l.flushSync;a.useId;function At(e){Nt?Nt(e):e()}class kt{constructor(){this.status="pending",this.promise=new Promise(((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}}))}}function Ot(e){let{fallbackElement:t,router:n,future:i}=e,[a,o]=r.useState(n.state),[s,l]=r.useState(),[c,u]=r.useState({isTransitioning:!1}),[d,h]=r.useState(),[p,f]=r.useState(),[m,v]=r.useState(),g=r.useRef(new Map),{v7_startTransition:y}=i||{},b=r.useCallback((e=>{y?function(e){Tt?Tt(e):e()}(e):e()}),[y]),x=r.useCallback(((e,t)=>{let{deletedFetchers:i,unstable_flushSync:r,unstable_viewTransitionOpts:a}=t;i.forEach((e=>g.current.delete(e))),e.fetchers.forEach(((e,t)=>{void 0!==e.data&&g.current.set(t,e.data)}));let s=null==n.window||null==n.window.document||"function"!==typeof n.window.document.startViewTransition;if(a&&!s){if(r){At((()=>{p&&(d&&d.resolve(),p.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:a.currentLocation,nextLocation:a.nextLocation})}));let t=n.window.document.startViewTransition((()=>{At((()=>o(e)))}));return t.finished.finally((()=>{At((()=>{h(void 0),f(void 0),l(void 0),u({isTransitioning:!1})}))})),void At((()=>f(t)))}p?(d&&d.resolve(),p.skipTransition(),v({state:e,currentLocation:a.currentLocation,nextLocation:a.nextLocation})):(l(e),u({isTransitioning:!0,flushSync:!1,currentLocation:a.currentLocation,nextLocation:a.nextLocation}))}else r?At((()=>o(e))):b((()=>o(e)))}),[n.window,p,d,g,b]);r.useLayoutEffect((()=>n.subscribe(x)),[n,x]),r.useEffect((()=>{c.isTransitioning&&!c.flushSync&&h(new kt)}),[c]),r.useEffect((()=>{if(d&&s&&n.window){let e=s,t=d.promise,i=n.window.document.startViewTransition((async()=>{b((()=>o(e))),await t}));i.finished.finally((()=>{h(void 0),f(void 0),l(void 0),u({isTransitioning:!1})})),f(i)}}),[b,s,d,n.window]),r.useEffect((()=>{d&&s&&a.location.key===s.location.key&&d.resolve()}),[d,p,a.location,s]),r.useEffect((()=>{!c.isTransitioning&&m&&(l(m.state),u({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),v(void 0))}),[c.isTransitioning,m]),r.useEffect((()=>{}),[]);let _=r.useMemo((()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:e=>n.navigate(e),push:(e,t,i)=>n.navigate(e,{state:t,preventScrollReset:null==i?void 0:i.preventScrollReset}),replace:(e,t,i)=>n.navigate(e,{replace:!0,state:t,preventScrollReset:null==i?void 0:i.preventScrollReset})})),[n]),w=n.basename||"/",S=r.useMemo((()=>({router:n,navigator:_,static:!1,basename:w})),[n,_,w]);return r.createElement(r.Fragment,null,r.createElement(qe.Provider,{value:S},r.createElement(Ye.Provider,{value:a},r.createElement(Ct.Provider,{value:g.current},r.createElement(Et.Provider,{value:c},r.createElement(yt,{basename:w,location:a.location,navigationType:a.historyAction,navigator:_,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},a.initialized||n.future.v7_partialHydration?r.createElement(Pt,{routes:n.routes,future:n.future,state:a}):t))))),null)}function Pt(e){let{routes:t,future:n,state:i}=e;return at(t,void 0,i,n)}const Rt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,jt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lt=r.forwardRef((function(e,t){let n,{onClick:i,relative:a,reloadDocument:o,replace:s,state:l,target:c,to:u,preventScrollReset:d,unstable_viewTransition:p}=e,f=_t(e,wt),{basename:m}=r.useContext(Xe),g=!1;if("string"===typeof u&&jt.test(u)&&(n=u,Rt))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=I(t.pathname,m);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:g=!0}catch(fU){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;$e()||h(!1);let{basename:i,navigator:a}=r.useContext(Xe),{hash:o,pathname:s,search:l}=rt(e,{relative:n}),c=s;return"/"!==i&&(c="/"===s?i:B([i,s])),a.createHref({pathname:c,search:l,hash:o})}(u,{relative:a}),b=function(e,t){let{target:n,replace:i,state:a,preventScrollReset:o,relative:s,unstable_viewTransition:l}=void 0===t?{}:t,c=tt(),u=Qe(),d=rt(e,{relative:s});return r.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==i?i:v(u)===v(d);c(e,{replace:n,state:a,preventScrollReset:o,relative:s,unstable_viewTransition:l})}}),[u,c,d,i,a,n,e,o,s,l])}(u,{replace:s,state:l,target:c,preventScrollReset:d,relative:a,unstable_viewTransition:p});return r.createElement("a",xt({},f,{href:n||y,onClick:g||o?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:t,target:c}))}));var It,Dt;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(It||(It={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Dt||(Dt={}));function Ft(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ut}=Object.prototype,{getPrototypeOf:zt}=Object,Bt=(Ht=Object.create(null),e=>{const t=Ut.call(e);return Ht[t]||(Ht[t]=t.slice(8,-1).toLowerCase())});var Ht;const Vt=e=>(e=e.toLowerCase(),t=>Bt(t)===e),Wt=e=>t=>typeof t===e,{isArray:Gt}=Array,qt=Wt("undefined");const Yt=Vt("ArrayBuffer");const Xt=Wt("string"),Zt=Wt("function"),Kt=Wt("number"),Jt=e=>null!==e&&"object"===typeof e,$t=e=>{if("object"!==Bt(e))return!1;const t=zt(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Qt=Vt("Date"),en=Vt("File"),tn=Vt("Blob"),nn=Vt("FileList"),rn=Vt("URLSearchParams");function an(e,t){let n,i,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Gt(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let o;for(n=0;n<a;n++)o=i[n],t.call(null,e[o],o,e)}}function on(e,t){t=t.toLowerCase();const n=Object.keys(e);let i,r=n.length;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const sn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,ln=e=>!qt(e)&&e!==sn;const cn=(un="undefined"!==typeof Uint8Array&&zt(Uint8Array),e=>un&&e instanceof un);var un;const dn=Vt("HTMLFormElement"),hn=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),pn=Vt("RegExp"),fn=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};an(n,((n,r)=>{let a;!1!==(a=t(n,r,e))&&(i[r]=a||n)})),Object.defineProperties(e,i)},mn="abcdefghijklmnopqrstuvwxyz",vn="0123456789",gn={DIGIT:vn,ALPHA:mn,ALPHA_DIGIT:mn+mn.toUpperCase()+vn};const yn=Vt("AsyncFunction"),bn={isArray:Gt,isArrayBuffer:Yt,isBuffer:function(e){return null!==e&&!qt(e)&&null!==e.constructor&&!qt(e.constructor)&&Zt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Zt(e.append)&&("formdata"===(t=Bt(e))||"object"===t&&Zt(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Yt(e.buffer),t},isString:Xt,isNumber:Kt,isBoolean:e=>!0===e||!1===e,isObject:Jt,isPlainObject:$t,isUndefined:qt,isDate:Qt,isFile:en,isBlob:tn,isRegExp:pn,isFunction:Zt,isStream:e=>Jt(e)&&Zt(e.pipe),isURLSearchParams:rn,isTypedArray:cn,isFileList:nn,forEach:an,merge:function e(){const{caseless:t}=ln(this)&&this||{},n={},i=(i,r)=>{const a=t&&on(n,r)||r;$t(n[a])&&$t(i)?n[a]=e(n[a],i):$t(i)?n[a]=e({},i):Gt(i)?n[a]=i.slice():n[a]=i};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&an(arguments[r],i);return n},extend:function(e,t,n){let{allOwnKeys:i}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return an(t,((t,i)=>{n&&Zt(t)?e[i]=Ft(t,n):e[i]=t}),{allOwnKeys:i}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,i)=>{let r,a,o;const s={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),a=r.length;a-- >0;)o=r[a],i&&!i(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==n&&zt(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Bt,kindOfTest:Vt,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return-1!==i&&i===n},toArray:e=>{if(!e)return null;if(Gt(e))return e;let t=e.length;if(!Kt(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=n.next())&&!i.done;){const n=i.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const i=[];for(;null!==(n=e.exec(t));)i.push(n);return i},isHTMLForm:dn,hasOwnProperty:hn,hasOwnProp:hn,reduceDescriptors:fn,freezeMethods:e=>{fn(e,((t,n)=>{if(Zt(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const i=e[n];Zt(i)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},i=e=>{e.forEach((e=>{n[e]=!0}))};return Gt(e)?i(e):i(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:on,global:sn,isContextDefined:ln,ALPHABET:gn,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gn.ALPHA_DIGIT,n="";const{length:i}=t;for(;e--;)n+=t[Math.random()*i|0];return n},isSpecCompliantForm:function(e){return!!(e&&Zt(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,i)=>{if(Jt(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[i]=e;const r=Gt(e)?[]:{};return an(e,((e,t)=>{const a=n(e,i+1);!qt(a)&&(r[t]=a)})),t[i]=void 0,r}}return e};return n(e,0)},isAsyncFn:yn,isThenable:e=>e&&(Jt(e)||Zt(e))&&Zt(e.then)&&Zt(e.catch)};function xn(e,t,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}bn.inherits(xn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:bn.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const _n=xn.prototype,wn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{wn[e]={value:e}})),Object.defineProperties(xn,wn),Object.defineProperty(_n,"isAxiosError",{value:!0}),xn.from=(e,t,n,i,r,a)=>{const o=Object.create(_n);return bn.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),xn.call(o,e.message,t,n,i,r),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};const Sn=xn;function Mn(e){return bn.isPlainObject(e)||bn.isArray(e)}function En(e){return bn.endsWith(e,"[]")?e.slice(0,-2):e}function Cn(e,t,n){return e?e.concat(t).map((function(e,t){return e=En(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const Tn=bn.toFlatObject(bn,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Nn=function(e,t,n){if(!bn.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const i=(n=bn.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!bn.isUndefined(t[e])}))).metaTokens,r=n.visitor||c,a=n.dots,o=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&bn.isSpecCompliantForm(t);if(!bn.isFunction(r))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(bn.isDate(e))return e.toISOString();if(!s&&bn.isBlob(e))throw new Sn("Blob is not supported. Use a Buffer instead.");return bn.isArrayBuffer(e)||bn.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,r){let s=e;if(e&&!r&&"object"===typeof e)if(bn.endsWith(n,"{}"))n=i?n:n.slice(0,-2),e=JSON.stringify(e);else if(bn.isArray(e)&&function(e){return bn.isArray(e)&&!e.some(Mn)}(e)||(bn.isFileList(e)||bn.endsWith(n,"[]"))&&(s=bn.toArray(e)))return n=En(n),s.forEach((function(e,i){!bn.isUndefined(e)&&null!==e&&t.append(!0===o?Cn([n],i,a):null===o?n:n+"[]",l(e))})),!1;return!!Mn(e)||(t.append(Cn(r,n,a),l(e)),!1)}const u=[],d=Object.assign(Tn,{defaultVisitor:c,convertValue:l,isVisitable:Mn});if(!bn.isObject(e))throw new TypeError("data must be an object");return function e(n,i){if(!bn.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+i.join("."));u.push(n),bn.forEach(n,(function(n,a){!0===(!(bn.isUndefined(n)||null===n)&&r.call(t,n,bn.isString(a)?a.trim():a,i,d))&&e(n,i?i.concat(a):[a])})),u.pop()}}(e),t};function An(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function kn(e,t){this._pairs=[],e&&Nn(e,this,t)}const On=kn.prototype;On.append=function(e,t){this._pairs.push([e,t])},On.toString=function(e){const t=e?function(t){return e.call(this,t,An)}:An;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Pn=kn;function Rn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function jn(e,t,n){if(!t)return e;const i=n&&n.encode||Rn,r=n&&n.serialize;let a;if(a=r?r(t,n):bn.isURLSearchParams(t)?t.toString():new Pn(t,n).toString(i),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const Ln=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){bn.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},In={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Dn={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Pn,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Fn="undefined"!==typeof window&&"undefined"!==typeof document,Un=(zn="undefined"!==typeof navigator&&navigator.product,Fn&&["ReactNative","NativeScript","NS"].indexOf(zn)<0);var zn;const Bn="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Hn={...e,...Dn};const Vn=function(e){function t(e,n,i,r){let a=e[r++];if("__proto__"===a)return!0;const o=Number.isFinite(+a),s=r>=e.length;if(a=!a&&bn.isArray(i)?i.length:a,s)return bn.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o;i[a]&&bn.isObject(i[a])||(i[a]=[]);return t(e,n,i[a],r)&&bn.isArray(i[a])&&(i[a]=function(e){const t={},n=Object.keys(e);let i;const r=n.length;let a;for(i=0;i<r;i++)a=n[i],t[a]=e[a];return t}(i[a])),!o}if(bn.isFormData(e)&&bn.isFunction(e.entries)){const n={};return bn.forEachEntry(e,((e,i)=>{t(function(e){return bn.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),i,n,0)})),n}return null};const Wn={transitional:In,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,r=bn.isObject(e);r&&bn.isHTMLForm(e)&&(e=new FormData(e));if(bn.isFormData(e))return i?JSON.stringify(Vn(e)):e;if(bn.isArrayBuffer(e)||bn.isBuffer(e)||bn.isStream(e)||bn.isFile(e)||bn.isBlob(e))return e;if(bn.isArrayBufferView(e))return e.buffer;if(bn.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Nn(e,new Hn.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,i){return Hn.isNode&&bn.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=bn.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Nn(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||i?(t.setContentType("application/json",!1),function(e,t,n){if(bn.isString(e))try{return(t||JSON.parse)(e),bn.trim(e)}catch(fU){if("SyntaxError"!==fU.name)throw fU}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Wn.transitional,n=t&&t.forcedJSONParsing,i="json"===this.responseType;if(e&&bn.isString(e)&&(n&&!this.responseType||i)){const n=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(fU){if(n){if("SyntaxError"===fU.name)throw Sn.from(fU,Sn.ERR_BAD_RESPONSE,this,null,this.response);throw fU}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Hn.classes.FormData,Blob:Hn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};bn.forEach(["delete","get","head","post","put","patch"],(e=>{Wn.headers[e]={}}));const Gn=Wn,qn=bn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Yn=Symbol("internals");function Xn(e){return e&&String(e).trim().toLowerCase()}function Zn(e){return!1===e||null==e?e:bn.isArray(e)?e.map(Zn):String(e)}function Kn(e,t,n,i,r){return bn.isFunction(i)?i.call(this,t,n):(r&&(t=n),bn.isString(t)?bn.isString(i)?-1!==t.indexOf(i):bn.isRegExp(i)?i.test(t):void 0:void 0)}class Jn{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function r(e,t,n){const r=Xn(t);if(!r)throw new Error("header name must be a non-empty string");const a=bn.findKey(i,r);(!a||void 0===i[a]||!0===n||void 0===n&&!1!==i[a])&&(i[a||t]=Zn(e))}const a=(e,t)=>bn.forEach(e,((e,n)=>r(e,n,t)));return bn.isPlainObject(e)||e instanceof this.constructor?a(e,t):bn.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?a((e=>{const t={};let n,i,r;return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase(),i=e.substring(r+1).trim(),!n||t[n]&&qn[n]||("set-cookie"===n?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)})),t})(e),t):null!=e&&r(t,e,n),this}get(e,t){if(e=Xn(e)){const n=bn.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}(e);if(bn.isFunction(t))return t.call(this,e,n);if(bn.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Xn(e)){const n=bn.findKey(this,e);return!(!n||void 0===this[n]||t&&!Kn(0,this[n],n,t))}return!1}delete(e,t){const n=this;let i=!1;function r(e){if(e=Xn(e)){const r=bn.findKey(n,e);!r||t&&!Kn(0,n[r],r,t)||(delete n[r],i=!0)}}return bn.isArray(e)?e.forEach(r):r(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const r=t[n];e&&!Kn(0,this[r],r,e,!0)||(delete this[r],i=!0)}return i}normalize(e){const t=this,n={};return bn.forEach(this,((i,r)=>{const a=bn.findKey(n,r);if(a)return t[a]=Zn(i),void delete t[r];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(r):String(r).trim();o!==r&&delete t[r],t[o]=Zn(i),n[o]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return bn.forEach(this,((n,i)=>{null!=n&&!1!==n&&(t[i]=e&&bn.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Yn]=this[Yn]={accessors:{}}).accessors,n=this.prototype;function i(e){const i=Xn(e);t[i]||(!function(e,t){const n=bn.toCamelCase(" "+t);["get","set","has"].forEach((i=>{Object.defineProperty(e,i+n,{value:function(e,n,r){return this[i].call(this,t,e,n,r)},configurable:!0})}))}(n,e),t[i]=!0)}return bn.isArray(e)?e.forEach(i):i(e),this}}Jn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),bn.reduceDescriptors(Jn.prototype,((e,t)=>{let{value:n}=e,i=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[i]=e}}})),bn.freezeMethods(Jn);const $n=Jn;function Qn(e,t){const n=this||Gn,i=t||n,r=$n.from(i.headers);let a=i.data;return bn.forEach(e,(function(e){a=e.call(n,a,r.normalize(),t?t.status:void 0)})),r.normalize(),a}function ei(e){return!(!e||!e.__CANCEL__)}function ti(e,t,n){Sn.call(this,null==e?"canceled":e,Sn.ERR_CANCELED,t,n),this.name="CanceledError"}bn.inherits(ti,Sn,{__CANCEL__:!0});const ni=ti;const ii=Hn.hasStandardBrowserEnv?{write(e,t,n,i,r,a){const o=[e+"="+encodeURIComponent(t)];bn.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),bn.isString(i)&&o.push("path="+i),bn.isString(r)&&o.push("domain="+r),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function ri(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const ai=Hn.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function i(n){let i=n;return e&&(t.setAttribute("href",i),i=t.href),t.setAttribute("href",i),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=i(window.location.href),function(e){const t=bn.isString(e)?i(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};const oi=function(e,t){e=e||10;const n=new Array(e),i=new Array(e);let r,a=0,o=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=i[o];r||(r=l),n[a]=s,i[a]=l;let u=o,d=0;for(;u!==a;)d+=n[u++],u%=e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),l-r<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};function si(e,t){let n=0;const i=oi(50,250);return r=>{const a=r.loaded,o=r.lengthComputable?r.total:void 0,s=a-n,l=i(s);n=a;const c={loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:l||void 0,estimated:l&&o&&a<=o?(o-a)/l:void 0,event:r};c[t?"download":"upload"]=!0,e(c)}}const li="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let i=e.data;const r=$n.from(e.headers).normalize();let a,o,{responseType:s,withXSRFToken:l}=e;function c(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}if(bn.isFormData(i))if(Hn.hasStandardBrowserEnv||Hn.hasStandardBrowserWebWorkerEnv)r.setContentType(!1);else if(!1!==(o=r.getContentType())){const[e,...t]=o?o.split(";").map((e=>e.trim())).filter(Boolean):[];r.setContentType([e||"multipart/form-data",...t].join("; "))}let u=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";r.set("Authorization","Basic "+btoa(t+":"+n))}const d=ri(e.baseURL,e.url);function h(){if(!u)return;const i=$n.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){const i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new Sn("Request failed with status code "+n.status,[Sn.ERR_BAD_REQUEST,Sn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),c()}),(function(e){n(e),c()}),{data:s&&"text"!==s&&"json"!==s?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:i,config:e,request:u}),u=null}if(u.open(e.method.toUpperCase(),jn(d,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(h)},u.onabort=function(){u&&(n(new Sn("Request aborted",Sn.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new Sn("Network Error",Sn.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const i=e.transitional||In;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new Sn(t,i.clarifyTimeoutError?Sn.ETIMEDOUT:Sn.ECONNABORTED,e,u)),u=null},Hn.hasStandardBrowserEnv&&(l&&bn.isFunction(l)&&(l=l(e)),l||!1!==l&&ai(d))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&ii.read(e.xsrfCookieName);t&&r.set(e.xsrfHeaderName,t)}void 0===i&&r.setContentType(null),"setRequestHeader"in u&&bn.forEach(r.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),bn.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),s&&"json"!==s&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",si(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",si(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=t=>{u&&(n(!t||t.type?new ni(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));const p=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(d);p&&-1===Hn.protocols.indexOf(p)?n(new Sn("Unsupported protocol "+p+":",Sn.ERR_BAD_REQUEST,e)):u.send(i||null)}))},ci={http:null,xhr:li};bn.forEach(ci,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(fU){}Object.defineProperty(e,"adapterName",{value:t})}}));const ui=e=>"- ".concat(e),di=e=>bn.isFunction(e)||null===e||!1===e,hi=e=>{e=bn.isArray(e)?e:[e];const{length:t}=e;let n,i;const r={};for(let a=0;a<t;a++){let t;if(n=e[a],i=n,!di(n)&&(i=ci[(t=String(n)).toLowerCase()],void 0===i))throw new Sn("Unknown adapter '".concat(t,"'"));if(i)break;r[t||"#"+a]=i}if(!i){const e=Object.entries(r).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(ui).join("\n"):" "+ui(e[0]):"as no adapter specified";throw new Sn("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return i};function pi(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ni(null,e)}function fi(e){pi(e),e.headers=$n.from(e.headers),e.data=Qn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return hi(e.adapter||Gn.adapter)(e).then((function(t){return pi(e),t.data=Qn.call(e,e.transformResponse,t),t.headers=$n.from(t.headers),t}),(function(t){return ei(t)||(pi(e),t&&t.response&&(t.response.data=Qn.call(e,e.transformResponse,t.response),t.response.headers=$n.from(t.response.headers))),Promise.reject(t)}))}const mi=e=>e instanceof $n?{...e}:e;function vi(e,t){t=t||{};const n={};function i(e,t,n){return bn.isPlainObject(e)&&bn.isPlainObject(t)?bn.merge.call({caseless:n},e,t):bn.isPlainObject(t)?bn.merge({},t):bn.isArray(t)?t.slice():t}function r(e,t,n){return bn.isUndefined(t)?bn.isUndefined(e)?void 0:i(void 0,e,n):i(e,t,n)}function a(e,t){if(!bn.isUndefined(t))return i(void 0,t)}function o(e,t){return bn.isUndefined(t)?bn.isUndefined(e)?void 0:i(void 0,e):i(void 0,t)}function s(n,r,a){return a in t?i(n,r):a in e?i(void 0,n):void 0}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(e,t)=>r(mi(e),mi(t),!0)};return bn.forEach(Object.keys(Object.assign({},e,t)),(function(i){const a=l[i]||r,o=a(e[i],t[i],i);bn.isUndefined(o)&&a!==s||(n[i]=o)})),n}const gi="1.6.8",yi={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{yi[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const bi={};yi.transitional=function(e,t,n){function i(e,t){return"[Axios v1.6.8] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,r,a)=>{if(!1===e)throw new Sn(i(r," has been removed"+(t?" in "+t:"")),Sn.ERR_DEPRECATED);return t&&!bi[r]&&(bi[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}};const xi={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Sn("options must be an object",Sn.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let r=i.length;for(;r-- >0;){const a=i[r],o=t[a];if(o){const t=e[a],n=void 0===t||o(t,a,e);if(!0!==n)throw new Sn("option "+a+" must be "+n,Sn.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Sn("Unknown option "+a,Sn.ERR_BAD_OPTION)}},validators:yi},_i=xi.validators;class wi{constructor(e){this.defaults=e,this.interceptors={request:new Ln,response:new Ln}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=vi(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:r}=t;void 0!==n&&xi.assertOptions(n,{silentJSONParsing:_i.transitional(_i.boolean),forcedJSONParsing:_i.transitional(_i.boolean),clarifyTimeoutError:_i.transitional(_i.boolean)},!1),null!=i&&(bn.isFunction(i)?t.paramsSerializer={serialize:i}:xi.assertOptions(i,{encode:_i.function,serialize:_i.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=r&&bn.merge(r.common,r[t.method]);r&&bn.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete r[e]})),t.headers=$n.concat(a,r);const o=[];let s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!s){const e=[fi.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=o.length;let h=t;for(d=0;d<u;){const e=o[d++],t=o[d++];try{h=e(h)}catch(p){t.call(this,p);break}}try{c=fi.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return jn(ri((e=vi(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}bn.forEach(["delete","get","head","options"],(function(e){wi.prototype[e]=function(t,n){return this.request(vi(n||{},{method:e,url:t,data:(n||{}).data}))}})),bn.forEach(["post","put","patch"],(function(e){function t(t){return function(n,i,r){return this.request(vi(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}wi.prototype[e]=t(),wi.prototype[e+"Form"]=t(!0)}));const Si=wi;class Mi{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const i=new Promise((e=>{n.subscribe(e),t=e})).then(e);return i.cancel=function(){n.unsubscribe(t)},i},e((function(e,i,r){n.reason||(n.reason=new ni(e,i,r),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;const t=new Mi((function(t){e=t}));return{token:t,cancel:e}}}const Ei=Mi;const Ci={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ci).forEach((e=>{let[t,n]=e;Ci[n]=t}));const Ti=Ci;const Ni=function e(t){const n=new Si(t),i=Ft(Si.prototype.request,n);return bn.extend(i,Si.prototype,n,{allOwnKeys:!0}),bn.extend(i,n,null,{allOwnKeys:!0}),i.create=function(n){return e(vi(t,n))},i}(Gn);Ni.Axios=Si,Ni.CanceledError=ni,Ni.CancelToken=Ei,Ni.isCancel=ei,Ni.VERSION=gi,Ni.toFormData=Nn,Ni.AxiosError=Sn,Ni.Cancel=Ni.CanceledError,Ni.all=function(e){return Promise.all(e)},Ni.spread=function(e){return function(t){return e.apply(null,t)}},Ni.isAxiosError=function(e){return bn.isObject(e)&&!0===e.isAxiosError},Ni.mergeConfig=vi,Ni.AxiosHeaders=$n,Ni.formToJSON=e=>Vn(bn.isHTMLForm(e)?new FormData(e):e),Ni.getAdapter=hi,Ni.HttpStatusCode=Ti,Ni.default=Ni;const Ai=Ni;Ai.defaults.baseURL="".concat("http://localhost:8000","/api"),Ai.defaults.headers.post["Content-Type"]="application/json";const ki={login:async function(e){try{var t={method:"post",url:"/login",data:e};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n.response}},addUser:async function(e){try{var t={method:"post",url:"/users/store",headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+window.localStorage.getItem("token")},data:e};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}},updateUser:async function(e,t){try{let i=window.localStorage.getItem("token");var n={method:"post",url:"/users/update/".concat(e),headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+i},data:t};return await Ai(n).then((function(e){return e})).catch((function(e){return e.response}))}catch(i){return i}},getUsers:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;try{let i=window.localStorage.getItem("token");const r=new URLSearchParams;t&&r.append("search",t);var n={method:"get",url:"/users?current_page=".concat(e,"&paginate=yes&").concat(r),headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+i},data:""};return await Ai(n).then((function(e){return e})).catch((function(e){return e.response}))}catch(i){return i}},deleteUser:async function(e){try{let n=window.localStorage.getItem("token");var t={method:"delete",url:"/users/".concat(e),headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+n},data:""};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}},getUserDetail:async function(e){try{let n=window.localStorage.getItem("token");var t={method:"get",url:"/users/".concat(e),headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+n},data:""};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}},addRole:async function(e){try{var t={method:"post",url:"/roles/store",headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+window.localStorage.getItem("token")},data:e};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}},updateRole:async function(e,t){try{let i=window.localStorage.getItem("token");var n={method:"post",url:"/roles/update/".concat(e),headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+i},data:t};return await Ai(n).then((function(e){return e})).catch((function(e){return e.response}))}catch(i){return i}},getRoles:async function(){try{var e={method:"get",url:"/roles",headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+window.localStorage.getItem("token")},data:""};return await Ai(e).then((function(e){return e})).catch((function(e){return e.response}))}catch(t){return t}},deleteRole:async function(e){try{let n=window.localStorage.getItem("token");var t={method:"delete",url:"/roles/".concat(e),headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+n},data:""};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}},getRoleDetail:async function(e){try{let n=window.localStorage.getItem("token");var t={method:"get",url:"/roles/".concat(e),headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+n},data:""};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}},addPermission:async function(e){try{var t={method:"post",url:"/permissions/store",headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+window.localStorage.getItem("token")},data:e};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}},updatePermission:async function(e,t){try{let i=window.localStorage.getItem("token");var n={method:"post",url:"/permissions/update/".concat(e),headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+i},data:t};return await Ai(n).then((function(e){return e})).catch((function(e){return e.response}))}catch(i){return i}},getPermissionDetail:async function(e){try{let n=window.localStorage.getItem("token");var t={method:"get",url:"/permissions/".concat(e),headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+n},data:""};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}},getPermissions:async function(){try{var e={method:"get",url:"/permissions",headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+window.localStorage.getItem("token")},data:""};return await Ai(e).then((function(e){return e})).catch((function(e){return e.response}))}catch(t){return t}},deletePermission:async function(e){try{let n=window.localStorage.getItem("token");var t={method:"delete",url:"/permissions/".concat(e),headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+n},data:""};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}},updatePassword:async function(e){try{var t={method:"post",url:"/password/update",headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+window.localStorage.getItem("token")},data:e};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}},updatePasswordByAdmin:async function(e){try{var t={method:"post",url:"/user/password-update",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+window.localStorage.getItem("token")},data:e};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}},updateProfile:async function(e){try{var t={method:"post",url:"/user/profile-pic-update",headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+window.localStorage.getItem("token")},data:e};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}}};function Oi(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=Oi(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}const Pi=function(){for(var e,t,n=0,i="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=Oi(e))&&(i&&(i+=" "),i+=t);return i},Ri=e=>"number"==typeof e&&!isNaN(e),ji=e=>"string"==typeof e,Li=e=>"function"==typeof e,Ii=e=>ji(e)||Li(e)?e:null,Di=e=>(0,r.isValidElement)(e)||ji(e)||Li(e)||Ri(e);function Fi(e){let{enter:t,exit:n,appendPosition:i=!1,collapse:a=!0,collapseDuration:o=300}=e;return function(e){let{children:s,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:h,playToast:p}=e;const f=i?"".concat(t,"--").concat(l):t,m=i?"".concat(n,"--").concat(l):n,v=(0,r.useRef)(0);return(0,r.useLayoutEffect)((()=>{const e=d.current,t=f.split(" "),n=i=>{i.target===d.current&&(p(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===v.current&&"animationcancel"!==i.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}),[]),(0,r.useEffect)((()=>{const e=d.current,t=()=>{e.removeEventListener("animationend",t),a?function(e,t,n){void 0===n&&(n=300);const{scrollHeight:i,style:r}=e;requestAnimationFrame((()=>{r.minHeight="initial",r.height=i+"px",r.transition="all ".concat(n,"ms"),requestAnimationFrame((()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(t,n)}))}))}(e,u,o):u()};h||(c?t():(v.current=1,e.className+=" ".concat(m),e.addEventListener("animationend",t)))}),[h]),r.createElement(r.Fragment,null,s)}}function Ui(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const zi=new Map;let Bi=[];const Hi=new Set,Vi=e=>Hi.forEach((t=>t(e))),Wi=()=>zi.size>0;function Gi(e,t){var n;if(t)return!(null==(n=zi.get(t))||!n.isToastActive(e));let i=!1;return zi.forEach((t=>{t.isToastActive(e)&&(i=!0)})),i}function qi(e,t){Di(e)&&(Wi()||Bi.push({content:e,options:t}),zi.forEach((n=>{n.buildToast(e,t)})))}function Yi(e,t){zi.forEach((n=>{null!=t&&null!=t&&t.containerId?(null==t?void 0:t.containerId)===n.id&&n.toggle(e,null==t?void 0:t.id):n.toggle(e,null==t?void 0:t.id)}))}function Xi(e){const{subscribe:t,getSnapshot:n,setProps:i}=(0,r.useRef)(function(e){const t=e.containerId||1;return{subscribe(n){const i=function(e,t,n){let i=1,a=0,o=[],s=[],l=[],c=t;const u=new Map,d=new Set,h=()=>{l=Array.from(u.values()),d.forEach((e=>e()))},p=e=>{s=null==e?[]:s.filter((t=>t!==e)),h()},f=e=>{const{toastId:t,onOpen:i,updateId:a,children:o}=e.props,l=null==a;e.staleId&&u.delete(e.staleId),u.set(t,e),s=[...s,e.props.toastId].filter((t=>t!==e.staleId)),h(),n(Ui(e,l?"added":"updated")),l&&Li(i)&&i((0,r.isValidElement)(o)&&o.props)};return{id:e,props:c,observe:e=>(d.add(e),()=>d.delete(e)),toggle:(e,t)=>{u.forEach((n=>{null!=t&&t!==n.props.toastId||Li(n.toggle)&&n.toggle(e)}))},removeToast:p,toasts:u,clearQueue:()=>{a-=o.length,o=[]},buildToast:(t,s)=>{if((t=>{let{containerId:n,toastId:i,updateId:r}=t;const a=n?n!==e:1!==e,o=u.has(i)&&null==r;return a||o})(s))return;const{toastId:l,updateId:d,data:m,staleId:v,delay:g}=s,y=()=>{p(l)},b=null==d;b&&a++;const x={...c,style:c.toastStyle,key:i++,...Object.fromEntries(Object.entries(s).filter((e=>{let[t,n]=e;return null!=n}))),toastId:l,updateId:d,data:m,closeToast:y,isIn:!1,className:Ii(s.className||c.toastClassName),bodyClassName:Ii(s.bodyClassName||c.bodyClassName),progressClassName:Ii(s.progressClassName||c.progressClassName),autoClose:!s.isLoading&&(_=s.autoClose,w=c.autoClose,!1===_||Ri(_)&&_>0?_:w),deleteToast(){const e=u.get(l),{onClose:t,children:i}=e.props;Li(t)&&t((0,r.isValidElement)(i)&&i.props),n(Ui(e,"removed")),u.delete(l),a--,a<0&&(a=0),o.length>0?f(o.shift()):h()}};var _,w;x.closeButton=c.closeButton,!1===s.closeButton||Di(s.closeButton)?x.closeButton=s.closeButton:!0===s.closeButton&&(x.closeButton=!Di(c.closeButton)||c.closeButton);let S=t;(0,r.isValidElement)(t)&&!ji(t.type)?S=(0,r.cloneElement)(t,{closeToast:y,toastProps:x,data:m}):Li(t)&&(S=t({closeToast:y,toastProps:x,data:m}));const M={content:S,props:x,staleId:v};c.limit&&c.limit>0&&a>c.limit&&b?o.push(M):Ri(g)?setTimeout((()=>{f(M)}),g):f(M)},setProps(e){c=e},setToggle:(e,t)=>{u.get(e).toggle=t},isToastActive:e=>s.some((t=>t===e)),getSnapshot:()=>c.newestOnTop?l.reverse():l}}(t,e,Vi);zi.set(t,i);const a=i.observe(n);return Bi.forEach((e=>qi(e.content,e.options))),Bi=[],()=>{a(),zi.delete(t)}},setProps(e){var n;null==(n=zi.get(t))||n.setProps(e)},getSnapshot(){var e;return null==(e=zi.get(t))?void 0:e.getSnapshot()}}}(e)).current;i(e);const a=(0,r.useSyncExternalStore)(t,n,n);return{getToastToRender:function(e){if(!a)return[];const t=new Map;return a.forEach((e=>{const{position:n}=e.props;t.has(n)||t.set(n,[]),t.get(n).push(e)})),Array.from(t,(t=>e(t[0],t[1])))},isToastActive:Gi,count:null==a?void 0:a.length}}function Zi(e){const[t,n]=(0,r.useState)(!1),[i,a]=(0,r.useState)(!1),o=(0,r.useRef)(null),s=(0,r.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:h}=e;var p,f;function m(){n(!0)}function v(){n(!1)}function g(n){const i=o.current;s.canDrag&&i&&(s.didMove=!0,t&&v(),s.delta="x"===e.draggableDirection?n.clientX-s.start:n.clientY-s.start,s.start!==n.clientX&&(s.canCloseOnClick=!1),i.style.transform="translate3d(".concat("x"===e.draggableDirection?"".concat(s.delta,"px, var(--y)"):"0, calc(".concat(s.delta,"px + var(--y))"),",0)"),i.style.opacity=""+(1-Math.abs(s.delta/s.removalDistance)))}function y(){document.removeEventListener("pointermove",g),document.removeEventListener("pointerup",y);const t=o.current;if(s.canDrag&&s.didMove&&t){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return a(!0),e.closeToast(),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}null==(f=zi.get((p={id:e.toastId,containerId:e.containerId,fn:n}).containerId||1))||f.setToggle(p.id,p.fn),(0,r.useEffect)((()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||v(),window.addEventListener("focus",m),window.addEventListener("blur",v),()=>{window.removeEventListener("focus",m),window.removeEventListener("blur",v)}}),[e.pauseOnFocusLoss]);const b={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){s.didMove=!1,document.addEventListener("pointermove",g),document.addEventListener("pointerup",y);const n=o.current;s.canCloseOnClick=!0,s.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(s.start=t.clientX,s.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(s.start=t.clientY,s.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){const{top:n,bottom:i,left:r,right:a}=o.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=r&&t.clientX<=a&&t.clientY>=n&&t.clientY<=i?v():m()}};return l&&c&&(b.onMouseEnter=v,e.stacked||(b.onMouseLeave=m)),h&&(b.onClick=e=>{d&&d(e),s.canCloseOnClick&&u()}),{playToast:m,pauseToast:v,isRunning:t,preventExitTransition:i,toastRef:o,eventHandlers:b}}function Ki(e){let{delay:t,isRunning:n,closeToast:i,type:a="default",hide:o,className:s,style:l,controlledProgress:c,progress:u,rtl:d,isIn:h,theme:p}=e;const f=o||c&&0===u,m={...l,animationDuration:"".concat(t,"ms"),animationPlayState:n?"running":"paused"};c&&(m.transform="scaleX(".concat(u,")"));const v=Pi("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(p),"Toastify__progress-bar--".concat(a),{"Toastify__progress-bar--rtl":d}),g=Li(s)?s({rtl:d,type:a,defaultClassName:v}):Pi(v,s),y={[c&&u>=1?"onTransitionEnd":"onAnimationEnd"]:c&&u<1?null:()=>{h&&i()}};return r.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},r.createElement("div",{className:"Toastify__progress-bar--bg Toastify__progress-bar-theme--".concat(p," Toastify__progress-bar--").concat(a)}),r.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:g,style:m,...y}))}let Ji=1;const $i=()=>""+Ji++;function Qi(e){return e&&(ji(e.toastId)||Ri(e.toastId))?e.toastId:$i()}function er(e,t){return qi(e,t),t.toastId}function tr(e,t){return{...t,type:t&&t.type||e,toastId:Qi(t)}}function nr(e){return(t,n)=>er(t,tr(e,n))}function ir(e,t){return er(e,tr("default",t))}ir.loading=(e,t)=>er(e,tr("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),ir.promise=function(e,t,n){let i,{pending:r,error:a,success:o}=t;r&&(i=ji(r)?ir.loading(r,n):ir.loading(r.render,{...n,...r}));const s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,r)=>{if(null==t)return void ir.dismiss(i);const a={type:e,...s,...n,data:r},o=ji(t)?{render:t}:t;return i?ir.update(i,{...a,...o}):ir(o.render,{...a,...o}),r},c=Li(e)?e():e;return c.then((e=>l("success",o,e))).catch((e=>l("error",a,e))),c},ir.success=nr("success"),ir.info=nr("info"),ir.error=nr("error"),ir.warning=nr("warning"),ir.warn=ir.warning,ir.dark=(e,t)=>er(e,tr("default",{theme:"dark",...t})),ir.dismiss=function(e){!function(e){var t;if(Wi()){if(null==e||ji(t=e)||Ri(t))zi.forEach((t=>{t.removeToast(e)}));else if(e&&("containerId"in e||"id"in e)){const t=zi.get(e.containerId);t?t.removeToast(e.id):zi.forEach((t=>{t.removeToast(e.id)}))}}else Bi=Bi.filter((t=>null!=e&&t.options.toastId!==e))}(e)},ir.clearWaitingQueue=function(e){void 0===e&&(e={}),zi.forEach((t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()}))},ir.isActive=Gi,ir.update=function(e,t){void 0===t&&(t={});const n=((e,t)=>{var n;let{containerId:i}=t;return null==(n=zi.get(i||1))?void 0:n.toasts.get(e)})(e,t);if(n){const{props:i,content:r}=n,a={delay:100,...i,...t,toastId:t.toastId||e,updateId:$i()};a.toastId!==e&&(a.staleId=e);const o=a.render||r;delete a.render,er(o,a)}},ir.done=e=>{ir.update(e,{progress:1})},ir.onChange=function(e){return Hi.add(e),()=>{Hi.delete(e)}},ir.play=e=>Yi(!0,e),ir.pause=e=>Yi(!1,e);const rr="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,ar=e=>{let{theme:t,type:n,isLoading:i,...a}=e;return r.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-".concat(n,")"),...a})},or={info:function(e){return r.createElement(ar,{...e},r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return r.createElement(ar,{...e},r.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return r.createElement(ar,{...e},r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return r.createElement(ar,{...e},r.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return r.createElement("div",{className:"Toastify__spinner"})}},sr=e=>{const{isRunning:t,preventExitTransition:n,toastRef:i,eventHandlers:a,playToast:o}=Zi(e),{closeButton:s,children:l,autoClose:c,onClick:u,type:d,hideProgressBar:h,closeToast:p,transition:f,position:m,className:v,style:g,bodyClassName:y,bodyStyle:b,progressClassName:x,progressStyle:_,updateId:w,role:S,progress:M,rtl:E,toastId:C,deleteToast:T,isIn:N,isLoading:A,closeOnClick:k,theme:O}=e,P=Pi("Toastify__toast","Toastify__toast-theme--".concat(O),"Toastify__toast--".concat(d),{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":k}),R=Li(v)?v({rtl:E,position:m,type:d,defaultClassName:P}):Pi(P,v),j=function(e){let{theme:t,type:n,isLoading:i,icon:a}=e,o=null;const s={theme:t,type:n};return!1===a||(Li(a)?o=a({...s,isLoading:i}):(0,r.isValidElement)(a)?o=(0,r.cloneElement)(a,s):i?o=or.spinner():(e=>e in or)(n)&&(o=or[n](s))),o}(e),L=!!M||!c,I={closeToast:p,type:d,theme:O};let D=null;return!1===s||(D=Li(s)?s(I):(0,r.isValidElement)(s)?(0,r.cloneElement)(s,I):function(e){let{closeToast:t,theme:n,ariaLabel:i="close"}=e;return r.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(n),type:"button",onClick:e=>{e.stopPropagation(),t(e)},"aria-label":i},r.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},r.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(I)),r.createElement(f,{isIn:N,done:T,position:m,preventExitTransition:n,nodeRef:i,playToast:o},r.createElement("div",{id:C,onClick:u,"data-in":N,className:R,...a,style:g,ref:i},r.createElement("div",{...N&&{role:S},className:Li(y)?y({type:d}):Pi("Toastify__toast-body",y),style:b},null!=j&&r.createElement("div",{className:Pi("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!A})},j),r.createElement("div",null,l)),D,r.createElement(Ki,{...w&&!L?{key:"pb-".concat(w)}:{},rtl:E,theme:O,delay:c,isRunning:t,isIn:N,closeToast:p,hide:h,type:d,style:_,className:x,controlledProgress:L,progress:M||0})))},lr=function(e,t){return void 0===t&&(t=!1),{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},cr=Fi(lr("bounce",!0)),ur=(Fi(lr("slide",!0)),Fi(lr("zoom")),Fi(lr("flip")),{position:"top-right",transition:cr,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"});function dr(e){let t={...ur,...e};const n=e.stacked,[i,a]=(0,r.useState)(!0),o=(0,r.useRef)(null),{getToastToRender:s,isToastActive:l,count:c}=Xi(t),{className:u,style:d,rtl:h,containerId:p}=t;function f(e){const t=Pi("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":h});return Li(u)?u({position:e,rtl:h,defaultClassName:t}):Pi(t,Ii(u))}function m(){n&&(a(!0),ir.play())}return rr((()=>{if(n){var e;const n=o.current.querySelectorAll('[data-in="true"]'),r=12,a=null==(e=t.position)?void 0:e.includes("top");let s=0,l=0;Array.from(n).reverse().forEach(((e,t)=>{const n=e;n.classList.add("Toastify__toast--stacked"),t>0&&(n.dataset.collapsed="".concat(i)),n.dataset.pos||(n.dataset.pos=a?"top":"bot");const o=s*(i?.2:1)+(i?0:r*t);n.style.setProperty("--y","".concat(a?o:-1*o,"px")),n.style.setProperty("--g","".concat(r)),n.style.setProperty("--s",""+(1-(i?l:0))),s+=n.offsetHeight,l+=.025}))}}),[i,c,n]),r.createElement("div",{ref:o,className:"Toastify",id:p,onMouseEnter:()=>{n&&(a(!1),ir.pause())},onMouseLeave:m},s(((e,t)=>{const i=t.length?{...d}:{...d,pointerEvents:"none"};return r.createElement("div",{className:f(e),style:i,key:"container-".concat(e)},t.map((e=>{let{content:t,props:i}=e;return r.createElement(sr,{...i,stacked:n,collapseAll:m,isIn:l(i.toastId,i.containerId),style:i.style,key:"toast-".concat(i.key)},t)})))})))}var hr=n(579);const pr=(0,r.createContext)(),fr=e=>{let{children:t}=e;const[n,i]=(0,r.useState)(JSON.parse(localStorage.getItem("dentaluser"))||null),[a,o]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{localStorage.setItem("dentaluser",JSON.stringify(n))}),[n]),(0,hr.jsx)(pr.Provider,{value:{currentUser:n,updateUser:e=>{i(e)},isReadNot:a,updateIsReadNot:e=>{o(e)}},children:t})},mr=()=>{const{updateUser:e}=(0,r.useContext)(pr),[t,n]=(0,r.useState)(""),[i,a]=(0,r.useState)(!1),[o,s]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),u=tt();return(0,hr.jsx)("div",{className:"login-wrapper",children:(0,hr.jsxs)("div",{className:"form-wrapper",children:[(0,hr.jsx)(dr,{}),i&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)("div",{className:"title",children:"Reset Password"}),(0,hr.jsxs)("div",{className:"row",children:[(0,hr.jsxs)("div",{className:"col-12 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Type Old Password"}),(0,hr.jsx)("input",{type:"password",className:"input",value:t,onChange:e=>n(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Password"}),(0,hr.jsx)("input",{type:"password",className:"input",value:o,onChange:e=>s(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Confirm Password"}),(0,hr.jsx)("input",{type:"password",className:"input",value:l,onChange:e=>c(e.target.value)})]})]}),(0,hr.jsx)("div",{className:"d-flex justify-content-center my-3",children:(0,hr.jsx)("button",{className:"button",onClick:async()=>{try{const r=new FormData;if(t)if(o)if(l){var e;a(!0),t&&r.append("old_password",t),o&&r.append("password",o),l&&r.append("confirm_password",l);const s=await ki.updatePassword(r);var n,i;if(1==(null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.success))u("/login"),ir.success(null===s||void 0===s||null===(n=s.data)||void 0===n?void 0:n.message,{autoClose:1e3,pauseOnHover:!0,draggable:!0});else ir.error(null===s||void 0===s||null===(i=s.data)||void 0===i?void 0:i.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}else ir.error("please enter confirm new password",{autoClose:2e3,pauseOnHover:!0,draggable:!0});else ir.error("please enter new password",{autoClose:2e3,pauseOnHover:!0,draggable:!0});else ir.error("please enter old password",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(c){var r,s;ir.error(null===c||void 0===c||null===(r=c.result)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{a(!1)}},children:"Reset Now  "})})]})})};var vr={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},gr=r.createContext&&r.createContext(vr),yr=["attr","size","title"];function br(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xr(){return xr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},xr.apply(this,arguments)}function _r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function wr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_r(Object(n),!0).forEach((function(t){Sr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sr(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mr(e){return e&&e.map(((e,t)=>r.createElement(e.tag,wr({key:t},e.attr),Mr(e.child))))}function Er(e){return t=>r.createElement(Cr,xr({attr:wr({},e.attr)},t),Mr(e.child))}function Cr(e){var t=t=>{var n,{attr:i,size:a,title:o}=e,s=br(e,yr),l=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",xr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,s,{className:n,style:wr(wr({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==gr?r.createElement(gr.Consumer,null,(e=>t(e))):t(vr)}function Tr(e){return Er({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3zM625 177L497 305c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L591 143c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"},child:[]}]})(e)}function Nr(e){return Er({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M170.5 51.6L151.5 80h145l-19-28.4c-1.5-2.2-4-3.6-6.7-3.6H177.1c-2.7 0-5.2 1.3-6.7 3.6zm147-26.6L354.2 80H368h48 8c13.3 0 24 10.7 24 24s-10.7 24-24 24h-8V432c0 44.2-35.8 80-80 80H112c-44.2 0-80-35.8-80-80V128H24c-13.3 0-24-10.7-24-24S10.7 80 24 80h8H80 93.8l36.7-55.1C140.9 9.4 158.4 0 177.1 0h93.7c18.7 0 36.2 9.4 46.6 24.9zM80 128V432c0 17.7 14.3 32 32 32H336c17.7 0 32-14.3 32-32V128H80zm80 64V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16z"},child:[]}]})(e)}function Ar(e){return Er({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M331.3 308.7L278.6 256l52.7-52.7c6.2-6.2 6.2-16.4 0-22.6-6.2-6.2-16.4-6.2-22.6 0L256 233.4l-52.7-52.7c-6.2-6.2-15.6-7.1-22.6 0-7.1 7.1-6 16.6 0 22.6l52.7 52.7-52.7 52.7c-6.7 6.7-6.4 16.3 0 22.6 6.4 6.4 16.4 6.2 22.6 0l52.7-52.7 52.7 52.7c6.2 6.2 16.4 6.2 22.6 0 6.3-6.2 6.3-16.4 0-22.6z"},child:[]},{tag:"path",attr:{d:"M256 76c48.1 0 93.3 18.7 127.3 52.7S436 207.9 436 256s-18.7 93.3-52.7 127.3S304.1 436 256 436c-48.1 0-93.3-18.7-127.3-52.7S76 304.1 76 256s18.7-93.3 52.7-127.3S207.9 76 256 76m0-28C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48z"},child:[]}]})(e)}function kr(e){return Er({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M278.6 256l68.2-68.2c6.2-6.2 6.2-16.4 0-22.6-6.2-6.2-16.4-6.2-22.6 0L256 233.4l-68.2-68.2c-6.2-6.2-16.4-6.2-22.6 0-3.1 3.1-4.7 7.2-4.7 11.3 0 4.1 1.6 8.2 4.7 11.3l68.2 68.2-68.2 68.2c-3.1 3.1-4.7 7.2-4.7 11.3 0 4.1 1.6 8.2 4.7 11.3 6.2 6.2 16.4 6.2 22.6 0l68.2-68.2 68.2 68.2c6.2 6.2 16.4 6.2 22.6 0 6.2-6.2 6.2-16.4 0-22.6L278.6 256z"},child:[]}]})(e)}function Or(e){return Er({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M312 372c-7.7 0-14 6.3-14 14 0 9.9-8.1 18-18 18H94c-9.9 0-18-8.1-18-18V126c0-9.9 8.1-18 18-18h186c9.9 0 18 8.1 18 18 0 7.7 6.3 14 14 14s14-6.3 14-14c0-25.4-20.6-46-46-46H94c-25.4 0-46 20.6-46 46v260c0 25.4 20.6 46 46 46h186c25.4 0 46-20.6 46-46 0-7.7-6.3-14-14-14z"},child:[]},{tag:"path",attr:{d:"M372.9 158.1c-2.6-2.6-6.1-4.1-9.9-4.1-3.7 0-7.3 1.4-9.9 4.1-5.5 5.5-5.5 14.3 0 19.8l65.2 64.2H162c-7.7 0-14 6.3-14 14s6.3 14 14 14h256.6L355 334.2c-5.4 5.4-5.4 14.3 0 19.8l.1.1c2.7 2.5 6.2 3.9 9.8 3.9 3.8 0 7.3-1.4 9.9-4.1l82.6-82.4c4.3-4.3 6.5-9.3 6.5-14.7 0-5.3-2.3-10.3-6.5-14.5l-84.5-84.2z"},child:[]}]})(e)}function Pr(e){return Er({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 1c3.681 0 7 2.565 7 6v4.539c0 .642.189 1.269.545 1.803l2.2 3.298A1.517 1.517 0 0 1 20.482 19H15.5a3.5 3.5 0 1 1-7 0H3.519a1.518 1.518 0 0 1-1.265-2.359l2.2-3.299A3.25 3.25 0 0 0 5 11.539V7c0-3.435 3.318-6 7-6ZM6.5 7v4.539a4.75 4.75 0 0 1-.797 2.635l-2.2 3.298-.003.01.001.007.004.006.006.004.007.001h16.964l.007-.001.006-.004.004-.006.001-.006a.017.017 0 0 0-.003-.01l-2.199-3.299a4.753 4.753 0 0 1-.798-2.635V7c0-2.364-2.383-4.5-5.5-4.5S6.5 4.636 6.5 7ZM14 19h-4a2 2 0 1 0 4 0Z"},child:[]}]})(e)}function Rr(e){return Er({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 1c6.075 0 11 4.925 11 11s-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1Zm3.241 10.5v-.001c-.1-2.708-.992-4.904-1.89-6.452a13.919 13.919 0 0 0-1.304-1.88L12 3.11l-.047.059c-.354.425-.828 1.06-1.304 1.88-.898 1.547-1.79 3.743-1.89 6.451Zm-12.728 0h4.745c.1-3.037 1.1-5.49 2.093-7.204.39-.672.78-1.233 1.119-1.673C6.11 3.329 2.746 7 2.513 11.5Zm18.974 0C21.254 7 17.89 3.329 13.53 2.623c.339.44.729 1.001 1.119 1.673.993 1.714 1.993 4.167 2.093 7.204ZM8.787 13c.182 2.478 1.02 4.5 1.862 5.953.382.661.818 1.29 1.304 1.88l.047.057.047-.059c.354-.425.828-1.06 1.304-1.88.842-1.451 1.679-3.471 1.862-5.951Zm-1.504 0H2.552a9.505 9.505 0 0 0 7.918 8.377 15.773 15.773 0 0 1-1.119-1.673C8.413 18.085 7.47 15.807 7.283 13Zm9.434 0c-.186 2.807-1.13 5.085-2.068 6.704-.39.672-.78 1.233-1.118 1.673A9.506 9.506 0 0 0 21.447 13Z"},child:[]}]})(e)}function jr(e){return Er({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.998 2.5A9.503 9.503 0 0 0 3.378 8H5.75a.75.75 0 0 1 0 1.5H2a1 1 0 0 1-1-1V4.75a.75.75 0 0 1 1.5 0v1.697A10.997 10.997 0 0 1 11.998 1C18.074 1 23 5.925 23 12s-4.926 11-11.002 11C6.014 23 1.146 18.223 1 12.275a.75.75 0 0 1 1.5-.037 9.5 9.5 0 0 0 9.498 9.262c5.248 0 9.502-4.253 9.502-9.5s-4.254-9.5-9.502-9.5Z"},child:[]},{tag:"path",attr:{d:"M12.5 7.25a.75.75 0 0 0-1.5 0v5.5c0 .27.144.518.378.651l3.5 2a.75.75 0 0 0 .744-1.302L12.5 12.315V7.25Z"},child:[]}]})(e)}function Lr(e){return Er({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.78 3.653a3.936 3.936 0 1 1 5.567 5.567l-3.627 3.627a3.936 3.936 0 0 1-5.88-.353.75.75 0 0 0-1.18.928 5.436 5.436 0 0 0 8.12.486l3.628-3.628a5.436 5.436 0 1 0-7.688-7.688l-3 3a.75.75 0 0 0 1.06 1.061l3-3Z"},child:[]},{tag:"path",attr:{d:"M7.28 11.153a3.936 3.936 0 0 1 5.88.353.75.75 0 0 0 1.18-.928 5.436 5.436 0 0 0-8.12-.486L2.592 13.72a5.436 5.436 0 1 0 7.688 7.688l3-3a.75.75 0 1 0-1.06-1.06l-3 3a3.936 3.936 0 0 1-5.567-5.568l3.627-3.627Z"},child:[]}]})(e)}function Ir(e){return Er({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M1 3a2 2 0 0 1 2-2h6.5a2 2 0 0 1 2 2v6.5a2 2 0 0 1-2 2H7v4.063C7 16.355 7.644 17 8.438 17H12.5v-2.5a2 2 0 0 1 2-2H21a2 2 0 0 1 2 2V21a2 2 0 0 1-2 2h-6.5a2 2 0 0 1-2-2v-2.5H8.437A2.939 2.939 0 0 1 5.5 15.562V11.5H3a2 2 0 0 1-2-2Zm2-.5a.5.5 0 0 0-.5.5v6.5a.5.5 0 0 0 .5.5h6.5a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5ZM14.5 14a.5.5 0 0 0-.5.5V21a.5.5 0 0 0 .5.5H21a.5.5 0 0 0 .5-.5v-6.5a.5.5 0 0 0-.5-.5Z"},child:[]}]})(e)}const Dr=n.p+"static/media/logo.a9a90a4b2e2ed0dc44f0.jpeg",Fr=n.p+"static/media/smilez.cba85e7720713f7ebc9a.png";function Ur(e){return Er({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Globe"},child:[{tag:"path",attr:{d:"M14.645,2.428a8.1,8.1,0,0,0-1.61-.3,9.332,9.332,0,0,0-3.6.28l-.07.02a9.928,9.928,0,0,0,.01,19.15,9.091,9.091,0,0,0,2.36.34,1.274,1.274,0,0,0,.27.02,9.65,9.65,0,0,0,2.63-.36,9.931,9.931,0,0,0,.01-19.15Zm-.27.96a8.943,8.943,0,0,1,5.84,5.11h-4.26a13.778,13.778,0,0,0-2.74-5.35A8.254,8.254,0,0,1,14.375,3.388Zm-2.37-.09a12.78,12.78,0,0,1,2.91,5.2H9.075A12.545,12.545,0,0,1,12.005,3.3Zm3.16,6.2a13.193,13.193,0,0,1,0,5.01H8.845a12.185,12.185,0,0,1-.25-2.5,12.353,12.353,0,0,1,.25-2.51Zm-5.6-6.09.07-.02a9.152,9.152,0,0,1,1.16-.23A13.618,13.618,0,0,0,8.045,8.5H3.8A9,9,0,0,1,9.565,3.408Zm-6.5,8.6a8.71,8.71,0,0,1,.37-2.51h4.39a13.95,13.95,0,0,0-.23,2.51,13.757,13.757,0,0,0,.23,2.5H3.435A8.591,8.591,0,0,1,3.065,12.008Zm6.57,8.61a8.9,8.9,0,0,1-5.84-5.11h4.24a13.632,13.632,0,0,0,2.77,5.35A8.1,8.1,0,0,1,9.635,20.618Zm-.56-5.11h5.84a12.638,12.638,0,0,1-2.91,5.21A12.872,12.872,0,0,1,9.075,15.508Zm5.3,5.11a11.551,11.551,0,0,1-1.17.24,13.8,13.8,0,0,0,2.75-5.35h4.26A8.924,8.924,0,0,1,14.375,20.618Zm1.8-6.11a13.611,13.611,0,0,0,0-5.01h4.39a8.379,8.379,0,0,1,.37,2.51,8.687,8.687,0,0,1-.36,2.5Z"},child:[]}]}]})(e)}function zr(e){return Er({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Lock"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M17.44,9.33h-1.1V6.4a4.34,4.34,0,0,0-8.68,0V9.33H6.56a2.5,2.5,0,0,0-2.5,2.5v7.61a2.507,2.507,0,0,0,2.5,2.5H17.44a2.507,2.507,0,0,0,2.5-2.5V11.83A2.5,2.5,0,0,0,17.44,9.33ZM8.66,6.4a3.34,3.34,0,0,1,6.68,0V9.33H8.66ZM18.94,19.44a1.511,1.511,0,0,1-1.5,1.5H6.56a1.511,1.511,0,0,1-1.5-1.5V11.83a1.5,1.5,0,0,1,1.5-1.5H17.44a1.5,1.5,0,0,1,1.5,1.5Z"},child:[]},{tag:"path",attr:{d:"M13,14.95a.984.984,0,0,1-.5.86v1.5a.5.5,0,0,1-1,0v-1.5a.984.984,0,0,1-.5-.86,1,1,0,0,1,2,0Z"},child:[]}]}]}]})(e)}function Br(e){return Er({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Medical_Case"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M18.435,6.465h-1.43v-.9a2.5,2.5,0,0,0-2.5-2.5h-5a2.5,2.5,0,0,0-2.5,2.5v.9H5.565a2.5,2.5,0,0,0-2.5,2.5v9.47a2.5,2.5,0,0,0,2.5,2.5h12.87a2.5,2.5,0,0,0,2.5-2.5V8.965A2.5,2.5,0,0,0,18.435,6.465Zm-10.43-.9a1.5,1.5,0,0,1,1.5-1.5h5a1.5,1.5,0,0,1,1.5,1.5v.9h-8Zm11.93,12.87a1.5,1.5,0,0,1-1.5,1.5H5.565a1.5,1.5,0,0,1-1.5-1.5V8.965a1.5,1.5,0,0,1,1.5-1.5h12.87a1.5,1.5,0,0,1,1.5,1.5Z"},child:[]},{tag:"path",attr:{d:"M14.505,13.675a.5.5,0,0,1-.5.5h-1.5v1.5a.5.5,0,0,1-.5.5.5.5,0,0,1-.5-.5v-1.5h-1.5a.5.5,0,0,1-.5-.5.5.5,0,0,1,.5-.5h1.5v-1.5a.5.5,0,0,1,.5-.5.508.508,0,0,1,.5.5v1.5h1.5A.508.508,0,0,1,14.505,13.675Z"},child:[]}]}]}]})(e)}function Hr(e){return Er({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Mobile_4"},child:[{tag:"g",attr:{},child:[{tag:"circle",attr:{cx:"12.003",cy:"18.937",r:"1"},child:[]},{tag:"path",attr:{d:"M16.725,2.065H7.275a2.386,2.386,0,0,0-2.24,2.5v14.87a2.386,2.386,0,0,0,2.24,2.5h9.45a2.379,2.379,0,0,0,2.24-2.5V4.565A2.379,2.379,0,0,0,16.725,2.065Zm1.24,17.37a1.384,1.384,0,0,1-1.24,1.5H7.275a1.391,1.391,0,0,1-1.24-1.5v-2.5h11.93Zm0-3.5H6.035V4.565a1.391,1.391,0,0,1,1.24-1.5h9.45a1.384,1.384,0,0,1,1.24,1.5Z"},child:[]}]}]}]})(e)}function Vr(e){return Er({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0"},child:[]},{tag:"path",attr:{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]},{tag:"path",attr:{d:"M21 21v-2a4 4 0 0 0 -3 -3.85"},child:[]}]})(e)}function Wr(e){return Er({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm0 4c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H6v-1.4c0-2 4-3.1 6-3.1s6 1.1 6 3.1V19z"},child:[]}]})(e)}function Gr(e){return Er({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(e)}function qr(e){return Er({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 12c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm1.65 7.35L16.5 17.2V14h1v2.79l1.85 1.85-.7.71zM18 3h-3.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H6c-1.1 0-2 .9-2 2v15c0 1.1.9 2 2 2h6.11a6.743 6.743 0 0 1-1.42-2H6V5h2v3h8V5h2v5.08c.71.1 1.38.31 2 .6V5c0-1.1-.9-2-2-2zm-6 2c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"},child:[]}]})(e)}function Yr(e){return Er({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M4 16v6h16v-6c0-1.1-.9-2-2-2H6c-1.1 0-2 .9-2 2zm14 2H6v-2h12v2zM12 2C9.24 2 7 4.24 7 7l5 7 5-7c0-2.76-2.24-5-5-5zm0 9L9 7c0-1.66 1.34-3 3-3s3 1.34 3 3l-3 4z"},child:[]}]})(e)}function Xr(e){return Er({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18.5 11c-1.56 0-2.92-.9-3.58-2.21l-.79-1.67C14.12 7.1 13.63 6 12.34 6 8.72 6 6 16.69 6 19h2.5l-2.1 2.8L8 23l3-4h2v4h2v-4.03L13 13l.49-2.71A6.02 6.02 0 0 0 17 12.81v.69h1v-1c0-.28.22-.5.5-.5s.5.22.5.5V23h1V12.5c0-.83-.67-1.5-1.5-1.5zM11.6 2.91c-.06.19-.1.38-.1.59 0 1.1.9 2 2 2s2-.9 2-2-.9-2-2-2c-.21 0-.4.04-.59.1-.15-.35-.5-.6-.91-.6-.55 0-1 .45-1 1 0 .41.25.76.6.91z"},child:[]}]})(e)}function Zr(e){return Er({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"g",attr:{fillRule:"evenodd"},child:[{tag:"circle",attr:{cx:"17",cy:"15.5",r:"1.12"},child:[]},{tag:"path",attr:{d:"M17 17.5c-.73 0-2.19.36-2.24 1.08.5.71 1.32 1.17 2.24 1.17s1.74-.46 2.24-1.17c-.05-.72-1.51-1.08-2.24-1.08z"},child:[]},{tag:"path",attr:{d:"M18 11.09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55A5.973 5.973 0 0 0 17 23c3.31 0 6-2.69 6-6 0-2.97-2.16-5.43-5-5.91zM11 17c0 .56.08 1.11.23 1.62-.24.11-.48.22-.73.3-3.17-1-5.5-4.24-5.5-7.74v-3.6l5.5-2.4 5.5 2.4v3.51c-2.84.48-5 2.94-5 5.91zm6 4c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z"},child:[]}]}]})(e)}function Kr(e){return Er({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7-.25c.22 0 .41.1.55.25.12.13.2.31.2.5 0 .41-.34.75-.75.75s-.75-.34-.75-.75c0-.19.08-.37.2-.5.14-.15.33-.25.55-.25zM19 19H5V5h14v14zM12 6c-1.65 0-3 1.35-3 3s1.35 3 3 3 3-1.35 3-3-1.35-3-3-3zm0 4c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-6 6.47V18h12v-1.53c0-2.5-3.97-3.58-6-3.58s-6 1.07-6 3.58zM8.31 16c.69-.56 2.38-1.12 3.69-1.12s3.01.56 3.69 1.12H8.31z"},child:[]}]})(e)}function Jr(e){return Er({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h8v-2H4V8l8 5 8-5v5h2V6c0-1.1-.9-2-2-2zm-8 7L4 6h16l-8 5zm5.34 11-3.54-3.54 1.41-1.41 2.12 2.12 4.24-4.24L23 16.34 17.34 22z"},child:[]}]})(e)}function $r(e){return Er({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m3 6 8 5 8-5v3h2V4c0-1.1-.9-2-2-2H3c-1.1 0-1.99.9-1.99 2L1 16c0 1.1.9 2 2 2h10v-2H3V6zm16-2-8 5-8-5h16z"},child:[]},{tag:"path",attr:{d:"M21 14v4c0 1.1-.9 2-2 2s-2-.9-2-2v-4.5c0-.28.22-.5.5-.5s.5.22.5.5V18h2v-4.5a2.5 2.5 0 0 0-5 0V18c0 2.21 1.79 4 4 4s4-1.79 4-4v-4h-2z"},child:[]}]})(e)}function Qr(e){return Er({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 15v3H6v-3H4v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3h-2zM7 9l1.41 1.41L11 7.83V16h2V7.83l2.59 2.58L17 9l-5-5-5 5z"},child:[]}]})(e)}Ai.defaults.baseURL="".concat("http://localhost:8000","/api"),Ai.defaults.headers.post["Content-Type"]="application/json";const ea={addNotification:async function(e){try{var t={method:"post",url:"/notifications/store",headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+window.localStorage.getItem("token")},data:e};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}},getNotificationDetail:async function(e){try{let n=window.localStorage.getItem("token");var t={method:"get",url:"/notifications/".concat(e),headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+n},data:""};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}},getNotifications:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{let n=window.localStorage.getItem("token");var t={method:"get",url:"/notifications?current_page=".concat(e,"&paginate=yes"),headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+n},data:""};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}},readAllNotifications:async function(){try{var e={method:"post",url:"/notifications_read_all",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+window.localStorage.getItem("token")},data:""};return await Ai(e).then((function(e){return e})).catch((function(e){return e.response}))}catch(t){return t}}};function ta(e){return Er({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M368 368 144 144m224 0L144 368"},child:[]}]})(e)}function na(e){return Er({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 13.5a.5.5 0 0 1-.5.5h-6a.5.5 0 0 1 0-1h4.793L2.146 2.854a.5.5 0 1 1 .708-.708L13 12.293V7.5a.5.5 0 0 1 1 0z"},child:[]}]})(e)}function ia(e){return Er({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 2.5a.5.5 0 0 0-.5-.5h-6a.5.5 0 0 0 0 1h4.793L2.146 13.146a.5.5 0 0 0 .708.708L13 3.707V8.5a.5.5 0 0 0 1 0z"},child:[]}]})(e)}function ra(e){return Er({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325"},child:[]}]})(e)}function aa(e){return Er({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M3 2v4.586l7 7L14.586 9l-7-7zM2 2a1 1 0 0 1 1-1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 2 6.586z"},child:[]},{tag:"path",attr:{d:"M5.5 5a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1m0 1a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3M1 7.086a1 1 0 0 0 .293.707L8.75 15.25l-.043.043a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 0 7.586V3a1 1 0 0 1 1-1z"},child:[]}]})(e)}const oa=()=>{const{currentUser:e,updateUser:t,isReadNot:n,updateIsReadNot:i}=(0,r.useContext)(pr),[a,o]=(0,r.useState)([]),[s,l]=(0,r.useState)({}),[c,u]=(0,r.useState)(""),[d,h]=(0,r.useState)(0),[p,f]=(0,r.useState)(!1),[m,v]=(0,r.useState)(null),[g,y]=(0,r.useState)(!1),[b,x]=(0,r.useState)(!1),[_,w]=(0,r.useState)(!1),S=null===e||void 0===e?void 0:e.role_name,M=null===e||void 0===e?void 0:e.guid,E=(null===e||void 0===e||e.id,null===e||void 0===e?void 0:e.permissions),C=tt(),T=async e=>{try{var t;const a=await ki.getUserDetail(e);var n,i,r;if(200==(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.status))w(!0),l(null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.data);else"Unauthenticated."==(null===a||void 0===a||null===(i=a.data)||void 0===i?void 0:i.message)&&C("/login"),ir.error(null===a||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(s){var a,o;ir.error(null===s||void 0===s||null===(a=s.result)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{x(!1)}};(0,r.useEffect)((()=>{T(M)}),[n]);(0,r.useEffect)((()=>{(async()=>{try{var e;const a=await ea.getNotifications();var t,n,i,r;200==(null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.status)?o(null===a||void 0===a||null===(t=a.data)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.data):("Unauthenticated."==(null===a||void 0===a||null===(i=a.data)||void 0===i?void 0:i.message)&&C("/login"),ir.error(null===a||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0}))}catch(l){var a,s;ir.error(null===l||void 0===l||null===(a=l.result)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{x(!1)}})()}),[n]);return(0,hr.jsxs)("div",{className:"side-bar",children:[(0,hr.jsx)(dr,{}),b&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),p&&(0,hr.jsx)("div",{className:"modal-main",children:(0,hr.jsxs)("div",{className:"modal-wrapper change-pass",children:[(0,hr.jsx)("div",{className:"close",onClick:()=>f(!1),children:(0,hr.jsx)(ta,{})}),(0,hr.jsx)("div",{className:"title",children:"Update profile"}),(0,hr.jsxs)("div",{className:"form-group mb-3",children:[(0,hr.jsx)("label",{htmlFor:"",children:"upload image"}),(0,hr.jsx)("input",{type:"file",className:"input",onChange:e=>{const t=e.target.files[0];v(t)}})]}),(0,hr.jsx)("div",{className:"text-center",children:(0,hr.jsx)("button",{className:"button",onClick:()=>{(async()=>{try{const i=new FormData;if(m){x(!0),m&&i.append("profile_pic",m),null!==e&&void 0!==e&&e.id&&i.append("user_id",null===e||void 0===e?void 0:e.id);const r=await ki.updateProfile(i);var t,n;r?(ir.success(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.message,{autoClose:1e3,pauseOnHover:!0,draggable:!0}),T(M),f(!1)):"Unauthenticated."==(null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.success)&&C("/login")}else ir.error("upload profile first",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(a){var i,r;ir.error(null===a||void 0===a||null===(i=a.result)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{x(!1)}})()},children:"Update"})})]})}),(0,hr.jsxs)("div",{className:"user-area",children:[(0,hr.jsxs)("div",{className:"profile-wrapper",children:[(0,hr.jsxs)("div",{className:"user-image",children:[(0,hr.jsx)("div",{className:"icon",onClick:()=>f(!0),children:(0,hr.jsx)(ra,{})}),null!==s&&void 0!==s&&s.profile_pic?(0,hr.jsx)("img",{src:"".concat("http://localhost:8000","/uploads/").concat(null===s||void 0===s?void 0:s.profile_pic)}):_?(0,hr.jsx)("img",{src:"134"==(null===s||void 0===s?void 0:s.id)||"134"==(null===s||void 0===s?void 0:s.client_id)?Fr:Dr,alt:""}):(0,hr.jsx)("div",{className:"circular-loader"})]}),(0,hr.jsxs)("div",{className:"user-name",children:[null===s||void 0===s?void 0:s.first_name," ",null===s||void 0===s?void 0:s.last_name]})]}),(0,hr.jsxs)("div",{className:"user-id",children:[" (",null===s||void 0===s?void 0:s.role_name,") "]}),(0,hr.jsx)("div",{className:"notifications-wrapper",children:(0,hr.jsx)("div",{className:"icon-wrapper",children:(null===a||void 0===a?void 0:a.length)>0?(0,hr.jsxs)(Lt,{to:"/notifications",className:"icon",children:[(0,hr.jsx)(Lt,{to:"/notifications",className:"count",children:"super_admin"==S?null===s||void 0===s?void 0:s.notifications_admin_count:"case_submission"==S?null===s||void 0===s?void 0:s.notifications_case_submission_count:null===s||void 0===s?void 0:s.notifications_count}),(0,hr.jsx)(Pr,{})]}):(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)("div",{className:"count",children:null===a||void 0===a?void 0:a.length}),(0,hr.jsx)(Pr,{})]})})})]}),(0,hr.jsxs)(Lt,{className:"dashboardd ".concat("dashboard"==c?"active":""),to:"/dashboard",onClick:()=>u("dashboard"),children:[(0,hr.jsx)("div",{className:"icon",children:(0,hr.jsx)(Or,{})})," Dashboard"]}),((null===E||void 0===E?void 0:E.includes("users-list"))||(null===E||void 0===E?void 0:E.includes("roles-list"))||(null===E||void 0===E?void 0:E.includes("teams-list"))||(null===E||void 0===E?void 0:E.includes("permissions-list")))&&(0,hr.jsx)("div",{className:"title",children:"User management"}),(0,hr.jsxs)("ul",{children:[(null===E||void 0===E?void 0:E.includes("users-list"))&&(0,hr.jsx)("li",{children:(0,hr.jsxs)(Lt,{className:"".concat("users"==c?"active":""),onClick:()=>u("users"),to:"/users",children:[" ",(0,hr.jsx)("div",{className:"icon",children:(0,hr.jsx)(Vr,{})})," Users"]})}),(null===E||void 0===E?void 0:E.includes("roles-list"))&&(0,hr.jsx)("li",{children:(0,hr.jsxs)(Lt,{className:"".concat("roles"==c?"active":""),onClick:()=>u("roles"),to:"/roles",children:[" ",(0,hr.jsx)("div",{className:"icon",children:(0,hr.jsx)(Ir,{})}),"  Roles"]})}),(null===E||void 0===E?void 0:E.includes("permissions-list"))&&(0,hr.jsx)("li",{children:(0,hr.jsxs)(Lt,{className:"".concat("permissions"==c?"active":""),onClick:()=>u("permissions"),to:"/permissions",children:[" ",(0,hr.jsx)("div",{className:"icon",children:(0,hr.jsx)(Tr,{})}),"  Permissions"]})}),(null===E||void 0===E?void 0:E.includes("teams-store"))&&(0,hr.jsx)("li",{children:(0,hr.jsxs)(Lt,{className:"".concat("teams"==c?"active":""),onClick:()=>u("teams"),to:"/teams",children:[" ",(0,hr.jsx)("div",{className:"icon",children:(0,hr.jsx)(Vr,{})}),"  Teams"]})})]}),((null===E||void 0===E?void 0:E.includes("patient-cases-list"))||(null===E||void 0===E?void 0:E.includes("pending-approvals-list")))&&(0,hr.jsx)("div",{className:"title",children:"Case management"}),(0,hr.jsxs)("ul",{children:[(null===E||void 0===E?void 0:E.includes("patient-cases-list"))&&(0,hr.jsx)("li",{children:(0,hr.jsxs)(Lt,{className:"".concat("cases"==c?"active":""),onClick:()=>u("cases"),to:"/cases",children:[" ",(0,hr.jsx)("div",{className:"icon",children:(0,hr.jsx)(Br,{})}),"  My cases"]})}),(null===E||void 0===E?void 0:E.includes("patient-cases-list"))&&(0,hr.jsx)("li",{children:(0,hr.jsxs)(Lt,{className:"".concat("completed"==c?"active":""),onClick:()=>u("completed"),to:"/completed-cases",children:[" ",(0,hr.jsx)("div",{className:"icon",children:(0,hr.jsx)(Br,{})}),"  Completed cases"]})}),(null===E||void 0===E?void 0:E.includes("sub-client-list"))&&(0,hr.jsx)("li",{children:(0,hr.jsxs)(Lt,{className:"".concat("subclients"==c?"active":""),onClick:()=>u("subclients"),to:"/sub-clients",children:[" ",(0,hr.jsx)("div",{className:"icon",children:(0,hr.jsx)(Vr,{})}),"  Sub clients"]})}),(0,hr.jsx)("li",{children:(0,hr.jsxs)(Lt,{className:"".concat("history"==c?"active":""),onClick:()=>u("history"),to:"/history",children:[" ",(0,hr.jsx)("div",{className:"icon",children:(0,hr.jsx)(jr,{})}),"  History"]})}),(0,hr.jsx)("li",{children:(0,hr.jsxs)(Lt,{className:"".concat("softwares"==c?"active":""),onClick:()=>u("softwares"),to:"/softwares",children:[" ",(0,hr.jsx)("div",{className:"icon",children:(0,hr.jsx)(Rr,{})}),"  Softwares"]})})]}),(null===E||void 0===E?void 0:E.includes("reset-password"))&&(0,hr.jsxs)(Lt,{to:"/reset-password",className:"logout mb-3",children:[" ",(0,hr.jsx)("div",{className:"icon",children:(0,hr.jsx)(qr,{})})," Reset Password"]}),(0,hr.jsxs)("div",{className:"logout",onClick:()=>(localStorage.removeItem("token"),t(null),void("93"==(null===s||void 0===s?void 0:s.id)||"93"==(null===s||void 0===s?void 0:s.client_id)?C("/biodentlogin"):"98"==(null===s||void 0===s?void 0:s.id)||"98"==(null===s||void 0===s?void 0:s.client_id)?C("/cleverlogin"):"114"==(null===s||void 0===s?void 0:s.id)||"114"==(null===s||void 0===s?void 0:s.client_id)?C("/wesmilelogin"):"115"==(null===s||void 0===s?void 0:s.id)||"115"==(null===s||void 0===s?void 0:s.client_id)?C("/mysmartalignlogin"):"134"==(null===s||void 0===s?void 0:s.id)||"134"==(null===s||void 0===s?void 0:s.client_id)?C("/smilezylogin"):"135"==(null===s||void 0===s?void 0:s.id)||"135"==(null===s||void 0===s?void 0:s.client_id)?C("/darrenlogin"):"151"==(null===s||void 0===s?void 0:s.id)||"151"==(null===s||void 0===s?void 0:s.client_id)?C("/drabhisheklogin"):C("/login"))),children:[" ",(0,hr.jsx)("div",{className:"icon",children:(0,hr.jsx)(Or,{})})," Logout"]})]})},sa=()=>{const e=tt(),t=localStorage.getItem("token");return(0,r.useEffect)((()=>{t||e("/login")}),[t]),(0,hr.jsxs)("div",{className:"layout",children:[(0,hr.jsx)("div",{className:"left-side",children:(0,hr.jsx)(oa,{})}),(0,hr.jsx)("div",{className:"right-side",children:(0,hr.jsx)(gt,{})})]})};function la(e){return la="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},la(e)}function ca(e){var t=function(e,t){if("object"!=la(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=la(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==la(t)?t:t+""}function ua(e,t,n){return(t=ca(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function da(e){return e+.5|0}const ha=(e,t,n)=>Math.max(Math.min(e,n),t);function pa(e){return ha(da(2.55*e),0,255)}function fa(e){return ha(da(255*e),0,255)}function ma(e){return ha(da(e/2.55)/100,0,1)}function va(e){return ha(da(100*e),0,100)}const ga={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ya=[..."0123456789ABCDEF"],ba=e=>ya[15&e],xa=e=>ya[(240&e)>>4]+ya[15&e],_a=e=>(240&e)>>4===(15&e);function wa(e){var t=(e=>_a(e.r)&&_a(e.g)&&_a(e.b)&&_a(e.a))(e)?ba:xa;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const Sa=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ma(e,t,n){const i=t*Math.min(n,1-n),r=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-i*Math.max(Math.min(r-3,9-r,1),-1)};return[r(0),r(8),r(4)]}function Ea(e,t,n){const i=function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(i+e/60)%6;return n-n*t*Math.max(Math.min(r,4-r,1),0)};return[i(5),i(3),i(1)]}function Ca(e,t,n){const i=Ma(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)i[r]*=1-t-n,i[r]+=t;return i}function Ta(e){const t=e.r/255,n=e.g/255,i=e.b/255,r=Math.max(t,n,i),a=Math.min(t,n,i),o=(r+a)/2;let s,l,c;return r!==a&&(c=r-a,l=o>.5?c/(2-r-a):c/(r+a),s=function(e,t,n,i,r){return e===r?(t-n)/i+(t<n?6:0):t===r?(n-e)/i+2:(e-t)/i+4}(t,n,i,c,r),s=60*s+.5),[0|s,l||0,o]}function Na(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(fa)}function Aa(e,t,n){return Na(Ma,e,t,n)}function ka(e){return(e%360+360)%360}function Oa(e){const t=Sa.exec(e);let n,i=255;if(!t)return;t[5]!==n&&(i=t[6]?pa(+t[5]):fa(+t[5]));const r=ka(+t[2]),a=+t[3]/100,o=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return Na(Ca,e,t,n)}(r,a,o):"hsv"===t[1]?function(e,t,n){return Na(Ea,e,t,n)}(r,a,o):Aa(r,a,o),{r:n[0],g:n[1],b:n[2],a:i}}const Pa={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ra={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let ja;function La(e){ja||(ja=function(){const e={},t=Object.keys(Ra),n=Object.keys(Pa);let i,r,a,o,s;for(i=0;i<t.length;i++){for(o=s=t[i],r=0;r<n.length;r++)a=n[r],s=s.replace(a,Pa[a]);a=parseInt(Ra[o],16),e[s]=[a>>16&255,a>>8&255,255&a]}return e}(),ja.transparent=[0,0,0,0]);const t=ja[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const Ia=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Da=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,Fa=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Ua(e,t,n){if(e){let i=Ta(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,0===t?360:1)),i=Aa(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function za(e,t){return e?Object.assign(t||{},e):e}function Ba(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=fa(e[3]))):(t=za(e,{r:0,g:0,b:0,a:1})).a=fa(t.a),t}function Ha(e){return"r"===e.charAt(0)?function(e){const t=Ia.exec(e);let n,i,r,a=255;if(t){if(t[7]!==n){const e=+t[7];a=t[8]?pa(e):ha(255*e,0,255)}return n=+t[1],i=+t[3],r=+t[5],n=255&(t[2]?pa(n):ha(n,0,255)),i=255&(t[4]?pa(i):ha(i,0,255)),r=255&(t[6]?pa(r):ha(r,0,255)),{r:n,g:i,b:r,a:a}}}(e):Oa(e)}class Va{constructor(e){if(e instanceof Va)return e;const t=typeof e;let n;"object"===t?n=Ba(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*ga[e[1]],g:255&17*ga[e[2]],b:255&17*ga[e[3]],a:5===n?17*ga[e[4]]:255}:7!==n&&9!==n||(t={r:ga[e[1]]<<4|ga[e[2]],g:ga[e[3]]<<4|ga[e[4]],b:ga[e[5]]<<4|ga[e[6]],a:9===n?ga[e[7]]<<4|ga[e[8]]:255})),t}(e)||La(e)||Ha(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=za(this._rgb);return e&&(e.a=ma(e.a)),e}set rgb(e){this._rgb=Ba(e)}rgbString(){return this._valid?function(e){return e&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(ma(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")"))}(this._rgb):void 0}hexString(){return this._valid?wa(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=Ta(e),n=t[0],i=va(t[1]),r=va(t[2]);return e.a<255?"hsla(".concat(n,", ").concat(i,"%, ").concat(r,"%, ").concat(ma(e.a),")"):"hsl(".concat(n,", ").concat(i,"%, ").concat(r,"%)")}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,i=e.rgb;let r;const a=t===r?.5:t,o=2*a-1,s=n.a-i.a,l=((o*s===-1?o:(o+s)/(1+o*s))+1)/2;r=1-l,n.r=255&l*n.r+r*i.r+.5,n.g=255&l*n.g+r*i.g+.5,n.b=255&l*n.b+r*i.b+.5,n.a=a*n.a+(1-a)*i.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const i=Fa(ma(e.r)),r=Fa(ma(e.g)),a=Fa(ma(e.b));return{r:fa(Da(i+n*(Fa(ma(t.r))-i))),g:fa(Da(r+n*(Fa(ma(t.g))-r))),b:fa(Da(a+n*(Fa(ma(t.b))-a))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new Va(this.rgb)}alpha(e){return this._rgb.a=fa(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=da(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ua(this._rgb,2,e),this}darken(e){return Ua(this._rgb,2,-e),this}saturate(e){return Ua(this._rgb,1,e),this}desaturate(e){return Ua(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=Ta(e);n[0]=ka(n[0]+t),n=Aa(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function Wa(){}const Ga=(()=>{let e=0;return()=>e++})();function qa(e){return null===e||"undefined"===typeof e}function Ya(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function Xa(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function Za(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function Ka(e,t){return Za(e)?e:t}function Ja(e,t){return"undefined"===typeof e?t:e}const $a=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Qa(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function eo(e,t,n,i){let r,a,o;if(Ya(e))if(a=e.length,i)for(r=a-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;r<a;r++)t.call(n,e[r],r);else if(Xa(e))for(o=Object.keys(e),a=o.length,r=0;r<a;r++)t.call(n,e[o[r]],o[r])}function to(e,t){let n,i,r,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(r=e[n],a=t[n],r.datasetIndex!==a.datasetIndex||r.index!==a.index)return!1;return!0}function no(e){if(Ya(e))return e.map(no);if(Xa(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let r=0;for(;r<i;++r)t[n[r]]=no(e[n[r]]);return t}return e}function io(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function ro(e,t,n,i){if(!io(e))return;const r=t[e],a=n[e];Xa(r)&&Xa(a)?ao(r,a,i):t[e]=no(a)}function ao(e,t,n){const i=Ya(t)?t:[t],r=i.length;if(!Xa(e))return e;const a=(n=n||{}).merger||ro;let o;for(let s=0;s<r;++s){if(o=i[s],!Xa(o))continue;const t=Object.keys(o);for(let i=0,r=t.length;i<r;++i)a(t[i],e,o,n)}return e}function oo(e,t){return ao(e,t,{merger:so})}function so(e,t,n){if(!io(e))return;const i=t[e],r=n[e];Xa(i)&&Xa(r)?oo(i,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=no(r))}const lo={"":e=>e,x:e=>e.x,y:e=>e.y};function co(e,t){const n=lo[t]||(lo[t]=function(e){const t=function(e){const t=e.split("."),n=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function uo(e){return e.charAt(0).toUpperCase()+e.slice(1)}const ho=e=>"undefined"!==typeof e,po=e=>"function"===typeof e,fo=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const mo=Math.PI,vo=2*mo,go=vo+mo,yo=Number.POSITIVE_INFINITY,bo=mo/180,xo=mo/2,_o=mo/4,wo=2*mo/3,So=Math.log10,Mo=Math.sign;function Eo(e,t,n){return Math.abs(e-t)<n}function Co(e){const t=Math.round(e);e=Eo(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(So(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function To(e){return!isNaN(parseFloat(e))&&isFinite(e)}function No(e,t,n){let i,r,a;for(i=0,r=e.length;i<r;i++)a=e[i][n],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function Ao(e){return e*(mo/180)}function ko(e){return e*(180/mo)}function Oo(e){if(!Za(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Po(e,t){const n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i);let a=Math.atan2(i,n);return a<-.5*mo&&(a+=vo),{angle:a,distance:r}}function Ro(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function jo(e,t){return(e-t+go)%vo-mo}function Lo(e){return(e%vo+vo)%vo}function Io(e,t,n,i){const r=Lo(e),a=Lo(t),o=Lo(n),s=Lo(a-r),l=Lo(o-r),c=Lo(r-a),u=Lo(r-o);return r===a||r===o||i&&a===o||s>l&&c<u}function Do(e,t,n){return Math.max(t,Math.min(n,e))}function Fo(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function Uo(e,t,n){n=n||(n=>e[n]<t);let i,r=e.length-1,a=0;for(;r-a>1;)i=a+r>>1,n(i)?a=i:r=i;return{lo:a,hi:r}}const zo=(e,t,n,i)=>Uo(e,n,i?i=>{const r=e[i][t];return r<n||r===n&&e[i+1][t]===n}:i=>e[i][t]<n),Bo=(e,t,n)=>Uo(e,n,(i=>e[i][t]>=n));const Ho=["push","pop","shift","splice","unshift"];function Vo(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),i.length>0||(Ho.forEach((t=>{delete e[t]})),delete e._chartjs)}function Wo(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Go="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function qo(e,t){let n=[],i=!1;return function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];n=a,i||(i=!0,Go.call(window,(()=>{i=!1,e.apply(t,n)})))}}const Yo=e=>"start"===e?"left":"end"===e?"right":"center",Xo=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function Zo(e,t,n){const i=t.length;let r=0,a=i;if(e._sorted){const{iScale:o,_parsed:s}=e,l=o.axis,{min:c,max:u,minDefined:d,maxDefined:h}=o.getUserBounds();d&&(r=Do(Math.min(zo(s,l,c).lo,n?i:zo(t,l,o.getPixelForValue(c)).lo),0,i-1)),a=h?Do(Math.max(zo(s,o.axis,u,!0).hi+1,n?0:zo(t,l,o.getPixelForValue(u),!0).hi+1),r,i)-r:i-r}return{start:r,count:a}}function Ko(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,r={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=r,!0;const a=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),a}const Jo=e=>0===e||1===e,$o=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*vo/n),Qo=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*vo/n)+1,es={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*xo),easeOutSine:e=>Math.sin(e*xo),easeInOutSine:e=>-.5*(Math.cos(mo*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>Jo(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Jo(e)?e:$o(e,.075,.3),easeOutElastic:e=>Jo(e)?e:Qo(e,.075,.3),easeInOutElastic(e){const t=.1125;return Jo(e)?e:e<.5?.5*$o(2*e,t,.45):.5+.5*Qo(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-es.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*es.easeInBounce(2*e):.5*es.easeOutBounce(2*e-1)+.5};function ts(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function ns(e){return ts(e)?e:new Va(e)}function is(e){return ts(e)?e:new Va(e).saturate(.5).darken(.1).hexString()}const rs=["x","y","borderWidth","radius","tension"],as=["color","borderColor","backgroundColor"];const os=new Map;function ss(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let i=os.get(n);return i||(i=new Intl.NumberFormat(e,t),os.set(n,i)),i}(t,n).format(e)}const ls={values:e=>Ya(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const i=this.chart.options.locale;let r,a=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(r="scientific"),a=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const o=So(Math.abs(a)),s=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(l,this.options.ticks.format),ss(e,i,l)},logarithmic(e,t,n){if(0===e)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(So(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?ls.numeric.call(this,e,t,n):""}};var cs={formatters:ls};const us=Object.create(null),ds=Object.create(null);function hs(e,t){if(!t)return e;const n=t.split(".");for(let i=0,r=n.length;i<r;++i){const t=n[i];e=e[t]||(e[t]=Object.create(null))}return e}function ps(e,t,n){return"string"===typeof t?ao(hs(e,t),n):ao(hs(e,""),t)}class fs{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>is(t.backgroundColor),this.hoverBorderColor=(e,t)=>is(t.borderColor),this.hoverColor=(e,t)=>is(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return ps(this,e,t)}get(e){return hs(this,e)}describe(e,t){return ps(ds,e,t)}override(e,t){return ps(us,e,t)}route(e,t,n,i){const r=hs(this,e),a=hs(this,n),o="_"+t;Object.defineProperties(r,{[o]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[o],t=a[i];return Xa(e)?Object.assign({},t,e):Ja(e,t)},set(e){this[o]=e}}})}apply(e){e.forEach((e=>e(this)))}}var ms=new fs({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:as},numbers:{type:"number",properties:rs}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:cs.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function vs(e,t,n,i,r){let a=t[r];return a||(a=t[r]=e.measureText(r).width,n.push(r)),a>i&&(i=a),i}function gs(e,t,n,i){let r=(i=i||{}).data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},a=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let o=0;const s=n.length;let l,c,u,d,h;for(l=0;l<s;l++)if(d=n[l],void 0===d||null===d||Ya(d)){if(Ya(d))for(c=0,u=d.length;c<u;c++)h=d[c],void 0===h||null===h||Ya(h)||(o=vs(e,r,a,o,h))}else o=vs(e,r,a,o,d);e.restore();const p=a.length/2;if(p>n.length){for(l=0;l<p;l++)delete r[a[l]];a.splice(0,p)}return o}function ys(e,t,n){const i=e.currentDevicePixelRatio,r=0!==n?Math.max(n/2,.5):0;return Math.round((t-r)*i)/i+r}function bs(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function xs(e,t,n,i){_s(e,t,n,i,null)}function _s(e,t,n,i,r){let a,o,s,l,c,u,d,h;const p=t.pointStyle,f=t.rotation,m=t.radius;let v=(f||0)*bo;if(p&&"object"===typeof p&&(a=p.toString(),"[object HTMLImageElement]"===a||"[object HTMLCanvasElement]"===a))return e.save(),e.translate(n,i),e.rotate(v),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),void e.restore();if(!(isNaN(m)||m<=0)){switch(e.beginPath(),p){default:r?e.ellipse(n,i,r/2,m,0,0,vo):e.arc(n,i,m,0,vo),e.closePath();break;case"triangle":u=r?r/2:m,e.moveTo(n+Math.sin(v)*u,i-Math.cos(v)*m),v+=wo,e.lineTo(n+Math.sin(v)*u,i-Math.cos(v)*m),v+=wo,e.lineTo(n+Math.sin(v)*u,i-Math.cos(v)*m),e.closePath();break;case"rectRounded":c=.516*m,l=m-c,o=Math.cos(v+_o)*l,d=Math.cos(v+_o)*(r?r/2-c:l),s=Math.sin(v+_o)*l,h=Math.sin(v+_o)*(r?r/2-c:l),e.arc(n-d,i-s,c,v-mo,v-xo),e.arc(n+h,i-o,c,v-xo,v),e.arc(n+d,i+s,c,v,v+xo),e.arc(n-h,i+o,c,v+xo,v+mo),e.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*m,u=r?r/2:l,e.rect(n-u,i-l,2*u,2*l);break}v+=_o;case"rectRot":d=Math.cos(v)*(r?r/2:m),o=Math.cos(v)*m,s=Math.sin(v)*m,h=Math.sin(v)*(r?r/2:m),e.moveTo(n-d,i-s),e.lineTo(n+h,i-o),e.lineTo(n+d,i+s),e.lineTo(n-h,i+o),e.closePath();break;case"crossRot":v+=_o;case"cross":d=Math.cos(v)*(r?r/2:m),o=Math.cos(v)*m,s=Math.sin(v)*m,h=Math.sin(v)*(r?r/2:m),e.moveTo(n-d,i-s),e.lineTo(n+d,i+s),e.moveTo(n+h,i-o),e.lineTo(n-h,i+o);break;case"star":d=Math.cos(v)*(r?r/2:m),o=Math.cos(v)*m,s=Math.sin(v)*m,h=Math.sin(v)*(r?r/2:m),e.moveTo(n-d,i-s),e.lineTo(n+d,i+s),e.moveTo(n+h,i-o),e.lineTo(n-h,i+o),v+=_o,d=Math.cos(v)*(r?r/2:m),o=Math.cos(v)*m,s=Math.sin(v)*m,h=Math.sin(v)*(r?r/2:m),e.moveTo(n-d,i-s),e.lineTo(n+d,i+s),e.moveTo(n+h,i-o),e.lineTo(n-h,i+o);break;case"line":o=r?r/2:Math.cos(v)*m,s=Math.sin(v)*m,e.moveTo(n-o,i-s),e.lineTo(n+o,i+s);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(v)*(r?r/2:m),i+Math.sin(v)*m);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function ws(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Ss(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Ms(e){e.restore()}function Es(e,t,n,i,r){if(!t)return e.lineTo(n.x,n.y);if("middle"===r){const i=(t.x+n.x)/2;e.lineTo(i,t.y),e.lineTo(i,n.y)}else"after"===r!==!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function Cs(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function Ts(e,t,n,i,r){if(r.strikethrough||r.underline){const a=e.measureText(i),o=t-a.actualBoundingBoxLeft,s=t+a.actualBoundingBoxRight,l=n-a.actualBoundingBoxAscent,c=n+a.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(o,u),e.lineTo(s,u),e.stroke()}}function Ns(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function As(e,t,n,i,r){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=Ya(t)?t:[t],s=a.strokeWidth>0&&""!==a.strokeColor;let l,c;for(e.save(),e.font=r.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),qa(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,a),l=0;l<o.length;++l)c=o[l],a.backdrop&&Ns(e,a.backdrop),s&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),qa(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(c,n,i,a.maxWidth)),e.fillText(c,n,i,a.maxWidth),Ts(e,n,i,c,a),i+=Number(r.lineHeight);e.restore()}function ks(e,t){const{x:n,y:i,w:r,h:a,radius:o}=t;e.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*mo,mo,!0),e.lineTo(n,i+a-o.bottomLeft),e.arc(n+o.bottomLeft,i+a-o.bottomLeft,o.bottomLeft,mo,xo,!0),e.lineTo(n+r-o.bottomRight,i+a),e.arc(n+r-o.bottomRight,i+a-o.bottomRight,o.bottomRight,xo,0,!0),e.lineTo(n+r,i+o.topRight),e.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-xo,!0),e.lineTo(n+o.topLeft,i)}const Os=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Ps=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Rs(e,t){const n=(""+e).match(Os);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}const js=e=>+e||0;function Ls(e,t){const n={},i=Xa(t),r=i?Object.keys(t):t,a=Xa(e)?i?n=>Ja(e[n],e[t[n]]):t=>e[t]:()=>e;for(const o of r)n[o]=js(a(o));return n}function Is(e){return Ls(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Ds(e){return Ls(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Fs(e){const t=Is(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Us(e,t){e=e||{},t=t||ms.font;let n=Ja(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let i=Ja(e.style,t.style);i&&!(""+i).match(Ps)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Ja(e.family,t.family),lineHeight:Rs(Ja(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:Ja(e.weight,t.weight),string:""};return r.string=function(e){return!e||qa(e.size)||qa(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(r),r}function zs(e,t,n,i){let r,a,o,s=!0;for(r=0,a=e.length;r<a;++r)if(o=e[r],void 0!==o&&(void 0!==t&&"function"===typeof o&&(o=o(t),s=!1),void 0!==n&&Ya(o)&&(o=o[n%o.length],s=!1),void 0!==o))return i&&!s&&(i.cacheable=!1),o}function Bs(e,t){return Object.assign(Object.create(e),t)}function Hs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const r=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof n&&(n=Qs("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:n,_getTarget:i,override:i=>Hs([i,...e],t,r,n)};return new Proxy(a,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,i)=>Ys(n,i,(()=>function(e,t,n,i){let r;for(const a of t)if(r=Qs(Gs(a,e),n),"undefined"!==typeof r)return qs(e,r)?Js(n,i,e,r):r}(i,t,e,n))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>el(e).includes(t),ownKeys:e=>el(e),set(e,t,n){const r=e._storage||(e._storage=i());return e[t]=r[t]=n,delete e._keys,!0}})}function Vs(e,t,n,i){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Ws(e,i),setContext:t=>Vs(e,t,n,i),override:r=>Vs(e.override(r),t,n,i)};return new Proxy(r,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>Ys(e,t,(()=>function(e,t,n){const{_proxy:i,_context:r,_subProxy:a,_descriptors:o}=e;let s=i[t];po(s)&&o.isScriptable(t)&&(s=function(e,t,n,i){const{_proxy:r,_context:a,_subProxy:o,_stack:s}=n;if(s.has(e))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+e);s.add(e);let l=t(a,o||i);s.delete(e),qs(e,l)&&(l=Js(r._scopes,r,e,l));return l}(t,s,e,n));Ya(s)&&s.length&&(s=function(e,t,n,i){const{_proxy:r,_context:a,_subProxy:o,_descriptors:s}=n;if("undefined"!==typeof a.index&&i(e))return t[a.index%t.length];if(Xa(t[0])){const n=t,i=r._scopes.filter((e=>e!==n));t=[];for(const l of n){const n=Js(i,r,e,l);t.push(Vs(n,a,o&&o[e],s))}}return t}(t,s,e,o.isIndexable));qs(t,s)&&(s=Vs(s,r,a&&a[t],o));return s}(e,t,n))),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,i)=>(e[n]=i,delete t[n],!0)})}function Ws(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:n,indexable:i,isScriptable:po(n)?n:()=>n,isIndexable:po(i)?i:()=>i}}const Gs=(e,t)=>e?e+uo(t):t,qs=(e,t)=>Xa(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function Ys(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const i=n();return e[t]=i,i}function Xs(e,t,n){return po(e)?e(t,n):e}const Zs=(e,t)=>!0===e?t:"string"===typeof e?co(t,e):void 0;function Ks(e,t,n,i,r){for(const a of t){const t=Zs(n,a);if(t){e.add(t);const a=Xs(t._fallback,n,r);if("undefined"!==typeof a&&a!==n&&a!==i)return a}else if(!1===t&&"undefined"!==typeof i&&n!==i)return null}return!1}function Js(e,t,n,i){const r=t._rootScopes,a=Xs(t._fallback,n,i),o=[...e,...r],s=new Set;s.add(i);let l=$s(s,o,n,a||n,i);return null!==l&&(("undefined"===typeof a||a===n||(l=$s(s,o,a,l,i),null!==l))&&Hs(Array.from(s),[""],r,a,(()=>function(e,t,n){const i=e._getTarget();t in i||(i[t]={});const r=i[t];if(Ya(r)&&Xa(n))return n;return r||{}}(t,n,i))))}function $s(e,t,n,i,r){for(;n;)n=Ks(e,t,n,i,r);return n}function Qs(e,t){for(const n of t){if(!n)continue;const t=n[e];if("undefined"!==typeof t)return t}}function el(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}function tl(e,t,n,i){const{iScale:r}=e,{key:a="r"}=this._parsing,o=new Array(i);let s,l,c,u;for(s=0,l=i;s<l;++s)c=s+n,u=t[c],o[s]={r:r.parse(co(u,a),c)};return o}const nl=Number.EPSILON||1e-14,il=(e,t)=>t<e.length&&!e[t].skip&&e[t],rl=e=>"x"===e?"y":"x";function al(e,t,n,i){const r=e.skip?t:e,a=t,o=n.skip?t:n,s=Ro(a,r),l=Ro(o,a);let c=s/(s+l),u=l/(s+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=i*c,h=i*u;return{previous:{x:a.x-d*(o.x-r.x),y:a.y-d*(o.y-r.y)},next:{x:a.x+h*(o.x-r.x),y:a.y+h*(o.y-r.y)}}}function ol(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=rl(t),i=e.length,r=Array(i).fill(0),a=Array(i);let o,s,l,c=il(e,0);for(o=0;o<i;++o)if(s=l,l=c,c=il(e,o+1),l){if(c){const e=c[t]-l[t];r[o]=0!==e?(c[n]-l[n])/e:0}a[o]=s?c?Mo(r[o-1])!==Mo(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}!function(e,t,n){const i=e.length;let r,a,o,s,l,c=il(e,0);for(let u=0;u<i-1;++u)l=c,c=il(e,u+1),l&&c&&(Eo(t[u],0,nl)?n[u]=n[u+1]=0:(r=n[u]/t[u],a=n[u+1]/t[u],s=Math.pow(r,2)+Math.pow(a,2),s<=9||(o=3/Math.sqrt(s),n[u]=r*o*t[u],n[u+1]=a*o*t[u])))}(e,r,a),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const i=rl(n),r=e.length;let a,o,s,l=il(e,0);for(let c=0;c<r;++c){if(o=s,s=l,l=il(e,c+1),!s)continue;const r=s[n],u=s[i];o&&(a=(r-o[n])/3,s["cp1".concat(n)]=r-a,s["cp1".concat(i)]=u-a*t[c]),l&&(a=(l[n]-r)/3,s["cp2".concat(n)]=r+a,s["cp2".concat(i)]=u+a*t[c])}}(e,a,t)}function sl(e,t,n){return Math.max(Math.min(e,n),t)}function ll(e,t,n,i,r){let a,o,s,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)ol(e,r);else{let n=i?e[e.length-1]:e[0];for(a=0,o=e.length;a<o;++a)s=e[a],l=al(n,s,e[Math.min(a+1,o-(i?0:1))%o],t.tension),s.cp1x=l.previous.x,s.cp1y=l.previous.y,s.cp2x=l.next.x,s.cp2y=l.next.y,n=s}t.capBezierPoints&&function(e,t){let n,i,r,a,o,s=ws(e[0],t);for(n=0,i=e.length;n<i;++n)o=a,a=s,s=n<i-1&&ws(e[n+1],t),a&&(r=e[n],o&&(r.cp1x=sl(r.cp1x,t.left,t.right),r.cp1y=sl(r.cp1y,t.top,t.bottom)),s&&(r.cp2x=sl(r.cp2x,t.left,t.right),r.cp2y=sl(r.cp2y,t.top,t.bottom)))}(e,n)}function cl(){return"undefined"!==typeof window&&"undefined"!==typeof document}function ul(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function dl(e,t,n){let i;return"string"===typeof e?(i=parseInt(e,10),-1!==e.indexOf("%")&&(i=i/100*t.parentNode[n])):i=e,i}const hl=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const pl=["top","right","bottom","left"];function fl(e,t,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const a=pl[r];i[a]=parseFloat(e[t+"-"+a+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const ml=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function vl(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,r=hl(n),a="border-box"===r.boxSizing,o=fl(r,"padding"),s=fl(r,"border","width"),{x:l,y:c,box:u}=function(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:r,offsetY:a}=i;let o,s,l=!1;if(ml(r,a,e.target))o=r,s=a;else{const e=t.getBoundingClientRect();o=i.clientX-e.left,s=i.clientY-e.top,l=!0}return{x:o,y:s,box:l}}(e,n),d=o.left+(u&&s.left),h=o.top+(u&&s.top);let{width:p,height:f}=t;return a&&(p-=o.width+s.width,f-=o.height+s.height),{x:Math.round((l-d)/p*n.width/i),y:Math.round((c-h)/f*n.height/i)}}const gl=e=>Math.round(10*e)/10;function yl(e,t,n,i){const r=hl(e),a=fl(r,"margin"),o=dl(r.maxWidth,e,"clientWidth")||yo,s=dl(r.maxHeight,e,"clientHeight")||yo,l=function(e,t,n){let i,r;if(void 0===t||void 0===n){const a=e&&ul(e);if(a){const e=a.getBoundingClientRect(),o=hl(a),s=fl(o,"border","width"),l=fl(o,"padding");t=e.width-l.width-s.width,n=e.height-l.height-s.height,i=dl(o.maxWidth,a,"clientWidth"),r=dl(o.maxHeight,a,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:i||yo,maxHeight:r||yo}}(e,t,n);let{width:c,height:u}=l;if("content-box"===r.boxSizing){const e=fl(r,"border","width"),t=fl(r,"padding");c-=t.width+e.width,u-=t.height+e.height}c=Math.max(0,c-a.width),u=Math.max(0,i?c/i:u-a.height),c=gl(Math.min(c,o,l.maxWidth)),u=gl(Math.min(u,s,l.maxHeight)),c&&!u&&(u=gl(c/2));return(void 0!==t||void 0!==n)&&i&&l.height&&u>l.height&&(u=l.height,c=gl(Math.floor(u*i))),{width:c,height:u}}function bl(e,t,n){const i=t||1,r=Math.floor(e.height*i),a=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height="".concat(e.height,"px"),o.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==i||o.height!==r||o.width!==a)&&(e.currentDevicePixelRatio=i,o.height=r,o.width=a,e.ctx.setTransform(i,0,0,i,0,0),!0)}const xl=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};cl()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(fU){}return e}();function _l(e,t){const n=function(e,t){return hl(e).getPropertyValue(t)}(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function wl(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function Sl(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:"middle"===i?n<.5?e.y:t.y:"after"===i?n<1?e.y:t.y:n>0?t.y:e.y}}function Ml(e,t,n,i){const r={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},o=wl(e,r,n),s=wl(r,a,n),l=wl(a,t,n),c=wl(o,s,n),u=wl(s,l,n);return wl(c,u,n)}function El(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function Cl(e,t){let n,i;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function Tl(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Nl(e){return"angle"===e?{between:Io,compare:jo,normalize:Lo}:{between:Fo,compare:(e,t)=>e-t,normalize:e=>e}}function Al(e){let{start:t,end:n,count:i,loop:r,style:a}=e;return{start:t%i,end:n%i,loop:r&&(n-t+1)%i===0,style:a}}function kl(e,t,n){if(!n)return[e];const{property:i,start:r,end:a}=n,o=t.length,{compare:s,between:l,normalize:c}=Nl(i),{start:u,end:d,loop:h,style:p}=function(e,t,n){const{property:i,start:r,end:a}=n,{between:o,normalize:s}=Nl(i),l=t.length;let c,u,{start:d,end:h,loop:p}=e;if(p){for(d+=l,h+=l,c=0,u=l;c<u&&o(s(t[d%l][i]),r,a);++c)d--,h--;d%=l,h%=l}return h<d&&(h+=l),{start:d,end:h,loop:p,style:e.style}}(e,t,n),f=[];let m,v,g,y=!1,b=null;const x=()=>y||l(r,g,m)&&0!==s(r,g),_=()=>!y||0===s(a,m)||l(a,g,m);for(let w=u,S=u;w<=d;++w)v=t[w%o],v.skip||(m=c(v[i]),m!==g&&(y=l(m,r,a),null===b&&x()&&(b=0===s(m,r)?w:S),null!==b&&_()&&(f.push(Al({start:b,end:w,loop:h,count:o,style:p})),b=null),S=w,g=m));return null!==b&&f.push(Al({start:b,end:d,loop:h,count:o,style:p})),f}function Ol(e,t){const n=[],i=e.segments;for(let r=0;r<i.length;r++){const a=kl(i[r],e.points,t);a.length&&n.push(...a)}return n}function Pl(e,t,n,i){return i&&i.setContext&&n?function(e,t,n,i){const r=e._chart.getContext(),a=Rl(e.options),{_datasetIndex:o,options:{spanGaps:s}}=e,l=n.length,c=[];let u=a,d=t[0].start,h=d;function p(e,t,i,r){const a=s?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=a;for(;n[t%l].skip;)t+=a;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:i,style:r}),u=r,d=t%l)}}for(const f of t){d=s?d:f.start;let e,t=n[d%l];for(h=d+1;h<=f.end;h++){const a=n[h%l];e=Rl(i.setContext(Bs(r,{type:"segment",p0:t,p1:a,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),jl(e,u)&&p(d,h-1,f.loop,u),t=a,u=e}d<h-1&&p(d,h-1,f.loop,u)}return c}(e,t,n,i):t}function Rl(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function jl(e,t){if(!t)return!1;const n=[],i=function(e,t){return ts(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,i)!==JSON.stringify(t,i)}class Ll{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,i){const r=t.listeners[i],a=t.duration;r.forEach((i=>i({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(n-t.start,a)})))}_refresh(){this._request||(this._running=!0,this._request=Go.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach(((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let a,o=r.length-1,s=!1;for(;o>=0;--o)a=r[o],a._active?(a._total>n.duration&&(n.duration=a._total),a.tick(e),s=!0):(r[o]=r[r.length-1],r.pop());s&&(i.draw(),this._notify(i,n,e,"progress")),r.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),t+=r.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Il=new Ll;const Dl="transparent",Fl={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const i=ns(e||Dl),r=i.valid&&ns(t||Dl);return r&&r.valid?r.mix(i,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class Ul{constructor(e,t,n,i){const r=t[n];i=zs([e.to,i,r,e.from]);const a=zs([e.from,r,i]);this._active=!0,this._fn=e.fn||Fl[e.type||typeof a],this._easing=es[e.easing]||es.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,a=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=zs([e.to,t,i,e.from]),this._from=zs([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,i=this._prop,r=this._from,a=this._loop,o=this._to;let s;if(this._active=r!==o&&(a||t<n),!this._active)return this._target[i]=o,void this._notify(!0);t<0?this._target[i]=r:(s=t/n%2,s=a&&s>1?2-s:s,s=this._easing(Math.min(1,Math.max(0,s))),this._target[i]=this._fn(r,o,s))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,n)=>{e.push({res:t,rej:n})}))}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][t]()}}class zl{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Xa(e))return;const t=Object.keys(ms.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach((i=>{const r=e[i];if(!Xa(r))return;const a={};for(const e of t)a[e]=r[e];(Ya(r.properties)&&r.properties||[i]).forEach((e=>{e!==i&&n.has(e)||n.set(e,a)}))}))}_animateOptions(e,t){const n=t.options,i=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&function(e,t){const n=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const t=e[i[r]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then((()=>{e.options=n}),(()=>{})),r}_createAnimations(e,t){const n=this._properties,i=[],r=e.$animations||(e.$animations={}),a=Object.keys(t),o=Date.now();let s;for(s=a.length-1;s>=0;--s){const l=a[s];if("$"===l.charAt(0))continue;if("options"===l){i.push(...this._animateOptions(e,t));continue}const c=t[l];let u=r[l];const d=n.get(l);if(u){if(d&&u.active()){u.update(d,c,o);continue}u.cancel()}d&&d.duration?(r[l]=u=new Ul(d,e,l,c),i.push(u)):e[l]=c}return i}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(Il.add(this._chart,n),!0):void 0}}function Bl(e,t){const n=e&&e.options||{},i=n.reverse,r=void 0===n.min?t:0,a=void 0===n.max?t:0;return{start:i?a:r,end:i?r:a}}function Hl(e,t){const n=[],i=e._getSortedDatasetMetas(t);let r,a;for(r=0,a=i.length;r<a;++r)n.push(i[r].index);return n}function Vl(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=e.keys,a="single"===i.mode;let o,s,l,c;if(null!==t){for(o=0,s=r.length;o<s;++o){if(l=+r[o],l===n){if(i.all)continue;break}c=e.values[l],Za(c)&&(a||0===t||Mo(t)===Mo(c))&&(t+=c)}return t}}function Wl(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function Gl(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function ql(e,t,n,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const t=e[r.index];if(n&&t>0||!n&&t<0)return r.index}return null}function Yl(e,t){const{chart:n,_cachedMeta:i}=e,r=n._stacks||(n._stacks={}),{iScale:a,vScale:o,index:s}=i,l=a.axis,c=o.axis,u=function(e,t,n){return"".concat(e.id,".").concat(t.id,".").concat(n.stack||n.type)}(a,o,i),d=t.length;let h;for(let p=0;p<d;++p){const e=t[p],{[l]:n,[c]:a}=e;h=(e._stacks||(e._stacks={}))[c]=Gl(r,u,n),h[s]=a,h._top=ql(h,o,!0,i.type),h._bottom=ql(h,o,!1,i.type);(h._visualValues||(h._visualValues={}))[s]=a}}function Xl(e,t){const n=e.scales;return Object.keys(n).filter((e=>n[e].axis===t)).shift()}function Zl(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[i]||void 0===t[i][n])return;delete t[i][n],void 0!==t[i]._visualValues&&void 0!==t[i]._visualValues[n]&&delete t[i]._visualValues[n]}}}const Kl=e=>"reset"===e||"none"===e,Jl=(e,t)=>t?e:Object.assign({},e);class $l{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Wl(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Zl(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),i=(e,t,n,i)=>"x"===e?t:"r"===e?i:n,r=t.xAxisID=Ja(n.xAxisID,Xl(e,"x")),a=t.yAxisID=Ja(n.yAxisID,Xl(e,"y")),o=t.rAxisID=Ja(n.rAxisID,Xl(e,"r")),s=t.indexAxis,l=t.iAxisID=i(s,r,a,o),c=t.vAxisID=i(s,a,r,o);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Vo(this._data,this),e._stacked&&Zl(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(Xa(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:n,vScale:i}=t,r="x"===n.axis?"x":"y",a="x"===i.axis?"x":"y",o=Object.keys(e),s=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],s[l]={[r]:u,[a]:e[u]};return s}(t,e)}else if(n!==t){if(n){Vo(n,this);const e=this._cachedMeta;Zl(e),e._parsed=[]}t&&Object.isExtensible(t)&&(r=this,(i=t)._chartjs?i._chartjs.listeners.push(r):(Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[r]}}),Ho.forEach((e=>{const t="_onData"+uo(e),n=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];const o=n.apply(this,r);return i._chartjs.listeners.forEach((e=>{"function"===typeof e[t]&&e[t](...r)})),o}})})))),this._syncList=[],this._data=t}var i,r}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=t._stacked;t._stacked=Wl(t.vScale,t),t.stack!==n.stack&&(i=!0,Zl(t),t.stack=n.stack),this._resyncElements(e),(i||r!==t._stacked)&&Yl(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:a}=n,o=r.axis;let s,l,c,u=0===e&&t===i.length||n._sorted,d=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=i,n._sorted=!0,c=i;else{c=Ya(i[e])?this.parseArrayData(n,i,e,t):Xa(i[e])?this.parseObjectData(n,i,e,t):this.parsePrimitiveData(n,i,e,t);const r=()=>null===l[o]||d&&l[o]<d[o];for(s=0;s<t;++s)n._parsed[s+e]=l=c[s],u&&(r()&&(u=!1),d=l);n._sorted=u}a&&Yl(this,c)}parsePrimitiveData(e,t,n,i){const{iScale:r,vScale:a}=e,o=r.axis,s=a.axis,l=r.getLabels(),c=r===a,u=new Array(i);let d,h,p;for(d=0,h=i;d<h;++d)p=d+n,u[d]={[o]:c||r.parse(l[p],p),[s]:a.parse(t[p],p)};return u}parseArrayData(e,t,n,i){const{xScale:r,yScale:a}=e,o=new Array(i);let s,l,c,u;for(s=0,l=i;s<l;++s)c=s+n,u=t[c],o[s]={x:r.parse(u[0],c),y:a.parse(u[1],c)};return o}parseObjectData(e,t,n,i){const{xScale:r,yScale:a}=e,{xAxisKey:o="x",yAxisKey:s="y"}=this._parsing,l=new Array(i);let c,u,d,h;for(c=0,u=i;c<u;++c)d=c+n,h=t[d],l[c]={x:r.parse(co(h,o),d),y:a.parse(co(h,s),d)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const i=this.chart,r=this._cachedMeta,a=t[e.axis];return Vl({keys:Hl(i,!0),values:t._stacks[e.axis]._visualValues},a,r.index,{mode:n})}updateRangeFromParsed(e,t,n,i){const r=n[t.axis];let a=null===r?NaN:r;const o=i&&n._stacks[t.axis];i&&o&&(i.values=o,a=Vl(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&e===n.iScale,a=i.length,o=this._getOtherScale(e),s=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:Hl(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(e){const{min:t,max:n,minDefined:i,maxDefined:r}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}(o);let d,h;function p(){h=i[d];const t=h[o.axis];return!Za(h[e.axis])||c>t||u<t}for(d=0;d<a&&(p()||(this.updateRangeFromParsed(l,e,h,s),!r));++d);if(r)for(d=a-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(l,e,h,s);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let i,r,a;for(i=0,r=t.length;i<r;++i)a=t[i][e.axis],Za(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,i=t.vScale,r=this.getParsed(e);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,i,r;return Xa(e)?(t=e.top,n=e.right,i=e.bottom,r=e.left):t=n=i=r=e,{top:t,right:n,bottom:i,left:r,disabled:!1===e}}(Ja(this.options.clip,function(e,t,n){if(!1===n)return!1;const i=Bl(e,n),r=Bl(t,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,i=n.data||[],r=t.chartArea,a=[],o=this._drawStart||0,s=this._drawCount||i.length-o,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,r,o,s),c=o;c<o+s;++c){const t=i[c];t.hidden||(t.active&&l?a.push(t):t.draw(e,r))}for(c=0;c<a.length;++c)a[c].draw(e,r)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];r=t.$context||(t.$context=function(e,t,n){return Bs(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=function(e,t){return Bs(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=n,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const i="active"===t,r=this._cachedDataOpts,a=e+"-"+t,o=r[a],s=this.enableOptionSharing&&ho(n);if(o)return Jl(o,s);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),u=i?["".concat(e,"Hover"),"hover",e,""]:[e,""],d=l.getOptionScopes(this.getDataset(),c),h=Object.keys(ms.elements[e]),p=l.resolveNamedOptions(d,h,(()=>this.getContext(n,i,t)),u);return p.$shared&&(p.$shared=s,r[a]=Object.freeze(Jl(p,s))),p}_resolveAnimations(e,t,n){const i=this.chart,r=this._cachedDataOpts,a="animation-".concat(t),o=r[a];if(o)return o;let s;if(!1!==i.options.animation){const i=this.chart.config,r=i.datasetAnimationScopeKeys(this._type,t),a=i.getOptionScopes(this.getDataset(),r);s=i.createResolver(a,this.getContext(e,n,t))}const l=new zl(i,s&&s.animations);return s&&s._cacheable&&(r[a]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Kl(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),i=this._sharedOptions,r=this.getSharedOptions(n),a=this.includeOptions(t,r)||r!==i;return this.updateSharedOptions(r,t,n),{sharedOptions:r,includeOptions:a}}updateElement(e,t,n,i){Kl(i)?Object.assign(e,n):this._resolveAnimations(t,i).update(e,n)}updateSharedOptions(e,t,n){e&&!Kl(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,i){e.active=i;const r=this.getStyle(t,i);this._resolveAnimations(t,n,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[o,s,l]of this._syncList)this[o](s,l);this._syncList=[];const i=n.length,r=t.length,a=Math.min(r,i);a&&this.parse(0,a),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=this._cachedMeta,r=i.data,a=e+t;let o;const s=e=>{for(e.length+=t,o=e.length-1;o>=a;o--)e[o]=e[o-t]};for(s(r),o=e;o<a;++o)r[o]=new this.dataElementType;this._parsing&&s(i._parsed),this.parse(e,t),n&&this.updateElements(r,e,t,"reset")}updateElements(e,t,n,i){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,t);n._stacked&&Zl(n,i)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,i]=e;this[t](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Ql(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let t=0,r=n.length;t<r;t++)i=i.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=Wo(i.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let i,r,a,o,s=t._length;const l=()=>{32767!==a&&-32768!==a&&(ho(o)&&(s=Math.min(s,Math.abs(a-o)||s)),o=a)};for(i=0,r=n.length;i<r;++i)a=t.getPixelForValue(n[i]),l();for(o=void 0,i=0,r=t.ticks.length;i<r;++i)a=t.getPixelForTick(i),l();return s}function ec(e,t,n,i){return Ya(e)?function(e,t,n,i){const r=n.parse(e[0],i),a=n.parse(e[1],i),o=Math.min(r,a),s=Math.max(r,a);let l=o,c=s;Math.abs(o)>Math.abs(s)&&(l=s,c=o),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:r,end:a,min:o,max:s}}(e,t,n,i):t[n.axis]=n.parse(e,i),t}function tc(e,t,n,i){const r=e.iScale,a=e.vScale,o=r.getLabels(),s=r===a,l=[];let c,u,d,h;for(c=n,u=n+i;c<u;++c)h=t[c],d={},d[r.axis]=s||r.parse(o[c],c),l.push(ec(h,d,a,c));return l}function nc(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function ic(e,t,n,i){let r=t.borderSkipped;const a={};if(!r)return void(e.borderSkipped=a);if(!0===r)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:s,reverse:l,top:c,bottom:u}=function(e){let t,n,i,r,a;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(r="end",a="start"):(r="start",a="end"),{start:n,end:i,reverse:t,top:r,bottom:a}}(e);"middle"===r&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(a[rc(u,o,s,l)]=!0,r=c)),a[rc(r,o,s,l)]=!0,e.borderSkipped=a}function rc(e,t,n,i){var r,a,o;return i?(o=n,e=ac(e=(r=e)===(a=t)?o:r===o?a:r,n,t)):e=ac(e,t,n),e}function ac(e,t,n){return"start"===e?t:"end"===e?n:e}function oc(e,t,n){let{inflateAmount:i}=t;e.inflateAmount="auto"===i?1===n?.33:0:i}ua($l,"defaults",{}),ua($l,"datasetElementType",null),ua($l,"dataElementType",null);class sc extends $l{parsePrimitiveData(e,t,n,i){return tc(e,t,n,i)}parseArrayData(e,t,n,i){return tc(e,t,n,i)}parseObjectData(e,t,n,i){const{iScale:r,vScale:a}=e,{xAxisKey:o="x",yAxisKey:s="y"}=this._parsing,l="x"===r.axis?o:s,c="x"===a.axis?o:s,u=[];let d,h,p,f;for(d=n,h=n+i;d<h;++d)f=t[d],p={},p[r.axis]=r.parse(co(f,l),d),u.push(ec(co(f,c),p,a,d));return u}updateRangeFromParsed(e,t,n,i){super.updateRangeFromParsed(e,t,n,i);const r=n._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:i}=t,r=this.getParsed(e),a=r._custom,o=nc(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,i){const r="reset"===i,{index:a,_cachedMeta:{vScale:o}}=this,s=o.getBasePixel(),l=o.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:d}=this._getSharedOptions(t,i);for(let h=t;h<t+n;h++){const t=this.getParsed(h),n=r||qa(t[o.axis])?{base:s,head:s}:this._calculateBarValuePixels(h),p=this._calculateBarIndexPixels(h,c),f=(t._stacks||{})[o.axis],m={horizontal:l,base:n.base,enableBorderRadius:!f||nc(t._custom)||a===f._top||a===f._bottom,x:l?n.head:p.center,y:l?p.center:n.head,height:l?p.size:Math.abs(n.size),width:l?Math.abs(n.size):p.size};d&&(m.options=u||this.resolveDataElementOptions(h,e[h].active?"active":i));const v=m.options||e[h].options;ic(m,v,f,a),oc(m,v,c.ratio),this.updateElement(e[h],h,m,i)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),r=n.options.stacked,a=[],o=e=>{const n=e.controller.getParsed(t),i=n&&n[e.vScale.axis];if(qa(i)||isNaN(i))return!0};for(const s of i)if((void 0===t||!o(s))&&((!1===r||-1===a.indexOf(s.stack)||void 0===r&&void 0===s.stack)&&a.push(s.stack),s.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){const i=this._getStacks(e,n),r=void 0!==t?i.indexOf(t):-1;return-1===r?i.length-1:r}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,i=[];let r,a;for(r=0,a=t.data.length;r<a;++r)i.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const o=e.barThickness;return{min:o||Ql(t),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:i},options:{base:r,minBarLength:a}}=this,o=r||0,s=this.getParsed(e),l=s._custom,c=nc(l);let u,d,h=s[t.axis],p=0,f=n?this.applyStack(t,s,n):h;f!==h&&(p=f-h,f=h),c&&(h=l.barStart,f=l.barEnd-l.barStart,0!==h&&Mo(h)!==Mo(l.barEnd)&&(p=0),p+=h);const m=qa(r)||c?p:r;let v=t.getPixelForValue(m);if(u=this.chart.getDataVisibility(e)?t.getPixelForValue(p+f):v,d=u-v,Math.abs(d)<a){d=function(e,t,n){return 0!==e?Mo(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(d,t,o)*a,h===o&&(v-=d/2);const e=t.getPixelForDecimal(0),r=t.getPixelForDecimal(1),l=Math.min(e,r),p=Math.max(e,r);v=Math.max(Math.min(v,p),l),u=v+d,n&&!c&&(s._stacks[t.axis]._visualValues[i]=t.getValueForPixel(u)-t.getValueForPixel(v))}if(v===t.getPixelForValue(o)){const e=Mo(d)*t.getLineWidthForValue(o)/2;v+=e,d-=e}return{size:d,base:v,head:u,center:u+d/2}}_calculateBarIndexPixels(e,t){const n=t.scale,i=this.options,r=i.skipNull,a=Ja(i.maxBarThickness,1/0);let o,s;if(t.grouped){const n=r?this._getStackCount(e):t.stackCount,l="flex"===i.barThickness?function(e,t,n,i){const r=t.pixels,a=r[e];let o=e>0?r[e-1]:null,s=e<r.length-1?r[e+1]:null;const l=n.categoryPercentage;null===o&&(o=a-(null===s?t.end-t.start:s-a)),null===s&&(s=a+a-o);const c=a-(a-Math.min(o,s))/2*l;return{chunk:Math.abs(s-o)/2*l/i,ratio:n.barPercentage,start:c}}(e,t,i,n):function(e,t,n,i){const r=n.barThickness;let a,o;return qa(r)?(a=t.min*n.categoryPercentage,o=n.barPercentage):(a=r*i,o=1),{chunk:a/i,ratio:o,start:t.pixels[e]-a/2}}(e,t,i,n),c=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);o=l.start+l.chunk*c+l.chunk/2,s=Math.min(a,l.chunk*l.ratio)}else o=n.getPixelForValue(this.getParsed(e)[n.axis],e),s=Math.min(a,t.min*t.ratio);return{base:o-s/2,head:o+s/2,center:o,size:s}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,i=n.length;let r=0;for(;r<i;++r)null===this.getParsed(r)[t.axis]||n[r].hidden||n[r].draw(this._ctx)}}ua(sc,"id","bar"),ua(sc,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ua(sc,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class lc extends $l{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,i){const r=super.parsePrimitiveData(e,t,n,i);for(let a=0;a<r.length;a++)r[a]._custom=this.resolveDataElementOptions(a+n).radius;return r}parseArrayData(e,t,n,i){const r=super.parseArrayData(e,t,n,i);for(let a=0;a<r.length;a++){const e=t[n+a];r[a]._custom=Ja(e[2],this.resolveDataElementOptions(a+n).radius)}return r}parseObjectData(e,t,n,i){const r=super.parseObjectData(e,t,n,i);for(let a=0;a<r.length;a++){const e=t[n+a];r[a]._custom=Ja(e&&e.r&&+e.r,this.resolveDataElementOptions(a+n).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=t,a=this.getParsed(e),o=i.getLabelForValue(a.x),s=r.getLabelForValue(a.y),l=a._custom;return{label:n[e]||"",value:"("+o+", "+s+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,i){const r="reset"===i,{iScale:a,vScale:o}=this._cachedMeta,{sharedOptions:s,includeOptions:l}=this._getSharedOptions(t,i),c=a.axis,u=o.axis;for(let d=t;d<t+n;d++){const t=e[d],n=!r&&this.getParsed(d),h={},p=h[c]=r?a.getPixelForDecimal(.5):a.getPixelForValue(n[c]),f=h[u]=r?o.getBasePixel():o.getPixelForValue(n[u]);h.skip=isNaN(p)||isNaN(f),l&&(h.options=s||this.resolveDataElementOptions(d,t.active?"active":i),r&&(h.options.radius=0)),this.updateElement(t,d,h,i)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let i=super.resolveDataElementOptions(e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return"active"!==t&&(i.radius=0),i.radius+=Ja(n&&n._custom,r),i}}ua(lc,"id","bubble"),ua(lc,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),ua(lc,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class cc extends $l{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=n;else{let r,a,o=e=>+n[e];if(Xa(n[e])){const{key:e="value"}=this._parsing;o=t=>+co(n[t],e)}for(r=e,a=e+t;r<a;++r)i._parsed[r]=o(r)}}_getRotation(){return Ao(this.options.rotation-90)}_getCircumference(){return Ao(this.options.circumference)}_getRotationExtents(){let e=vo,t=-vo;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,r=i._getRotation(),a=i._getCircumference();e=Math.min(e,r),t=Math.max(t,r+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,i=this._cachedMeta,r=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-a)/2,0),s=Math.min((l=this.options.cutout,c=o,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const u=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:p,ratioY:f,offsetX:m,offsetY:v}=function(e,t,n){let i=1,r=1,a=0,o=0;if(t<vo){const s=e,l=s+t,c=Math.cos(s),u=Math.sin(s),d=Math.cos(l),h=Math.sin(l),p=(e,t,i)=>Io(e,s,l,!0)?1:Math.max(t,t*n,i,i*n),f=(e,t,i)=>Io(e,s,l,!0)?-1:Math.min(t,t*n,i,i*n),m=p(0,c,d),v=p(xo,u,h),g=f(mo,c,d),y=f(mo+xo,u,h);i=(m-g)/2,r=(v-y)/2,a=-(m+g)/2,o=-(v+y)/2}return{ratioX:i,ratioY:r,offsetX:a,offsetY:o}}(h,d,s),g=(n.width-a)/p,y=(n.height-a)/f,b=Math.max(Math.min(g,y)/2,0),x=$a(this.options.radius,b),_=(x-Math.max(x*s,0))/this._getVisibleDatasetWeightTotal();this.offsetX=m*x,this.offsetY=v*x,i.total=this.calculateTotal(),this.outerRadius=x-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*u,0),this.updateElements(r,0,r.length,e)}_circumference(e,t){const n=this.options,i=this._cachedMeta,r=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===i._parsed[e]||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/vo)}updateElements(e,t,n,i){const r="reset"===i,a=this.chart,o=a.chartArea,s=a.options.animation,l=(o.left+o.right)/2,c=(o.top+o.bottom)/2,u=r&&s.animateScale,d=u?0:this.innerRadius,h=u?0:this.outerRadius,{sharedOptions:p,includeOptions:f}=this._getSharedOptions(t,i);let m,v=this._getRotation();for(m=0;m<t;++m)v+=this._circumference(m,r);for(m=t;m<t+n;++m){const t=this._circumference(m,r),n=e[m],a={x:l+this.offsetX,y:c+this.offsetY,startAngle:v,endAngle:v+t,circumference:t,outerRadius:h,innerRadius:d};f&&(a.options=p||this.resolveDataElementOptions(m,n.active?"active":i)),v+=t,this.updateElement(n,m,a,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,i=0;for(n=0;n<t.length;n++){const r=e._parsed[n];null===r||isNaN(r)||!this.chart.getDataVisibility(n)||t[n].hidden||(i+=Math.abs(r))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?vo*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=ss(t._parsed[e],n.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let t=0;const n=this.chart;let i,r,a,o,s;if(!e)for(i=0,r=n.data.datasets.length;i<r;++i)if(n.isDatasetVisible(i)){a=n.getDatasetMeta(i),e=a.data,o=a.controller;break}if(!e)return 0;for(i=0,r=e.length;i<r;++i)s=o.resolveDataElementOptions(i),"inner"!==s.borderAlign&&(t=Math.max(t,s.borderWidth||0,s.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,i=e.length;n<i;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(Ja(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ua(cc,"id","doughnut"),ua(cc,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ua(cc,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ua(cc,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return t.labels.map(((t,r)=>{const a=e.getDatasetMeta(0).controller.getStyle(r);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:i,lineWidth:a.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(r),index:r}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});class uc extends $l{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:i=[],_dataset:r}=t,a=this.chart._animationsDisabled;let{start:o,count:s}=Zo(t,i,a);this._drawStart=o,this._drawCount=s,Ko(t)&&(o=0,s=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:l},e),this.updateElements(i,o,s,e)}updateElements(e,t,n,i){const r="reset"===i,{iScale:a,vScale:o,_stacked:s,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(t,i),d=a.axis,h=o.axis,{spanGaps:p,segment:f}=this.options,m=To(p)?p:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||r||"none"===i,g=t+n,y=e.length;let b=t>0&&this.getParsed(t-1);for(let x=0;x<y;++x){const n=e[x],p=v?n:{};if(x<t||x>=g){p.skip=!0;continue}const y=this.getParsed(x),_=qa(y[h]),w=p[d]=a.getPixelForValue(y[d],x),S=p[h]=r||_?o.getBasePixel():o.getPixelForValue(s?this.applyStack(o,y,s):y[h],x);p.skip=isNaN(w)||isNaN(S)||_,p.stop=x>0&&Math.abs(y[d]-b[d])>m,f&&(p.parsed=y,p.raw=l.data[x]),u&&(p.options=c||this.resolveDataElementOptions(x,n.active?"active":i)),v||this.updateElement(n,x,p,i),b=y}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const r=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ua(uc,"id","line"),ua(uc,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ua(uc,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class dc extends $l{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=ss(t._parsed[e].r,n.options.locale);return{label:i[e]||"",value:r}}parseObjectData(e,t,n,i){return tl.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach(((e,n)=>{const i=this.getParsed(n).r;!isNaN(i)&&this.chart.getDataVisibility(n)&&(i<t.min&&(t.min=i),i>t.max&&(t.max=i))})),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,i=Math.min(t.right-t.left,t.bottom-t.top),r=Math.max(i/2,0),a=(r-Math.max(n.cutoutPercentage?r/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,t,n,i){const r="reset"===i,a=this.chart,o=a.options.animation,s=this._cachedMeta.rScale,l=s.xCenter,c=s.yCenter,u=s.getIndexAngle(0)-.5*mo;let d,h=u;const p=360/this.countVisibleElements();for(d=0;d<t;++d)h+=this._computeAngle(d,i,p);for(d=t;d<t+n;d++){const t=e[d];let n=h,f=h+this._computeAngle(d,i,p),m=a.getDataVisibility(d)?s.getDistanceFromCenterForValue(this.getParsed(d).r):0;h=f,r&&(o.animateScale&&(m=0),o.animateRotate&&(n=f=u));const v={x:l,y:c,innerRadius:0,outerRadius:m,startAngle:n,endAngle:f,options:this.resolveDataElementOptions(d,t.active?"active":i)};this.updateElement(t,d,v,i)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach(((e,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++})),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?Ao(this.resolveDataElementOptions(e,t).angle||n):0}}ua(dc,"id","polarArea"),ua(dc,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),ua(dc,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return t.labels.map(((t,r)=>{const a=e.getDatasetMeta(0).controller.getStyle(r);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:i,lineWidth:a.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(r),index:r}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class hc extends cc{}ua(hc,"id","pie"),ua(hc,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class pc extends $l{getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,i){return tl.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta,n=t.dataset,i=t.data||[],r=t.iScale.getLabels();if(n.points=i,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===i.length,options:t};this.updateElement(n,void 0,a,e)}this.updateElements(i,0,i.length,e)}updateElements(e,t,n,i){const r=this._cachedMeta.rScale,a="reset"===i;for(let o=t;o<t+n;o++){const t=e[o],n=this.resolveDataElementOptions(o,t.active?"active":i),s=r.getPointPositionForValue(o,this.getParsed(o).r),l=a?r.xCenter:s.x,c=a?r.yCenter:s.y,u={x:l,y:c,angle:s.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(t,o,u,i)}}}ua(pc,"id","radar"),ua(pc,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ua(pc,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class fc extends $l{getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=t,a=this.getParsed(e),o=i.getLabelForValue(a.x),s=r.getLabelForValue(a.y);return{label:n[e]||"",value:"("+o+", "+s+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,i=this.chart._animationsDisabled;let{start:r,count:a}=Zo(t,n,i);if(this._drawStart=r,this._drawCount=a,Ko(t)&&(r=0,a=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:r,_dataset:a}=t;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=n;const o=this.resolveDatasetElementOptions(e);o.segment=this.options.segment,this.updateElement(r,void 0,{animated:!i,options:o},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(n,r,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,i){const r="reset"===i,{iScale:a,vScale:o,_stacked:s,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,i),u=this.getSharedOptions(c),d=this.includeOptions(i,u),h=a.axis,p=o.axis,{spanGaps:f,segment:m}=this.options,v=To(f)?f:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||r||"none"===i;let y=t>0&&this.getParsed(t-1);for(let b=t;b<t+n;++b){const t=e[b],n=this.getParsed(b),c=g?t:{},f=qa(n[p]),x=c[h]=a.getPixelForValue(n[h],b),_=c[p]=r||f?o.getBasePixel():o.getPixelForValue(s?this.applyStack(o,n,s):n[p],b);c.skip=isNaN(x)||isNaN(_)||f,c.stop=b>0&&Math.abs(n[h]-y[h])>v,m&&(c.parsed=n,c.raw=l.data[b]),d&&(c.options=u||this.resolveDataElementOptions(b,t.active?"active":i)),g||this.updateElement(t,b,c,i),y=n}this.updateSharedOptions(u,i,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}const n=e.dataset,i=n.options&&n.options.borderWidth||0;if(!t.length)return i;const r=t[0].size(this.resolveDataElementOptions(0)),a=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(i,r,a)/2}}ua(fc,"id","scatter"),ua(fc,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),ua(fc,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function mc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class vc{static override(e){Object.assign(vc.prototype,e)}constructor(e){ua(this,"options",void 0),this.options=e||{}}init(){}formats(){return mc()}parse(){return mc()}format(){return mc()}add(){return mc()}diff(){return mc()}startOf(){return mc()}endOf(){return mc()}}var gc=vc;function yc(e,t,n,i){const{controller:r,data:a,_sorted:o}=e,s=r._cachedMeta.iScale;if(s&&t===s.axis&&"r"!==t&&o&&a.length){const e=s._reversePixels?Bo:zo;if(!i)return e(a,t,n);if(r._sharedOptions){const i=a[0],r="function"===typeof i.getRange&&i.getRange(t);if(r){const i=e(a,t,n-r),o=e(a,t,n+r);return{lo:i.lo,hi:o.hi}}}}return{lo:0,hi:a.length-1}}function bc(e,t,n,i,r){const a=e.getSortedVisibleDatasetMetas(),o=n[t];for(let s=0,l=a.length;s<l;++s){const{index:e,data:n}=a[s],{lo:l,hi:c}=yc(a[s],t,o,r);for(let t=l;t<=c;++t){const r=n[t];r.skip||i(r,e,t)}}}function xc(e,t,n,i,r){const a=[];if(!r&&!e.isPointInArea(t))return a;return bc(e,n,t,(function(n,o,s){(r||ws(n,e.chartArea,0))&&n.inRange(t.x,t.y,i)&&a.push({element:n,datasetIndex:o,index:s})}),!0),a}function _c(e,t,n,i,r,a){let o=[];const s=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,i){const r=t?Math.abs(e.x-i.x):0,a=n?Math.abs(e.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}(n);let l=Number.POSITIVE_INFINITY;return bc(e,n,t,(function(n,c,u){const d=n.inRange(t.x,t.y,r);if(i&&!d)return;const h=n.getCenterPoint(r);if(!(!!a||e.isPointInArea(h))&&!d)return;const p=s(t,h);p<l?(o=[{element:n,datasetIndex:c,index:u}],l=p):p===l&&o.push({element:n,datasetIndex:c,index:u})})),o}function wc(e,t,n,i,r,a){return a||e.isPointInArea(t)?"r"!==n||i?_c(e,t,n,i,r,a):function(e,t,n,i){let r=[];return bc(e,n,t,(function(e,n,a){const{startAngle:o,endAngle:s}=e.getProps(["startAngle","endAngle"],i),{angle:l}=Po(e,{x:t.x,y:t.y});Io(l,o,s)&&r.push({element:e,datasetIndex:n,index:a})})),r}(e,t,n,r):[]}function Sc(e,t,n,i,r){const a=[],o="x"===n?"inXRange":"inYRange";let s=!1;return bc(e,n,t,((e,i,l)=>{e[o](t[n],r)&&(a.push({element:e,datasetIndex:i,index:l}),s=s||e.inRange(t.x,t.y,r))})),i&&!s?[]:a}var Mc={evaluateInteractionItems:bc,modes:{index(e,t,n,i){const r=vl(t,e),a=n.axis||"x",o=n.includeInvisible||!1,s=n.intersect?xc(e,r,a,i,o):wc(e,r,a,!1,i,o),l=[];return s.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=s[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,n,i){const r=vl(t,e),a=n.axis||"xy",o=n.includeInvisible||!1;let s=n.intersect?xc(e,r,a,i,o):wc(e,r,a,!1,i,o);if(s.length>0){const t=s[0].datasetIndex,n=e.getDatasetMeta(t).data;s=[];for(let e=0;e<n.length;++e)s.push({element:n[e],datasetIndex:t,index:e})}return s},point:(e,t,n,i)=>xc(e,vl(t,e),n.axis||"xy",i,n.includeInvisible||!1),nearest(e,t,n,i){const r=vl(t,e),a=n.axis||"xy",o=n.includeInvisible||!1;return wc(e,r,a,n.intersect,i,o)},x:(e,t,n,i)=>Sc(e,vl(t,e),"x",n.intersect,i),y:(e,t,n,i)=>Sc(e,vl(t,e),"y",n.intersect,i)}};const Ec=["left","top","right","bottom"];function Cc(e,t){return e.filter((e=>e.pos===t))}function Tc(e,t){return e.filter((e=>-1===Ec.indexOf(e.pos)&&e.box.axis===t))}function Nc(e,t){return e.sort(((e,n)=>{const i=t?n:e,r=t?e:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight}))}function Ac(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:i,stackWeight:r}=n;if(!e||!Ec.includes(i))continue;const a=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return t}(e),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let a,o,s;for(a=0,o=e.length;a<o;++a){s=e[a];const{fullSize:o}=s.box,l=n[s.stack],c=l&&s.stackWeight/l.weight;s.horizontal?(s.width=c?c*i:o&&t.availableWidth,s.height=r):(s.width=i,s.height=c?c*r:o&&t.availableHeight)}return n}function kc(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function Oc(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Pc(e,t,n,i){const{pos:r,box:a}=n,o=e.maxPadding;if(!Xa(r)){n.size&&(e[r]-=n.size);const t=i[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?a.height:a.width),n.size=t.size/t.count,e[r]+=n.size}a.getPadding&&Oc(o,a.getPadding());const s=Math.max(0,t.outerWidth-kc(o,e,"left","right")),l=Math.max(0,t.outerHeight-kc(o,e,"top","bottom")),c=s!==e.w,u=l!==e.h;return e.w=s,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function Rc(e,t){const n=t.maxPadding;function i(e){const i={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{i[e]=Math.max(t[e],n[e])})),i}return i(e?["left","right"]:["top","bottom"])}function jc(e,t,n,i){const r=[];let a,o,s,l,c,u;for(a=0,o=e.length,c=0;a<o;++a){s=e[a],l=s.box,l.update(s.width||t.w,s.height||t.h,Rc(s.horizontal,t));const{same:o,other:d}=Pc(t,n,s,i);c|=o&&r.length,u=u||d,l.fullSize||r.push(s)}return c&&jc(r,t,n,i)||u}function Lc(e,t,n,i,r){e.top=n,e.left=t,e.right=t+i,e.bottom=n+r,e.width=i,e.height=r}function Ic(e,t,n,i){const r=n.padding;let{x:a,y:o}=t;for(const s of e){const e=s.box,l=i[s.stack]||{count:1,placed:0,weight:1},c=s.stackWeight/l.weight||1;if(s.horizontal){const i=t.w*c,a=l.size||e.height;ho(l.start)&&(o=l.start),e.fullSize?Lc(e,r.left,o,n.outerWidth-r.right-r.left,a):Lc(e,t.left+l.placed,o,i,a),l.start=o,l.placed+=i,o=e.bottom}else{const i=t.h*c,o=l.size||e.width;ho(l.start)&&(a=l.start),e.fullSize?Lc(e,a,r.top,o,n.outerHeight-r.bottom-r.top):Lc(e,a,t.top+l.placed,o,i),l.start=a,l.placed+=i,a=e.right}}t.x=a,t.y=o}var Dc={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const r=Fs(e.options.layout.padding),a=Math.max(t-r.width,0),o=Math.max(n-r.height,0),s=function(e){const t=function(e){const t=[];let n,i,r,a,o,s;for(n=0,i=(e||[]).length;n<i;++n)r=e[n],({position:a,options:{stack:o,stackWeight:s=1}}=r),t.push({index:n,box:r,pos:a,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&a+o,stackWeight:s});return t}(e),n=Nc(t.filter((e=>e.box.fullSize)),!0),i=Nc(Cc(t,"left"),!0),r=Nc(Cc(t,"right")),a=Nc(Cc(t,"top"),!0),o=Nc(Cc(t,"bottom")),s=Tc(t,"x"),l=Tc(t,"y");return{fullSize:n,leftAndTop:i.concat(a),rightAndBottom:r.concat(l).concat(o).concat(s),chartArea:Cc(t,"chartArea"),vertical:i.concat(r).concat(l),horizontal:a.concat(o).concat(s)}}(e.boxes),l=s.vertical,c=s.horizontal;eo(e.boxes,(e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()}));const u=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,d=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:a,availableHeight:o,vBoxMaxWidth:a/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},r);Oc(h,Fs(i));const p=Object.assign({maxPadding:h,w:a,h:o,x:r.left,y:r.top},r),f=Ac(l.concat(c),d);jc(s.fullSize,p,d,f),jc(l,p,d,f),jc(c,p,d,f)&&jc(l,p,d,f),function(e){const t=e.maxPadding;function n(n){const i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(p),Ic(s.leftAndTop,p,d,f),p.x+=p.w,p.y+=p.h,Ic(s.rightAndBottom,p,d,f),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},eo(s.chartArea,(t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})}))}};class Fc{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,i){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):n)}}isAttached(e){return!0}updateConfig(e){}}class Uc extends Fc{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const zc="$chartjs",Bc={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Hc=e=>null===e||""===e;const Vc=!!xl&&{passive:!0};function Wc(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,Vc)}function Gc(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function qc(e,t,n){const i=e.canvas,r=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||Gc(n.addedNodes,i),t=t&&!Gc(n.removedNodes,i);t&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}function Yc(e,t,n){const i=e.canvas,r=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||Gc(n.removedNodes,i),t=t&&!Gc(n.addedNodes,i);t&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}const Xc=new Map;let Zc=0;function Kc(){const e=window.devicePixelRatio;e!==Zc&&(Zc=e,Xc.forEach(((t,n)=>{n.currentDevicePixelRatio!==e&&t()})))}function Jc(e,t,n){const i=e.canvas,r=i&&ul(i);if(!r)return;const a=qo(((e,t)=>{const i=r.clientWidth;n(e,t),i<r.clientWidth&&n()}),window),o=new ResizeObserver((e=>{const t=e[0],n=t.contentRect.width,i=t.contentRect.height;0===n&&0===i||a(n,i)}));return o.observe(r),function(e,t){Xc.size||window.addEventListener("resize",Kc),Xc.set(e,t)}(e,a),o}function $c(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){Xc.delete(e),Xc.size||window.removeEventListener("resize",Kc)}(e)}function Qc(e,t,n){const i=e.canvas,r=qo((t=>{null!==e.ctx&&n(function(e,t){const n=Bc[e.type]||e.type,{x:i,y:r}=vl(e,t);return{type:n,chart:t,native:e,x:void 0!==i?i:null,y:void 0!==r?r:null}}(t,e))}),e);return function(e,t,n){e&&e.addEventListener(t,n,Vc)}(i,t,r),r}class eu extends Fc{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e[zc]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Hc(r)){const t=_l(e,"width");void 0!==t&&(e.width=t)}if(Hc(i))if(""===e.style.height)e.height=e.width/(t||2);else{const t=_l(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[zc])return!1;const n=t[zc].initial;["height","width"].forEach((e=>{const i=n[e];qa(i)?t.removeAttribute(e):t.setAttribute(e,i)}));const i=n.style||{};return Object.keys(i).forEach((e=>{t.style[e]=i[e]})),t.width=t.width,delete t[zc],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),r={attach:qc,detach:Yc,resize:Jc}[t]||Qc;i[t]=r(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),i=n[t];if(!i)return;({attach:$c,detach:$c,resize:$c}[t]||Wc)(e,t,i),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,i){return yl(e,t,n,i)}isAttached(e){const t=e&&ul(e);return!(!t||!t.isConnected)}}class tu{constructor(){ua(this,"x",void 0),ua(this,"y",void 0),ua(this,"active",!1),ua(this,"options",void 0),ua(this,"$animations",void 0)}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return To(this.x)&&To(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const i={};return e.forEach((e=>{i[e]=n[e]&&n[e].active()?n[e]._to:this[e]})),i}}function nu(e,t){const n=e.options.ticks,i=function(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),r=e._maxLength/n;return Math.floor(Math.min(i,r))}(e),r=Math.min(n.maxTicksLimit||i,i),a=n.major.enabled?function(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}(t):[],o=a.length,s=a[0],l=a[o-1],c=[];if(o>r)return function(e,t,n,i){let r,a=0,o=n[0];for(i=Math.ceil(i),r=0;r<e.length;r++)r===o&&(t.push(e[r]),a++,o=n[a*i])}(t,c,a,o/r),c;const u=function(e,t,n){const i=function(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}(e),r=t.length/n;if(!i)return Math.max(r,1);const a=function(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(0|n)&&t.push(n),t.sort(((e,t)=>e-t)).pop(),t}(i);for(let o=0,s=a.length-1;o<s;o++){const e=a[o];if(e>r)return e}return Math.max(r,1)}(a,t,r);if(o>0){let e,n;const i=o>1?Math.round((l-s)/(o-1)):null;for(iu(t,c,u,qa(i)?0:s-i,s),e=0,n=o-1;e<n;e++)iu(t,c,u,a[e],a[e+1]);return iu(t,c,u,l,qa(i)?t.length:l+i),c}return iu(t,c,u),c}function iu(e,t,n,i,r){const a=Ja(i,0),o=Math.min(Ja(r,e.length),e.length);let s,l,c,u=0;for(n=Math.ceil(n),r&&(s=r-i,n=s/Math.floor(s/n)),c=a;c<0;)u++,c=Math.round(a+u*n);for(l=Math.max(a,0);l<o;l++)l===c&&(t.push(e[l]),u++,c=Math.round(a+u*n))}ua(tu,"defaults",{}),ua(tu,"defaultRoutes",void 0);const ru=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,au=(e,t)=>Math.min(t||e,e);function ou(e,t){const n=[],i=e.length/t,r=e.length;let a=0;for(;a<r;a+=i)n.push(e[Math.floor(a)]);return n}function su(e,t,n){const i=e.ticks.length,r=Math.min(t,i-1),a=e._startPixel,o=e._endPixel,s=1e-6;let l,c=e.getPixelForTick(r);if(!(n&&(l=1===i?Math.max(c-a,o-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(r-1))/2,c+=r<t?l:-l,c<a-s||c>o+s)))return c}function lu(e){return e.drawTicks?e.tickLength:0}function cu(e,t){if(!e.display)return 0;const n=Us(e.font,t),i=Fs(e.padding);return(Ya(e.text)?e.text.length:1)*n.lineHeight+i.height}function uu(e,t,n){let i=Yo(e);return(n&&"right"!==t||!n&&"right"===t)&&(i=(e=>"left"===e?"right":"right"===e?"left":e)(i)),i}class du extends tu{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:i}=this;return e=Ka(e,Number.POSITIVE_INFINITY),t=Ka(t,Number.NEGATIVE_INFINITY),n=Ka(n,Number.POSITIVE_INFINITY),i=Ka(i,Number.NEGATIVE_INFINITY),{min:Ka(e,n),max:Ka(t,i),minDefined:Za(e),maxDefined:Za(t)}}getMinMax(e){let t,{min:n,max:i,minDefined:r,maxDefined:a}=this.getUserBounds();if(r&&a)return{min:n,max:i};const o=this.getMatchingVisibleMetas();for(let s=0,l=o.length;s<l;++s)t=o[s].controller.getMinMax(this,e),r||(n=Math.min(n,t.min)),a||(i=Math.max(i,t.max));return n=a&&n>i?i:n,i=r&&n>i?n:i,{min:Ka(n,Ka(i,n)),max:Ka(i,Ka(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Qa(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:i,grace:r,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:i,max:r}=e,a=$a(t,(r-i)/2),o=(e,t)=>n&&0===e?0:e+t;return{min:o(i,-Math.abs(a)),max:o(r,a)}}(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const s=o<this.ticks.length;this._convertTicksToLabels(s?ou(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=nu(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),s&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Qa(this.options.afterUpdate,[this])}beforeSetDimensions(){Qa(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Qa(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Qa(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Qa(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,i,r;for(n=0,i=e.length;n<i;n++)r=e[n],r.label=Qa(t.callback,[r.value,n,e],this)}afterTickToLabelConversion(){Qa(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Qa(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=au(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,r=t.maxRotation;let a,o,s,l=i;if(!this._isVisible()||!t.display||i>=r||n<=1||!this.isHorizontal())return void(this.labelRotation=i);const c=this._getLabelSizes(),u=c.widest.width,d=c.highest.height,h=Do(this.chart.width-u,0,this.maxWidth);a=e.offset?this.maxWidth/n:h/(n-1),u+6>a&&(a=h/(n-(e.offset?.5:1)),o=this.maxHeight-lu(e.grid)-t.padding-cu(e.title,this.chart.options.font),s=Math.sqrt(u*u+d*d),l=ko(Math.min(Math.asin(Do((c.highest.height+6)/a,-1,1)),Math.asin(Do(o/s,-1,1))-Math.asin(Do(d/s,-1,1)))),l=Math.max(i,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){Qa(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Qa(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:i,grid:r}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const a=cu(i,t.options.font);if(o?(e.width=this.maxWidth,e.height=lu(r)+a):(e.height=this.maxHeight,e.width=lu(r)+a),n.display&&this.ticks.length){const{first:t,last:i,widest:r,highest:a}=this._getLabelSizes(),s=2*n.padding,l=Ao(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(o){const t=n.mirror?0:u*r.width+c*a.height;e.height=Math.min(this.maxHeight,e.height+t+s)}else{const t=n.mirror?0:c*r.width+u*a.height;e.width=Math.min(this.maxWidth,e.width+t+s)}this._calculatePadding(t,i,u,c)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,i){const{ticks:{align:r,padding:a},position:o}=this.options,s=0!==this.labelRotation,l="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,d=0;s?l?(u=i*e.width,d=n*t.height):(u=n*e.height,d=i*t.width):"start"===r?d=t.width:"end"===r?u=e.width:"inner"!==r&&(u=e.width/2,d=t.width/2),this.paddingLeft=Math.max((u-o+a)*this.width/(this.width-o),0),this.paddingRight=Math.max((d-c+a)*this.width/(this.width-c),0)}else{let n=t.height/2,i=e.height/2;"start"===r?(n=0,i=e.height):"end"===r&&(n=t.height,i=0),this.paddingTop=n+a,this.paddingBottom=i+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Qa(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)qa(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=ou(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:i,_longestTextCache:r}=this,a=[],o=[],s=Math.floor(t/au(t,n));let l,c,u,d,h,p,f,m,v,g,y,b=0,x=0;for(l=0;l<t;l+=s){if(d=e[l].label,h=this._resolveTickFontOptions(l),i.font=p=h.string,f=r[p]=r[p]||{data:{},gc:[]},m=h.lineHeight,v=g=0,qa(d)||Ya(d)){if(Ya(d))for(c=0,u=d.length;c<u;++c)y=d[c],qa(y)||Ya(y)||(v=vs(i,f.data,f.gc,v,y),g+=m)}else v=vs(i,f.data,f.gc,v,d),g=m;a.push(v),o.push(g),b=Math.max(v,b),x=Math.max(g,x)}!function(e,t){eo(e,(e=>{const n=e.gc,i=n.length/2;let r;if(i>t){for(r=0;r<i;++r)delete e.data[n[r]];n.splice(0,i)}}))}(r,t);const _=a.indexOf(b),w=o.indexOf(x),S=e=>({width:a[e]||0,height:o[e]||0});return{first:S(0),last:S(t-1),widest:S(_),highest:S(w),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Do(this._alignToPixels?ys(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return Bs(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=Bs(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=Ao(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),r=this._getLabelSizes(),a=e.autoSkipPadding||0,o=r?r.widest.width+a:0,s=r?r.highest.height+a:0;return this.isHorizontal()?s*n>o*i?o/n:s/i:s*i<o*n?s/n:o/i}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,i=this.options,{grid:r,position:a,border:o}=i,s=r.offset,l=this.isHorizontal(),c=this.ticks.length+(s?1:0),u=lu(r),d=[],h=o.setContext(this.getContext()),p=h.display?h.width:0,f=p/2,m=function(e){return ys(n,e,p)};let v,g,y,b,x,_,w,S,M,E,C,T;if("top"===a)v=m(this.bottom),_=this.bottom-u,S=v-f,E=m(e.top)+f,T=e.bottom;else if("bottom"===a)v=m(this.top),E=e.top,T=m(e.bottom)-f,_=v+f,S=this.top+u;else if("left"===a)v=m(this.right),x=this.right-u,w=v-f,M=m(e.left)+f,C=e.right;else if("right"===a)v=m(this.left),M=e.left,C=m(e.right)-f,x=v+f,w=this.left+u;else if("x"===t){if("center"===a)v=m((e.top+e.bottom)/2+.5);else if(Xa(a)){const e=Object.keys(a)[0],t=a[e];v=m(this.chart.scales[e].getPixelForValue(t))}E=e.top,T=e.bottom,_=v+f,S=_+u}else if("y"===t){if("center"===a)v=m((e.left+e.right)/2);else if(Xa(a)){const e=Object.keys(a)[0],t=a[e];v=m(this.chart.scales[e].getPixelForValue(t))}x=v-f,w=x-u,M=e.left,C=e.right}const N=Ja(i.ticks.maxTicksLimit,c),A=Math.max(1,Math.ceil(c/N));for(g=0;g<c;g+=A){const e=this.getContext(g),t=r.setContext(e),i=o.setContext(e),a=t.lineWidth,c=t.color,u=i.dash||[],h=i.dashOffset,p=t.tickWidth,f=t.tickColor,m=t.tickBorderDash||[],v=t.tickBorderDashOffset;y=su(this,g,s),void 0!==y&&(b=ys(n,y,a),l?x=w=M=C=b:_=S=E=T=b,d.push({tx1:x,ty1:_,tx2:w,ty2:S,x1:M,y1:E,x2:C,y2:T,width:a,color:c,borderDash:u,borderDashOffset:h,tickWidth:p,tickColor:f,tickBorderDash:m,tickBorderDashOffset:v}))}return this._ticksLength=c,this._borderValue=v,d}_computeLabelItems(e){const t=this.axis,n=this.options,{position:i,ticks:r}=n,a=this.isHorizontal(),o=this.ticks,{align:s,crossAlign:l,padding:c,mirror:u}=r,d=lu(n.grid),h=d+c,p=u?-c:h,f=-Ao(this.labelRotation),m=[];let v,g,y,b,x,_,w,S,M,E,C,T,N="middle";if("top"===i)_=this.bottom-p,w=this._getXAxisLabelAlignment();else if("bottom"===i)_=this.top+p,w=this._getXAxisLabelAlignment();else if("left"===i){const e=this._getYAxisLabelAlignment(d);w=e.textAlign,x=e.x}else if("right"===i){const e=this._getYAxisLabelAlignment(d);w=e.textAlign,x=e.x}else if("x"===t){if("center"===i)_=(e.top+e.bottom)/2+h;else if(Xa(i)){const e=Object.keys(i)[0],t=i[e];_=this.chart.scales[e].getPixelForValue(t)+h}w=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===i)x=(e.left+e.right)/2-h;else if(Xa(i)){const e=Object.keys(i)[0],t=i[e];x=this.chart.scales[e].getPixelForValue(t)}w=this._getYAxisLabelAlignment(d).textAlign}"y"===t&&("start"===s?N="top":"end"===s&&(N="bottom"));const A=this._getLabelSizes();for(v=0,g=o.length;v<g;++v){y=o[v],b=y.label;const e=r.setContext(this.getContext(v));S=this.getPixelForTick(v)+r.labelOffset,M=this._resolveTickFontOptions(v),E=M.lineHeight,C=Ya(b)?b.length:1;const t=C/2,n=e.color,s=e.textStrokeColor,c=e.textStrokeWidth;let d,h=w;if(a?(x=S,"inner"===w&&(h=v===g-1?this.options.reverse?"left":"right":0===v?this.options.reverse?"right":"left":"center"),T="top"===i?"near"===l||0!==f?-C*E+E/2:"center"===l?-A.highest.height/2-t*E+E:-A.highest.height+E/2:"near"===l||0!==f?E/2:"center"===l?A.highest.height/2-t*E:A.highest.height-C*E,u&&(T*=-1),0===f||e.showLabelBackdrop||(x+=E/2*Math.sin(f))):(_=S,T=(1-C)*E/2),e.showLabelBackdrop){const t=Fs(e.backdropPadding),n=A.heights[v],i=A.widths[v];let r=T-t.top,a=0-t.left;switch(N){case"middle":r-=n/2;break;case"bottom":r-=n}switch(w){case"center":a-=i/2;break;case"right":a-=i;break;case"inner":v===g-1?a-=i:v>0&&(a-=i/2)}d={left:a,top:r,width:i+t.width,height:n+t.height,color:e.backdropColor}}m.push({label:b,font:M,textOffset:T,options:{rotation:f,color:n,strokeColor:s,strokeWidth:c,textAlign:h,textBaseline:N,translation:[x,_],backdrop:d}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Ao(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,a=e+r,o=this._getLabelSizes().widest.width;let s,l;return"left"===t?i?(l=this.right+r,"near"===n?s="left":"center"===n?(s="center",l+=o/2):(s="right",l+=o)):(l=this.right-a,"near"===n?s="right":"center"===n?(s="center",l-=o/2):(s="left",l=this.left)):"right"===t?i?(l=this.left+r,"near"===n?s="right":"center"===n?(s="center",l-=o/2):(s="left",l-=o)):(l=this.left+a,"near"===n?s="left":"center"===n?(s="center",l+=o/2):(s="right",l=this.right)):s="right",{textAlign:s,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:i,width:r,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,i,r,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex((t=>t.value===e));if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,a;const o=(e,t,i)=>{i.width&&i.color&&(n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.setLineDash(i.borderDash||[]),n.lineDashOffset=i.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(r=0,a=i.length;r<a;++r){const e=i[r];t.drawOnChartArea&&o({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&o({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:i}}=this,r=n.setContext(this.getContext()),a=n.display?r.width:0;if(!a)return;const o=i.setContext(this.getContext(0)).lineWidth,s=this._borderValue;let l,c,u,d;this.isHorizontal()?(l=ys(e,this.left,a)-a/2,c=ys(e,this.right,o)+o/2,u=d=s):(u=ys(e,this.top,a)-a/2,d=ys(e,this.bottom,o)+o/2,l=c=s),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(l,u),t.lineTo(c,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&Ss(t,n);const i=this.getLabelItems(e);for(const r of i){const e=r.options,n=r.font;As(t,r.label,0,r.textOffset,n,e)}n&&Ms(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:i}}=this;if(!n.display)return;const r=Us(n.font),a=Fs(n.padding),o=n.align;let s=r.lineHeight/2;"bottom"===t||"center"===t||Xa(t)?(s+=a.bottom,Ya(n.text)&&(s+=r.lineHeight*(n.text.length-1))):s+=a.top;const{titleX:l,titleY:c,maxWidth:u,rotation:d}=function(e,t,n,i){const{top:r,left:a,bottom:o,right:s,chart:l}=e,{chartArea:c,scales:u}=l;let d,h,p,f=0;const m=o-r,v=s-a;if(e.isHorizontal()){if(h=Xo(i,a,s),Xa(n)){const e=Object.keys(n)[0],i=n[e];p=u[e].getPixelForValue(i)+m-t}else p="center"===n?(c.bottom+c.top)/2+m-t:ru(e,n,t);d=s-a}else{if(Xa(n)){const e=Object.keys(n)[0],i=n[e];h=u[e].getPixelForValue(i)-v+t}else h="center"===n?(c.left+c.right)/2-v+t:ru(e,n,t);p=Xo(i,o,r),f="left"===n?-xo:xo}return{titleX:h,titleY:p,maxWidth:d,rotation:f}}(this,s,t,o);As(e,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:d,textAlign:uu(o,t,i),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=Ja(e.grid&&e.grid.z,-1),i=Ja(e.border&&e.border.z,0);return this._isVisible()&&this.draw===du.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,a;for(r=0,a=t.length;r<a;++r){const a=t[r];a[n]!==this.id||e&&a.type!==e||i.push(a)}return i}_resolveTickFontOptions(e){return Us(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class hu{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const i=this.items,r=e.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,function(e,t,n){const i=ao(Object.create(null),[n?ms.get(n):{},ms.get(t),e.defaults]);ms.set(t,i),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((n=>{const i=n.split("."),r=i.pop(),a=[e].concat(i).join("."),o=t[n].split("."),s=o.pop(),l=o.join(".");ms.route(a,r,l,s)}))}(t,e.defaultRoutes);e.descriptors&&ms.describe(t,e.descriptors)}(e,a,n),this.override&&ms.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,i=this.scope;n in t&&delete t[n],i&&n in ms[i]&&(delete ms[i][n],this.override&&delete us[n])}}class pu{constructor(){this.controllers=new hu($l,"datasets",!0),this.elements=new hu(tu,"elements"),this.plugins=new hu(Object,"plugins"),this.scales=new hu(du,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}_each(e,t,n){[...t].forEach((t=>{const i=n||this._getRegistryForType(t);n||i.isForType(t)||i===this.plugins&&t.id?this._exec(e,i,t):eo(t,(t=>{const i=n||this._getRegistryForType(t);this._exec(e,i,t)}))}))}_exec(e,t,n){const i=uo(e);Qa(n["before"+i],[],n),t[e](n),Qa(n["after"+i],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const i=t.get(e);if(void 0===i)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var fu=new pu;class mu{constructor(){this._init=[]}notify(e,t,n,i){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(r,e,t,n);return"afterDestroy"===t&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,n,i){i=i||{};for(const r of e){const e=r.plugin;if(!1===Qa(e[n],[t,i,r.options],e)&&i.cancelable)return!1}return!0}invalidate(){qa(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,i=Ja(n.options&&n.options.plugins,{}),r=function(e){const t={},n=[],i=Object.keys(fu.plugins.items);for(let a=0;a<i.length;a++)n.push(fu.getPlugin(i[a]));const r=e.plugins||[];for(let a=0;a<r.length;a++){const e=r[a];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==i||t?function(e,t,n,i){let{plugins:r,localIds:a}=t;const o=[],s=e.getContext();for(const l of r){const t=l.id,r=vu(n[t],i);null!==r&&o.push({plugin:l,options:gu(e.config,{plugin:l,local:a[t]},r,s)})}return o}(e,r,i,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,i=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(i(t,n),e,"stop"),this._notify(i(n,t),e,"start")}}function vu(e,t){return t||!1!==e?!0===e?{}:e:null}function gu(e,t,n,i){let{plugin:r,local:a}=t;const o=e.pluginScopeKeys(r),s=e.getOptionScopes(n,o);return a&&r.defaults&&s.push(r.defaults),e.createResolver(s,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function yu(e,t){const n=ms.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function bu(e){if("x"===e||"y"===e||"r"===e)return e}function xu(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function _u(e){if(bu(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(const r of n){const t=r.axis||xu(r.position)||e.length>1&&bu(e[0].toLowerCase());if(t)return t}throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function wu(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function Su(e,t){const n=us[e.type]||{scales:{}},i=t.scales||{},r=yu(e.type,t),a=Object.create(null);return Object.keys(i).forEach((t=>{const o=i[t];if(!Xa(o))return console.error("Invalid scale configuration for scale: ".concat(t));if(o._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const s=_u(t,o,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(n.length)return wu(e,"x",n[0])||wu(e,"y",n[0])}return{}}(t,e),ms.scales[o.type]),l=function(e,t){return e===t?"_index_":"_value_"}(s,r),c=n.scales||{};a[t]=oo(Object.create(null),[{axis:s},o,c[s],c[l]])})),e.data.datasets.forEach((n=>{const r=n.type||e.type,o=n.indexAxis||yu(r,t),s=(us[r]||{}).scales||{};Object.keys(s).forEach((e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,o),r=n[t+"AxisID"]||t;a[r]=a[r]||Object.create(null),oo(a[r],[{axis:t},i[r],s[e]])}))})),Object.keys(a).forEach((e=>{const t=a[e];oo(t,[ms.scales[t.type],ms.scale])})),a}function Mu(e){const t=e.options||(e.options={});t.plugins=Ja(t.plugins,{}),t.scales=Su(e,t)}function Eu(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const Cu=new Map,Tu=new Set;function Nu(e,t){let n=Cu.get(e);return n||(n=t(),Cu.set(e,n),Tu.add(n)),n}const Au=(e,t,n)=>{const i=co(t,n);void 0!==i&&e.add(i)};class ku{constructor(e){this._config=function(e){return(e=e||{}).data=Eu(e.data),Mu(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Eu(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Mu(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Nu(e,(()=>[["datasets.".concat(e),""]]))}datasetAnimationScopeKeys(e,t){return Nu("".concat(e,".transition.").concat(t),(()=>[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]]))}datasetElementScopeKeys(e,t){return Nu("".concat(e,"-").concat(t),(()=>[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]]))}pluginScopeKeys(e){const t=e.id,n=this.type;return Nu("".concat(n,"-plugin-").concat(t),(()=>[["plugins.".concat(t),...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const n=this._scopeCache;let i=n.get(e);return i&&!t||(i=new Map,n.set(e,i)),i}getOptionScopes(e,t,n){const{options:i,type:r}=this,a=this._cachedScopes(e,n),o=a.get(t);if(o)return o;const s=new Set;t.forEach((t=>{e&&(s.add(e),t.forEach((t=>Au(s,e,t)))),t.forEach((e=>Au(s,i,e))),t.forEach((e=>Au(s,us[r]||{},e))),t.forEach((e=>Au(s,ms,e))),t.forEach((e=>Au(s,ds,e)))}));const l=Array.from(s);return 0===l.length&&l.push(Object.create(null)),Tu.has(t)&&a.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,us[t]||{},ms.datasets[t]||{},{type:t},ms,ds]}resolveNamedOptions(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const r={$shared:!0},{resolver:a,subPrefixes:o}=Ou(this._resolverCache,e,i);let s=a;if(function(e,t){const{isScriptable:n,isIndexable:i}=Ws(e);for(const r of t){const t=n(r),a=i(r),o=(a||t)&&e[r];if(t&&(po(o)||Pu(o))||a&&Ya(o))return!0}return!1}(a,t)){r.$shared=!1;s=Vs(a,n=po(n)?n():n,this.createResolver(e,n,o))}for(const l of t)r[l]=s[l];return r}createResolver(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],i=arguments.length>3?arguments[3]:void 0;const{resolver:r}=Ou(this._resolverCache,e,n);return Xa(t)?Vs(r,t,void 0,i):r}}function Ou(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const r=n.join();let a=i.get(r);if(!a){a={resolver:Hs(t,n),subPrefixes:n.filter((e=>!e.toLowerCase().includes("hover")))},i.set(r,a)}return a}const Pu=e=>Xa(e)&&Object.getOwnPropertyNames(e).some((t=>po(e[t])));const Ru=["top","bottom","left","right","chartArea"];function ju(e,t){return"top"===e||"bottom"===e||-1===Ru.indexOf(e)&&"x"===t}function Lu(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function Iu(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Qa(n&&n.onComplete,[e],t)}function Du(e){const t=e.chart,n=t.options.animation;Qa(n&&n.onProgress,[e],t)}function Fu(e){return cl()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Uu={},zu=e=>{const t=Fu(e);return Object.values(Uu).filter((e=>e.canvas===t)).pop()};function Bu(e,t,n){const i=Object.keys(e);for(const r of i){const i=+r;if(i>=t){const a=e[r];delete e[r],(n>0||i>t)&&(e[i+n]=a)}}}function Hu(e,t,n){return e.options.clip?e[n]:t[n]}class Vu{static register(){fu.add(...arguments),Wu()}static unregister(){fu.remove(...arguments),Wu()}constructor(e,t){const n=this.config=new ku(t),i=Fu(e),r=zu(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!cl()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Uc:eu}(i)),this.platform.updateConfig(n);const o=this.platform.acquireContext(i,a.aspectRatio),s=o&&o.canvas,l=s&&s.height,c=s&&s.width;this.id=Ga(),this.ctx=o,this.canvas=s,this.width=c,this.height=l,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new mu,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}((e=>this.update(e)),a.resizeDelay||0),this._dataChanges=[],Uu[this.id]=this,o&&s?(Il.listen(this,"complete",Iu),Il.listen(this,"progress",Du),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:i,_aspectRatio:r}=this;return qa(e)?t&&r?r:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return fu}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():bl(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return bs(this.canvas,this.ctx),this}stop(){return Il.stop(this),this}resize(e,t){Il.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,t,r),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),s=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,bl(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),Qa(n.onResize,[this,a],this),this.attached&&this._doResize(s)&&this.render())}ensureScalesHaveIDs(){eo(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,i=Object.keys(n).reduce(((e,t)=>(e[t]=!1,e)),{});let r=[];t&&(r=r.concat(Object.keys(t).map((e=>{const n=t[e],i=_u(e,n),r="r"===i,a="x"===i;return{options:n,dposition:r?"chartArea":a?"bottom":"left",dtype:r?"radialLinear":a?"category":"linear"}})))),eo(r,(t=>{const r=t.options,a=r.id,o=_u(a,r),s=Ja(r.type,t.dtype);void 0!==r.position&&ju(r.position,o)===ju(t.dposition)||(r.position=t.dposition),i[a]=!0;let l=null;if(a in n&&n[a].type===s)l=n[a];else{l=new(fu.getScale(s))({id:a,type:s,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(r,e)})),eo(i,((e,t)=>{e||delete n[t]})),eo(n,(e=>{Dc.configure(this,e,e.options),Dc.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort(((e,t)=>e.index-t.index)),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(Lu("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,n)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=t.length;n<i;n++){const i=t[n];let r=this.getDatasetMeta(n);const a=i.type||this.config.type;if(r.type&&r.type!==a&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=a,r.indexAxis=i.indexAxis||yu(a,this.options),r.order=i.order||0,r.index=n,r.label=""+i.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const t=fu.getController(a),{datasetElementType:i,dataElementType:o}=ms.datasets[a];Object.assign(t,{dataElementType:fu.getElement(o),datasetElementType:i&&fu.getElement(i)}),r.controller=new t(this,n),e.push(r.controller)}}return this._updateMetasets(),e}_resetElements(){eo(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!i&&-1===r.indexOf(e);e.buildOrUpdateElements(t),a=Math.max(+e.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),i||eo(r,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Lu("z","_idx"));const{_active:o,_lastEvent:s}=this;s?this._eventHandler(s,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){eo(this.scales,(e=>{Dc.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);fo(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of t){Bu(e,i,"_removeElements"===n?-r:r)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),i=n(0);for(let r=1;r<t;r++)if(!fo(i,n(r)))return;return Array.from(i).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Dc.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],eo(this.boxes,(e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,po(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(n.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Il.has(this)?this.attached&&!Il.running(this)&&Il.start(this):(this.draw(),Iu({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resize(e,t),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let i,r;for(i=0,r=t.length;i<r;++i){const r=t[i];e&&!r.visible||n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,i=!n.disabled,r=function(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:Hu(n,t,"left"),right:Hu(n,t,"right"),top:Hu(i,t,"top"),bottom:Hu(i,t,"bottom")}:t}(e,this.chartArea),a={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(i&&Ss(t,{left:!1===n.left?0:r.left-n.left,right:!1===n.right?this.width:r.right+n.right,top:!1===n.top?0:r.top-n.top,bottom:!1===n.bottom?this.height:r.bottom+n.bottom}),e.controller.draw(),i&&Ms(t),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return ws(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,i){const r=Mc.modes[t];return"function"===typeof r?r(this,e,n,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let i=n.filter((e=>e&&e._dataset===t)).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=Bs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const i=n?"show":"hide",r=this.getDatasetMeta(e),a=r.controller._resolveAnimations(void 0,i);ho(t)?(r.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(r,{visible:n}),this.update((t=>t.datasetIndex===e?i:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Il.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),bs(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Uu[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,i)=>{t.addEventListener(this,n,i),e[n]=i},i=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};eo(this.options.events,(e=>n(e,i)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,i)=>{t.addEventListener(this,n,i),e[n]=i},i=(n,i)=>{e[n]&&(t.removeEventListener(this,n,i),delete e[n])},r=(e,t)=>{this.canvas&&this.resize(e,t)};let a;const o=()=>{i("attach",o),this.attached=!0,this.resize(),n("resize",r),n("detach",a)};a=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",o)},t.isAttached(this.canvas)?o():a()}unbindEvents(){eo(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},eo(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const i=n?"set":"remove";let r,a,o,s;for("dataset"===t&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),o=0,s=e.length;o<s;++o){a=e[o];const t=a&&this.getDatasetMeta(a.datasetIndex).controller;t&&t[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map((e=>{let{datasetIndex:t,index:n}=e;const i=this.getDatasetMeta(t);if(!i)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:i.data[n],index:n}}));!to(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,n){const i=this.options.hover,r=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),a=r(t,e),o=n?e:r(e,t);a.length&&this.updateHoverStyle(a,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,i))return;const r=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:i=[],options:r}=this,a=t,o=this._getActiveElements(e,i,n,a),s=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,i){return n&&"mouseout"!==e.type?i?t:e:null}(e,this._lastEvent,n,s);n&&(this._lastEvent=null,Qa(r.onHover,[e,o,this],this),s&&Qa(r.onClick,[e,o,this],this));const c=!to(o,i);return(c||t)&&(this._active=o,this._updateHoverStyles(o,i,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,i){if("mouseout"===e.type)return[];if(!n)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}}function Wu(){return eo(Vu.instances,(e=>e._plugins.invalidate()))}function Gu(e,t,n,i){const r=Ls(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const a=(n-t)/2,o=Math.min(a,i*t/2),s=e=>{const t=(n-Math.min(a,e))*i/2;return Do(e,0,Math.min(a,t))};return{outerStart:s(r.outerStart),outerEnd:s(r.outerEnd),innerStart:Do(r.innerStart,0,o),innerEnd:Do(r.innerEnd,0,o)}}function qu(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function Yu(e,t,n,i,r,a){const{x:o,y:s,startAngle:l,pixelMargin:c,innerRadius:u}=t,d=Math.max(t.outerRadius+i+n-c,0),h=u>0?u+i+n+c:0;let p=0;const f=r-l;if(i){const e=((u>0?u-i:0)+(d>0?d-i:0))/2;p=(f-(0!==e?f*e/(e+i):f))/2}const m=(f-Math.max(.001,f*d-n/mo)/d)/2,v=l+m+p,g=r-m-p,{outerStart:y,outerEnd:b,innerStart:x,innerEnd:_}=Gu(t,h,d,g-v),w=d-y,S=d-b,M=v+y/w,E=g-b/S,C=h+x,T=h+_,N=v+x/C,A=g-_/T;if(e.beginPath(),a){const t=(M+E)/2;if(e.arc(o,s,d,M,t),e.arc(o,s,d,t,E),b>0){const t=qu(S,E,o,s);e.arc(t.x,t.y,b,E,g+xo)}const n=qu(T,g,o,s);if(e.lineTo(n.x,n.y),_>0){const t=qu(T,A,o,s);e.arc(t.x,t.y,_,g+xo,A+Math.PI)}const i=(g-_/h+(v+x/h))/2;if(e.arc(o,s,h,g-_/h,i,!0),e.arc(o,s,h,i,v+x/h,!0),x>0){const t=qu(C,N,o,s);e.arc(t.x,t.y,x,N+Math.PI,v-xo)}const r=qu(w,v,o,s);if(e.lineTo(r.x,r.y),y>0){const t=qu(w,M,o,s);e.arc(t.x,t.y,y,v-xo,M)}}else{e.moveTo(o,s);const t=Math.cos(M)*d+o,n=Math.sin(M)*d+s;e.lineTo(t,n);const i=Math.cos(E)*d+o,r=Math.sin(E)*d+s;e.lineTo(i,r)}e.closePath()}function Xu(e,t,n,i,r){const{fullCircles:a,startAngle:o,circumference:s,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h}=l,p="inner"===l.borderAlign;if(!c)return;e.setLineDash(d||[]),e.lineDashOffset=h,p?(e.lineWidth=2*c,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let f=t.endAngle;if(a){Yu(e,t,n,i,f,r);for(let t=0;t<a;++t)e.stroke();isNaN(s)||(f=o+(s%vo||vo))}p&&function(e,t,n){const{startAngle:i,pixelMargin:r,x:a,y:o,outerRadius:s,innerRadius:l}=t;let c=r/s;e.beginPath(),e.arc(a,o,s,i-c,n+c),l>r?(c=r/l,e.arc(a,o,l,n+c,i-c,!0)):e.arc(a,o,r,n+xo,i-xo),e.closePath(),e.clip()}(e,t,f),a||(Yu(e,t,n,i,f,r),e.stroke())}ua(Vu,"defaults",ms),ua(Vu,"instances",Uu),ua(Vu,"overrides",us),ua(Vu,"registry",fu),ua(Vu,"version","4.4.3"),ua(Vu,"getChart",zu);class Zu extends tu{constructor(e){super(),ua(this,"circumference",void 0),ua(this,"endAngle",void 0),ua(this,"fullCircles",void 0),ua(this,"innerRadius",void 0),ua(this,"outerRadius",void 0),ua(this,"pixelMargin",void 0),ua(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.getProps(["x","y"],n),{angle:r,distance:a}=Po(i,{x:e,y:t}),{startAngle:o,endAngle:s,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),d=(this.options.spacing+this.options.borderWidth)/2,h=Ja(u,s-o)>=vo||Io(r,o,s),p=Fo(a,l+d,c+d);return h&&p}getCenterPoint(e){const{x:t,y:n,startAngle:i,endAngle:r,innerRadius:a,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:s,spacing:l}=this.options,c=(i+r)/2,u=(a+o+l+s)/2;return{x:t+Math.cos(c)*u,y:n+Math.sin(c)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,i=(t.offset||0)/4,r=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>vo?Math.floor(n/vo):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const o=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(o)*i,Math.sin(o)*i);const s=i*(1-Math.sin(Math.min(mo,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,i,r){const{fullCircles:a,startAngle:o,circumference:s}=t;let l=t.endAngle;if(a){Yu(e,t,n,i,l,r);for(let t=0;t<a;++t)e.fill();isNaN(s)||(l=o+(s%vo||vo))}Yu(e,t,n,i,l,r),e.fill()}(e,this,s,r,a),Xu(e,this,s,r,a),e.restore()}}function Ku(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=Ja(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Ja(n.borderDash,t.borderDash)),e.lineDashOffset=Ja(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Ja(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Ja(n.borderWidth,t.borderWidth),e.strokeStyle=Ja(n.borderColor,t.borderColor)}function Ju(e,t,n){e.lineTo(n.x,n.y)}function $u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.length,{start:r=0,end:a=i-1}=n,{start:o,end:s}=t,l=Math.max(r,o),c=Math.min(a,s),u=r<o&&a<o||r>s&&a>s;return{count:i,start:l,loop:t.loop,ilen:c<l&&!u?i+c-l:c-l}}function Qu(e,t,n,i){const{points:r,options:a}=t,{count:o,start:s,loop:l,ilen:c}=$u(r,n,i),u=function(e){return e.stepped?Es:e.tension||"monotone"===e.cubicInterpolationMode?Cs:Ju}(a);let d,h,p,{move:f=!0,reverse:m}=i||{};for(d=0;d<=c;++d)h=r[(s+(m?c-d:d))%o],h.skip||(f?(e.moveTo(h.x,h.y),f=!1):u(e,p,h,m,a.stepped),p=h);return l&&(h=r[(s+(m?c:0))%o],u(e,p,h,m,a.stepped)),!!l}function ed(e,t,n,i){const r=t.points,{count:a,start:o,ilen:s}=$u(r,n,i),{move:l=!0,reverse:c}=i||{};let u,d,h,p,f,m,v=0,g=0;const y=e=>(o+(c?s-e:e))%a,b=()=>{p!==f&&(e.lineTo(v,f),e.lineTo(v,p),e.lineTo(v,m))};for(l&&(d=r[y(0)],e.moveTo(d.x,d.y)),u=0;u<=s;++u){if(d=r[y(u)],d.skip)continue;const t=d.x,n=d.y,i=0|t;i===h?(n<p?p=n:n>f&&(f=n),v=(g*v+t)/++g):(b(),e.lineTo(t,n),h=i,g=0,p=f=n),m=n}b()}function td(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?ed:Qu}ua(Zu,"id","arc"),ua(Zu,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ua(Zu,"defaultRoutes",{backgroundColor:"backgroundColor"}),ua(Zu,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const nd="function"===typeof Path2D;function id(e,t,n,i){nd&&!t.options.segment?function(e,t,n,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,n,i)&&r.closePath()),Ku(e,t.options),e.stroke(r)}(e,t,n,i):function(e,t,n,i){const{segments:r,options:a}=t,o=td(t);for(const s of r)Ku(e,a,s.style),e.beginPath(),o(e,t,s,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}(e,t,n,i)}class rd extends tu{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;ll(this._points,n,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,i=e.options.spanGaps,r=n.length;if(!r)return[];const a=!!e._loop,{start:o,end:s}=function(e,t,n,i){let r=0,a=t-1;if(n&&!i)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,n&&(a+=r);a>r&&e[a%t].skip;)a--;return a%=t,{start:r,end:a}}(n,r,a,i);return Pl(e,!0===i?[{start:o,end:s,loop:a}]:function(e,t,n,i){const r=e.length,a=[];let o,s=t,l=e[t];for(o=t+1;o<=n;++o){const n=e[o%r];n.skip||n.stop?l.skip||(i=!1,a.push({start:t%r,end:(o-1)%r,loop:i}),t=s=n.stop?o:null):(s=o,l.skip&&(t=o)),l=n}return null!==s&&a.push({start:t%r,end:s%r,loop:i}),a}(n,o,s<o?s+r:s,!!e._fullLoop&&0===o&&s===r-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,i=e[t],r=this.points,a=Ol(this,{property:t,start:i,end:i});if(!a.length)return;const o=[],s=function(e){return e.stepped?Sl:e.tension||"monotone"===e.cubicInterpolationMode?Ml:wl}(n);let l,c;for(l=0,c=a.length;l<c;++l){const{start:c,end:u}=a[l],d=r[c],h=r[u];if(d===h){o.push(d);continue}const p=s(d,h,Math.abs((i-d[t])/(h[t]-d[t])),n.stepped);p[t]=e[t],o.push(p)}return 1===o.length?o[0]:o}pathSegment(e,t,n){return td(this)(e,this,t,n)}path(e,t,n){const i=this.segments,r=td(this);let a=this._loop;t=t||0,n=n||this.points.length-t;for(const o of i)a&=r(e,this,o,{start:t,end:t+n-1});return!!a}draw(e,t,n,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),id(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function ad(e,t,n,i){const r=e.options,{[n]:a}=e.getProps([n],i);return Math.abs(t-a)<r.radius+r.hitRadius}ua(rd,"id","line"),ua(rd,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ua(rd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ua(rd,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class od extends tu{constructor(e){super(),ua(this,"parsed",void 0),ua(this,"skip",void 0),ua(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.options,{x:r,y:a}=this.getProps(["x","y"],n);return Math.pow(e-r,2)+Math.pow(t-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,t){return ad(this,e,"x",t)}inYRange(e,t){return ad(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!ws(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,xs(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function sd(e,t){const{x:n,y:i,base:r,width:a,height:o}=e.getProps(["x","y","base","width","height"],t);let s,l,c,u,d;return e.horizontal?(d=o/2,s=Math.min(n,r),l=Math.max(n,r),c=i-d,u=i+d):(d=a/2,s=n-d,l=n+d,c=Math.min(i,r),u=Math.max(i,r)),{left:s,top:c,right:l,bottom:u}}function ld(e,t,n,i){return e?0:Do(t,n,i)}function cd(e){const t=sd(e),n=t.right-t.left,i=t.bottom-t.top,r=function(e,t,n){const i=e.options.borderWidth,r=e.borderSkipped,a=Is(i);return{t:ld(r.top,a.top,0,n),r:ld(r.right,a.right,0,t),b:ld(r.bottom,a.bottom,0,n),l:ld(r.left,a.left,0,t)}}(e,n/2,i/2),a=function(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,a=Ds(r),o=Math.min(t,n),s=e.borderSkipped,l=i||Xa(r);return{topLeft:ld(!l||s.top||s.left,a.topLeft,0,o),topRight:ld(!l||s.top||s.right,a.topRight,0,o),bottomLeft:ld(!l||s.bottom||s.left,a.bottomLeft,0,o),bottomRight:ld(!l||s.bottom||s.right,a.bottomRight,0,o)}}(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:a},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,a.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(r.b,r.r))}}}}function ud(e,t,n,i){const r=null===t,a=null===n,o=e&&!(r&&a)&&sd(e,i);return o&&(r||Fo(t,o.left,o.right))&&(a||Fo(n,o.top,o.bottom))}function dd(e,t){e.rect(t.x,t.y,t.w,t.h)}function hd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.x!==n.x?-t:0,r=e.y!==n.y?-t:0,a=(e.x+e.w!==n.x+n.w?t:0)-i,o=(e.y+e.h!==n.y+n.h?t:0)-r;return{x:e.x+i,y:e.y+r,w:e.w+a,h:e.h+o,radius:e.radius}}ua(od,"id","point"),ua(od,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ua(od,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class pd extends tu{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:i}}=this,{inner:r,outer:a}=cd(this),o=(s=a.radius).topLeft||s.topRight||s.bottomLeft||s.bottomRight?ks:dd;var s;e.save(),a.w===r.w&&a.h===r.h||(e.beginPath(),o(e,hd(a,t,r)),e.clip(),o(e,hd(r,-t,a)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),o(e,hd(r,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,n){return ud(this,e,t,n)}inXRange(e,t){return ud(this,e,null,t)}inYRange(e,t){return ud(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+i)/2:t,y:r?n:(n+i)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}ua(pd,"id","bar"),ua(pd,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ua(pd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const fd=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}};class md extends tu{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Qa(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,n)=>e.sort(t,n,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,i=Us(n.font),r=i.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:s}=fd(n,r);let l,c;t.font=i.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(a,r,o,s)+10):(c=this.maxHeight,l=this._fitCols(a,i,o,s)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,i){const{ctx:r,maxWidth:a,options:{labels:{padding:o}}}=this,s=this.legendHitBoxes=[],l=this.lineWidths=[0],c=i+o;let u=e;r.textAlign="left",r.textBaseline="middle";let d=-1,h=-c;return this.legendItems.forEach(((e,p)=>{const f=n+t/2+r.measureText(e.text).width;(0===p||l[l.length-1]+f+2*o>a)&&(u+=c,l[l.length-(p>0?0:1)]=0,h+=c,d++),s[p]={left:0,top:h,row:d,width:f,height:i},l[l.length-1]+=f+o})),u}_fitCols(e,t,n,i){const{ctx:r,maxHeight:a,options:{labels:{padding:o}}}=this,s=this.legendHitBoxes=[],l=this.columnSizes=[],c=a-e;let u=o,d=0,h=0,p=0,f=0;return this.legendItems.forEach(((e,a)=>{const{itemWidth:m,itemHeight:v}=function(e,t,n,i,r){const a=function(e,t,n,i){let r=e.text;r&&"string"!==typeof r&&(r=r.reduce(((e,t)=>e.length>t.length?e:t)));return t+n.size/2+i.measureText(r).width}(i,e,t,n),o=function(e,t,n){let i=e;"string"!==typeof t.text&&(i=vd(t,n));return i}(r,i,t.lineHeight);return{itemWidth:a,itemHeight:o}}(n,t,r,e,i);a>0&&h+v+2*o>c&&(u+=d+o,l.push({width:d,height:h}),p+=d+o,f++,d=h=0),s[a]={left:p,top:h,col:f,width:m,height:v},d=Math.max(d,m),h+=v+o})),u+=d,l.push({width:d,height:h}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:i},rtl:r}}=this,a=El(r,this.left,this.width);if(this.isHorizontal()){let r=0,o=Xo(n,this.left+i,this.right-this.lineWidths[r]);for(const s of t)r!==s.row&&(r=s.row,o=Xo(n,this.left+i,this.right-this.lineWidths[r])),s.top+=this.top+e+i,s.left=a.leftForLtr(a.x(o),s.width),o+=s.width+i}else{let r=0,o=Xo(n,this.top+e+i,this.bottom-this.columnSizes[r].height);for(const s of t)s.col!==r&&(r=s.col,o=Xo(n,this.top+e+i,this.bottom-this.columnSizes[r].height)),s.top=o,s.left+=this.left+i,s.left=a.leftForLtr(a.x(s.left),s.width),o+=s.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;Ss(e,this),this._draw(),Ms(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:i}=this,{align:r,labels:a}=e,o=ms.color,s=El(e.rtl,this.left,this.width),l=Us(a.font),{padding:c}=a,u=l.size,d=u/2;let h;this.drawTitle(),i.textAlign=s.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;const{boxWidth:p,boxHeight:f,itemHeight:m}=fd(a,u),v=this.isHorizontal(),g=this._computeTitleHeight();h=v?{x:Xo(r,this.left+c,this.right-n[0]),y:this.top+c+g,line:0}:{x:this.left+c,y:Xo(r,this.top+g+c,this.bottom-t[0].height),line:0},Cl(this.ctx,e.textDirection);const y=m+c;this.legendItems.forEach(((b,x)=>{i.strokeStyle=b.fontColor,i.fillStyle=b.fontColor;const _=i.measureText(b.text).width,w=s.textAlign(b.textAlign||(b.textAlign=a.textAlign)),S=p+d+_;let M=h.x,E=h.y;s.setWidth(this.width),v?x>0&&M+S+c>this.right&&(E=h.y+=y,h.line++,M=h.x=Xo(r,this.left+c,this.right-n[h.line])):x>0&&E+y>this.bottom&&(M=h.x=M+t[h.line].width+c,h.line++,E=h.y=Xo(r,this.top+g+c,this.bottom-t[h.line].height));if(function(e,t,n){if(isNaN(p)||p<=0||isNaN(f)||f<0)return;i.save();const r=Ja(n.lineWidth,1);if(i.fillStyle=Ja(n.fillStyle,o),i.lineCap=Ja(n.lineCap,"butt"),i.lineDashOffset=Ja(n.lineDashOffset,0),i.lineJoin=Ja(n.lineJoin,"miter"),i.lineWidth=r,i.strokeStyle=Ja(n.strokeStyle,o),i.setLineDash(Ja(n.lineDash,[])),a.usePointStyle){const o={radius:f*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:r},l=s.xPlus(e,p/2);_s(i,o,l,t+d,a.pointStyleWidth&&p)}else{const a=t+Math.max((u-f)/2,0),o=s.leftForLtr(e,p),l=Ds(n.borderRadius);i.beginPath(),Object.values(l).some((e=>0!==e))?ks(i,{x:o,y:a,w:p,h:f,radius:l}):i.rect(o,a,p,f),i.fill(),0!==r&&i.stroke()}i.restore()}(s.x(M),E,b),M=((e,t,n,i)=>e===(i?"left":"right")?n:"center"===e?(t+n)/2:t)(w,M+p+d,v?M+S:this.right,e.rtl),function(e,t,n){As(i,n.text,e,t+m/2,l,{strikethrough:n.hidden,textAlign:s.textAlign(n.textAlign)})}(s.x(M),E,b),v)h.x+=S+c;else if("string"!==typeof b.text){const e=l.lineHeight;h.y+=vd(b,e)+c}else h.y+=y})),Tl(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=Us(t.font),i=Fs(t.padding);if(!t.display)return;const r=El(e.rtl,this.left,this.width),a=this.ctx,o=t.position,s=n.size/2,l=i.top+s;let c,u=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),c=this.top+l,u=Xo(e.align,u,this.right-d);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);c=l+Xo(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=Xo(o,u,u+d);a.textAlign=r.textAlign(Yo(o)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=n.string,As(a,t.text,h,c,n)}_computeTitleHeight(){const e=this.options.title,t=Us(e.font),n=Fs(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,i,r;if(Fo(e,this.left,this.right)&&Fo(t,this.top,this.bottom))for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],Fo(e,i.left,i.left+i.width)&&Fo(t,i.top,i.top+i.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const i=this._hoveredItem,r=((e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index)(i,n);i&&!r&&Qa(t.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!r&&Qa(t.onHover,[e,n,this],this)}else n&&Qa(t.onClick,[e,n,this],this)}}function vd(e,t){return t*(e.text?e.text.length:0)}var gd={id:"legend",_element:md,start(e,t,n){const i=e.legend=new md({ctx:e.ctx,options:n,chart:e});Dc.configure(e,i,n),Dc.addBox(e,i)},stop(e){Dc.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;Dc.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:a,useBorderRadius:o,borderRadius:s}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const l=e.controller.getStyle(n?0:void 0),c=Fs(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:a,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:o&&(s||l.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};new WeakMap;const yd={average(e){if(!e.length)return!1;let t,n,i=new Set,r=0,a=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();i.add(e.x),r+=e.y,++a}}const o=[...i].reduce(((e,t)=>e+t))/i.size;return{x:o,y:r/a}},nearest(e,t){if(!e.length)return!1;let n,i,r,a=t.x,o=t.y,s=Number.POSITIVE_INFINITY;for(n=0,i=e.length;n<i;++n){const i=e[n].element;if(i&&i.hasValue()){const e=Ro(t,i.getCenterPoint());e<s&&(s=e,r=i)}}if(r){const e=r.tooltipPosition();a=e.x,o=e.y}return{x:a,y:o}}};function bd(e,t){return t&&(Ya(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function xd(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function _d(e,t){const{element:n,datasetIndex:i,index:r}=t,a=e.getDatasetMeta(i).controller,{label:o,value:s}=a.getLabelAndValue(r);return{chart:e,label:o,parsed:a.getParsed(r),raw:e.data.datasets[i].data[r],formattedValue:s,dataset:a.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function wd(e,t){const n=e.chart.ctx,{body:i,footer:r,title:a}=e,{boxWidth:o,boxHeight:s}=t,l=Us(t.bodyFont),c=Us(t.titleFont),u=Us(t.footerFont),d=a.length,h=r.length,p=i.length,f=Fs(t.padding);let m=f.height,v=0,g=i.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(g+=e.beforeBody.length+e.afterBody.length,d&&(m+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),g){m+=p*(t.displayColors?Math.max(s,l.lineHeight):l.lineHeight)+(g-p)*l.lineHeight+(g-1)*t.bodySpacing}h&&(m+=t.footerMarginTop+h*u.lineHeight+(h-1)*t.footerSpacing);let y=0;const b=function(e){v=Math.max(v,n.measureText(e).width+y)};return n.save(),n.font=c.string,eo(e.title,b),n.font=l.string,eo(e.beforeBody.concat(e.afterBody),b),y=t.displayColors?o+2+t.boxPadding:0,eo(i,(e=>{eo(e.before,b),eo(e.lines,b),eo(e.after,b)})),y=0,n.font=u.string,eo(e.footer,b),n.restore(),v+=f.width,{width:v,height:m}}function Sd(e,t,n,i){const{x:r,width:a}=n,{width:o,chartArea:{left:s,right:l}}=e;let c="center";return"center"===i?c=r<=(s+l)/2?"left":"right":r<=a/2?c="left":r>=o-a/2&&(c="right"),function(e,t,n,i){const{x:r,width:a}=i,o=n.caretSize+n.caretPadding;return"left"===e&&r+a+o>t.width||"right"===e&&r-a-o<0||void 0}(c,e,t,n)&&(c="center"),c}function Md(e,t,n){const i=n.yAlign||t.yAlign||function(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||Sd(e,t,n,i),yAlign:i}}function Ed(e,t,n,i){const{caretSize:r,caretPadding:a,cornerRadius:o}=e,{xAlign:s,yAlign:l}=n,c=r+a,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:p}=Ds(o);let f=function(e,t){let{x:n,width:i}=e;return"right"===t?n-=i:"center"===t&&(n-=i/2),n}(t,s);const m=function(e,t,n){let{y:i,height:r}=e;return"top"===t?i+=n:i-="bottom"===t?r+n:r/2,i}(t,l,c);return"center"===l?"left"===s?f+=c:"right"===s&&(f-=c):"left"===s?f-=Math.max(u,h)+r:"right"===s&&(f+=Math.max(d,p)+r),{x:Do(f,0,i.width-t.width),y:Do(m,0,i.height-t.height)}}function Cd(e,t,n){const i=Fs(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-i.right:e.x+i.left}function Td(e){return bd([],xd(e))}function Nd(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const Ad={beforeTitle:Wa,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:Wa,beforeBody:Wa,beforeLabel:Wa,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return qa(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Wa,afterBody:Wa,beforeFooter:Wa,footer:Wa,afterFooter:Wa};function kd(e,t,n,i){const r=e[t].call(n,i);return"undefined"===typeof r?Ad[t].call(n,i):r}class Od extends tu{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&t.options.animation&&n.animations,r=new zl(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,Bs(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,i=kd(n,"beforeTitle",this,e),r=kd(n,"title",this,e),a=kd(n,"afterTitle",this,e);let o=[];return o=bd(o,xd(i)),o=bd(o,xd(r)),o=bd(o,xd(a)),o}getBeforeBody(e,t){return Td(kd(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,i=[];return eo(e,(e=>{const t={before:[],lines:[],after:[]},r=Nd(n,e);bd(t.before,xd(kd(r,"beforeLabel",this,e))),bd(t.lines,kd(r,"label",this,e)),bd(t.after,xd(kd(r,"afterLabel",this,e))),i.push(t)})),i}getAfterBody(e,t){return Td(kd(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,i=kd(n,"beforeFooter",this,e),r=kd(n,"footer",this,e),a=kd(n,"afterFooter",this,e);let o=[];return o=bd(o,xd(i)),o=bd(o,xd(r)),o=bd(o,xd(a)),o}_createItems(e){const t=this._active,n=this.chart.data,i=[],r=[],a=[];let o,s,l=[];for(o=0,s=t.length;o<s;++o)l.push(_d(this.chart,t[o]));return e.filter&&(l=l.filter(((t,i,r)=>e.filter(t,i,r,n)))),e.itemSort&&(l=l.sort(((t,i)=>e.itemSort(t,i,n)))),eo(l,(t=>{const n=Nd(e.callbacks,t);i.push(kd(n,"labelColor",this,t)),r.push(kd(n,"labelPointStyle",this,t)),a.push(kd(n,"labelTextColor",this,t))})),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=a,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),i=this._active;let r,a=[];if(i.length){const e=yd[n.position].call(this,i,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const t=this._size=wd(this,n),o=Object.assign({},e,t),s=Md(this.chart,n,o),l=Ed(n,o,s,this.chart);this.xAlign=s.xAlign,this.yAlign=s.yAlign,r={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,i){const r=this.getCaretPosition(e,n,i);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,n){const{xAlign:i,yAlign:r}=this,{caretSize:a,cornerRadius:o}=n,{topLeft:s,topRight:l,bottomLeft:c,bottomRight:u}=Ds(o),{x:d,y:h}=e,{width:p,height:f}=t;let m,v,g,y,b,x;return"center"===r?(b=h+f/2,"left"===i?(m=d,v=m-a,y=b+a,x=b-a):(m=d+p,v=m+a,y=b-a,x=b+a),g=m):(v="left"===i?d+Math.max(s,c)+a:"right"===i?d+p-Math.max(l,u)-a:this.caretX,"top"===r?(y=h,b=y-a,m=v-a,g=v+a):(y=h+f,b=y+a,m=v+a,g=v-a),x=y),{x1:m,x2:v,x3:g,y1:y,y2:b,y3:x}}drawTitle(e,t,n){const i=this.title,r=i.length;let a,o,s;if(r){const l=El(n.rtl,this.x,this.width);for(e.x=Cd(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",a=Us(n.titleFont),o=n.titleSpacing,t.fillStyle=n.titleColor,t.font=a.string,s=0;s<r;++s)t.fillText(i[s],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,s+1===r&&(e.y+=n.titleMarginBottom-o)}}_drawColorBox(e,t,n,i,r){const a=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:s,boxWidth:l}=r,c=Us(r.bodyFont),u=Cd(this,"left",r),d=i.x(u),h=s<c.lineHeight?(c.lineHeight-s)/2:0,p=t.y+h;if(r.usePointStyle){const t={radius:Math.min(l,s)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},n=i.leftForLtr(d,l)+l/2,c=p+s/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,xs(e,t,n,c),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,xs(e,t,n,c)}else{e.lineWidth=Xa(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const t=i.leftForLtr(d,l),n=i.leftForLtr(i.xPlus(d,1),l-2),o=Ds(a.borderRadius);Object.values(o).some((e=>0!==e))?(e.beginPath(),e.fillStyle=r.multiKeyBackground,ks(e,{x:t,y:p,w:l,h:s,radius:o}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),ks(e,{x:n,y:p+1,w:l-2,h:s-2,radius:o}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(t,p,l,s),e.strokeRect(t,p,l,s),e.fillStyle=a.backgroundColor,e.fillRect(n,p+1,l-2,s-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:i}=this,{bodySpacing:r,bodyAlign:a,displayColors:o,boxHeight:s,boxWidth:l,boxPadding:c}=n,u=Us(n.bodyFont);let d=u.lineHeight,h=0;const p=El(n.rtl,this.x,this.width),f=function(n){t.fillText(n,p.x(e.x+h),e.y+d/2),e.y+=d+r},m=p.textAlign(a);let v,g,y,b,x,_,w;for(t.textAlign=a,t.textBaseline="middle",t.font=u.string,e.x=Cd(this,m,n),t.fillStyle=n.bodyColor,eo(this.beforeBody,f),h=o&&"right"!==m?"center"===a?l/2+c:l+2+c:0,b=0,_=i.length;b<_;++b){for(v=i[b],g=this.labelTextColors[b],t.fillStyle=g,eo(v.before,f),y=v.lines,o&&y.length&&(this._drawColorBox(t,e,b,p,n),d=Math.max(u.lineHeight,s)),x=0,w=y.length;x<w;++x)f(y[x]),d=u.lineHeight;eo(v.after,f)}h=0,d=u.lineHeight,eo(this.afterBody,f),e.y-=r}drawFooter(e,t,n){const i=this.footer,r=i.length;let a,o;if(r){const s=El(n.rtl,this.x,this.width);for(e.x=Cd(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=s.textAlign(n.footerAlign),t.textBaseline="middle",a=Us(n.footerFont),t.fillStyle=n.footerColor,t.font=a.string,o=0;o<r;++o)t.fillText(i[o],s.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,t,n,i){const{xAlign:r,yAlign:a}=this,{x:o,y:s}=e,{width:l,height:c}=n,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:p}=Ds(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(o+u,s),"top"===a&&this.drawCaret(e,t,n,i),t.lineTo(o+l-d,s),t.quadraticCurveTo(o+l,s,o+l,s+d),"center"===a&&"right"===r&&this.drawCaret(e,t,n,i),t.lineTo(o+l,s+c-p),t.quadraticCurveTo(o+l,s+c,o+l-p,s+c),"bottom"===a&&this.drawCaret(e,t,n,i),t.lineTo(o+h,s+c),t.quadraticCurveTo(o,s+c,o,s+c-h),"center"===a&&"left"===r&&this.drawCaret(e,t,n,i),t.lineTo(o,s+u),t.quadraticCurveTo(o,s,o+u,s),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const n=yd[e.position].call(this,this._active,this._eventPosition);if(!n)return;const a=this._size=wd(this,e),o=Object.assign({},n,this._size),s=Md(t,e,o),l=Ed(e,o,s,t);i._to===l.x&&r._to===l.y||(this.xAlign=s.xAlign,this.yAlign=s.yAlign,this.width=a.width,this.height=a.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=Fs(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(r,e,i,t),Cl(e,t.textDirection),r.y+=a.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),Tl(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,i=e.map((e=>{let{datasetIndex:t,index:n}=e;const i=this.chart.getDatasetMeta(t);if(!i)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:i.data[n],index:n}})),r=!to(n,i),a=this._positionChanged(i,t);(r||a)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],a=this._getActiveElements(e,r,t,n),o=this._positionChanged(a,e),s=t||!to(a,r)||o;return s&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),s}_getActiveElements(e,t,n,i){const r=this.options;if("mouseout"===e.type)return[];if(!i)return t.filter((e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index)));const a=this.chart.getElementsAtEventForMode(e,r.mode,r,n);return r.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:n,caretY:i,options:r}=this,a=yd[r.position].call(this,e,t);return!1!==a&&(n!==a.x||i!==a.y)}}ua(Od,"positioners",yd);var Pd={id:"tooltip",_element:Od,positioners:yd,afterInit(e,t,n){n&&(e.tooltip=new Od({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Ad},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function Rd(e,t,n,i){const r=e.indexOf(t);if(-1===r)return((e,t,n,i)=>("string"===typeof t?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,i);return r!==e.lastIndexOf(t)?n:r}function jd(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Ld extends du{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:i}of t)e[n]===i&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(qa(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:Do(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:Rd(n,e,Ja(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=0===e&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=e;a<=t;a++)i.push({value:a});return i}getLabelForValue(e){return jd.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Id(e,t){const n=[],{bounds:i,step:r,min:a,max:o,precision:s,count:l,maxTicks:c,maxDigits:u,includeBounds:d}=e,h=r||1,p=c-1,{min:f,max:m}=t,v=!qa(a),g=!qa(o),y=!qa(l),b=(m-f)/(u+1);let x,_,w,S,M=Co((m-f)/p/h)*h;if(M<1e-14&&!v&&!g)return[{value:f},{value:m}];S=Math.ceil(m/M)-Math.floor(f/M),S>p&&(M=Co(S*M/p/h)*h),qa(s)||(x=Math.pow(10,s),M=Math.ceil(M*x)/x),"ticks"===i?(_=Math.floor(f/M)*M,w=Math.ceil(m/M)*M):(_=f,w=m),v&&g&&r&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((o-a)/r,M/1e3)?(S=Math.round(Math.min((o-a)/M,c)),M=(o-a)/S,_=a,w=o):y?(_=v?a:_,w=g?o:w,S=l-1,M=(w-_)/S):(S=(w-_)/M,S=Eo(S,Math.round(S),M/1e3)?Math.round(S):Math.ceil(S));const E=Math.max(Oo(M),Oo(_));x=Math.pow(10,qa(s)?E:s),_=Math.round(_*x)/x,w=Math.round(w*x)/x;let C=0;for(v&&(d&&_!==a?(n.push({value:a}),_<a&&C++,Eo(Math.round((_+C*M)*x)/x,a,Dd(a,b,e))&&C++):_<a&&C++);C<S;++C){const e=Math.round((_+C*M)*x)/x;if(g&&e>o)break;n.push({value:e})}return g&&d&&w!==o?n.length&&Eo(n[n.length-1].value,o,Dd(o,b,e))?n[n.length-1].value=o:n.push({value:o}):g&&w!==o||n.push({value:w}),n}function Dd(e,t,n){let{horizontal:i,minRotation:r}=n;const a=Ao(r),o=(i?Math.sin(a):Math.cos(a))||.001,s=.75*t*(""+e).length;return Math.min(t/o,s)}ua(Ld,"id","category"),ua(Ld,"defaults",{ticks:{callback:jd}});class Fd extends du{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return qa(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const a=e=>i=t?i:e,o=e=>r=n?r:e;if(e){const e=Mo(i),t=Mo(r);e<0&&t<0?o(0):e>0&&t>0&&a(0)}if(i===r){let t=0===r?1:Math.abs(.05*r);o(r+t),e||a(i-t)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:i}=e;return i?(t=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,t>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(i," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i=Id({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&No(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-t)/Math.max(e.length-1,1)/2;t-=i,n+=i}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return ss(e,this.chart.options.locale,this.options.ticks.format)}}class Ud extends Fd{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Za(e)?e:0,this.max=Za(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=Ao(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ua(Ud,"id","linear"),ua(Ud,"defaults",{ticks:{callback:cs.formatters.numeric}});const zd=e=>Math.floor(So(e)),Bd=(e,t)=>Math.pow(10,zd(e)+t);function Hd(e){return 1===e/Math.pow(10,zd(e))}function Vd(e,t,n){const i=Math.pow(10,n),r=Math.floor(e/i);return Math.ceil(t/i)-r}function Wd(e,t){let{min:n,max:i}=t;n=Ka(e.min,n);const r=[],a=zd(n);let o=function(e,t){let n=zd(t-e);for(;Vd(e,t,n)>10;)n++;for(;Vd(e,t,n)<10;)n--;return Math.min(n,zd(e))}(n,i),s=o<0?Math.pow(10,Math.abs(o)):1;const l=Math.pow(10,o),c=a>o?Math.pow(10,a):0,u=Math.round((n-c)*s)/s,d=Math.floor((n-c)/l/10)*l*10;let h=Math.floor((u-d)/Math.pow(10,o)),p=Ka(e.min,Math.round((c+d+h*Math.pow(10,o))*s)/s);for(;p<i;)r.push({value:p,major:Hd(p),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(o++,h=2,s=o>=0?1:s),p=Math.round((c+d+h*Math.pow(10,o))*s)/s;const f=Ka(e.max,p);return r.push({value:f,major:Hd(f),significand:h}),r}class Gd extends du{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=Fd.prototype.parse.apply(this,[e,t]);if(0!==n)return Za(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Za(e)?Math.max(0,e):null,this.max=Za(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Za(this._userMin)&&(this.min=e===Bd(this.min,0)?Bd(this.min,-1):Bd(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,i=this.max;const r=t=>n=e?n:t,a=e=>i=t?i:e;n===i&&(n<=0?(r(1),a(10)):(r(Bd(n,-1)),a(Bd(i,1)))),n<=0&&r(Bd(i,-1)),i<=0&&a(Bd(n,1)),this.min=n,this.max=i}buildTicks(){const e=this.options,t=Wd({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&No(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":ss(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=So(e),this._valueRange=So(this.max)-So(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(So(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function qd(e){const t=e.ticks;if(t.display&&e.display){const e=Fs(t.backdropPadding);return Ja(t.font&&t.font.size,ms.font.size)+e.height}return 0}function Yd(e,t,n){return n=Ya(n)?n:[n],{w:gs(e,t.string,n),h:n.length*t.lineHeight}}function Xd(e,t,n,i,r){return e===i||e===r?{start:t-n/2,end:t+n/2}:e<i||e>r?{start:t-n,end:t}:{start:t,end:t+n}}function Zd(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],r=[],a=e._pointLabels.length,o=e.options.pointLabels,s=o.centerPointLabels?mo/a:0;for(let l=0;l<a;l++){const a=o.setContext(e.getPointLabelContext(l));r[l]=a.padding;const c=e.getPointPosition(l,e.drawingArea+r[l],s),u=Us(a.font),d=Yd(e.ctx,u,e._pointLabels[l]);i[l]=d;const h=Lo(e.getIndexAngle(l)+s),p=Math.round(ko(h));Kd(n,t,h,Xd(p,c.x,d.w,0,180),Xd(p,c.y,d.h,90,270))}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=function(e,t,n){const i=[],r=e._pointLabels.length,a=e.options,{centerPointLabels:o,display:s}=a.pointLabels,l={extra:qd(a)/2,additionalAngle:o?mo/r:0};let c;for(let u=0;u<r;u++){l.padding=n[u],l.size=t[u];const r=Jd(e,u,l);i.push(r),"auto"===s&&(r.visible=$d(r,c),r.visible&&(c=r))}return i}(e,i,r)}function Kd(e,t,n,i,r){const a=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let s=0,l=0;i.start<t.l?(s=(t.l-i.start)/a,e.l=Math.min(e.l,t.l-s)):i.end>t.r&&(s=(i.end-t.r)/a,e.r=Math.max(e.r,t.r+s)),r.start<t.t?(l=(t.t-r.start)/o,e.t=Math.min(e.t,t.t-l)):r.end>t.b&&(l=(r.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function Jd(e,t,n){const i=e.drawingArea,{extra:r,additionalAngle:a,padding:o,size:s}=n,l=e.getPointPosition(t,i+r+o,a),c=Math.round(ko(Lo(l.angle+xo))),u=function(e,t,n){90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t);return e}(l.y,s.h,c),d=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(c),h=function(e,t,n){"right"===n?e-=t:"center"===n&&(e-=t/2);return e}(l.x,s.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:h,top:u,right:h+s.w,bottom:u+s.h}}function $d(e,t){if(!t)return!0;const{left:n,top:i,right:r,bottom:a}=e;return!(ws({x:n,y:i},t)||ws({x:n,y:a},t)||ws({x:r,y:i},t)||ws({x:r,y:a},t))}function Qd(e,t,n){const{left:i,top:r,right:a,bottom:o}=n,{backdropColor:s}=t;if(!qa(s)){const n=Ds(t.borderRadius),l=Fs(t.backdropPadding);e.fillStyle=s;const c=i-l.left,u=r-l.top,d=a-i+l.width,h=o-r+l.height;Object.values(n).some((e=>0!==e))?(e.beginPath(),ks(e,{x:c,y:u,w:d,h:h,radius:n}),e.fill()):e.fillRect(c,u,d,h)}}function eh(e,t,n,i){const{ctx:r}=e;if(n)r.arc(e.xCenter,e.yCenter,t,0,vo);else{let n=e.getPointPosition(0,t);r.moveTo(n.x,n.y);for(let a=1;a<i;a++)n=e.getPointPosition(a,t),r.lineTo(n.x,n.y)}}ua(Gd,"id","logarithmic"),ua(Gd,"defaults",{ticks:{callback:cs.formatters.logarithmic,major:{enabled:!0}}});class th extends Fd{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Fs(qd(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Za(e)&&!isNaN(e)?e:0,this.max=Za(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/qd(this.options))}generateTickLabels(e){Fd.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const n=Qa(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?Zd(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,i))}getIndexAngle(e){return Lo(e*(vo/(this._pointLabels.length||1))+Ao(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(qa(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(qa(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return function(e,t,n){return Bs(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}getPointPosition(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=this.getIndexAngle(e)-xo+n;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:i,bottom:r}=this._pointLabelItems[e];return{left:t,top:n,right:i,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),eh(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:i,border:r}=t,a=this._pointLabels.length;let o,s,l;if(t.pointLabels.display&&function(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let r=t-1;r>=0;r--){const t=e._pointLabelItems[r];if(!t.visible)continue;const a=i.setContext(e.getPointLabelContext(r));Qd(n,a,t);const o=Us(a.font),{x:s,y:l,textAlign:c}=t;As(n,e._pointLabels[r],s,l+o.lineHeight/2,o,{color:a.color,textAlign:c,textBaseline:"middle"})}}(this,a),i.display&&this.ticks.forEach(((e,t)=>{if(0!==t||0===t&&this.min<0){s=this.getDistanceFromCenterForValue(e.value);const n=this.getContext(t),o=i.setContext(n),l=r.setContext(n);!function(e,t,n,i,r){const a=e.ctx,o=t.circular,{color:s,lineWidth:l}=t;!o&&!i||!s||!l||n<0||(a.save(),a.strokeStyle=s,a.lineWidth=l,a.setLineDash(r.dash),a.lineDashOffset=r.dashOffset,a.beginPath(),eh(e,n,o,i),a.closePath(),a.stroke(),a.restore())}(this,o,s,a,l)}})),n.display){for(e.save(),o=a-1;o>=0;o--){const i=n.setContext(this.getPointLabelContext(o)),{color:r,lineWidth:a}=i;a&&r&&(e.lineWidth=a,e.strokeStyle=r,e.setLineDash(i.borderDash),e.lineDashOffset=i.borderDashOffset,s=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),l=this.getPointPosition(o,s),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let r,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((i,o)=>{if(0===o&&this.min>=0&&!t.reverse)return;const s=n.setContext(this.getContext(o)),l=Us(s.font);if(r=this.getDistanceFromCenterForValue(this.ticks[o].value),s.showLabelBackdrop){e.font=l.string,a=e.measureText(i.label).width,e.fillStyle=s.backdropColor;const t=Fs(s.backdropPadding);e.fillRect(-a/2-t.left,-r-l.size/2-t.top,a+t.width,l.size+t.height)}As(e,i.label,0,-r,l,{color:s.color,strokeColor:s.textStrokeColor,strokeWidth:s.textStrokeWidth})})),e.restore()}drawTitle(){}}ua(th,"id","radialLinear"),ua(th,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:cs.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),ua(th,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ua(th,"descriptors",{angleLines:{_fallback:"grid"}});const nh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ih=Object.keys(nh);function rh(e,t){return e-t}function ah(e,t){if(qa(t))return null;const n=e._adapter,{parser:i,round:r,isoWeekday:a}=e._parseOpts;let o=t;return"function"===typeof i&&(o=i(o)),Za(o)||(o="string"===typeof i?n.parse(o,i):n.parse(o)),null===o?null:(r&&(o="week"!==r||!To(a)&&!0!==a?n.startOf(o,r):n.startOf(o,"isoWeek",a)),+o)}function oh(e,t,n,i){const r=ih.length;for(let a=ih.indexOf(e);a<r-1;++a){const e=nh[ih[a]],r=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(r*e.size))<=i)return ih[a]}return ih[r-1]}function sh(e,t,n){if(n){if(n.length){const{lo:i,hi:r}=Uo(n,t);e[n[i]>=t?n[i]:n[r]]=!0}}else e[t]=!0}function lh(e,t,n){const i=[],r={},a=t.length;let o,s;for(o=0;o<a;++o)s=t[o],r[s]=o,i.push({value:s,major:!1});return 0!==a&&n?function(e,t,n,i){const r=e._adapter,a=+r.startOf(t[0].value,i),o=t[t.length-1].value;let s,l;for(s=a;s<=o;s=+r.add(s,1,i))l=n[s],l>=0&&(t[l].major=!0);return t}(e,i,r,n):i}class ch extends du{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.time||(e.time={}),i=this._adapter=new gc(e.adapters.date);i.init(t),oo(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:ah(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:i,max:r,minDefined:a,maxDefined:o}=this.getUserBounds();function s(e){a||isNaN(e.min)||(i=Math.min(i,e.min)),o||isNaN(e.max)||(r=Math.max(r,e.max))}a&&o||(s(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||s(this.getMinMax(!1))),i=Za(i)&&!isNaN(i)?i:+t.startOf(Date.now(),n),r=Za(r)&&!isNaN(r)?r:+t.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,i="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,a=function(e,t,n){let i=0,r=e.length;for(;i<r&&e[i]<t;)i++;for(;r>i&&e[r-1]>n;)r--;return i>0||r<e.length?e.slice(i,r):e}(i,r,this.max);return this._unit=t.unit||(n.autoSkip?oh(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):function(e,t,n,i,r){for(let a=ih.length-1;a>=ih.indexOf(n);a--){const n=ih[a];if(nh[n].common&&e._adapter.diff(r,i,n)>=t-1)return n}return ih[n?ih.indexOf(n):0]}(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=ih.indexOf(e)+1,n=ih.length;t<n;++t)if(nh[ih[t]].common)return ih[t]}(this._unit):void 0,this.initOffsets(i),e.reverse&&a.reverse(),lh(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=0,r=0;this.options.offset&&n.length&&(e=this.getDecimalForValue(n[0]),i=1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,t=this.getDecimalForValue(n[n.length-1]),r=1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);const a=n.length<3?.5:.25;i=Do(i,0,a),r=Do(r,0,a),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const e=this._adapter,t=this.min,n=this.max,i=this.options,r=i.time,a=r.unit||oh(r.minUnit,t,n,this._getLabelCapacity(t)),o=Ja(i.ticks.stepSize,1),s="week"===a&&r.isoWeekday,l=To(s)||!0===s,c={};let u,d,h=t;if(l&&(h=+e.startOf(h,"isoWeek",s)),h=+e.startOf(h,l?"day":a),e.diff(n,t,a)>1e5*o)throw new Error(t+" and "+n+" are too far apart with stepSize of "+o+" "+a);const p="data"===i.ticks.source&&this.getDataTimestamps();for(u=h,d=0;u<n;u=+e.add(u,o,a),d++)sh(c,u,p);return u!==n&&"ticks"!==i.bounds&&1!==d||sh(c,u,p),Object.keys(c).sort(rh).map((e=>+e))}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,i=this._unit,r=t||n[i];return this._adapter.format(e,r)}_tickFormatFunction(e,t,n,i){const r=this.options,a=r.ticks.callback;if(a)return Qa(a,[e,t,n],this);const o=r.time.displayFormats,s=this._unit,l=this._majorUnit,c=s&&o[s],u=l&&o[l],d=n[t],h=l&&u&&d&&d.major;return this._adapter.format(e,i||(h?u:c))}generateTickLabels(e){let t,n,i;for(t=0,n=e.length;t<n;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,i=Ao(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(i),a=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:n*r+o*a,h:n*a+o*r}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,i=n[t.unit]||n.millisecond,r=this._tickFormatFunction(e,0,lh(this,[e],this._majorUnit),i),a=this._getLabelSize(r),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(e=0,t=i.length;e<t;++e)n=n.concat(i[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const i=this.getLabels();for(t=0,n=i.length;t<n;++t)e.push(ah(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Wo(e.sort(rh))}}function uh(e,t,n){let i,r,a,o,s=0,l=e.length-1;n?(t>=e[s].pos&&t<=e[l].pos&&({lo:s,hi:l}=zo(e,"pos",t)),({pos:i,time:a}=e[s]),({pos:r,time:o}=e[l])):(t>=e[s].time&&t<=e[l].time&&({lo:s,hi:l}=zo(e,"time",t)),({time:i,pos:a}=e[s]),({time:r,pos:o}=e[l]));const c=r-i;return c?a+(o-a)*(t-i)/c:a}ua(ch,"id","time"),ua(ch,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class dh extends ch{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=uh(t,this.min),this._tableRange=uh(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,i=[],r=[];let a,o,s,l,c;for(a=0,o=e.length;a<o;++a)l=e[a],l>=t&&l<=n&&i.push(l);if(i.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(a=0,o=i.length;a<o;++a)c=i[a+1],s=i[a-1],l=i[a],Math.round((c+s)/2)!==l&&r.push({time:l,pos:a/(o-1)});return r}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return n.includes(e)&&n.length||n.splice(0,0,e),n.includes(t)&&1!==n.length||n.push(t),n.sort(((e,t)=>e-t))}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(uh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return uh(this._table,n*this._tableRange+this._minPos,!0)}}ua(dh,"id","timeseries"),ua(dh,"defaults",ch.defaults);const hh="label";function ph(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function fh(e,t){e.labels=t}function mh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hh;const i=[];e.datasets=t.map((t=>{const r=e.datasets.find((e=>e[n]===t[n]));return r&&t.data&&!i.includes(r)?(i.push(r),Object.assign(r,t),r):{...t}}))}function vh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hh;const n={labels:[],datasets:[]};return fh(n,e.labels),mh(n,e.datasets,t),n}function gh(e,t){const{height:n=150,width:i=300,redraw:a=!1,datasetIdKey:o,type:s,data:l,options:c,plugins:u=[],fallbackContent:d,updateMode:h,...p}=e,f=(0,r.useRef)(null),m=(0,r.useRef)(),v=()=>{f.current&&(m.current=new Vu(f.current,{type:s,data:vh(l,o),options:c&&{...c},plugins:u}),ph(t,m.current))},g=()=>{ph(t,null),m.current&&(m.current.destroy(),m.current=null)};return(0,r.useEffect)((()=>{!a&&m.current&&c&&function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(m.current,c)}),[a,c]),(0,r.useEffect)((()=>{!a&&m.current&&fh(m.current.config.data,l.labels)}),[a,l.labels]),(0,r.useEffect)((()=>{!a&&m.current&&l.datasets&&mh(m.current.config.data,l.datasets,o)}),[a,l.datasets]),(0,r.useEffect)((()=>{m.current&&(a?(g(),setTimeout(v)):m.current.update(h))}),[a,c,l.labels,l.datasets,h]),(0,r.useEffect)((()=>{m.current&&(g(),setTimeout(v))}),[s]),(0,r.useEffect)((()=>(v(),()=>g())),[]),r.createElement("canvas",Object.assign({ref:f,role:"img",height:n,width:i},p),d)}const yh=(0,r.forwardRef)(gh);function bh(e,t){return Vu.register(t),(0,r.forwardRef)(((t,n)=>r.createElement(yh,Object.assign({},t,{ref:n,type:e}))))}const xh=bh("bar",sc),_h=bh("pie",hc);function wh(){const e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=[],n=new Date,i=n.getMonth(),r=n.getFullYear();for(let a=11;a>=0;a--){const n=new Date(r,i-a);t.push(e[n.getMonth()])}return t}function Sh(e){const t=new Date,n=t.getMonth(),i=t.getFullYear(),r=new Array(12).fill(0),a={};null===e||void 0===e||e.forEach((e=>{a["".concat(e.year,"-").concat(parseInt(e.month))]=parseInt(e.count)}));for(let o=0;o<12;o++){const e=new Date(i,n-o),t=e.getFullYear(),s=e.getMonth()+1,l="".concat(t,"-").concat(s);void 0!==a[l]&&(r[11-o]=a[l])}return r}Vu.register(rd,Ld,Ud,od,Pd,gd,pd);const Mh=e=>{let{dashboard:t}=e;const n={labels:wh(),datasets:[{label:"New Cases",data:Sh(null===t||void 0===t?void 0:t.cases_1_count_monthly),backgroundColor:"rgb(21 109 161)",borderColor:"rgb(21 109 161)",borderWidth:1},{label:"Modifications",data:Sh(null===t||void 0===t?void 0:t.cases_8_count_monthly),backgroundColor:"yellow",borderColor:"yellow",borderWidth:1},{label:"All Cases",data:Sh(null===t||void 0===t?void 0:t.cases_count_monthly),backgroundColor:"#02ccfe",borderColor:"#02ccfe",borderWidth:1}]};return(0,hr.jsx)("div",{children:(0,hr.jsx)(xh,{data:n,options:{scales:{x:{stacked:!0},y:{stacked:!0}}}})})};function Eh(){const e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],t=[],n=(new Date).getDay();for(let i=6;i>=0;i--){const r=(n-i+7)%7;t.push(e[r])}return t}function Ch(e){const t=new Array(7).fill(0),n=((new Date).getDay(),{});null===e||void 0===e||e.forEach((e=>{n[e.day]=parseInt(e.count)}));const i=Eh();return null===i||void 0===i||i.forEach(((e,i)=>{void 0!==n[e]&&(t[i]=n[e])})),t}Vu.register(rd,Ld,Ud,od,Pd,gd,pd);const Th=e=>{let{dashboard:t}=e;const n={labels:Eh(),datasets:[{label:"New Cases",data:Ch(null===t||void 0===t?void 0:t.cases_1_count_weekly),backgroundColor:"rgb(21 109 161)",borderColor:"rgb(21 109 161)",borderWidth:1},{label:"Modifications",data:Ch(null===t||void 0===t?void 0:t.cases_8_count_weekly),backgroundColor:"yellow",borderColor:"yellow",borderWidth:1},{label:"All Cases",data:Ch(null===t||void 0===t?void 0:t.cases_count_weekly),backgroundColor:"#02ccfe",borderColor:"#02ccfe",borderWidth:1}]};return(0,hr.jsx)("div",{children:(0,hr.jsx)(xh,{data:n,options:{scales:{x:{stacked:!0},y:{stacked:!0}}}})})};Vu.register(Zu,Pd,gd);const Nh=e=>{let{dashboard:t}=e;const n=(null===t||void 0===t?void 0:t.created_by_cases_ratio_count)||[],i=n.map((e=>e.username));const r=function(e){return e.map((e=>e.average_count))}(n),a={labels:i,datasets:[{label:"Average Count",data:r,backgroundColor:["rgba(21, 109, 161, 0.7)","rgba(255, 206, 86, 0.7)","rgba(54, 162, 235, 0.7)","rgba(255, 99, 132, 0.7)","rgba(75, 192, 192, 0.7)"],borderColor:["rgba(21, 109, 161, 1)","rgba(255, 206, 86, 1)","rgba(54, 162, 235, 1)","rgba(255, 99, 132, 1)","rgba(75, 192, 192, 1)"],borderWidth:1}]};return(0,hr.jsx)("div",{style:{width:"400px",margin:"0 auto"},children:(0,hr.jsx)(_h,{data:a,options:{responsive:!0,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(e){return"".concat(e.label,": ").concat(e.raw)}}}}}})})};Vu.register(rd,Ld,Ud,od,Pd,gd);Ai.defaults.baseURL="".concat("http://localhost:8000","/api"),Ai.defaults.headers.post["Content-Type"]="application/json";const Ah={updateCaseWorkload:async function(e){try{var t={method:"post",url:"/patient_case/update_status_workload",headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+window.localStorage.getItem("token")},data:e};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}},createCase:async function(e,t){try{var n={method:"post",url:"/patient_cases/store",headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+window.localStorage.getItem("token")},data:e,onUploadProgress:t};return await Ai(n).then((function(e){return e})).catch((function(e){return e.response}))}catch(i){return i}},updateCase:async function(e,t,n){try{let r=window.localStorage.getItem("token");var i={method:"post",url:"/patient_cases/update/".concat(e),headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+r},data:t,onUploadProgress:n};return await Ai(i).then((function(e){return e})).catch((function(e){return e.response}))}catch(r){return r}},getHistoryList:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";try{let a=window.localStorage.getItem("token");const o=new URLSearchParams;t&&o.append("search",t),n&&o.append("case_completed",n),i&&o.append("patient_name",i);var r={method:"get",url:"/cases_histories?paginate=yes&current_page=".concat(e,"&").concat(o),headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+a},data:""};return await Ai(r).then((function(e){return e})).catch((function(e){return e.response}))}catch(a){return a}},getCases:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"",c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"",u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:"";try{let h=window.localStorage.getItem("token");const p=new URLSearchParams;t&&p.append("search",t),n&&p.append("status",n),i&&p.append("patient_name",i),r&&p.append("clinic_name",r),a&&p.append("date_from",a),o&&p.append("date_to",o),s&&p.append("case_type",s),l&&p.append("case_completed",l),c&&p.append("is_prority_cases",c),u&&p.append("is_modification_cases",u);var d={method:"get",url:"/patient_cases?paginate=yes&current_page=".concat(e,"&").concat(p),headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+h},data:""};return await Ai(d).then((function(e){return e})).catch((function(e){return e.response}))}catch(h){return h}},getCompletedCases:async function(){try{var e={method:"get",url:"/patient_case/completed_cases",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+window.localStorage.getItem("token")},data:""};return await Ai(e).then((function(e){return e})).catch((function(e){return e.response}))}catch(t){return t}},getCaseDetail:async function(e){try{let n=window.localStorage.getItem("token");var t={method:"get",url:"/patient_cases/".concat(e),headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+n},data:""};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}},deleteCase:async function(e){try{let n=window.localStorage.getItem("token");var t={method:"delete",url:"/patient_cases/".concat(e),headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+n},data:""};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}},createPendingApproval:async function(e){try{var t={method:"post",url:"/pending_approvals/store",headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+window.localStorage.getItem("token")},data:e};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}},updatePendingApproval:async function(e,t){try{let i=window.localStorage.getItem("token");var n={method:"post",url:"/pending_approvals/update/".concat(e),headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+i},data:t};return await Ai(n).then((function(e){return e})).catch((function(e){return e.response}))}catch(i){return i}},getPendingApprovals:async function(){try{var e={method:"get",url:"/pending_approvals",headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+window.localStorage.getItem("token")},data:""};return await Ai(e).then((function(e){return e})).catch((function(e){return e.response}))}catch(t){return t}},getPendingApprovalDetail:async function(e){try{let n=window.localStorage.getItem("token");var t={method:"get",url:"/pending_approvals/".concat(e),headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+n},data:""};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}},deletePendingApproval:async function(e){try{let n=window.localStorage.getItem("token");var t={method:"delete",url:"/pending_approvals/".concat(e),headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+n},data:""};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}},assignCase:async function(e){try{var t={method:"post",url:"/patient_cases/case_assign_to",headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+window.localStorage.getItem("token")},data:e};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}},createCasePlan:async function(e){try{var t={method:"post",url:"/case_plans/store",headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+window.localStorage.getItem("token")},data:e};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}},updateCasePlan:async function(e,t){try{let i=window.localStorage.getItem("token");var n={method:"post",url:"/case_plans/update/".concat(e),headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+i},data:t};return await Ai(n).then((function(e){return e})).catch((function(e){return e.response}))}catch(i){return i}},getCasePlan:async function(e){try{let n=window.localStorage.getItem("token");var t={method:"get",url:"/case_plans/".concat(e),headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+n},data:""};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}},getCasePlans:async function(){try{var e={method:"get",url:"/case_plans",headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+window.localStorage.getItem("token")},data:""};return await Ai(e).then((function(e){return e})).catch((function(e){return e.response}))}catch(t){return t}},deleteCasePlan:async function(e){try{let n=window.localStorage.getItem("token");var t={method:"delete",url:"/case_plans/".concat(e),headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+n},data:""};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}},updateCaseStatus:async function(e,t){try{var n={method:"post",url:"/patient_cases/update_patient_case_status",headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+window.localStorage.getItem("token")},data:e,onUploadProgress:t};return await Ai(n).then((function(e){return e})).catch((function(e){return e.response}))}catch(i){return i}},updateCaseToSubmission:async function(e,t){try{let i=window.localStorage.getItem("token");var n={method:"get",url:"/patient_cases/verified_by_client/".concat(e),headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+i},data:"",onUploadProgress:t};return await Ai(n).then((function(e){return e})).catch((function(e){return e.response}))}catch(i){return i}},getDashboardStats:async function(){try{var e={method:"get",url:"/admin/dashboard",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+window.localStorage.getItem("token")},data:""};return await Ai(e).then((function(e){return e})).catch((function(e){return e.response}))}catch(t){return t}},isCaseAvailble:async function(e){try{let n=window.localStorage.getItem("token");var t={method:"get",url:"/check_case_id/".concat(e),headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+n},data:""};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}}};function kh(e){return e.map((e=>parseInt(e.cases_count)))}Vu.register(Ld,Ud,pd,Pd,gd);const Oh=e=>{let{dashboard:t}=e;const n=(null===t||void 0===t?void 0:t.clients_cases_1_counts_monthly)||[],i=(null===t||void 0===t?void 0:t.clients_cases_8_counts_monthly)||[],r=(null===t||void 0===t?void 0:t.clients_cases_counts_monthly)||[];const a={labels:r.map((e=>"".concat(e.username," - ").concat(e.month_name))),datasets:[{label:"New Cases",data:kh(n),backgroundColor:"rgb(21 109 161)",borderColor:"rgb(21 109 161)",borderWidth:1},{label:"Modifications",data:kh(i),backgroundColor:"yellow",borderColor:"yellow",borderWidth:1},{label:"All Cases",data:kh(r),backgroundColor:"#02ccfe",borderColor:"#02ccfe",borderWidth:1}]};return(0,hr.jsx)("div",{children:(0,hr.jsx)(xh,{data:a,options:{scales:{x:{stacked:!1},y:{stacked:!1}}}})})};var Ph=function(e,t){return Ph=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Ph(e,t)};var Rh=50,jh=50;function Lh(e){var t=e.className,n=e.counterClockwise,i=e.dashRatio,a=e.pathRadius,o=e.strokeWidth,s=e.style;return(0,r.createElement)("path",{className:t,style:Object.assign({},s,Dh({pathRadius:a,dashRatio:i,counterClockwise:n})),d:Ih({pathRadius:a,counterClockwise:n}),strokeWidth:o,fillOpacity:0})}function Ih(e){var t=e.pathRadius,n=e.counterClockwise?1:0;return"\n      M "+Rh+","+jh+"\n      m 0,-"+t+"\n      a "+t+","+t+" "+n+" 1 1 0,"+2*t+"\n      a "+t+","+t+" "+n+" 1 1 0,-"+2*t+"\n    "}function Dh(e){var t=e.counterClockwise,n=e.dashRatio,i=e.pathRadius,r=2*Math.PI*i,a=(1-n)*r;return{strokeDasharray:r+"px "+r+"px",strokeDashoffset:(t?-a:a)+"px"}}var Fh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return function(e,t){function n(){this.constructor=e}Ph(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},t.prototype.getPathRadius=function(){return 50-this.props.strokeWidth/2-this.getBackgroundPadding()},t.prototype.getPathRatio=function(){var e=this.props,t=e.value,n=e.minValue,i=e.maxValue;return(Math.min(Math.max(t,n),i)-n)/(i-n)},t.prototype.render=function(){var e=this.props,t=e.circleRatio,n=e.className,i=e.classes,a=e.counterClockwise,o=e.styles,s=e.strokeWidth,l=e.text,c=this.getPathRadius(),u=this.getPathRatio();return(0,r.createElement)("svg",{className:i.root+" "+n,style:o.root,viewBox:"0 0 100 100","data-test-id":"CircularProgressbar"},this.props.background?(0,r.createElement)("circle",{className:i.background,style:o.background,cx:Rh,cy:jh,r:50}):null,(0,r.createElement)(Lh,{className:i.trail,counterClockwise:a,dashRatio:t,pathRadius:c,strokeWidth:s,style:o.trail}),(0,r.createElement)(Lh,{className:i.path,counterClockwise:a,dashRatio:u*t,pathRadius:c,strokeWidth:s,style:o.path}),l?(0,r.createElement)("text",{className:i.text,style:o.text,x:Rh,y:jh},l):null)},t.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},t}(r.Component);function Uh(e){var t=e.rotation,n=e.strokeLinecap,i=e.textColor,r=e.textSize,a=e.pathColor,o=e.pathTransition,s=e.pathTransitionDuration,l=e.trailColor,c=e.backgroundColor,u=null==t?void 0:"rotate("+t+"turn)",d=null==t?void 0:"center center";return{root:{},path:zh({stroke:a,strokeLinecap:n,transform:u,transformOrigin:d,transition:o,transitionDuration:null==s?void 0:s+"s"}),trail:zh({stroke:l,strokeLinecap:n,transform:u,transformOrigin:d}),text:zh({fill:i,fontSize:r}),background:zh({fill:c})}}function zh(e){return Object.keys(e).forEach((function(t){null==e[t]&&delete e[t]})),e}var Bh=n(6178),Hh=n.n(Bh);function Vh(e,t){const n={};t.forEach(((e,t)=>{n[e]=t}));const i=new Array(7).fill(0);return e.forEach((e=>{const t=Hh()(e.date).format("dddd");void 0!==n[t]&&(i[n[t]]+=parseInt(e.product_count))})),i}Vu.register(Ld,Ud,pd,Pd,gd);const Wh=e=>{let{dashboard:t}=e;const n=(null===t||void 0===t?void 0:t.clients_cases_1_counts_daily)||[],i=(null===t||void 0===t?void 0:t.clients_cases_8_counts_daily)||[],r=(null===t||void 0===t?void 0:t.clients_cases_counts_daily)||[],a=function(){const e=[];for(let t=6;t>=0;t--)e.push(Hh()().subtract(t,"days").format("dddd"));return e}(),o={labels:a,datasets:[{label:"New Cases",data:Vh(n,a),backgroundColor:"rgb(21 109 161)",borderColor:"rgb(21 109 161)",borderWidth:1},{label:"Modifications",data:Vh(i,a),backgroundColor:"yellow",borderColor:"yellow",borderWidth:1},{label:"All Cases",data:Vh(r,a),backgroundColor:"#02ccfe",borderColor:"#02ccfe",borderWidth:1}]};return(0,hr.jsx)("div",{children:(0,hr.jsx)(xh,{data:o,options:{scales:{x:{stacked:!1},y:{stacked:!1}}}})})},Gh=()=>{var e,t;const[n,i]=(0,r.useState)(!1),[a,o]=(0,r.useState)({}),{currentUser:s,updateUser:l}=(0,r.useContext)(pr),c=null===s||void 0===s?void 0:s.role_name,u=tt(),d=localStorage.getItem("token");(0,r.useEffect)((()=>{d||u("/login")}),[d]);return(0,r.useEffect)((()=>{(async()=>{try{var e;const i=await Ah.getDashboardStats();var t,n,r;200==(null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.status)?o(null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.data):("Unauthenticated."==(null===i||void 0===i||null===(n=i.data)||void 0===n?void 0:n.message)&&u("/login"),ir.error(null===i||void 0===i||null===(r=i.data)||void 0===r?void 0:r.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0}))}catch(l){var a,s;ir.error(null===l||void 0===l||null===(a=l.result)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{i(!1)}})()}),[]),(0,hr.jsxs)("div",{className:"dashboard-container",children:[n&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)(dr,{}),(0,hr.jsxs)("div",{className:"small-boxes-wrapper",children:[("super_admin"==c||"case_submission"==c)&&(0,hr.jsxs)(Lt,{className:"small-box",to:"/cases/",children:[(0,hr.jsx)("div",{className:"flex-between",children:(0,hr.jsx)("div",{className:"title",children:"All cases "})}),(0,hr.jsxs)("div",{className:"flex-between",children:[(0,hr.jsx)("div",{className:"number",children:parseInt(null===a||void 0===a?void 0:a.cases_count)}),(0,hr.jsx)("div",{className:"percentage",children:(0,hr.jsx)(ia,{})})]})]}),(0,hr.jsxs)(Lt,{className:"small-box",to:"/cases/1",children:[(0,hr.jsx)("div",{className:"flex-between",children:(0,hr.jsx)("div",{className:"title",children:"New Cases "})}),(0,hr.jsxs)("div",{className:"flex-between",children:[(0,hr.jsx)("div",{className:"number",children:parseInt(null===a||void 0===a?void 0:a.cases_1_count)}),(0,hr.jsxs)("div",{className:"percentage",children:[parseInt(null===a||void 0===a?void 0:a.cases_1_count)>0&&(null===a||void 0===a?void 0:a.cases_count)>0?(parseInt(null===a||void 0===a?void 0:a.cases_1_count)/(null===a||void 0===a?void 0:a.cases_count)*100).toFixed(2):"0"," ","%"," ",parseInt(null===a||void 0===a?void 0:a.cases_1_count)/(null===a||void 0===a?void 0:a.cases_count)*100>=50?(0,hr.jsx)(ia,{}):(0,hr.jsx)(na,{})]})]})]}),("super_admin"==c||"client"==c||"sub_client"==c||"case_submission"==c)&&(0,hr.jsxs)(Lt,{className:"small-box",to:"/cases/2",children:[(0,hr.jsx)("div",{className:"flex-between",children:(0,hr.jsx)("div",{className:"title",children:"In Planning "})}),(0,hr.jsxs)("div",{className:"flex-between",children:[(0,hr.jsx)("div",{className:"number",children:parseInt(null===a||void 0===a?void 0:a.cases_2_count)}),(0,hr.jsxs)("div",{className:"percentage",children:[parseInt(null===a||void 0===a?void 0:a.cases_2_count)>0&&(null===a||void 0===a?void 0:a.cases_count)>0?(parseInt(null===a||void 0===a?void 0:a.cases_2_count)/(null===a||void 0===a?void 0:a.cases_count)*100).toFixed(2):"0"," ","%"," ",parseInt(null===a||void 0===a?void 0:a.cases_2_count)/(null===a||void 0===a?void 0:a.cases_count)*100>=50?(0,hr.jsx)(ia,{}):(0,hr.jsx)(na,{})]})]})]}),("super_admin"==c||"case_submission"==c||"quality_check"==c||"treatment_planner"==c)&&(0,hr.jsxs)(Lt,{className:"small-box",to:"/cases/3",children:[(0,hr.jsx)("div",{className:"flex-between",children:(0,hr.jsx)("div",{className:"title",children:"In Quality Check "})}),(0,hr.jsxs)("div",{className:"flex-between",children:[(0,hr.jsx)("div",{className:"number",children:parseInt(null===a||void 0===a?void 0:a.cases_3_count)}),(0,hr.jsxs)("div",{className:"percentage",children:[parseInt(null===a||void 0===a?void 0:a.cases_3_count)>0&&(null===a||void 0===a?void 0:a.cases_count)>0?(parseInt(null===a||void 0===a?void 0:a.cases_3_count)/(null===a||void 0===a?void 0:a.cases_count)*100).toFixed(2):"0"," ","%"," ",parseInt(null===a||void 0===a?void 0:a.cases_3_count)/(null===a||void 0===a?void 0:a.cases_count)*100>=50?(0,hr.jsx)(ia,{}):(0,hr.jsx)(na,{})]})]})]}),("super_admin"==c||"treatment_planner"==c||"quality_check"==c)&&(0,hr.jsxs)(Lt,{className:"small-box",to:"/cases/6",children:[(0,hr.jsx)("div",{className:"flex-between",children:(0,hr.jsx)("div",{className:"title",children:"QC Rejected  "})}),(0,hr.jsxs)("div",{className:"flex-between",children:[(0,hr.jsx)("div",{className:"number",children:parseInt(null===a||void 0===a?void 0:a.cases_6_count)}),(0,hr.jsxs)("div",{className:"percentage",children:[parseInt(null===a||void 0===a?void 0:a.cases_6_count)>0&&(null===a||void 0===a?void 0:a.cases_count)>0?(parseInt(null===a||void 0===a?void 0:a.cases_6_count)/(null===a||void 0===a?void 0:a.cases_count)*100).toFixed(2):"0"," ","%"," ",parseInt(null===a||void 0===a?void 0:a.cases_6_count)/(null===a||void 0===a?void 0:a.cases_count)*100>=50?(0,hr.jsx)(ia,{}):(0,hr.jsx)(na,{})]})]})]}),("super_admin"==c||"client"==c||"sub_client"==c||"case_submission"==c||"treatment_planner"==c)&&(0,hr.jsxs)(Lt,{className:"small-box",to:"/cases/4",children:[(0,hr.jsx)("div",{className:"flex-between",children:(0,hr.jsx)("div",{className:"title",children:"On Hold "})}),(0,hr.jsxs)("div",{className:"flex-between",children:[(0,hr.jsx)("div",{className:"number",children:parseInt(null===a||void 0===a?void 0:a.cases_4_count)}),(0,hr.jsxs)("div",{className:"percentage",children:[parseInt(null===a||void 0===a?void 0:a.cases_4_count)>0&&(null===a||void 0===a?void 0:a.cases_count)>0?(parseInt(null===a||void 0===a?void 0:a.cases_4_count)/(null===a||void 0===a?void 0:a.cases_count)*100).toFixed(2):"0"," ","%"," ",parseInt(null===a||void 0===a?void 0:a.cases_4_count)/(null===a||void 0===a?void 0:a.cases_count)*100>=50?(0,hr.jsx)(ia,{}):(0,hr.jsx)(na,{})]})]})]}),("super_admin"==c||"client"==c||"sub_client"==c||"case_submission"==c||"quality_check"==c)&&(0,hr.jsxs)(Lt,{className:"small-box",to:"/cases/7",children:[(0,hr.jsx)("div",{className:"flex-between",children:(0,hr.jsxs)("div",{className:"title",children:[" ","quality_check"==c?"Approved by QC":"Pending Ortho Check","  "]})}),(0,hr.jsxs)("div",{className:"flex-between",children:[(0,hr.jsx)("div",{className:"number",children:null===a||void 0===a?void 0:a.cases_7_count}),(0,hr.jsxs)("div",{className:"percentage",children:[(null===a||void 0===a?void 0:a.cases_7_count)>0&&(null===a||void 0===a?void 0:a.cases_count)>0?((null===a||void 0===a?void 0:a.cases_7_count)/(null===a||void 0===a?void 0:a.cases_count)*100).toFixed(2):"0","%",parseInt(null===a||void 0===a?void 0:a.cases_7_count)/(null===a||void 0===a?void 0:a.cases_count)*100>=50?(0,hr.jsx)(ia,{}):(0,hr.jsx)(na,{})]})]})]}),("super_admin"==c||"case_submission"==c||"treatment_planner"==c||"quality_check"==c||"client"==c||"sub_client"==c)&&(0,hr.jsxs)(Lt,{className:"small-box",to:"/cases/8",children:[(0,hr.jsx)("div",{className:"flex-between",children:(0,hr.jsx)("div",{className:"title",children:"Need Case modifications "})}),(0,hr.jsxs)("div",{className:"flex-between",children:[(0,hr.jsx)("div",{className:"number",children:parseInt(null===a||void 0===a?void 0:a.cases_8_count)}),(0,hr.jsxs)("div",{className:"percentage",children:[parseInt(null===a||void 0===a?void 0:a.cases_8_count)>0&&(null===a||void 0===a?void 0:a.cases_count)>0?(parseInt(null===a||void 0===a?void 0:a.cases_8_count)/(null===a||void 0===a?void 0:a.cases_count)*100).toFixed(2):"0"," ","%"," ",parseInt(null===a||void 0===a?void 0:a.cases_8_count)/(null===a||void 0===a?void 0:a.cases_count)*100>=50?(0,hr.jsx)(ia,{}):(0,hr.jsx)(na,{})]})]})]}),("super_admin"==c||"case_submission"==c||"post_processing"==c||"client"==c||"sub_client"==c)&&(0,hr.jsxs)(Lt,{className:"small-box",to:"/cases/11",children:[(0,hr.jsx)("div",{className:"flex-between",children:(0,hr.jsx)("div",{className:"title",children:"Step-Files Ready"})}),(0,hr.jsxs)("div",{className:"flex-between",children:[(0,hr.jsx)("div",{className:"number",children:parseInt(null===a||void 0===a?void 0:a.cases_11_count)}),(0,hr.jsxs)("div",{className:"percentage",children:[parseInt(null===a||void 0===a?void 0:a.cases_11_count)>0&&(null===a||void 0===a?void 0:a.cases_count)>0?(parseInt(null===a||void 0===a?void 0:a.cases_11_count)/(null===a||void 0===a?void 0:a.cases_count)*100).toFixed(2):"0"," ","%"," ",parseInt(null===a||void 0===a?void 0:a.cases_11_count)/(null===a||void 0===a?void 0:a.cases_count)*100>=50?(0,hr.jsx)(ia,{}):(0,hr.jsx)(na,{})]})]})]}),("super_admin"==c||"case_submission"==c||"client"==c||"sub_client"==c||"post_processing"==c)&&(0,hr.jsxs)(Lt,{className:"small-box",to:"/cases/10",children:[(0,hr.jsx)("div",{className:"flex-between",children:(0,hr.jsx)("div",{className:"title",children:"Pending Container files"})}),(0,hr.jsxs)("div",{className:"flex-between",children:[(0,hr.jsx)("div",{className:"number",children:parseInt(null===a||void 0===a?void 0:a.cases_10_count)}),(0,hr.jsxs)("div",{className:"percentage",children:[parseInt(null===a||void 0===a?void 0:a.cases_10_count)>0&&(null===a||void 0===a?void 0:a.cases_count)>0?(parseInt(null===a||void 0===a?void 0:a.cases_10_count)/(null===a||void 0===a?void 0:a.cases_count)*100).toFixed(2):"0"," ","%"," ",parseInt(null===a||void 0===a?void 0:a.cases_10_count)/(null===a||void 0===a?void 0:a.cases_count)*100>=50?(0,hr.jsx)(ia,{}):(0,hr.jsx)(na,{})]})]})]}),("super_admin"==c||"case_submission"==c||"client"==c||"sub_client"==c||"post_processing"==c)&&(0,hr.jsxs)(Lt,{className:"small-box",to:"/cases/15",children:[(0,hr.jsx)("div",{className:"flex-between",children:(0,hr.jsx)("div",{className:"title",children:"Pending Direct printing files"})}),(0,hr.jsxs)("div",{className:"flex-between",children:[(0,hr.jsx)("div",{className:"number",children:parseInt(null===a||void 0===a?void 0:a.cases_15_count)}),(0,hr.jsxs)("div",{className:"percentage",children:[parseInt(null===a||void 0===a?void 0:a.cases_15_count)>0&&(null===a||void 0===a?void 0:a.cases_count)>0?(parseInt(null===a||void 0===a?void 0:a.cases_15_count)/(null===a||void 0===a?void 0:a.cases_count)*100).toFixed(2):"0"," ","%"," ",parseInt(null===a||void 0===a?void 0:a.cases_15_count)/(null===a||void 0===a?void 0:a.cases_count)*100>=50?(0,hr.jsx)(ia,{}):(0,hr.jsx)(na,{})]})]})]}),("super_admin"==c||"case_submission"==c||"post_processing"==c||"client"==c||"sub_client"==c)&&(0,hr.jsxs)(Lt,{className:"small-box",to:"/cases/12",children:[(0,hr.jsx)("div",{className:"flex-between",children:(0,hr.jsx)("div",{className:"title",children:"Container Files Ready"})}),(0,hr.jsxs)("div",{className:"flex-between",children:[(0,hr.jsx)("div",{className:"number",children:parseInt(null===a||void 0===a?void 0:a.cases_12_count)}),(0,hr.jsxs)("div",{className:"percentage",children:[parseInt(null===a||void 0===a?void 0:a.cases_12_count)>0&&(null===a||void 0===a?void 0:a.cases_count)>0?(parseInt(null===a||void 0===a?void 0:a.cases_12_count)/(null===a||void 0===a?void 0:a.cases_count)*100).toFixed(2):"0"," ","%"," ",parseInt(null===a||void 0===a?void 0:a.cases_12_count)/(null===a||void 0===a?void 0:a.cases_count)*100>=50?(0,hr.jsx)(ia,{}):(0,hr.jsx)(na,{})]})]})]}),("super_admin"==c||"case_submission"==c||"post_processing"==c||"client"==c||"sub_client"==c)&&(0,hr.jsxs)(Lt,{className:"small-box",to:"/cases/16",children:[(0,hr.jsx)("div",{className:"flex-between",children:(0,hr.jsx)("div",{className:"title",children:"Direct printing files ready"})}),(0,hr.jsxs)("div",{className:"flex-between",children:[(0,hr.jsx)("div",{className:"number",children:parseInt(null===a||void 0===a?void 0:a.cases_16_count)}),(0,hr.jsxs)("div",{className:"percentage",children:[parseInt(null===a||void 0===a?void 0:a.cases_16_count)>0&&(null===a||void 0===a?void 0:a.cases_count)>0?(parseInt(null===a||void 0===a?void 0:a.cases_16_count)/(null===a||void 0===a?void 0:a.cases_count)*100).toFixed(2):"0"," ","%"," ",parseInt(null===a||void 0===a?void 0:a.cases_16_count)/(null===a||void 0===a?void 0:a.cases_count)*100>=50?(0,hr.jsx)(ia,{}):(0,hr.jsx)(na,{})]})]})]}),("super_admin"==c||"case_submission"==c||"client"==c||"sub_client"==c||"post_processing"==c)&&(0,hr.jsxs)(Lt,{className:"small-box",to:"/cases/9",children:[(0,hr.jsx)("div",{className:"flex-between",children:(0,hr.jsx)("div",{className:"title",children:"Pending Step files"})}),(0,hr.jsxs)("div",{className:"flex-between",children:[(0,hr.jsx)("div",{className:"number",children:parseInt(null===a||void 0===a?void 0:a.cases_9_count)}),(0,hr.jsxs)("div",{className:"percentage",children:[parseInt(null===a||void 0===a?void 0:a.cases_9_count)>0&&(null===a||void 0===a?void 0:a.cases_count)>0?(parseInt(null===a||void 0===a?void 0:a.cases_9_count)/(null===a||void 0===a?void 0:a.cases_count)*100).toFixed(2):"0"," ","%"," ",parseInt(null===a||void 0===a?void 0:a.cases_9_count)/(null===a||void 0===a?void 0:a.cases_count)*100>=50?(0,hr.jsx)(ia,{}):(0,hr.jsx)(na,{})]})]})]}),("super_admin"==c||"case_submission"==c||"post_processing"==c||"client"==c||"sub_client"==c)&&(0,hr.jsxs)(Lt,{className:"small-box",to:"/cases/13",children:[(0,hr.jsx)("div",{className:"flex-between",children:(0,hr.jsx)("div",{className:"title",children:"Need Stl File Modification"})}),(0,hr.jsxs)("div",{className:"flex-between",children:[(0,hr.jsx)("div",{className:"number",children:parseInt(null===a||void 0===a?void 0:a.cases_13_count)}),(0,hr.jsxs)("div",{className:"percentage",children:[parseInt(null===a||void 0===a?void 0:a.cases_13_count)>0&&(null===a||void 0===a?void 0:a.cases_count)>0?(parseInt(null===a||void 0===a?void 0:a.cases_13_count)/(null===a||void 0===a?void 0:a.cases_count)*100).toFixed(2):"0"," ","%"," ",parseInt(null===a||void 0===a?void 0:a.cases_13_count)/(null===a||void 0===a?void 0:a.cases_count)*100>=50?(0,hr.jsx)(ia,{}):(0,hr.jsx)(na,{})]})]})]}),("super_admin"==c||"case_submission"==c||"post_processing"==c||"client"==c||"sub_client"==c)&&(0,hr.jsxs)(Lt,{className:"small-box",to:"/cases/14",children:[(0,hr.jsx)("div",{className:"flex-between",children:(0,hr.jsx)("div",{className:"title",children:"Need Container File Modifications"})}),(0,hr.jsxs)("div",{className:"flex-between",children:[(0,hr.jsx)("div",{className:"number",children:parseInt(null===a||void 0===a?void 0:a.cases_14_count)}),(0,hr.jsxs)("div",{className:"percentage",children:[parseInt(null===a||void 0===a?void 0:a.cases_14_count)>0&&(null===a||void 0===a?void 0:a.cases_count)>0?(parseInt(null===a||void 0===a?void 0:a.cases_14_count)/(null===a||void 0===a?void 0:a.cases_count)*100).toFixed(2):"0"," ","%"," ",parseInt(null===a||void 0===a?void 0:a.cases_14_count)/(null===a||void 0===a?void 0:a.cases_count)*100>=50?(0,hr.jsx)(ia,{}):(0,hr.jsx)(na,{})]})]})]})]}),(0,hr.jsxs)("div",{className:"row mb-4",children:[(0,hr.jsxs)("div",{className:"col-12 col-md-6",children:[(0,hr.jsx)("div",{className:"title-grap",children:"Daily Cases"}),(0,hr.jsx)("div",{className:"chart-top",children:(0,hr.jsx)(Th,{dashboard:a})})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6",children:[(0,hr.jsx)("div",{className:"title-grap",children:"Monthly Cases"}),(0,hr.jsx)("div",{className:"chart-top",children:(0,hr.jsx)(Mh,{dashboard:a})})]})]}),"super_admin"==c&&(0,hr.jsxs)("div",{className:"row mb-4",children:[(0,hr.jsxs)("div",{className:"col-12 col-md-7",children:[(0,hr.jsx)("div",{className:"title-grap",children:"Clients Cases modifications ratio "}),(0,hr.jsx)("div",{className:"chart-top",children:(0,hr.jsx)(Nh,{dashboard:a})})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-5",children:[(0,hr.jsx)("div",{className:"title-grap",children:"All cases modifications ratio"}),(0,hr.jsx)("div",{className:"chart-top",children:(0,hr.jsx)("div",{className:"over-all-stats-wrapper",children:(0,hr.jsx)("div",{className:"parent-circle",children:(0,hr.jsx)(Fh,{value:null===a||void 0===a||null===(e=a.over_all_ratio_count)||void 0===e?void 0:e.toFixed(1),text:"".concat(null===a||void 0===a||null===(t=a.over_all_ratio_count)||void 0===t?void 0:t.toFixed(1),"%"),styles:Uh({pathColor:"#064469",textColor:"#064469",trailColor:"#d6d6d6",backgroundColor:"#3e98c7"})})})})})]})]}),"super_admin"==c&&(0,hr.jsxs)("div",{className:"row mb-4",children:[(0,hr.jsxs)("div",{className:"col-12 col-md-6",children:[(0,hr.jsx)("div",{className:"title-grap",children:"Client Monthly Cases "}),(0,hr.jsx)("div",{className:"chart-top",children:(0,hr.jsx)(Oh,{dashboard:a})})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6",children:[(0,hr.jsx)("div",{className:"title-grap",children:"Client Weekly Cases "}),(0,hr.jsx)("div",{className:"chart-top",children:(0,hr.jsx)(Wh,{dashboard:a})})]})]})]})},qh=n.p+"static/media/video.a53b78c8eb65f24f88bb.mp4",Yh=()=>{const{updateUser:e}=(0,r.useContext)(pr),[t,n]=(0,r.useState)(""),[i,a]=(0,r.useState)(!1),[o,s]=(0,r.useState)(""),l=tt(),c=async n=>{try{const n=new FormData;if(t)if(o){var i;a(!0),t&&n.append("email",t),o&&n.append("password",o);const f=await ki.login(n);var r,s,c,u,d,h,p;if(1==(null===f||void 0===f||null===(i=f.data)||void 0===i?void 0:i.success))localStorage.setItem("token",null===f||void 0===f||null===(r=f.data)||void 0===r||null===(s=r.data)||void 0===s||null===(c=s.user)||void 0===c?void 0:c.token),e(null===f||void 0===f||null===(u=f.data)||void 0===u||null===(d=u.data)||void 0===d?void 0:d.user),console.log("Routing"),l("/dashboard"),ir.success(null===f||void 0===f||null===(h=f.data)||void 0===h?void 0:h.message,{autoClose:1e3,pauseOnHover:!0,draggable:!0});else ir.error(null===f||void 0===f||null===(p=f.data)||void 0===p?void 0:p.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}else ir.error("please enter password",{autoClose:2e3,pauseOnHover:!0,draggable:!0});else ir.error("please enter email",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(v){var f,m;ir.error(null===v||void 0===v||null===(f=v.result)||void 0===f||null===(m=f.data)||void 0===m?void 0:m.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{a(!1)}};return(0,r.useEffect)((()=>{const e=e=>{"Enter"===e.key&&c()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[c]),(0,hr.jsxs)(hr.Fragment,{children:[" ",i&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsxs)("div",{className:"login-wrapper login-main",children:[(0,hr.jsx)("video",{autoPlay:!0,loop:!0,muted:!0,className:"background-video",children:(0,hr.jsx)("source",{src:qh,type:"video/mp4"})}),(0,hr.jsxs)("div",{className:"form-wrapper form-custom",children:[(0,hr.jsx)(dr,{}),(0,hr.jsxs)("div",{className:"left-section",children:[(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsx)("label",{htmlFor:"",children:"User Id"}),(0,hr.jsx)("input",{type:"text",className:"input",value:t,onChange:e=>n(e.target.value)})]}),(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Password"}),(0,hr.jsx)("input",{type:"password",className:"input",value:o,onChange:e=>s(e.target.value)})]}),(0,hr.jsx)("div",{className:"d-flex justify-content-center my-3",children:(0,hr.jsx)("button",{className:"button",onClick:c,children:"Login  "})})]}),(0,hr.jsx)("div",{className:"right-section",children:(0,hr.jsx)("div",{className:"image",children:(0,hr.jsx)("img",{src:Dr,alt:"",srcset:""})})})]})]})]})},Xh=n.p+"static/media/wesmile.33dd70103bd5c98fd12e.png",Zh=()=>{(0,r.useRef)(null);const{updateUser:e}=(0,r.useContext)(pr),[t,n]=(0,r.useState)(""),[i,a]=(0,r.useState)(!1),[o,s]=(0,r.useState)(""),l=tt(),c=async n=>{try{const n=new FormData;if(t)if(o){var i;a(!0),t&&n.append("email",t),o&&n.append("password",o);const f=await ki.login(n);var r,s,c,u,d,h,p;if(1==(null===f||void 0===f||null===(i=f.data)||void 0===i?void 0:i.success))localStorage.setItem("token",null===f||void 0===f||null===(r=f.data)||void 0===r||null===(s=r.data)||void 0===s||null===(c=s.user)||void 0===c?void 0:c.token),e(null===f||void 0===f||null===(u=f.data)||void 0===u||null===(d=u.data)||void 0===d?void 0:d.user),l("/dashboard"),ir.success(null===f||void 0===f||null===(h=f.data)||void 0===h?void 0:h.message,{autoClose:1e3,pauseOnHover:!0,draggable:!0});else ir.error(null===f||void 0===f||null===(p=f.data)||void 0===p?void 0:p.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}else ir.error("please enter password",{autoClose:2e3,pauseOnHover:!0,draggable:!0});else ir.error("please enter email",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(v){var f,m;ir.error(null===v||void 0===v||null===(f=v.result)||void 0===f||null===(m=f.data)||void 0===m?void 0:m.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{a(!1)}};return(0,r.useEffect)((()=>{const e=e=>{"Enter"===e.key&&c()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[c]),(0,hr.jsxs)(hr.Fragment,{children:[i&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsxs)("div",{className:"login-wrapper login-main bio",children:[(0,hr.jsx)("video",{autoPlay:!0,loop:!0,muted:!0,className:"background-video",children:(0,hr.jsx)("source",{src:qh,type:"video/mp4"})}),(0,hr.jsxs)("div",{className:"form-wrapper",children:[(0,hr.jsx)(dr,{}),(0,hr.jsxs)("div",{className:"left-section",children:[(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsx)("label",{htmlFor:"",children:"User Id"}),(0,hr.jsx)("input",{type:"text",className:"input",value:t,onChange:e=>n(e.target.value)})]}),(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Password"}),(0,hr.jsx)("input",{type:"password",className:"input",value:o,onChange:e=>s(e.target.value)})]}),(0,hr.jsx)("div",{className:"d-flex justify-content-center my-3",children:(0,hr.jsx)("button",{className:"button",onClick:c,children:"Login  "})}),(0,hr.jsx)("div",{className:"copy-text mt-4",children:"Powered by Clear Care Tech | Copyright \xa9 2024 | All Rights Reserved"})]}),(0,hr.jsx)("div",{className:"right-section",children:(0,hr.jsx)("div",{className:"image",children:(0,hr.jsx)("img",{src:Xh,alt:"",srcset:""})})})]})]})]})},Kh=n.p+"static/media/smilezy.e5b4b0f5f2840f96528f.png",Jh=()=>{(0,r.useRef)(null);const{updateUser:e}=(0,r.useContext)(pr),[t,n]=(0,r.useState)(""),[i,a]=(0,r.useState)(!1),[o,s]=(0,r.useState)(""),l=tt(),c=async n=>{try{const n=new FormData;if(t)if(o){var i;a(!0),t&&n.append("email",t),o&&n.append("password",o);const f=await ki.login(n);var r,s,c,u,d,h,p;if(1==(null===f||void 0===f||null===(i=f.data)||void 0===i?void 0:i.success))localStorage.setItem("token",null===f||void 0===f||null===(r=f.data)||void 0===r||null===(s=r.data)||void 0===s||null===(c=s.user)||void 0===c?void 0:c.token),e(null===f||void 0===f||null===(u=f.data)||void 0===u||null===(d=u.data)||void 0===d?void 0:d.user),l("/dashboard"),ir.success(null===f||void 0===f||null===(h=f.data)||void 0===h?void 0:h.message,{autoClose:1e3,pauseOnHover:!0,draggable:!0});else ir.error(null===f||void 0===f||null===(p=f.data)||void 0===p?void 0:p.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}else ir.error("please enter password",{autoClose:2e3,pauseOnHover:!0,draggable:!0});else ir.error("please enter email",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(v){var f,m;ir.error(null===v||void 0===v||null===(f=v.result)||void 0===f||null===(m=f.data)||void 0===m?void 0:m.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{a(!1)}};return(0,r.useEffect)((()=>{const e=e=>{"Enter"===e.key&&c()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[c]),(0,hr.jsxs)(hr.Fragment,{children:[i&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsxs)("div",{className:"login-wrapper login-main bio smilezy",children:[(0,hr.jsx)("video",{autoPlay:!0,loop:!0,muted:!0,className:"background-video",children:(0,hr.jsx)("source",{src:qh,type:"video/mp4"})}),(0,hr.jsxs)("div",{className:"form-wrapper",children:[(0,hr.jsx)(dr,{}),(0,hr.jsxs)("div",{className:"left-section",children:[(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsx)("label",{htmlFor:"",children:"User Id"}),(0,hr.jsx)("input",{type:"text",className:"input",value:t,onChange:e=>n(e.target.value)})]}),(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Password"}),(0,hr.jsx)("input",{type:"password",className:"input",value:o,onChange:e=>s(e.target.value)})]}),(0,hr.jsx)("div",{className:"d-flex justify-content-center my-3",children:(0,hr.jsx)("button",{className:"button",onClick:c,children:"Login  "})}),(0,hr.jsx)("div",{className:"copy-text mt-4",children:"Powered by Clear Care Tech | Copyright \xa9 2024 | All Rights Reserved"})]}),(0,hr.jsx)("div",{className:"right-section",children:(0,hr.jsx)("div",{className:"image",children:(0,hr.jsx)("img",{src:Kh,alt:"",srcset:""})})})]})]})]})},$h=n.p+"static/media/drabhishek.02bcbc1adde21e1e8306.png",Qh=()=>{(0,r.useRef)(null);const{updateUser:e}=(0,r.useContext)(pr),[t,n]=(0,r.useState)(""),[i,a]=(0,r.useState)(!1),[o,s]=(0,r.useState)(""),l=tt(),c=async n=>{try{const n=new FormData;if(t)if(o){var i;a(!0),t&&n.append("email",t),o&&n.append("password",o);const f=await ki.login(n);var r,s,c,u,d,h,p;if(1==(null===f||void 0===f||null===(i=f.data)||void 0===i?void 0:i.success))localStorage.setItem("token",null===f||void 0===f||null===(r=f.data)||void 0===r||null===(s=r.data)||void 0===s||null===(c=s.user)||void 0===c?void 0:c.token),e(null===f||void 0===f||null===(u=f.data)||void 0===u||null===(d=u.data)||void 0===d?void 0:d.user),l("/dashboard"),ir.success(null===f||void 0===f||null===(h=f.data)||void 0===h?void 0:h.message,{autoClose:1e3,pauseOnHover:!0,draggable:!0});else ir.error(null===f||void 0===f||null===(p=f.data)||void 0===p?void 0:p.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}else ir.error("please enter password",{autoClose:2e3,pauseOnHover:!0,draggable:!0});else ir.error("please enter email",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(v){var f,m;ir.error(null===v||void 0===v||null===(f=v.result)||void 0===f||null===(m=f.data)||void 0===m?void 0:m.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{a(!1)}};return(0,r.useEffect)((()=>{const e=e=>{"Enter"===e.key&&c()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[c]),(0,hr.jsxs)(hr.Fragment,{children:[i&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsxs)("div",{className:"login-wrapper login-main bio",children:[(0,hr.jsx)("video",{autoPlay:!0,loop:!0,muted:!0,className:"background-video",children:(0,hr.jsx)("source",{src:qh,type:"video/mp4"})}),(0,hr.jsxs)("div",{className:"form-wrapper",children:[(0,hr.jsx)(dr,{}),(0,hr.jsxs)("div",{className:"left-section",children:[(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsx)("label",{htmlFor:"",children:"User Id"}),(0,hr.jsx)("input",{type:"text",className:"input",value:t,onChange:e=>n(e.target.value)})]}),(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Password"}),(0,hr.jsx)("input",{type:"password",className:"input",value:o,onChange:e=>s(e.target.value)})]}),(0,hr.jsx)("div",{className:"d-flex justify-content-center my-3",children:(0,hr.jsx)("button",{className:"button",onClick:c,children:"Login  "})}),(0,hr.jsx)("div",{className:"copy-text mt-4",children:"Powered by Clear Care Tech | Copyright \xa9 2024 | All Rights Reserved"})]}),(0,hr.jsx)("div",{className:"right-section",children:(0,hr.jsx)("div",{className:"image",children:(0,hr.jsx)("img",{src:$h,alt:"",srcset:""})})})]})]})]})},ep=n.p+"static/media/darren.201c8e5abda569ac5236.gif",tp=()=>{(0,r.useRef)(null);const{updateUser:e}=(0,r.useContext)(pr),[t,n]=(0,r.useState)(""),[i,a]=(0,r.useState)(!1),[o,s]=(0,r.useState)(""),l=tt(),c=async n=>{try{const n=new FormData;if(t)if(o){var i;a(!0),t&&n.append("email",t),o&&n.append("password",o);const f=await ki.login(n);var r,s,c,u,d,h,p;if(1==(null===f||void 0===f||null===(i=f.data)||void 0===i?void 0:i.success))localStorage.setItem("token",null===f||void 0===f||null===(r=f.data)||void 0===r||null===(s=r.data)||void 0===s||null===(c=s.user)||void 0===c?void 0:c.token),e(null===f||void 0===f||null===(u=f.data)||void 0===u||null===(d=u.data)||void 0===d?void 0:d.user),l("/dashboard"),ir.success(null===f||void 0===f||null===(h=f.data)||void 0===h?void 0:h.message,{autoClose:1e3,pauseOnHover:!0,draggable:!0});else ir.error(null===f||void 0===f||null===(p=f.data)||void 0===p?void 0:p.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}else ir.error("please enter password",{autoClose:2e3,pauseOnHover:!0,draggable:!0});else ir.error("please enter email",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(v){var f,m;ir.error(null===v||void 0===v||null===(f=v.result)||void 0===f||null===(m=f.data)||void 0===m?void 0:m.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{a(!1)}};return(0,r.useEffect)((()=>{const e=e=>{"Enter"===e.key&&c()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[c]),(0,hr.jsxs)(hr.Fragment,{children:[i&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsxs)("div",{className:"login-wrapper login-main bio",children:[(0,hr.jsx)("video",{autoPlay:!0,loop:!0,muted:!0,className:"background-video",children:(0,hr.jsx)("source",{src:qh,type:"video/mp4"})}),(0,hr.jsxs)("div",{className:"form-wrapper",children:[(0,hr.jsx)(dr,{}),(0,hr.jsxs)("div",{className:"left-section",children:[(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsx)("label",{htmlFor:"",children:"User Id"}),(0,hr.jsx)("input",{type:"text",className:"input",value:t,onChange:e=>n(e.target.value)})]}),(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Password"}),(0,hr.jsx)("input",{type:"password",className:"input",value:o,onChange:e=>s(e.target.value)})]}),(0,hr.jsx)("div",{className:"d-flex justify-content-center my-3",children:(0,hr.jsx)("button",{className:"button",onClick:c,children:"Login  "})}),(0,hr.jsx)("div",{className:"copy-text mt-4",children:"Powered by Clear Care Tech | Copyright \xa9 2024 | All Rights Reserved"})]}),(0,hr.jsx)("div",{className:"right-section",children:(0,hr.jsx)("div",{className:"image",children:(0,hr.jsx)("img",{src:ep,alt:"",srcset:""})})})]})]})]})},np="164",ip={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},rp={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},ap=0,op=1,sp=2,lp=3,cp=0,up=1,dp=2,hp=3,pp=0,fp=1,mp=2,vp=0,gp=1,yp=2,bp=3,xp=4,_p=5,wp=100,Sp=101,Mp=102,Ep=103,Cp=104,Tp=200,Np=201,Ap=202,kp=203,Op=204,Pp=205,Rp=206,jp=207,Lp=208,Ip=209,Dp=210,Fp=211,Up=212,zp=213,Bp=214,Hp=0,Vp=1,Wp=2,Gp=3,qp=4,Yp=5,Xp=6,Zp=7,Kp=0,Jp=1,$p=2,Qp=0,ef=1,tf=2,nf=3,rf=4,af=5,of=6,sf=7,lf="attached",cf="detached",uf=300,df=301,hf=302,pf=303,ff=304,mf=306,vf=1e3,gf=1001,yf=1002,bf=1003,xf=1004,_f=1004,wf=1005,Sf=1005,Mf=1006,Ef=1007,Cf=1007,Tf=1008,Nf=1008,Af=1009,kf=1010,Of=1011,Pf=1012,Rf=1013,jf=1014,Lf=1015,If=1016,Df=1017,Ff=1018,Uf=1020,zf=35902,Bf=1021,Hf=1022,Vf=1023,Wf=1024,Gf=1025,qf=1026,Yf=1027,Xf=1028,Zf=1029,Kf=1030,Jf=1031,$f=1033,Qf=33776,em=33777,tm=33778,nm=33779,im=35840,rm=35841,am=35842,om=35843,sm=36196,lm=37492,cm=37496,um=37808,dm=37809,hm=37810,pm=37811,fm=37812,mm=37813,vm=37814,gm=37815,ym=37816,bm=37817,xm=37818,_m=37819,wm=37820,Sm=37821,Mm=36492,Em=36494,Cm=36495,Tm=36283,Nm=36284,Am=36285,km=36286,Om=2200,Pm=2201,Rm=2202,jm=2300,Lm=2301,Im=2302,Dm=2400,Fm=2401,Um=2402,zm=2500,Bm=2501,Hm=0,Vm=1,Wm=2,Gm=3200,qm=3201,Ym=0,Xm=1,Zm="",Km="srgb",Jm="srgb-linear",$m="display-p3",Qm="display-p3-linear",ev="linear",tv="srgb",nv="rec709",iv="p3",rv=0,av=7680,ov=7681,sv=7682,lv=7683,cv=34055,uv=34056,dv=5386,hv=512,pv=513,fv=514,mv=515,vv=516,gv=517,yv=518,bv=519,xv=512,_v=513,wv=514,Sv=515,Mv=516,Ev=517,Cv=518,Tv=519,Nv=35044,Av=35048,kv=35040,Ov=35045,Pv=35049,Rv=35041,jv=35046,Lv=35050,Iv=35042,Dv="100",Fv="300 es",Uv=2e3,zv=2001;class Bv{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const n=this._listeners[e];if(void 0!==n){const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const t=this._listeners[e.type];if(void 0!==t){e.target=this;const n=t.slice(0);for(let t=0,i=n.length;t<i;t++)n[t].call(this,e);e.target=null}}}const Hv=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Vv=1234567;const Wv=Math.PI/180,Gv=180/Math.PI;function qv(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(Hv[255&e]+Hv[e>>8&255]+Hv[e>>16&255]+Hv[e>>24&255]+"-"+Hv[255&t]+Hv[t>>8&255]+"-"+Hv[t>>16&15|64]+Hv[t>>24&255]+"-"+Hv[63&n|128]+Hv[n>>8&255]+"-"+Hv[n>>16&255]+Hv[n>>24&255]+Hv[255&i]+Hv[i>>8&255]+Hv[i>>16&255]+Hv[i>>24&255]).toLowerCase()}function Yv(e,t,n){return Math.max(t,Math.min(n,e))}function Xv(e,t){return(e%t+t)%t}function Zv(e,t,n){return(1-n)*e+n*t}function Kv(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function Jv(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}const $v={DEG2RAD:Wv,RAD2DEG:Gv,generateUUID:qv,clamp:Yv,euclideanModulo:Xv,mapLinear:function(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:Zv,damp:function(e,t,n,i){return Zv(e,t,1-Math.exp(-n*i))},pingpong:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(Xv(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(Vv=e);let t=Vv+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*Wv},radToDeg:function(e){return e*Gv},isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,i,r){const a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),c=a((t+i)/2),u=o((t+i)/2),d=a((t-i)/2),h=o((t-i)/2),p=a((i-t)/2),f=o((i-t)/2);switch(r){case"XYX":e.set(s*u,l*d,l*h,s*c);break;case"YZY":e.set(l*h,s*u,l*d,s*c);break;case"ZXZ":e.set(l*d,l*h,s*u,s*c);break;case"XZX":e.set(s*u,l*f,l*p,s*c);break;case"YXY":e.set(l*p,s*u,l*f,s*c);break;case"ZYZ":e.set(l*f,l*p,s*u,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}},normalize:Jv,denormalize:Kv};class Qv{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Qv.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Yv(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),i=Math.sin(t),r=this.x-e.x,a=this.y-e.y;return this.x=r*n-a*i+e.x,this.y=r*i+a*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class eg{constructor(e,t,n,i,r,a,o,s,l){eg.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,n,i,r,a,o,s,l)}set(e,t,n,i,r,a,o,s,l){const c=this.elements;return c[0]=e,c[1]=i,c[2]=o,c[3]=t,c[4]=r,c[5]=s,c[6]=n,c[7]=a,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,r=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],c=n[4],u=n[7],d=n[2],h=n[5],p=n[8],f=i[0],m=i[3],v=i[6],g=i[1],y=i[4],b=i[7],x=i[2],_=i[5],w=i[8];return r[0]=a*f+o*g+s*x,r[3]=a*m+o*y+s*_,r[6]=a*v+o*b+s*w,r[1]=l*f+c*g+u*x,r[4]=l*m+c*y+u*_,r[7]=l*v+c*b+u*w,r[2]=d*f+h*g+p*x,r[5]=d*m+h*y+p*_,r[8]=d*v+h*b+p*w,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8];return t*a*c-t*o*l-n*r*c+n*o*s+i*r*l-i*a*s}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=c*a-o*l,d=o*s-c*r,h=l*r-a*s,p=t*u+n*d+i*h;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const f=1/p;return e[0]=u*f,e[1]=(i*l-c*n)*f,e[2]=(o*n-i*a)*f,e[3]=d*f,e[4]=(c*t-i*s)*f,e[5]=(i*r-o*t)*f,e[6]=h*f,e[7]=(n*s-l*t)*f,e[8]=(a*t-n*r)*f,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,i,r,a,o){const s=Math.cos(r),l=Math.sin(r);return this.set(n*s,n*l,-n*(s*a+l*o)+a+e,-i*l,i*s,-i*(-l*a+s*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(tg.makeScale(e,t)),this}rotate(e){return this.premultiply(tg.makeRotation(-e)),this}translate(e,t){return this.premultiply(tg.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const tg=new eg;function ng(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}const ig={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function rg(e,t){return new ig[e](t)}function ag(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function og(){const e=ag("canvas");return e.style.display="block",e}const sg={};function lg(e){e in sg||(sg[e]=!0,console.warn(e))}const cg=(new eg).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),ug=(new eg).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),dg={[Jm]:{transfer:ev,primaries:nv,toReference:e=>e,fromReference:e=>e},[Km]:{transfer:tv,primaries:nv,toReference:e=>e.convertSRGBToLinear(),fromReference:e=>e.convertLinearToSRGB()},[Qm]:{transfer:ev,primaries:iv,toReference:e=>e.applyMatrix3(ug),fromReference:e=>e.applyMatrix3(cg)},[$m]:{transfer:tv,primaries:iv,toReference:e=>e.convertSRGBToLinear().applyMatrix3(ug),fromReference:e=>e.applyMatrix3(cg).convertLinearToSRGB()}},hg=new Set([Jm,Qm]),pg={enabled:!0,_workingColorSpace:Jm,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(e){if(!hg.has(e))throw new Error('Unsupported working color space, "'.concat(e,'".'));this._workingColorSpace=e},convert:function(e,t,n){if(!1===this.enabled||t===n||!t||!n)return e;const i=dg[t].toReference;return(0,dg[n].fromReference)(i(e))},fromWorkingColorSpace:function(e,t){return this.convert(e,this._workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this._workingColorSpace)},getPrimaries:function(e){return dg[e].primaries},getTransfer:function(e){return e===Zm?ev:dg[e].transfer}};function fg(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function mg(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}let vg;class gg{static getDataURL(e){if(/^data:/i.test(e.src))return e.src;if("undefined"===typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===vg&&(vg=ag("canvas")),vg.width=e.width,vg.height=e.height;const n=vg.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=vg}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){const t=ag("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const i=n.getImageData(0,0,e.width,e.height),r=i.data;for(let e=0;e<r.length;e++)r[e]=255*fg(r[e]/255);return n.putImageData(i,0,0),t}if(e.data){const t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(255*fg(t[e]/255)):t[e]=fg(t[e]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let yg=0;class bg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.isSource=!0,Object.defineProperty(this,"id",{value:yg++}),this.uuid=qv(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const n={uuid:this.uuid,url:""},i=this.data;if(null!==i){let e;if(Array.isArray(i)){e=[];for(let t=0,n=i.length;t<n;t++)i[t].isDataTexture?e.push(xg(i[t].image)):e.push(xg(i[t]))}else e=xg(i);n.url=e}return t||(e.images[this.uuid]=n),n}}function xg(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?gg.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let _g=0;class wg extends Bv{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wg.DEFAULT_IMAGE,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wg.DEFAULT_MAPPING,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gf,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:gf,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Mf,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Tf,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Vf,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Af,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:wg.DEFAULT_ANISOTROPY,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Zm;super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:_g++}),this.uuid=qv(),this.name="",this.source=new bg(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=i,this.magFilter=r,this.minFilter=a,this.anisotropy=l,this.format=o,this.internalFormat=null,this.type=s,this.offset=new Qv(0,0),this.repeat=new Qv(1,1),this.center=new Qv(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new eg,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e){void 0===e&&(e=null),this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==uf)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case vf:e.x=e.x-Math.floor(e.x);break;case gf:e.x=e.x<0?0:1;break;case yf:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case vf:e.y=e.y-Math.floor(e.y);break;case gf:e.y=e.y<0?0:1;break;case yf:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){!0===e&&this.pmremVersion++}}wg.DEFAULT_IMAGE=null,wg.DEFAULT_MAPPING=uf,wg.DEFAULT_ANISOTROPY=1;class Sg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Sg.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,r=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*i+a[12]*r,this.y=a[1]*t+a[5]*n+a[9]*i+a[13]*r,this.z=a[2]*t+a[6]*n+a[10]*i+a[14]*r,this.w=a[3]*t+a[7]*n+a[11]*i+a[15]*r,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,i,r;const a=.01,o=.1,s=e.elements,l=s[0],c=s[4],u=s[8],d=s[1],h=s[5],p=s[9],f=s[2],m=s[6],v=s[10];if(Math.abs(c-d)<a&&Math.abs(u-f)<a&&Math.abs(p-m)<a){if(Math.abs(c+d)<o&&Math.abs(u+f)<o&&Math.abs(p+m)<o&&Math.abs(l+h+v-3)<o)return this.set(1,0,0,0),this;t=Math.PI;const e=(l+1)/2,s=(h+1)/2,g=(v+1)/2,y=(c+d)/4,b=(u+f)/4,x=(p+m)/4;return e>s&&e>g?e<a?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(e),i=y/n,r=b/n):s>g?s<a?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(s),n=y/i,r=x/i):g<a?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(g),n=b/r,i=x/r),this.set(n,i,r,t),this}let g=Math.sqrt((m-p)*(m-p)+(u-f)*(u-f)+(d-c)*(d-c));return Math.abs(g)<.001&&(g=1),this.x=(m-p)/g,this.y=(u-f)/g,this.z=(d-c)/g,this.w=Math.acos((l+h+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Mg extends Bv{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Sg(0,0,e,t),this.scissorTest=!1,this.viewport=new Sg(0,0,e,t);const i={width:e,height:t,depth:1};n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Mf,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},n);const r=new wg(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace);r.flipY=!1,r.generateMipmaps=n.generateMipmaps,r.internalFormat=n.internalFormat,this.textures=[];const a=n.count;for(let o=0;o<a;o++)this.textures[o]=r.clone(),this.textures[o].isRenderTargetTexture=!0;this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this.depthTexture=n.depthTexture,this.samples=n.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let i=0,r=this.textures.length;i<r;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=n;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,i=e.textures.length;n<i;n++)this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new bg(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Eg extends Mg{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),this.isWebGLRenderTarget=!0}}class Cg extends wg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=bf,this.minFilter=bf,this.wrapR=gf,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Tg extends Eg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(e,t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new Cg(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class Ng extends wg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=bf,this.minFilter=bf,this.wrapR=gf,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Ag extends Eg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(e,t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new Ng(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class kg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=i}static slerpFlat(e,t,n,i,r,a,o){let s=n[i+0],l=n[i+1],c=n[i+2],u=n[i+3];const d=r[a+0],h=r[a+1],p=r[a+2],f=r[a+3];if(0===o)return e[t+0]=s,e[t+1]=l,e[t+2]=c,void(e[t+3]=u);if(1===o)return e[t+0]=d,e[t+1]=h,e[t+2]=p,void(e[t+3]=f);if(u!==f||s!==d||l!==h||c!==p){let e=1-o;const t=s*d+l*h+c*p+u*f,n=t>=0?1:-1,i=1-t*t;if(i>Number.EPSILON){const r=Math.sqrt(i),a=Math.atan2(r,t*n);e=Math.sin(e*a)/r,o=Math.sin(o*a)/r}const r=o*n;if(s=s*e+d*r,l=l*e+h*r,c=c*e+p*r,u=u*e+f*r,e===1-o){const e=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=e,l*=e,c*=e,u*=e}}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,i,r,a){const o=n[i],s=n[i+1],l=n[i+2],c=n[i+3],u=r[a],d=r[a+1],h=r[a+2],p=r[a+3];return e[t]=o*p+c*u+s*h-l*d,e[t+1]=s*p+c*d+l*u-o*h,e[t+2]=l*p+c*h+o*d-s*u,e[t+3]=c*p-o*u-s*d-l*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=e._x,i=e._y,r=e._z,a=e._order,o=Math.cos,s=Math.sin,l=o(n/2),c=o(i/2),u=o(r/2),d=s(n/2),h=s(i/2),p=s(r/2);switch(a){case"XYZ":this._x=d*c*u+l*h*p,this._y=l*h*u-d*c*p,this._z=l*c*p+d*h*u,this._w=l*c*u-d*h*p;break;case"YXZ":this._x=d*c*u+l*h*p,this._y=l*h*u-d*c*p,this._z=l*c*p-d*h*u,this._w=l*c*u+d*h*p;break;case"ZXY":this._x=d*c*u-l*h*p,this._y=l*h*u+d*c*p,this._z=l*c*p+d*h*u,this._w=l*c*u-d*h*p;break;case"ZYX":this._x=d*c*u-l*h*p,this._y=l*h*u+d*c*p,this._z=l*c*p-d*h*u,this._w=l*c*u+d*h*p;break;case"YZX":this._x=d*c*u+l*h*p,this._y=l*h*u+d*c*p,this._z=l*c*p-d*h*u,this._w=l*c*u-d*h*p;break;case"XZY":this._x=d*c*u-l*h*p,this._y=l*h*u-d*c*p,this._z=l*c*p+d*h*u,this._w=l*c*u+d*h*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!0===t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],i=t[4],r=t[8],a=t[1],o=t[5],s=t[9],l=t[2],c=t[6],u=t[10],d=n+o+u;if(d>0){const e=.5/Math.sqrt(d+1);this._w=.25/e,this._x=(c-s)*e,this._y=(r-l)*e,this._z=(a-i)*e}else if(n>o&&n>u){const e=2*Math.sqrt(1+n-o-u);this._w=(c-s)/e,this._x=.25*e,this._y=(i+a)/e,this._z=(r+l)/e}else if(o>u){const e=2*Math.sqrt(1+o-n-u);this._w=(r-l)/e,this._x=(i+a)/e,this._y=.25*e,this._z=(s+c)/e}else{const e=2*Math.sqrt(1+u-n-o);this._w=(a-i)/e,this._x=(r+l)/e,this._y=(s+c)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Yv(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const i=Math.min(1,t/n);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,i=e._y,r=e._z,a=e._w,o=t._x,s=t._y,l=t._z,c=t._w;return this._x=n*c+a*o+i*l-r*s,this._y=i*c+a*s+r*o-n*l,this._z=r*c+a*l+n*s-i*o,this._w=a*c-n*o-i*s-r*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,i=this._y,r=this._z,a=this._w;let o=a*e._w+n*e._x+i*e._y+r*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=i,this._z=r,this;const s=1-o*o;if(s<=Number.EPSILON){const e=1-t;return this._w=e*a+t*this._w,this._x=e*n+t*this._x,this._y=e*i+t*this._y,this._z=e*r+t*this._z,this.normalize(),this}const l=Math.sqrt(s),c=Math.atan2(l,o),u=Math.sin((1-t)*c)/l,d=Math.sin(t*c)/l;return this._w=a*u+this._w*d,this._x=n*u+this._x*d,this._y=i*u+this._y*d,this._z=r*u+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),i=Math.sqrt(1-n),r=Math.sqrt(n);return this.set(i*Math.sin(e),i*Math.cos(e),r*Math.sin(t),r*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Og{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Og.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(Rg.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Rg.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*i,this.y=r[1]*t+r[4]*n+r[7]*i,this.z=r[2]*t+r[5]*n+r[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,r=e.elements,a=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*a,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*a,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*a,this}applyQuaternion(e){const t=this.x,n=this.y,i=this.z,r=e.x,a=e.y,o=e.z,s=e.w,l=2*(a*i-o*n),c=2*(o*t-r*i),u=2*(r*n-a*t);return this.x=t+s*l+a*u-o*c,this.y=n+s*c+o*l-r*u,this.z=i+s*u+r*c-a*l,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i,this.y=r[1]*t+r[5]*n+r[9]*i,this.z=r[2]*t+r[6]*n+r[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,i=e.y,r=e.z,a=t.x,o=t.y,s=t.z;return this.x=i*s-r*o,this.y=r*a-n*s,this.z=n*o-i*a,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return Pg.copy(this).projectOnVector(e),this.sub(Pg)}reflect(e){return this.sub(Pg.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Yv(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=2*Math.random()-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Pg=new Og,Rg=new kg;class jg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Og(1/0,1/0,1/0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Og(-1/0,-1/0,-1/0);this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(Ig.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(Ig.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Ig.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.updateWorldMatrix(!1,!1);const n=e.geometry;if(void 0!==n){const i=n.getAttribute("position");if(!0===t&&void 0!==i&&!0!==e.isInstancedMesh)for(let t=0,n=i.count;t<n;t++)!0===e.isMesh?e.getVertexPosition(t,Ig):Ig.fromBufferAttribute(i,t),Ig.applyMatrix4(e.matrixWorld),this.expandByPoint(Ig);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),Dg.copy(e.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),Dg.copy(n.boundingBox)),Dg.applyMatrix4(e.matrixWorld),this.union(Dg)}const i=e.children;for(let r=0,a=i.length;r<a;r++)this.expandByObject(i[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Ig),Ig.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Wg),Gg.subVectors(this.max,Wg),Fg.subVectors(e.a,Wg),Ug.subVectors(e.b,Wg),zg.subVectors(e.c,Wg),Bg.subVectors(Ug,Fg),Hg.subVectors(zg,Ug),Vg.subVectors(Fg,zg);let t=[0,-Bg.z,Bg.y,0,-Hg.z,Hg.y,0,-Vg.z,Vg.y,Bg.z,0,-Bg.x,Hg.z,0,-Hg.x,Vg.z,0,-Vg.x,-Bg.y,Bg.x,0,-Hg.y,Hg.x,0,-Vg.y,Vg.x,0];return!!Xg(t,Fg,Ug,zg,Gg)&&(t=[1,0,0,0,1,0,0,0,1],!!Xg(t,Fg,Ug,zg,Gg)&&(qg.crossVectors(Bg,Hg),t=[qg.x,qg.y,qg.z],Xg(t,Fg,Ug,zg,Gg)))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ig).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(Ig).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(Lg[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Lg[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Lg[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Lg[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Lg[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Lg[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Lg[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Lg[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Lg)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Lg=[new Og,new Og,new Og,new Og,new Og,new Og,new Og,new Og],Ig=new Og,Dg=new jg,Fg=new Og,Ug=new Og,zg=new Og,Bg=new Og,Hg=new Og,Vg=new Og,Wg=new Og,Gg=new Og,qg=new Og,Yg=new Og;function Xg(e,t,n,i,r){for(let a=0,o=e.length-3;a<=o;a+=3){Yg.fromArray(e,a);const o=r.x*Math.abs(Yg.x)+r.y*Math.abs(Yg.y)+r.z*Math.abs(Yg.z),s=t.dot(Yg),l=n.dot(Yg),c=i.dot(Yg);if(Math.max(-Math.max(s,l,c),Math.min(s,l,c))>o)return!1}return!0}const Zg=new jg,Kg=new Og,Jg=new Og;class $g{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Og,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):Zg.setFromPoints(e).getCenter(n);let i=0;for(let r=0,a=e.length;r<a;r++)i=Math.max(i,n.distanceToSquared(e[r]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Kg.subVectors(e,this.center);const t=Kg.lengthSq();if(t>this.radius*this.radius){const e=Math.sqrt(t),n=.5*(e-this.radius);this.center.addScaledVector(Kg,n/e),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(Jg.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Kg.copy(e.center).add(Jg)),this.expandByPoint(Kg.copy(e.center).sub(Jg))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Qg=new Og,ey=new Og,ty=new Og,ny=new Og,iy=new Og,ry=new Og,ay=new Og;class oy{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Og,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Og(0,0,-1);this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Qg)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Qg.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Qg.copy(this.origin).addScaledVector(this.direction,t),Qg.distanceToSquared(e))}distanceSqToSegment(e,t,n,i){ey.copy(e).add(t).multiplyScalar(.5),ty.copy(t).sub(e).normalize(),ny.copy(this.origin).sub(ey);const r=.5*e.distanceTo(t),a=-this.direction.dot(ty),o=ny.dot(this.direction),s=-ny.dot(ty),l=ny.lengthSq(),c=Math.abs(1-a*a);let u,d,h,p;if(c>0)if(u=a*s-o,d=a*o-s,p=r*c,u>=0)if(d>=-p)if(d<=p){const e=1/c;u*=e,d*=e,h=u*(u+a*d+2*o)+d*(a*u+d+2*s)+l}else d=r,u=Math.max(0,-(a*d+o)),h=-u*u+d*(d+2*s)+l;else d=-r,u=Math.max(0,-(a*d+o)),h=-u*u+d*(d+2*s)+l;else d<=-p?(u=Math.max(0,-(-a*r+o)),d=u>0?-r:Math.min(Math.max(-r,-s),r),h=-u*u+d*(d+2*s)+l):d<=p?(u=0,d=Math.min(Math.max(-r,-s),r),h=d*(d+2*s)+l):(u=Math.max(0,-(a*r+o)),d=u>0?r:Math.min(Math.max(-r,-s),r),h=-u*u+d*(d+2*s)+l);else d=a>0?-r:r,u=Math.max(0,-(a*d+o)),h=-u*u+d*(d+2*s)+l;return n&&n.copy(this.origin).addScaledVector(this.direction,u),i&&i.copy(ey).addScaledVector(ty,d),h}intersectSphere(e,t){Qg.subVectors(e.center,this.origin);const n=Qg.dot(this.direction),i=Qg.dot(Qg)-n*n,r=e.radius*e.radius;if(i>r)return null;const a=Math.sqrt(r-i),o=n-a,s=n+a;return s<0?null:o<0?this.at(s,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);if(0===t)return!0;return e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,i,r,a,o,s;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,d=this.origin;return l>=0?(n=(e.min.x-d.x)*l,i=(e.max.x-d.x)*l):(n=(e.max.x-d.x)*l,i=(e.min.x-d.x)*l),c>=0?(r=(e.min.y-d.y)*c,a=(e.max.y-d.y)*c):(r=(e.max.y-d.y)*c,a=(e.min.y-d.y)*c),n>a||r>i?null:((r>n||isNaN(n))&&(n=r),(a<i||isNaN(i))&&(i=a),u>=0?(o=(e.min.z-d.z)*u,s=(e.max.z-d.z)*u):(o=(e.max.z-d.z)*u,s=(e.min.z-d.z)*u),n>s||o>i?null:((o>n||n!==n)&&(n=o),(s<i||i!==i)&&(i=s),i<0?null:this.at(n>=0?n:i,t)))}intersectsBox(e){return null!==this.intersectBox(e,Qg)}intersectTriangle(e,t,n,i,r){iy.subVectors(t,e),ry.subVectors(n,e),ay.crossVectors(iy,ry);let a,o=this.direction.dot(ay);if(o>0){if(i)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}ny.subVectors(this.origin,e);const s=a*this.direction.dot(ry.crossVectors(ny,ry));if(s<0)return null;const l=a*this.direction.dot(iy.cross(ny));if(l<0)return null;if(s+l>o)return null;const c=-a*ny.dot(ay);return c<0?null:this.at(c/o,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class sy{constructor(e,t,n,i,r,a,o,s,l,c,u,d,h,p,f,m){sy.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,n,i,r,a,o,s,l,c,u,d,h,p,f,m)}set(e,t,n,i,r,a,o,s,l,c,u,d,h,p,f,m){const v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=i,v[1]=r,v[5]=a,v[9]=o,v[13]=s,v[2]=l,v[6]=c,v[10]=u,v[14]=d,v[3]=h,v[7]=p,v[11]=f,v[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new sy).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,i=1/ly.setFromMatrixColumn(e,0).length(),r=1/ly.setFromMatrixColumn(e,1).length(),a=1/ly.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,i=e.y,r=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(i),l=Math.sin(i),c=Math.cos(r),u=Math.sin(r);if("XYZ"===e.order){const e=a*c,n=a*u,i=o*c,r=o*u;t[0]=s*c,t[4]=-s*u,t[8]=l,t[1]=n+i*l,t[5]=e-r*l,t[9]=-o*s,t[2]=r-e*l,t[6]=i+n*l,t[10]=a*s}else if("YXZ"===e.order){const e=s*c,n=s*u,i=l*c,r=l*u;t[0]=e+r*o,t[4]=i*o-n,t[8]=a*l,t[1]=a*u,t[5]=a*c,t[9]=-o,t[2]=n*o-i,t[6]=r+e*o,t[10]=a*s}else if("ZXY"===e.order){const e=s*c,n=s*u,i=l*c,r=l*u;t[0]=e-r*o,t[4]=-a*u,t[8]=i+n*o,t[1]=n+i*o,t[5]=a*c,t[9]=r-e*o,t[2]=-a*l,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){const e=a*c,n=a*u,i=o*c,r=o*u;t[0]=s*c,t[4]=i*l-n,t[8]=e*l+r,t[1]=s*u,t[5]=r*l+e,t[9]=n*l-i,t[2]=-l,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){const e=a*s,n=a*l,i=o*s,r=o*l;t[0]=s*c,t[4]=r-e*u,t[8]=i*u+n,t[1]=u,t[5]=a*c,t[9]=-o*c,t[2]=-l*c,t[6]=n*u+i,t[10]=e-r*u}else if("XZY"===e.order){const e=a*s,n=a*l,i=o*s,r=o*l;t[0]=s*c,t[4]=-u,t[8]=l*c,t[1]=e*u+r,t[5]=a*c,t[9]=n*u-i,t[2]=i*u-n,t[6]=o*c,t[10]=r*u+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(uy,e,dy)}lookAt(e,t,n){const i=this.elements;return fy.subVectors(e,t),0===fy.lengthSq()&&(fy.z=1),fy.normalize(),hy.crossVectors(n,fy),0===hy.lengthSq()&&(1===Math.abs(n.z)?fy.x+=1e-4:fy.z+=1e-4,fy.normalize(),hy.crossVectors(n,fy)),hy.normalize(),py.crossVectors(fy,hy),i[0]=hy.x,i[4]=py.x,i[8]=fy.x,i[1]=hy.y,i[5]=py.y,i[9]=fy.y,i[2]=hy.z,i[6]=py.z,i[10]=fy.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,r=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],c=n[1],u=n[5],d=n[9],h=n[13],p=n[2],f=n[6],m=n[10],v=n[14],g=n[3],y=n[7],b=n[11],x=n[15],_=i[0],w=i[4],S=i[8],M=i[12],E=i[1],C=i[5],T=i[9],N=i[13],A=i[2],k=i[6],O=i[10],P=i[14],R=i[3],j=i[7],L=i[11],I=i[15];return r[0]=a*_+o*E+s*A+l*R,r[4]=a*w+o*C+s*k+l*j,r[8]=a*S+o*T+s*O+l*L,r[12]=a*M+o*N+s*P+l*I,r[1]=c*_+u*E+d*A+h*R,r[5]=c*w+u*C+d*k+h*j,r[9]=c*S+u*T+d*O+h*L,r[13]=c*M+u*N+d*P+h*I,r[2]=p*_+f*E+m*A+v*R,r[6]=p*w+f*C+m*k+v*j,r[10]=p*S+f*T+m*O+v*L,r[14]=p*M+f*N+m*P+v*I,r[3]=g*_+y*E+b*A+x*R,r[7]=g*w+y*C+b*k+x*j,r[11]=g*S+y*T+b*O+x*L,r[15]=g*M+y*N+b*P+x*I,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],a=e[1],o=e[5],s=e[9],l=e[13],c=e[2],u=e[6],d=e[10],h=e[14];return e[3]*(+r*s*u-i*l*u-r*o*d+n*l*d+i*o*h-n*s*h)+e[7]*(+t*s*h-t*l*d+r*a*d-i*a*h+i*l*c-r*s*c)+e[11]*(+t*l*u-t*o*h-r*a*u+n*a*h+r*o*c-n*l*c)+e[15]*(-i*o*c-t*s*u+t*o*d+i*a*u-n*a*d+n*s*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=e[9],d=e[10],h=e[11],p=e[12],f=e[13],m=e[14],v=e[15],g=u*m*l-f*d*l+f*s*h-o*m*h-u*s*v+o*d*v,y=p*d*l-c*m*l-p*s*h+a*m*h+c*s*v-a*d*v,b=c*f*l-p*u*l+p*o*h-a*f*h-c*o*v+a*u*v,x=p*u*s-c*f*s-p*o*d+a*f*d+c*o*m-a*u*m,_=t*g+n*y+i*b+r*x;if(0===_)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const w=1/_;return e[0]=g*w,e[1]=(f*d*r-u*m*r-f*i*h+n*m*h+u*i*v-n*d*v)*w,e[2]=(o*m*r-f*s*r+f*i*l-n*m*l-o*i*v+n*s*v)*w,e[3]=(u*s*r-o*d*r-u*i*l+n*d*l+o*i*h-n*s*h)*w,e[4]=y*w,e[5]=(c*m*r-p*d*r+p*i*h-t*m*h-c*i*v+t*d*v)*w,e[6]=(p*s*r-a*m*r-p*i*l+t*m*l+a*i*v-t*s*v)*w,e[7]=(a*d*r-c*s*r+c*i*l-t*d*l-a*i*h+t*s*h)*w,e[8]=b*w,e[9]=(p*u*r-c*f*r-p*n*h+t*f*h+c*n*v-t*u*v)*w,e[10]=(a*f*r-p*o*r+p*n*l-t*f*l-a*n*v+t*o*v)*w,e[11]=(c*o*r-a*u*r-c*n*l+t*u*l+a*n*h-t*o*h)*w,e[12]=x*w,e[13]=(c*f*i-p*u*i+p*n*d-t*f*d-c*n*m+t*u*m)*w,e[14]=(p*o*i-a*f*i-p*n*s+t*f*s+a*n*m-t*o*m)*w,e[15]=(a*u*i-c*o*i+c*n*s-t*u*s-a*n*d+t*o*d)*w,this}scale(e){const t=this.elements,n=e.x,i=e.y,r=e.z;return t[0]*=n,t[4]*=i,t[8]*=r,t[1]*=n,t[5]*=i,t[9]*=r,t[2]*=n,t[6]*=i,t[10]*=r,t[3]*=n,t[7]*=i,t[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),i=Math.sin(t),r=1-n,a=e.x,o=e.y,s=e.z,l=r*a,c=r*o;return this.set(l*a+n,l*o-i*s,l*s+i*o,0,l*o+i*s,c*o+n,c*s-i*a,0,l*s-i*o,c*s+i*a,r*s*s+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,i,r,a){return this.set(1,n,r,0,e,1,a,0,t,i,1,0,0,0,0,1),this}compose(e,t,n){const i=this.elements,r=t._x,a=t._y,o=t._z,s=t._w,l=r+r,c=a+a,u=o+o,d=r*l,h=r*c,p=r*u,f=a*c,m=a*u,v=o*u,g=s*l,y=s*c,b=s*u,x=n.x,_=n.y,w=n.z;return i[0]=(1-(f+v))*x,i[1]=(h+b)*x,i[2]=(p-y)*x,i[3]=0,i[4]=(h-b)*_,i[5]=(1-(d+v))*_,i[6]=(m+g)*_,i[7]=0,i[8]=(p+y)*w,i[9]=(m-g)*w,i[10]=(1-(d+f))*w,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,n){const i=this.elements;let r=ly.set(i[0],i[1],i[2]).length();const a=ly.set(i[4],i[5],i[6]).length(),o=ly.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],cy.copy(this);const s=1/r,l=1/a,c=1/o;return cy.elements[0]*=s,cy.elements[1]*=s,cy.elements[2]*=s,cy.elements[4]*=l,cy.elements[5]*=l,cy.elements[6]*=l,cy.elements[8]*=c,cy.elements[9]*=c,cy.elements[10]*=c,t.setFromRotationMatrix(cy),n.x=r,n.y=a,n.z=o,this}makePerspective(e,t,n,i,r,a){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Uv;const s=this.elements,l=2*r/(t-e),c=2*r/(n-i),u=(t+e)/(t-e),d=(n+i)/(n-i);let h,p;if(o===Uv)h=-(a+r)/(a-r),p=-2*a*r/(a-r);else{if(o!==zv)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);h=-a/(a-r),p=-a*r/(a-r)}return s[0]=l,s[4]=0,s[8]=u,s[12]=0,s[1]=0,s[5]=c,s[9]=d,s[13]=0,s[2]=0,s[6]=0,s[10]=h,s[14]=p,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(e,t,n,i,r,a){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Uv;const s=this.elements,l=1/(t-e),c=1/(n-i),u=1/(a-r),d=(t+e)*l,h=(n+i)*c;let p,f;if(o===Uv)p=(a+r)*u,f=-2*u;else{if(o!==zv)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);p=r*u,f=-1*u}return s[0]=2*l,s[4]=0,s[8]=0,s[12]=-d,s[1]=0,s[5]=2*c,s[9]=0,s[13]=-h,s[2]=0,s[6]=0,s[10]=f,s[14]=-p,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const ly=new Og,cy=new sy,uy=new Og(0,0,0),dy=new Og(1,1,1),hy=new Og,py=new Og,fy=new Og,my=new sy,vy=new kg;class gy{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:gy.DEFAULT_ORDER;this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=e.elements,r=i[0],a=i[4],o=i[8],s=i[1],l=i[5],c=i[9],u=i[2],d=i[6],h=i[10];switch(t){case"XYZ":this._y=Math.asin(Yv(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,h),this._z=Math.atan2(-a,r)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Yv(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(o,h),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-u,r),this._z=0);break;case"ZXY":this._x=Math.asin(Yv(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,h),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(s,r));break;case"ZYX":this._y=Math.asin(-Yv(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(s,r)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(Yv(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,r)):(this._x=0,this._y=Math.atan2(o,h));break;case"XZY":this._z=Math.asin(-Yv(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(o,r)):(this._x=Math.atan2(-c,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return my.makeRotationFromQuaternion(e),this.setFromRotationMatrix(my,t,n)}setFromVector3(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}reorder(e){return vy.setFromEuler(this),this.setFromQuaternion(vy,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}gy.DEFAULT_ORDER="XYZ";class yy{constructor(){this.mask=1}set(e){this.mask=1<<e>>>0}enable(e){this.mask|=1<<e}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e}disable(e){this.mask&=~(1<<e)}disableAll(){this.mask=0}test(e){return 0!==(this.mask&e.mask)}isEnabled(e){return 0!==(this.mask&1<<e)}}let by=0;const xy=new Og,_y=new kg,wy=new sy,Sy=new Og,My=new Og,Ey=new Og,Cy=new kg,Ty=new Og(1,0,0),Ny=new Og(0,1,0),Ay=new Og(0,0,1),ky={type:"added"},Oy={type:"removed"},Py={type:"childadded",child:null},Ry={type:"childremoved",child:null};class jy extends Bv{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:by++}),this.uuid=qv(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=jy.DEFAULT_UP.clone();const e=new Og,t=new gy,n=new kg,i=new Og(1,1,1);t._onChange((function(){n.setFromEuler(t,!1)})),n._onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new sy},normalMatrix:{value:new eg}}),this.matrix=new sy,this.matrixWorld=new sy,this.matrixAutoUpdate=jy.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=jy.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new yy,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return _y.setFromAxisAngle(e,t),this.quaternion.multiply(_y),this}rotateOnWorldAxis(e,t){return _y.setFromAxisAngle(e,t),this.quaternion.premultiply(_y),this}rotateX(e){return this.rotateOnAxis(Ty,e)}rotateY(e){return this.rotateOnAxis(Ny,e)}rotateZ(e){return this.rotateOnAxis(Ay,e)}translateOnAxis(e,t){return xy.copy(e).applyQuaternion(this.quaternion),this.position.add(xy.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Ty,e)}translateY(e){return this.translateOnAxis(Ny,e)}translateZ(e){return this.translateOnAxis(Ay,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(wy.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?Sy.copy(e):Sy.set(e,t,n);const i=this.parent;this.updateWorldMatrix(!0,!1),My.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?wy.lookAt(My,Sy,this.up):wy.lookAt(Sy,My,this.up),this.quaternion.setFromRotationMatrix(wy),i&&(wy.extractRotation(i.matrixWorld),_y.setFromRotationMatrix(wy),this.quaternion.premultiply(_y.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(ky),Py.child=e,this.dispatchEvent(Py),Py.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Oy),Ry.child=e,this.dispatchEvent(Ry),Ry.child=null),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),wy.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),wy.multiply(e.parent.matrixWorld)),e.applyMatrix4(wy),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(ky),Py.child=e,this.dispatchEvent(Py),Py.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){const i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}}getObjectsByProperty(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this[e]===t&&n.push(this);const i=this.children;for(let r=0,a=i.length;r<a;r++)i[r].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(My,e,Ey),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(My,Cy,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,i=t.length;n<i;n++){const i=t[n];!0!==i.matrixWorldAutoUpdate&&!0!==e||i.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t){const e=this.children;for(let t=0,n=e.length;t<n;t++){const n=e[t];!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};function r(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map((e=>({boxInitialized:e.boxInitialized,boxMin:e.box.min.toArray(),boxMax:e.box.max.toArray(),sphereInitialized:e.sphereInitialized,sphereRadius:e.sphere.radius,sphereCenter:e.sphere.center.toArray()}))),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),null!==this.boundingSphere&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),null!==this.boundingBox&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()})),this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const i=n[t];r(e.shapes,i)}else r(e.shapes,n)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let n=0,i=this.material.length;n<i;n++)t.push(r(e.materials,this.material[n]));i.material=t}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(let t=0;t<this.children.length;t++)i.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let t=0;t<this.animations.length;t++){const n=this.animations[t];i.animations.push(r(e.animations,n))}}if(t){const t=a(e.geometries),i=a(e.materials),r=a(e.textures),o=a(e.images),s=a(e.shapes),l=a(e.skeletons),c=a(e.animations),u=a(e.nodes);t.length>0&&(n.geometries=t),i.length>0&&(n.materials=i),r.length>0&&(n.textures=r),o.length>0&&(n.images=o),s.length>0&&(n.shapes=s),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c),u.length>0&&(n.nodes=u)}return n.object=i,n;function a(e){const t=[];for(const n in e){const i=e[n];delete i.metadata,t.push(i)}return t}}clone(e){return(new this.constructor).copy(this,e)}copy(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let n=0;n<e.children.length;n++){const t=e.children[n];this.add(t.clone())}return this}}jy.DEFAULT_UP=new Og(0,1,0),jy.DEFAULT_MATRIX_AUTO_UPDATE=!0,jy.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ly=new Og,Iy=new Og,Dy=new Og,Fy=new Og,Uy=new Og,zy=new Og,By=new Og,Hy=new Og,Vy=new Og,Wy=new Og;class Gy{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Og,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Og,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Og;this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,i){i.subVectors(n,t),Ly.subVectors(e,t),i.cross(Ly);const r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(e,t,n,i,r){Ly.subVectors(i,t),Iy.subVectors(n,t),Dy.subVectors(e,t);const a=Ly.dot(Ly),o=Ly.dot(Iy),s=Ly.dot(Dy),l=Iy.dot(Iy),c=Iy.dot(Dy),u=a*l-o*o;if(0===u)return r.set(0,0,0),null;const d=1/u,h=(l*s-o*c)*d,p=(a*c-o*s)*d;return r.set(1-h-p,p,h)}static containsPoint(e,t,n,i){return null!==this.getBarycoord(e,t,n,i,Fy)&&(Fy.x>=0&&Fy.y>=0&&Fy.x+Fy.y<=1)}static getInterpolation(e,t,n,i,r,a,o,s){return null===this.getBarycoord(e,t,n,i,Fy)?(s.x=0,s.y=0,"z"in s&&(s.z=0),"w"in s&&(s.w=0),null):(s.setScalar(0),s.addScaledVector(r,Fy.x),s.addScaledVector(a,Fy.y),s.addScaledVector(o,Fy.z),s)}static isFrontFacing(e,t,n,i){return Ly.subVectors(n,t),Iy.subVectors(e,t),Ly.cross(Iy).dot(i)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,n,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,i),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ly.subVectors(this.c,this.b),Iy.subVectors(this.a,this.b),.5*Ly.cross(Iy).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Gy.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Gy.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,i,r){return Gy.getInterpolation(e,this.a,this.b,this.c,t,n,i,r)}containsPoint(e){return Gy.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Gy.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,i=this.b,r=this.c;let a,o;Uy.subVectors(i,n),zy.subVectors(r,n),Hy.subVectors(e,n);const s=Uy.dot(Hy),l=zy.dot(Hy);if(s<=0&&l<=0)return t.copy(n);Vy.subVectors(e,i);const c=Uy.dot(Vy),u=zy.dot(Vy);if(c>=0&&u<=c)return t.copy(i);const d=s*u-c*l;if(d<=0&&s>=0&&c<=0)return a=s/(s-c),t.copy(n).addScaledVector(Uy,a);Wy.subVectors(e,r);const h=Uy.dot(Wy),p=zy.dot(Wy);if(p>=0&&h<=p)return t.copy(r);const f=h*l-s*p;if(f<=0&&l>=0&&p<=0)return o=l/(l-p),t.copy(n).addScaledVector(zy,o);const m=c*p-h*u;if(m<=0&&u-c>=0&&h-p>=0)return By.subVectors(r,i),o=(u-c)/(u-c+(h-p)),t.copy(i).addScaledVector(By,o);const v=1/(m+f+d);return a=f*v,o=d*v,t.copy(n).addScaledVector(Uy,a).addScaledVector(zy,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const qy={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Yy={h:0,s:0,l:0},Xy={h:0,s:0,l:0};function Zy(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}class Ky{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(void 0===t&&void 0===n){const t=e;t&&t.isColor?this.copy(t):"number"===typeof t?this.setHex(t):"string"===typeof t&&this.setStyle(t)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Km;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,pg.toWorkingColorSpace(this,t),this}setRGB(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:pg.workingColorSpace;return this.r=e,this.g=t,this.b=n,pg.toWorkingColorSpace(this,i),this}setHSL(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:pg.workingColorSpace;if(e=Xv(e,1),t=Yv(t,0,1),n=Yv(n,0,1),0===t)this.r=this.g=this.b=n;else{const i=n<=.5?n*(1+t):n+t-n*t,r=2*n-i;this.r=Zy(r,i,e+1/3),this.g=Zy(r,i,e),this.b=Zy(r,i,e-1/3)}return pg.toWorkingColorSpace(this,i),this}setStyle(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Km;function i(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(t=/^(\w+)\(([^\)]*)\)/.exec(e)){let r;const a=t[1],o=t[2];switch(a){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,n);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,n);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){const i=t[1],r=i.length;if(3===r)return this.setRGB(parseInt(i.charAt(0),16)/15,parseInt(i.charAt(1),16)/15,parseInt(i.charAt(2),16)/15,n);if(6===r)return this.setHex(parseInt(i,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Km;const n=qy[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=fg(e.r),this.g=fg(e.g),this.b=fg(e.b),this}copyLinearToSRGB(e){return this.r=mg(e.r),this.g=mg(e.g),this.b=mg(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Km;return pg.fromWorkingColorSpace(Jy.copy(this),e),65536*Math.round(Yv(255*Jy.r,0,255))+256*Math.round(Yv(255*Jy.g,0,255))+Math.round(Yv(255*Jy.b,0,255))}getHexString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Km;return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pg.workingColorSpace;pg.fromWorkingColorSpace(Jy.copy(this),t);const n=Jy.r,i=Jy.g,r=Jy.b,a=Math.max(n,i,r),o=Math.min(n,i,r);let s,l;const c=(o+a)/2;if(o===a)s=0,l=0;else{const e=a-o;switch(l=c<=.5?e/(a+o):e/(2-a-o),a){case n:s=(i-r)/e+(i<r?6:0);break;case i:s=(r-n)/e+2;break;case r:s=(n-i)/e+4}s/=6}return e.h=s,e.s=l,e.l=c,e}getRGB(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pg.workingColorSpace;return pg.fromWorkingColorSpace(Jy.copy(this),t),e.r=Jy.r,e.g=Jy.g,e.b=Jy.b,e}getStyle(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Km;pg.fromWorkingColorSpace(Jy.copy(this),e);const t=Jy.r,n=Jy.g,i=Jy.b;return e!==Km?"color(".concat(e," ").concat(t.toFixed(3)," ").concat(n.toFixed(3)," ").concat(i.toFixed(3),")"):"rgb(".concat(Math.round(255*t),",").concat(Math.round(255*n),",").concat(Math.round(255*i),")")}offsetHSL(e,t,n){return this.getHSL(Yy),this.setHSL(Yy.h+e,Yy.s+t,Yy.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Yy),e.getHSL(Xy);const n=Zv(Yy.h,Xy.h,t),i=Zv(Yy.s,Xy.s,t),r=Zv(Yy.l,Xy.l,t);return this.setHSL(n,i,r),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,i=this.b,r=e.elements;return this.r=r[0]*t+r[3]*n+r[6]*i,this.g=r[1]*t+r[4]*n+r[7]*i,this.b=r[2]*t+r[5]*n+r[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Jy=new Ky;Ky.NAMES=qy;let $y=0;class Qy extends Bv{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:$y++}),this.uuid=qv(),this.name="",this.type="Material",this.blending=gp,this.side=pp,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Op,this.blendDst=Pp,this.blendEquation=wp,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ky(0,0,0),this.blendAlpha=0,this.depthFunc=Gp,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=bv,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=av,this.stencilZFail=av,this.stencilZPass=av,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n){console.warn("THREE.Material: parameter '".concat(t,"' has value of undefined."));continue}const i=this[t];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n:console.warn("THREE.Material: '".concat(t,"' is not a property of THREE.").concat(this.type,"."))}}toJSON(e){const t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function i(e){const t=[];for(const n in e){const i=e[n];delete i.metadata,t.push(i)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(n.dispersion=this.dispersion),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapRotation&&(n.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==gp&&(n.blending=this.blending),this.side!==pp&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),this.blendSrc!==Op&&(n.blendSrc=this.blendSrc),this.blendDst!==Pp&&(n.blendDst=this.blendDst),this.blendEquation!==wp&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==Gp&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==bv&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==av&&(n.stencilFail=this.stencilFail),this.stencilZFail!==av&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==av&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){const t=i(e.textures),r=i(e.images);t.length>0&&(n.textures=t),r.length>0&&(n.images=r)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const e=t.length;n=new Array(e);for(let i=0;i!==e;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}class eb extends Qy{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ky(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new gy,this.combine=Kp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const tb=nb();function nb(){const e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const e=l-127;e<-27?(i[l]=0,i[256|l]=32768,r[l]=24,r[256|l]=24):e<-14?(i[l]=1024>>-e-14,i[256|l]=1024>>-e-14|32768,r[l]=-e-1,r[256|l]=-e-1):e<=15?(i[l]=e+15<<10,i[256|l]=e+15<<10|32768,r[l]=13,r[256|l]=13):e<128?(i[l]=31744,i[256|l]=64512,r[l]=24,r[256|l]=24):(i[l]=31744,i[256|l]=64512,r[l]=13,r[256|l]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let e=l<<13,t=0;for(;0===(8388608&e);)e<<=1,t-=8388608;e&=-8388609,t+=947912704,a[l]=e|t}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)32!==l&&(s[l]=1024);return{floatView:t,uint32View:n,baseTable:i,shiftTable:r,mantissaTable:a,exponentTable:o,offsetTable:s}}function ib(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=Yv(e,-65504,65504),tb.floatView[0]=e;const t=tb.uint32View[0],n=t>>23&511;return tb.baseTable[n]+((8388607&t)>>tb.shiftTable[n])}function rb(e){const t=e>>10;return tb.uint32View[0]=tb.mantissaTable[tb.offsetTable[t]+(1023&e)]+tb.exponentTable[t],tb.floatView[0]}const ab={toHalfFloat:ib,fromHalfFloat:rb},ob=new Og,sb=new Qv;class lb{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=n,this.usage=Nv,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=Lf,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}get updateRange(){return lg("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)sb.fromBufferAttribute(this,t),sb.applyMatrix3(e),this.setXY(t,sb.x,sb.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)ob.fromBufferAttribute(this,t),ob.applyMatrix3(e),this.setXYZ(t,ob.x,ob.y,ob.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)ob.fromBufferAttribute(this,t),ob.applyMatrix4(e),this.setXYZ(t,ob.x,ob.y,ob.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)ob.fromBufferAttribute(this,t),ob.applyNormalMatrix(e),this.setXYZ(t,ob.x,ob.y,ob.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)ob.fromBufferAttribute(this,t),ob.transformDirection(e),this.setXYZ(t,ob.x,ob.y,ob.z);return this}set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=Kv(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Jv(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Kv(t,this.array)),t}setX(e,t){return this.normalized&&(t=Jv(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Kv(t,this.array)),t}setY(e,t){return this.normalized&&(t=Jv(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Kv(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Jv(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Kv(t,this.array)),t}setW(e,t){return this.normalized&&(t=Jv(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Jv(t,this.array),n=Jv(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=Jv(t,this.array),n=Jv(n,this.array),i=Jv(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this}setXYZW(e,t,n,i,r){return e*=this.itemSize,this.normalized&&(t=Jv(t,this.array),n=Jv(n,this.array),i=Jv(i,this.array),r=Jv(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==Nv&&(e.usage=this.usage),e}}class cb extends lb{constructor(e,t,n){super(new Int8Array(e),t,n)}}class ub extends lb{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class db extends lb{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class hb extends lb{constructor(e,t,n){super(new Int16Array(e),t,n)}}class pb extends lb{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class fb extends lb{constructor(e,t,n){super(new Int32Array(e),t,n)}}class mb extends lb{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class vb extends lb{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=rb(this.array[e*this.itemSize]);return this.normalized&&(t=Kv(t,this.array)),t}setX(e,t){return this.normalized&&(t=Jv(t,this.array)),this.array[e*this.itemSize]=ib(t),this}getY(e){let t=rb(this.array[e*this.itemSize+1]);return this.normalized&&(t=Kv(t,this.array)),t}setY(e,t){return this.normalized&&(t=Jv(t,this.array)),this.array[e*this.itemSize+1]=ib(t),this}getZ(e){let t=rb(this.array[e*this.itemSize+2]);return this.normalized&&(t=Kv(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Jv(t,this.array)),this.array[e*this.itemSize+2]=ib(t),this}getW(e){let t=rb(this.array[e*this.itemSize+3]);return this.normalized&&(t=Kv(t,this.array)),t}setW(e,t){return this.normalized&&(t=Jv(t,this.array)),this.array[e*this.itemSize+3]=ib(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Jv(t,this.array),n=Jv(n,this.array)),this.array[e+0]=ib(t),this.array[e+1]=ib(n),this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=Jv(t,this.array),n=Jv(n,this.array),i=Jv(i,this.array)),this.array[e+0]=ib(t),this.array[e+1]=ib(n),this.array[e+2]=ib(i),this}setXYZW(e,t,n,i,r){return e*=this.itemSize,this.normalized&&(t=Jv(t,this.array),n=Jv(n,this.array),i=Jv(i,this.array),r=Jv(r,this.array)),this.array[e+0]=ib(t),this.array[e+1]=ib(n),this.array[e+2]=ib(i),this.array[e+3]=ib(r),this}}class gb extends lb{constructor(e,t,n){super(new Float32Array(e),t,n)}}let yb=0;const bb=new sy,xb=new jy,_b=new Og,wb=new jg,Sb=new jg,Mb=new Og;class Eb extends Bv{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:yb++}),this.uuid=qv(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(ng(e)?mb:pb)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const t=(new eg).getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}const i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return bb.makeRotationFromQuaternion(e),this.applyMatrix4(bb),this}rotateX(e){return bb.makeRotationX(e),this.applyMatrix4(bb),this}rotateY(e){return bb.makeRotationY(e),this.applyMatrix4(bb),this}rotateZ(e){return bb.makeRotationZ(e),this.applyMatrix4(bb),this}translate(e,t,n){return bb.makeTranslation(e,t,n),this.applyMatrix4(bb),this}scale(e,t,n){return bb.makeScale(e,t,n),this.applyMatrix4(bb),this}lookAt(e){return xb.lookAt(e),xb.updateMatrix(),this.applyMatrix4(xb.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_b).negate(),this.translate(_b.x,_b.y,_b.z),this}setFromPoints(e){const t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new gb(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new jg);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),void this.boundingBox.set(new Og(-1/0,-1/0,-1/0),new Og(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++){const e=t[n];wb.setFromBufferAttribute(e),this.morphTargetsRelative?(Mb.addVectors(this.boundingBox.min,wb.min),this.boundingBox.expandByPoint(Mb),Mb.addVectors(this.boundingBox.max,wb.max),this.boundingBox.expandByPoint(Mb)):(this.boundingBox.expandByPoint(wb.min),this.boundingBox.expandByPoint(wb.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new $g);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),void this.boundingSphere.set(new Og,1/0);if(e){const n=this.boundingSphere.center;if(wb.setFromBufferAttribute(e),t)for(let e=0,r=t.length;e<r;e++){const n=t[e];Sb.setFromBufferAttribute(n),this.morphTargetsRelative?(Mb.addVectors(wb.min,Sb.min),wb.expandByPoint(Mb),Mb.addVectors(wb.max,Sb.max),wb.expandByPoint(Mb)):(wb.expandByPoint(Sb.min),wb.expandByPoint(Sb.max))}wb.getCenter(n);let i=0;for(let t=0,r=e.count;t<r;t++)Mb.fromBufferAttribute(e,t),i=Math.max(i,n.distanceToSquared(Mb));if(t)for(let r=0,a=t.length;r<a;r++){const a=t[r],o=this.morphTargetsRelative;for(let t=0,r=a.count;t<r;t++)Mb.fromBufferAttribute(a,t),o&&(_b.fromBufferAttribute(e,t),Mb.add(_b)),i=Math.max(i,n.distanceToSquared(Mb))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=t.position,i=t.normal,r=t.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new lb(new Float32Array(4*n.count),4));const a=this.getAttribute("tangent"),o=[],s=[];for(let S=0;S<n.count;S++)o[S]=new Og,s[S]=new Og;const l=new Og,c=new Og,u=new Og,d=new Qv,h=new Qv,p=new Qv,f=new Og,m=new Og;function v(e,t,i){l.fromBufferAttribute(n,e),c.fromBufferAttribute(n,t),u.fromBufferAttribute(n,i),d.fromBufferAttribute(r,e),h.fromBufferAttribute(r,t),p.fromBufferAttribute(r,i),c.sub(l),u.sub(l),h.sub(d),p.sub(d);const a=1/(h.x*p.y-p.x*h.y);isFinite(a)&&(f.copy(c).multiplyScalar(p.y).addScaledVector(u,-h.y).multiplyScalar(a),m.copy(u).multiplyScalar(h.x).addScaledVector(c,-p.x).multiplyScalar(a),o[e].add(f),o[t].add(f),o[i].add(f),s[e].add(m),s[t].add(m),s[i].add(m))}let g=this.groups;0===g.length&&(g=[{start:0,count:e.count}]);for(let S=0,M=g.length;S<M;++S){const t=g[S],n=t.start;for(let i=n,r=n+t.count;i<r;i+=3)v(e.getX(i+0),e.getX(i+1),e.getX(i+2))}const y=new Og,b=new Og,x=new Og,_=new Og;function w(e){x.fromBufferAttribute(i,e),_.copy(x);const t=o[e];y.copy(t),y.sub(x.multiplyScalar(x.dot(t))).normalize(),b.crossVectors(_,t);const n=b.dot(s[e])<0?-1:1;a.setXYZW(e,y.x,y.y,y.z,n)}for(let S=0,M=g.length;S<M;++S){const t=g[S],n=t.start;for(let i=n,r=n+t.count;i<r;i+=3)w(e.getX(i+0)),w(e.getX(i+1)),w(e.getX(i+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new lb(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);const i=new Og,r=new Og,a=new Og,o=new Og,s=new Og,l=new Og,c=new Og,u=new Og;if(e)for(let d=0,h=e.count;d<h;d+=3){const h=e.getX(d+0),p=e.getX(d+1),f=e.getX(d+2);i.fromBufferAttribute(t,h),r.fromBufferAttribute(t,p),a.fromBufferAttribute(t,f),c.subVectors(a,r),u.subVectors(i,r),c.cross(u),o.fromBufferAttribute(n,h),s.fromBufferAttribute(n,p),l.fromBufferAttribute(n,f),o.add(c),s.add(c),l.add(c),n.setXYZ(h,o.x,o.y,o.z),n.setXYZ(p,s.x,s.y,s.z),n.setXYZ(f,l.x,l.y,l.z)}else for(let e=0,d=t.count;e<d;e+=3)i.fromBufferAttribute(t,e+0),r.fromBufferAttribute(t,e+1),a.fromBufferAttribute(t,e+2),c.subVectors(a,r),u.subVectors(i,r),c.cross(u),n.setXYZ(e+0,c.x,c.y,c.z),n.setXYZ(e+1,c.x,c.y,c.z),n.setXYZ(e+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Mb.fromBufferAttribute(e,t),Mb.normalize(),e.setXYZ(t,Mb.x,Mb.y,Mb.z)}toNonIndexed(){function e(e,t){const n=e.array,i=e.itemSize,r=e.normalized,a=new n.constructor(t.length*i);let o=0,s=0;for(let l=0,c=t.length;l<c;l++){o=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*i;for(let e=0;e<i;e++)a[s++]=n[o++]}return new lb(a,i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Eb,n=this.index.array,i=this.attributes;for(const o in i){const r=e(i[o],n);t.setAttribute(o,r)}const r=this.morphAttributes;for(const o in r){const i=[],a=r[o];for(let t=0,r=a.length;t<r;t++){const r=e(a[t],n);i.push(r)}t.morphAttributes[o]=i}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,s=a.length;o<s;o++){const e=a[o];t.addGroup(e.start,e.count,e.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const s in n){const t=n[s];e.data.attributes[s]=t.toJSON(e.data)}const i={};let r=!1;for(const s in this.morphAttributes){const t=this.morphAttributes[s],n=[];for(let i=0,r=t.length;i<r;i++){const r=t[i];n.push(r.toJSON(e.data))}n.length>0&&(i[s]=n,r=!0)}r&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return null!==o&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone(t));const i=e.attributes;for(const l in i){const e=i[l];this.setAttribute(l,e.clone(t))}const r=e.morphAttributes;for(const l in r){const e=[],n=r[l];for(let i=0,r=n.length;i<r;i++)e.push(n[i].clone(t));this.morphAttributes[l]=e}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let l=0,c=a.length;l<c;l++){const e=a[l];this.addGroup(e.start,e.count,e.materialIndex)}const o=e.boundingBox;null!==o&&(this.boundingBox=o.clone());const s=e.boundingSphere;return null!==s&&(this.boundingSphere=s.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Cb=new sy,Tb=new oy,Nb=new $g,Ab=new Og,kb=new Og,Ob=new Og,Pb=new Og,Rb=new Og,jb=new Og,Lb=new Qv,Ib=new Qv,Db=new Qv,Fb=new Og,Ub=new Og,zb=new Og,Bb=new Og,Hb=new Og;class Vb extends jy{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Eb,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new eb;super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}getVertexPosition(e,t){const n=this.geometry,i=n.attributes.position,r=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(i,e);const o=this.morphTargetInfluences;if(r&&o){jb.set(0,0,0);for(let n=0,i=r.length;n<i;n++){const i=o[n],s=r[n];0!==i&&(Rb.fromBufferAttribute(s,e),a?jb.addScaledVector(Rb,i):jb.addScaledVector(Rb.sub(t),i))}t.add(jb)}return t}raycast(e,t){const n=this.geometry,i=this.material,r=this.matrixWorld;if(void 0!==i){if(null===n.boundingSphere&&n.computeBoundingSphere(),Nb.copy(n.boundingSphere),Nb.applyMatrix4(r),Tb.copy(e.ray).recast(e.near),!1===Nb.containsPoint(Tb.origin)){if(null===Tb.intersectSphere(Nb,Ab))return;if(Tb.origin.distanceToSquared(Ab)>(e.far-e.near)**2)return}Cb.copy(r).invert(),Tb.copy(e.ray).applyMatrix4(Cb),null!==n.boundingBox&&!1===Tb.intersectsBox(n.boundingBox)||this._computeIntersections(e,t,Tb)}}_computeIntersections(e,t,n){let i;const r=this.geometry,a=this.material,o=r.index,s=r.attributes.position,l=r.attributes.uv,c=r.attributes.uv1,u=r.attributes.normal,d=r.groups,h=r.drawRange;if(null!==o)if(Array.isArray(a))for(let p=0,f=d.length;p<f;p++){const r=d[p],s=a[r.materialIndex];for(let a=Math.max(r.start,h.start),d=Math.min(o.count,Math.min(r.start+r.count,h.start+h.count));a<d;a+=3){i=Wb(this,s,e,n,l,c,u,o.getX(a),o.getX(a+1),o.getX(a+2)),i&&(i.faceIndex=Math.floor(a/3),i.face.materialIndex=r.materialIndex,t.push(i))}}else{for(let r=Math.max(0,h.start),s=Math.min(o.count,h.start+h.count);r<s;r+=3){i=Wb(this,a,e,n,l,c,u,o.getX(r),o.getX(r+1),o.getX(r+2)),i&&(i.faceIndex=Math.floor(r/3),t.push(i))}}else if(void 0!==s)if(Array.isArray(a))for(let p=0,f=d.length;p<f;p++){const r=d[p],o=a[r.materialIndex];for(let a=Math.max(r.start,h.start),d=Math.min(s.count,Math.min(r.start+r.count,h.start+h.count));a<d;a+=3){i=Wb(this,o,e,n,l,c,u,a,a+1,a+2),i&&(i.faceIndex=Math.floor(a/3),i.face.materialIndex=r.materialIndex,t.push(i))}}else{for(let r=Math.max(0,h.start),o=Math.min(s.count,h.start+h.count);r<o;r+=3){i=Wb(this,a,e,n,l,c,u,r,r+1,r+2),i&&(i.faceIndex=Math.floor(r/3),t.push(i))}}}}function Wb(e,t,n,i,r,a,o,s,l,c){e.getVertexPosition(s,kb),e.getVertexPosition(l,Ob),e.getVertexPosition(c,Pb);const u=function(e,t,n,i,r,a,o,s){let l;if(l=t.side===fp?i.intersectTriangle(o,a,r,!0,s):i.intersectTriangle(r,a,o,t.side===pp,s),null===l)return null;Hb.copy(s),Hb.applyMatrix4(e.matrixWorld);const c=n.ray.origin.distanceTo(Hb);return c<n.near||c>n.far?null:{distance:c,point:Hb.clone(),object:e}}(e,t,n,i,kb,Ob,Pb,Bb);if(u){r&&(Lb.fromBufferAttribute(r,s),Ib.fromBufferAttribute(r,l),Db.fromBufferAttribute(r,c),u.uv=Gy.getInterpolation(Bb,kb,Ob,Pb,Lb,Ib,Db,new Qv)),a&&(Lb.fromBufferAttribute(a,s),Ib.fromBufferAttribute(a,l),Db.fromBufferAttribute(a,c),u.uv1=Gy.getInterpolation(Bb,kb,Ob,Pb,Lb,Ib,Db,new Qv)),o&&(Fb.fromBufferAttribute(o,s),Ub.fromBufferAttribute(o,l),zb.fromBufferAttribute(o,c),u.normal=Gy.getInterpolation(Bb,kb,Ob,Pb,Fb,Ub,zb,new Og),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const e={a:s,b:l,c:c,normal:new Og,materialIndex:0};Gy.getNormal(kb,Ob,Pb,e.normal),u.face=e}return u}class Gb extends Eb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:a};const o=this;i=Math.floor(i),r=Math.floor(r),a=Math.floor(a);const s=[],l=[],c=[],u=[];let d=0,h=0;function p(e,t,n,i,r,a,p,f,m,v,g){const y=a/m,b=p/v,x=a/2,_=p/2,w=f/2,S=m+1,M=v+1;let E=0,C=0;const T=new Og;for(let o=0;o<M;o++){const a=o*b-_;for(let s=0;s<S;s++){const d=s*y-x;T[e]=d*i,T[t]=a*r,T[n]=w,l.push(T.x,T.y,T.z),T[e]=0,T[t]=0,T[n]=f>0?1:-1,c.push(T.x,T.y,T.z),u.push(s/m),u.push(1-o/v),E+=1}}for(let o=0;o<v;o++)for(let e=0;e<m;e++){const t=d+e+S*o,n=d+e+S*(o+1),i=d+(e+1)+S*(o+1),r=d+(e+1)+S*o;s.push(t,n,r),s.push(n,i,r),C+=6}o.addGroup(h,C,g),h+=C,d+=E}p("z","y","x",-1,-1,n,t,e,a,r,0),p("z","y","x",1,-1,n,t,-e,a,r,1),p("x","z","y",1,1,e,n,t,i,a,2),p("x","z","y",1,-1,e,n,-t,i,a,3),p("x","y","z",1,-1,e,t,n,i,r,4),p("x","y","z",-1,-1,e,t,-n,i,r,5),this.setIndex(s),this.setAttribute("position",new gb(l,3)),this.setAttribute("normal",new gb(c,3)),this.setAttribute("uv",new gb(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Gb(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function qb(e){const t={};for(const n in e){t[n]={};for(const i in e[n]){const r=e[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][i]=null):t[n][i]=r.clone():Array.isArray(r)?t[n][i]=r.slice():t[n][i]=r}}return t}function Yb(e){const t={};for(let n=0;n<e.length;n++){const i=qb(e[n]);for(const e in i)t[e]=i[e]}return t}function Xb(e){const t=e.getRenderTarget();return null===t?e.outputColorSpace:!0===t.isXRRenderTarget?t.texture.colorSpace:pg.workingColorSpace}const Zb={clone:qb,merge:Yb};class Kb extends Qy{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=qb(e.uniforms),this.uniformsGroups=function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const n=this.uniforms[i].value;n&&n.isTexture?t.uniforms[i]={type:"t",value:n.toJSON(e).uuid}:n&&n.isColor?t.uniforms[i]={type:"c",value:n.getHex()}:n&&n.isVector2?t.uniforms[i]={type:"v2",value:n.toArray()}:n&&n.isVector3?t.uniforms[i]={type:"v3",value:n.toArray()}:n&&n.isVector4?t.uniforms[i]={type:"v4",value:n.toArray()}:n&&n.isMatrix3?t.uniforms[i]={type:"m3",value:n.toArray()}:n&&n.isMatrix4?t.uniforms[i]={type:"m4",value:n.toArray()}:t.uniforms[i]={value:n}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const i in this.extensions)!0===this.extensions[i]&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class Jb extends jy{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new sy,this.projectionMatrix=new sy,this.projectionMatrixInverse=new sy,this.coordinateSystem=Uv}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const $b=new Og,Qb=new Qv,ex=new Qv;class tx extends Jb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*Gv*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*Wv*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*Gv*Math.atan(Math.tan(.5*Wv*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){$b.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set($b.x,$b.y).multiplyScalar(-e/$b.z),$b.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set($b.x,$b.y).multiplyScalar(-e/$b.z)}getViewSize(e,t){return this.getViewBounds(e,Qb,ex),t.subVectors(ex,Qb)}setViewOffset(e,t,n,i,r,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*Wv*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i;const a=this.view;if(null!==this.view&&this.view.enabled){const e=a.fullWidth,o=a.fullHeight;r+=a.offsetX*i/e,t-=a.offsetY*n/o,i*=a.width/e,n*=a.height/o}const o=this.filmOffset;0!==o&&(r+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const nx=-90;class ix extends jy{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new tx(nx,1,e,t);i.layers=this.layers,this.add(i);const r=new tx(nx,1,e,t);r.layers=this.layers,this.add(r);const a=new tx(nx,1,e,t);a.layers=this.layers,this.add(a);const o=new tx(nx,1,e,t);o.layers=this.layers,this.add(o);const s=new tx(nx,1,e,t);s.layers=this.layers,this.add(s);const l=new tx(nx,1,e,t);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,i,r,a,o,s]=t;for(const l of t)this.remove(l);if(e===Uv)n.up.set(0,1,0),n.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),s.up.set(0,1,0),s.lookAt(0,0,-1);else{if(e!==zv)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);n.up.set(0,-1,0),n.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),s.up.set(0,-1,0),s.lookAt(0,0,-1)}for(const l of t)this.add(l),l.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,a,o,s,l,c]=this.children,u=e.getRenderTarget(),d=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),p=e.xr.enabled;e.xr.enabled=!1;const f=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,i),e.render(t,r),e.setRenderTarget(n,1,i),e.render(t,a),e.setRenderTarget(n,2,i),e.render(t,o),e.setRenderTarget(n,3,i),e.render(t,s),e.setRenderTarget(n,4,i),e.render(t,l),n.texture.generateMipmaps=f,e.setRenderTarget(n,5,i),e.render(t,c),e.setRenderTarget(u,d,h),e.xr.enabled=p,n.texture.needsPMREMUpdate=!0}}class rx extends wg{constructor(e,t,n,i,r,a,o,s,l,c){super(e=void 0!==e?e:[],t=void 0!==t?t:df,n,i,r,a,o,s,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class ax extends Eg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},i=[n,n,n,n,n,n];this.texture=new rx(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:Mf}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={tEquirect:{value:null}},i="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",r="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",a=new Gb(5,5,5),o=new Kb({name:"CubemapFromEquirect",uniforms:qb(n),vertexShader:i,fragmentShader:r,side:fp,blending:vp});o.uniforms.tEquirect.value=t;const s=new Vb(a,o),l=t.minFilter;t.minFilter===Tf&&(t.minFilter=Mf);return new ix(1,10,this).update(e,s),t.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,n,i){const r=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,i);e.setRenderTarget(r)}}const ox=new Og,sx=new Og,lx=new eg;class cx{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Og(1,0,0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const i=ox.subVectors(n,t).cross(sx.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(ox),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/i;return r<0||r>1?null:t.copy(e.start).addScaledVector(n,r)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||lx.getNormalMatrix(e),i=this.coplanarPoint(ox).applyMatrix4(e),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const ux=new $g,dx=new Og;class hx{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new cx,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new cx,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new cx,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new cx,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new cx,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new cx;this.planes=[e,t,n,i,r,a]}set(e,t,n,i,r,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(i),o[4].copy(r),o[5].copy(a),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uv;const n=this.planes,i=e.elements,r=i[0],a=i[1],o=i[2],s=i[3],l=i[4],c=i[5],u=i[6],d=i[7],h=i[8],p=i[9],f=i[10],m=i[11],v=i[12],g=i[13],y=i[14],b=i[15];if(n[0].setComponents(s-r,d-l,m-h,b-v).normalize(),n[1].setComponents(s+r,d+l,m+h,b+v).normalize(),n[2].setComponents(s+a,d+c,m+p,b+g).normalize(),n[3].setComponents(s-a,d-c,m-p,b-g).normalize(),n[4].setComponents(s-o,d-u,m-f,b-y).normalize(),t===Uv)n[5].setComponents(s+o,d+u,m+f,b+y).normalize();else{if(t!==zv)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);n[5].setComponents(o,u,f,y).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),ux.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),ux.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(ux)}intersectsSprite(e){return ux.center.set(0,0,0),ux.radius=.7071067811865476,ux.applyMatrix4(e.matrixWorld),this.intersectsSphere(ux)}intersectsSphere(e){const t=this.planes,n=e.center,i=-e.radius;for(let r=0;r<6;r++){if(t[r].distanceToPoint(n)<i)return!1}return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const i=t[n];if(dx.x=i.normal.x>0?e.max.x:e.min.x,dx.y=i.normal.y>0?e.max.y:e.min.y,dx.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(dx)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function px(){let e=null,t=!1,n=null,i=null;function r(t,a){n(t,a),i=e.requestAnimationFrame(r)}return{start:function(){!0!==t&&null!==n&&(i=e.requestAnimationFrame(r),t=!0)},stop:function(){e.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function fx(e){const t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);const i=t.get(n);i&&(e.deleteBuffer(i.buffer),t.delete(n))},update:function(n,i){if(n.isGLBufferAttribute){const e=t.get(n);return void((!e||e.version<n.version)&&t.set(n,{buffer:n.buffer,type:n.type,bytesPerElement:n.elementSize,version:n.version}))}n.isInterleavedBufferAttribute&&(n=n.data);const r=t.get(n);if(void 0===r)t.set(n,function(t,n){const i=t.array,r=t.usage,a=i.byteLength,o=e.createBuffer();let s;if(e.bindBuffer(n,o),e.bufferData(n,i,r),t.onUploadCallback(),i instanceof Float32Array)s=e.FLOAT;else if(i instanceof Uint16Array)s=t.isFloat16BufferAttribute?e.HALF_FLOAT:e.UNSIGNED_SHORT;else if(i instanceof Int16Array)s=e.SHORT;else if(i instanceof Uint32Array)s=e.UNSIGNED_INT;else if(i instanceof Int32Array)s=e.INT;else if(i instanceof Int8Array)s=e.BYTE;else if(i instanceof Uint8Array)s=e.UNSIGNED_BYTE;else{if(!(i instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+i);s=e.UNSIGNED_BYTE}return{buffer:o,type:s,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version,size:a}}(n,i));else if(r.version<n.version){if(r.size!==n.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");!function(t,n,i){const r=n.array,a=n._updateRange,o=n.updateRanges;if(e.bindBuffer(i,t),-1===a.count&&0===o.length&&e.bufferSubData(i,0,r),0!==o.length){for(let t=0,n=o.length;t<n;t++){const n=o[t];e.bufferSubData(i,n.start*r.BYTES_PER_ELEMENT,r,n.start,n.count)}n.clearUpdateRanges()}-1!==a.count&&(e.bufferSubData(i,a.offset*r.BYTES_PER_ELEMENT,r,a.offset,a.count),a.count=-1),n.onUploadCallback()}(r.buffer,n,i),r.version=n.version}}}}class mx extends Eb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};const r=e/2,a=t/2,o=Math.floor(n),s=Math.floor(i),l=o+1,c=s+1,u=e/o,d=t/s,h=[],p=[],f=[],m=[];for(let v=0;v<c;v++){const e=v*d-a;for(let t=0;t<l;t++){const n=t*u-r;p.push(n,-e,0),f.push(0,0,1),m.push(t/o),m.push(1-v/s)}}for(let v=0;v<s;v++)for(let e=0;e<o;e++){const t=e+l*v,n=e+l*(v+1),i=e+1+l*(v+1),r=e+1+l*v;h.push(t,n,r),h.push(n,i,r)}this.setIndex(h),this.setAttribute("position",new gb(p,3)),this.setAttribute("normal",new gb(f,3)),this.setAttribute("uv",new gb(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mx(e.width,e.height,e.widthSegments,e.heightSegments)}}const vx={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\tattribute float batchId;\n\tuniform highp sampler2D batchingTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( batchId );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"\nconst mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(\n\tvec3( 0.8224621, 0.177538, 0.0 ),\n\tvec3( 0.0331941, 0.9668058, 0.0 ),\n\tvec3( 0.0170827, 0.0723974, 0.9105199 )\n);\nconst mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.2249401, - 0.2249404, 0.0 ),\n\tvec3( - 0.0420569, 1.0420571, 0.0 ),\n\tvec3( - 0.0196376, - 0.0786361, 1.0982735 )\n);\nvec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );\n}\nvec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );\n}\nvec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn sRGBTransferOETF( value );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[MORPHTARGETS_COUNT];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t#endif\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\t#ifndef USE_INSTANCING_MORPH\n\t\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\t#endif\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t\n\t\t#else\n\t\t\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},gx={common:{diffuse:{value:new Ky(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new eg},alphaMap:{value:null},alphaMapTransform:{value:new eg},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new eg}},envmap:{envMap:{value:null},envMapRotation:{value:new eg},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new eg}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new eg}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new eg},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new eg},normalScale:{value:new Qv(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new eg},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new eg}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new eg}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new eg}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ky(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ky(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new eg},alphaTest:{value:0},uvTransform:{value:new eg}},sprite:{diffuse:{value:new Ky(16777215)},opacity:{value:1},center:{value:new Qv(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new eg},alphaMap:{value:null},alphaMapTransform:{value:new eg},alphaTest:{value:0}}},yx={basic:{uniforms:Yb([gx.common,gx.specularmap,gx.envmap,gx.aomap,gx.lightmap,gx.fog]),vertexShader:vx.meshbasic_vert,fragmentShader:vx.meshbasic_frag},lambert:{uniforms:Yb([gx.common,gx.specularmap,gx.envmap,gx.aomap,gx.lightmap,gx.emissivemap,gx.bumpmap,gx.normalmap,gx.displacementmap,gx.fog,gx.lights,{emissive:{value:new Ky(0)}}]),vertexShader:vx.meshlambert_vert,fragmentShader:vx.meshlambert_frag},phong:{uniforms:Yb([gx.common,gx.specularmap,gx.envmap,gx.aomap,gx.lightmap,gx.emissivemap,gx.bumpmap,gx.normalmap,gx.displacementmap,gx.fog,gx.lights,{emissive:{value:new Ky(0)},specular:{value:new Ky(1118481)},shininess:{value:30}}]),vertexShader:vx.meshphong_vert,fragmentShader:vx.meshphong_frag},standard:{uniforms:Yb([gx.common,gx.envmap,gx.aomap,gx.lightmap,gx.emissivemap,gx.bumpmap,gx.normalmap,gx.displacementmap,gx.roughnessmap,gx.metalnessmap,gx.fog,gx.lights,{emissive:{value:new Ky(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:vx.meshphysical_vert,fragmentShader:vx.meshphysical_frag},toon:{uniforms:Yb([gx.common,gx.aomap,gx.lightmap,gx.emissivemap,gx.bumpmap,gx.normalmap,gx.displacementmap,gx.gradientmap,gx.fog,gx.lights,{emissive:{value:new Ky(0)}}]),vertexShader:vx.meshtoon_vert,fragmentShader:vx.meshtoon_frag},matcap:{uniforms:Yb([gx.common,gx.bumpmap,gx.normalmap,gx.displacementmap,gx.fog,{matcap:{value:null}}]),vertexShader:vx.meshmatcap_vert,fragmentShader:vx.meshmatcap_frag},points:{uniforms:Yb([gx.points,gx.fog]),vertexShader:vx.points_vert,fragmentShader:vx.points_frag},dashed:{uniforms:Yb([gx.common,gx.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:vx.linedashed_vert,fragmentShader:vx.linedashed_frag},depth:{uniforms:Yb([gx.common,gx.displacementmap]),vertexShader:vx.depth_vert,fragmentShader:vx.depth_frag},normal:{uniforms:Yb([gx.common,gx.bumpmap,gx.normalmap,gx.displacementmap,{opacity:{value:1}}]),vertexShader:vx.meshnormal_vert,fragmentShader:vx.meshnormal_frag},sprite:{uniforms:Yb([gx.sprite,gx.fog]),vertexShader:vx.sprite_vert,fragmentShader:vx.sprite_frag},background:{uniforms:{uvTransform:{value:new eg},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:vx.background_vert,fragmentShader:vx.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new eg}},vertexShader:vx.backgroundCube_vert,fragmentShader:vx.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:vx.cube_vert,fragmentShader:vx.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:vx.equirect_vert,fragmentShader:vx.equirect_frag},distanceRGBA:{uniforms:Yb([gx.common,gx.displacementmap,{referencePosition:{value:new Og},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:vx.distanceRGBA_vert,fragmentShader:vx.distanceRGBA_frag},shadow:{uniforms:Yb([gx.lights,gx.fog,{color:{value:new Ky(0)},opacity:{value:1}}]),vertexShader:vx.shadow_vert,fragmentShader:vx.shadow_frag}};yx.physical={uniforms:Yb([yx.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new eg},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new eg},clearcoatNormalScale:{value:new Qv(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new eg},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new eg},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new eg},sheen:{value:0},sheenColor:{value:new Ky(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new eg},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new eg},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new eg},transmissionSamplerSize:{value:new Qv},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new eg},attenuationDistance:{value:0},attenuationColor:{value:new Ky(0)},specularColor:{value:new Ky(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new eg},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new eg},anisotropyVector:{value:new Qv},anisotropyMap:{value:null},anisotropyMapTransform:{value:new eg}}]),vertexShader:vx.meshphysical_vert,fragmentShader:vx.meshphysical_frag};const bx={r:0,b:0,g:0},xx=new gy,_x=new sy;function wx(e,t,n,i,r,a,o){const s=new Ky(0);let l,c,u=!0===a?0:1,d=null,h=0,p=null;function f(e){let i=!0===e.isScene?e.background:null;if(i&&i.isTexture){i=(e.backgroundBlurriness>0?n:t).get(i)}return i}function m(t,n){t.getRGB(bx,Xb(e)),i.buffers.color.setClear(bx.r,bx.g,bx.b,n,o)}return{getClearColor:function(){return s},setClearColor:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;s.set(e),u=t,m(s,u)},getClearAlpha:function(){return u},setClearAlpha:function(e){u=e,m(s,u)},render:function(t){let n=!1;const r=f(t);null===r?m(s,u):r&&r.isColor&&(m(r,1),n=!0);const a=e.xr.getEnvironmentBlendMode();"additive"===a?i.buffers.color.setClear(0,0,0,1,o):"alpha-blend"===a&&i.buffers.color.setClear(0,0,0,0,o),(e.autoClear||n)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil)},addToRenderList:function(t,n){const i=f(n);i&&(i.isCubeTexture||i.mapping===mf)?(void 0===c&&(c=new Vb(new Gb(1,1,1),new Kb({name:"BackgroundCubeMaterial",uniforms:qb(yx.backgroundCube.uniforms),vertexShader:yx.backgroundCube.vertexShader,fragmentShader:yx.backgroundCube.fragmentShader,side:fp,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(c)),xx.copy(n.backgroundRotation),xx.x*=-1,xx.y*=-1,xx.z*=-1,i.isCubeTexture&&!1===i.isRenderTargetTexture&&(xx.y*=-1,xx.z*=-1),c.material.uniforms.envMap.value=i,c.material.uniforms.flipEnvMap.value=i.isCubeTexture&&!1===i.isRenderTargetTexture?-1:1,c.material.uniforms.backgroundBlurriness.value=n.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,c.material.uniforms.backgroundRotation.value.setFromMatrix4(_x.makeRotationFromEuler(xx)),c.material.toneMapped=pg.getTransfer(i.colorSpace)!==tv,d===i&&h===i.version&&p===e.toneMapping||(c.material.needsUpdate=!0,d=i,h=i.version,p=e.toneMapping),c.layers.enableAll(),t.unshift(c,c.geometry,c.material,0,0,null)):i&&i.isTexture&&(void 0===l&&(l=new Vb(new mx(2,2),new Kb({name:"BackgroundMaterial",uniforms:qb(yx.background.uniforms),vertexShader:yx.background.vertexShader,fragmentShader:yx.background.fragmentShader,side:pp,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=i,l.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,l.material.toneMapped=pg.getTransfer(i.colorSpace)!==tv,!0===i.matrixAutoUpdate&&i.updateMatrix(),l.material.uniforms.uvTransform.value.copy(i.matrix),d===i&&h===i.version&&p===e.toneMapping||(l.material.needsUpdate=!0,d=i,h=i.version,p=e.toneMapping),l.layers.enableAll(),t.unshift(l,l.geometry,l.material,0,0,null))}}}function Sx(e,t){const n=e.getParameter(e.MAX_VERTEX_ATTRIBS),i={},r=c(null);let a=r,o=!1;function s(t){return e.bindVertexArray(t)}function l(t){return e.deleteVertexArray(t)}function c(e){const t=[],i=[],r=[];for(let a=0;a<n;a++)t[a]=0,i[a]=0,r[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:i,attributeDivisors:r,object:e,attributes:{},index:null}}function u(){const e=a.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function d(e){h(e,0)}function h(t,n){const i=a.newAttributes,r=a.enabledAttributes,o=a.attributeDivisors;i[t]=1,0===r[t]&&(e.enableVertexAttribArray(t),r[t]=1),o[t]!==n&&(e.vertexAttribDivisor(t,n),o[t]=n)}function p(){const t=a.newAttributes,n=a.enabledAttributes;for(let i=0,r=n.length;i<r;i++)n[i]!==t[i]&&(e.disableVertexAttribArray(i),n[i]=0)}function f(t,n,i,r,a,o,s){!0===s?e.vertexAttribIPointer(t,n,i,a,o):e.vertexAttribPointer(t,n,i,r,a,o)}function m(){v(),o=!0,a!==r&&(a=r,s(a.object))}function v(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:function(n,r,l,m,v){let g=!1;const y=function(t,n,r){const a=!0===r.wireframe;let o=i[t.id];void 0===o&&(o={},i[t.id]=o);let s=o[n.id];void 0===s&&(s={},o[n.id]=s);let l=s[a];void 0===l&&(l=c(e.createVertexArray()),s[a]=l);return l}(m,l,r);a!==y&&(a=y,s(a.object)),g=function(e,t,n,i){const r=a.attributes,o=t.attributes;let s=0;const l=n.getAttributes();for(const a in l){if(l[a].location>=0){const t=r[a];let n=o[a];if(void 0===n&&("instanceMatrix"===a&&e.instanceMatrix&&(n=e.instanceMatrix),"instanceColor"===a&&e.instanceColor&&(n=e.instanceColor)),void 0===t)return!0;if(t.attribute!==n)return!0;if(n&&t.data!==n.data)return!0;s++}}return a.attributesNum!==s||a.index!==i}(n,m,l,v),g&&function(e,t,n,i){const r={},o=t.attributes;let s=0;const l=n.getAttributes();for(const a in l){if(l[a].location>=0){let t=o[a];void 0===t&&("instanceMatrix"===a&&e.instanceMatrix&&(t=e.instanceMatrix),"instanceColor"===a&&e.instanceColor&&(t=e.instanceColor));const n={};n.attribute=t,t&&t.data&&(n.data=t.data),r[a]=n,s++}}a.attributes=r,a.attributesNum=s,a.index=i}(n,m,l,v),null!==v&&t.update(v,e.ELEMENT_ARRAY_BUFFER),(g||o)&&(o=!1,function(n,i,r,a){u();const o=a.attributes,s=r.getAttributes(),l=i.defaultAttributeValues;for(const c in s){const i=s[c];if(i.location>=0){let r=o[c];if(void 0===r&&("instanceMatrix"===c&&n.instanceMatrix&&(r=n.instanceMatrix),"instanceColor"===c&&n.instanceColor&&(r=n.instanceColor)),void 0!==r){const o=r.normalized,s=r.itemSize,l=t.get(r);if(void 0===l)continue;const c=l.buffer,u=l.type,p=l.bytesPerElement,m=u===e.INT||u===e.UNSIGNED_INT||r.gpuType===Rf;if(r.isInterleavedBufferAttribute){const t=r.data,l=t.stride,v=r.offset;if(t.isInstancedInterleavedBuffer){for(let e=0;e<i.locationSize;e++)h(i.location+e,t.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=t.meshPerAttribute*t.count)}else for(let e=0;e<i.locationSize;e++)d(i.location+e);e.bindBuffer(e.ARRAY_BUFFER,c);for(let e=0;e<i.locationSize;e++)f(i.location+e,s/i.locationSize,u,o,l*p,(v+s/i.locationSize*e)*p,m)}else{if(r.isInstancedBufferAttribute){for(let e=0;e<i.locationSize;e++)h(i.location+e,r.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=r.meshPerAttribute*r.count)}else for(let e=0;e<i.locationSize;e++)d(i.location+e);e.bindBuffer(e.ARRAY_BUFFER,c);for(let e=0;e<i.locationSize;e++)f(i.location+e,s/i.locationSize,u,o,s*p,s/i.locationSize*e*p,m)}}else if(void 0!==l){const t=l[c];if(void 0!==t)switch(t.length){case 2:e.vertexAttrib2fv(i.location,t);break;case 3:e.vertexAttrib3fv(i.location,t);break;case 4:e.vertexAttrib4fv(i.location,t);break;default:e.vertexAttrib1fv(i.location,t)}}}}p()}(n,r,l,m),null!==v&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.get(v).buffer))},reset:m,resetDefaultState:v,dispose:function(){m();for(const e in i){const t=i[e];for(const e in t){const n=t[e];for(const e in n)l(n[e].object),delete n[e];delete t[e]}delete i[e]}},releaseStatesOfGeometry:function(e){if(void 0===i[e.id])return;const t=i[e.id];for(const n in t){const e=t[n];for(const t in e)l(e[t].object),delete e[t];delete t[n]}delete i[e.id]},releaseStatesOfProgram:function(e){for(const t in i){const n=i[t];if(void 0===n[e.id])continue;const r=n[e.id];for(const e in r)l(r[e].object),delete r[e];delete n[e.id]}},initAttributes:u,enableAttribute:d,disableUnusedAttributes:p}}function Mx(e,t,n){let i;function r(t,r,a){0!==a&&(e.drawArraysInstanced(i,t,r,a),n.update(r,i,a))}this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i,1)},this.renderInstances=r,this.renderMultiDraw=function(e,r,a){if(0===a)return;const o=t.get("WEBGL_multi_draw");if(null===o)for(let t=0;t<a;t++)this.render(e[t],r[t]);else{o.multiDrawArraysWEBGL(i,e,0,r,0,a);let t=0;for(let e=0;e<a;e++)t+=r[e];n.update(t,i,1)}},this.renderMultiDrawInstances=function(e,a,o,s){if(0===o)return;const l=t.get("WEBGL_multi_draw");if(null===l)for(let t=0;t<e.length;t++)r(e[t],a[t],s[t]);else{l.multiDrawArraysInstancedWEBGL(i,e,0,a,0,s,0,o);let t=0;for(let e=0;e<o;e++)t+=a[e];for(let e=0;e<s.length;e++)n.update(t,i,s[e])}}}function Ex(e,t,n,i){let r;function a(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let o=void 0!==n.precision?n.precision:"highp";const s=a(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);const l=!0===n.logarithmicDepthBuffer,c=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),u=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return{isWebGL2:!0,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){const n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:a,textureFormatReadable:function(t){return t===Vf||i.convert(t)===e.getParameter(e.IMPLEMENTATION_COLOR_READ_FORMAT)},textureTypeReadable:function(n){const r=n===If&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(n!==Af&&i.convert(n)!==e.getParameter(e.IMPLEMENTATION_COLOR_READ_TYPE)&&n!==Lf&&!r)},precision:o,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:u,maxTextureSize:e.getParameter(e.MAX_TEXTURE_SIZE),maxCubemapSize:e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:e.getParameter(e.MAX_VERTEX_ATTRIBS),maxVertexUniforms:e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:e.getParameter(e.MAX_VARYING_VECTORS),maxFragmentUniforms:e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),vertexTextures:u>0,maxSamples:e.getParameter(e.MAX_SAMPLES)}}function Cx(e){const t=this;let n=null,i=0,r=!1,a=!1;const o=new cx,s=new eg,l={value:null,needsUpdate:!1};function c(e,n,i,r){const a=null!==e?e.length:0;let c=null;if(0!==a){if(c=l.value,!0!==r||null===c){const t=i+4*a,r=n.matrixWorldInverse;s.getNormalMatrix(r),(null===c||c.length<t)&&(c=new Float32Array(t));for(let n=0,l=i;n!==a;++n,l+=4)o.copy(e[n]).applyMatrix4(r,s),o.normal.toArray(c,l),c[l+3]=o.constant}l.value=c,l.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){const n=0!==e.length||t||0!==i||r;return r=t,i=e.length,n},this.beginShadows=function(){a=!0,c(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(e,t){n=c(e,t,0)},this.setState=function(o,s,u){const d=o.clippingPlanes,h=o.clipIntersection,p=o.clipShadows,f=e.get(o);if(!r||null===d||0===d.length||a&&!p)a?c(null):function(){l.value!==n&&(l.value=n,l.needsUpdate=i>0);t.numPlanes=i,t.numIntersection=0}();else{const e=a?0:i,t=4*e;let r=f.clippingState||null;l.value=r,r=c(d,s,t,u);for(let i=0;i!==t;++i)r[i]=n[i];f.clippingState=r,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=e}}}function Tx(e){let t=new WeakMap;function n(e,t){return t===pf?e.mapping=df:t===ff&&(e.mapping=hf),e}function i(e){const n=e.target;n.removeEventListener("dispose",i);const r=t.get(n);void 0!==r&&(t.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture){const a=r.mapping;if(a===pf||a===ff){if(t.has(r)){return n(t.get(r).texture,r.mapping)}{const a=r.image;if(a&&a.height>0){const o=new ax(a.height);return o.fromEquirectangularTexture(e,r),t.set(r,o),r.addEventListener("dispose",i),n(o.texture,r.mapping)}return null}}}return r},dispose:function(){t=new WeakMap}}}class Nx extends Jb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=r,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,i,r,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=n-e,a=n+e,o=i+t,s=i-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=e*this.view.offsetX,a=r+e*this.view.width,o-=t*this.view.offsetY,s=o-t*this.view.height}this.projectionMatrix.makeOrthographic(r,a,o,s,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const Ax=[.125,.215,.35,.446,.526,.582],kx=20,Ox=new Nx,Px=new Ky;let Rx=null,jx=0,Lx=0,Ix=!1;const Dx=(1+Math.sqrt(5))/2,Fx=1/Dx,Ux=[new Og(-Dx,Fx,0),new Og(Dx,Fx,0),new Og(-Fx,0,Dx),new Og(Fx,0,Dx),new Og(0,Dx,-Fx),new Og(0,Dx,Fx),new Og(-1,1,-1),new Og(1,1,-1),new Og(-1,1,1),new Og(1,1,1)];class zx{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;Rx=this._renderer.getRenderTarget(),jx=this._renderer.getActiveCubeFace(),Lx=this._renderer.getActiveMipmapLevel(),Ix=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(e,n,i,r),t>0&&this._blur(r,0,0,t),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}fromCubemap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=Wx(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=Vx(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Rx,jx,Lx),this._renderer.xr.enabled=Ix,e.scissorTest=!1,Hx(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===df||e.mapping===hf?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Rx=this._renderer.getRenderTarget(),jx=this._renderer.getActiveCubeFace(),Lx=this._renderer.getActiveMipmapLevel(),Ix=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Mf,minFilter:Mf,generateMipmaps:!1,type:If,format:Vf,colorSpace:Jm,depthBuffer:!1},i=Bx(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Bx(e,t,n);const{_lodMax:i}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(e){const t=[],n=[],i=[];let r=e;const a=e-4+1+Ax.length;for(let o=0;o<a;o++){const a=Math.pow(2,r);n.push(a);let s=1/a;o>e-4?s=Ax[o-e+4-1]:0===o&&(s=0),i.push(s);const l=1/(a-2),c=-l,u=1+l,d=[c,c,u,c,u,u,c,c,u,u,c,u],h=6,p=6,f=3,m=2,v=1,g=new Float32Array(f*p*h),y=new Float32Array(m*p*h),b=new Float32Array(v*p*h);for(let e=0;e<h;e++){const t=e%3*2/3-1,n=e>2?0:-1,i=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];g.set(i,f*p*e),y.set(d,m*p*e);const r=[e,e,e,e,e,e];b.set(r,v*p*e)}const x=new Eb;x.setAttribute("position",new lb(g,f)),x.setAttribute("uv",new lb(y,m)),x.setAttribute("faceIndex",new lb(b,v)),t.push(x),r>4&&r--}return{lodPlanes:t,sizeLods:n,sigmas:i}}(i)),this._blurMaterial=function(e,t,n){const i=new Float32Array(kx),r=new Og(0,1,0),a=new Kb({name:"SphericalGaussianBlur",defines:{n:kx,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:vp,depthTest:!1,depthWrite:!1});return a}(i,e,t)}return i}_compileMaterial(e){const t=new Vb(this._lodPlanes[0],e);this._renderer.compile(t,Ox)}_sceneToCubeUV(e,t,n,i){const r=new tx(90,1,t,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,c=s.toneMapping;s.getClearColor(Px),s.toneMapping=Qp,s.autoClear=!1;const u=new eb({name:"PMREM.Background",side:fp,depthWrite:!1,depthTest:!1}),d=new Vb(new Gb,u);let h=!1;const p=e.background;p?p.isColor&&(u.color.copy(p),e.background=null,h=!0):(u.color.copy(Px),h=!0);for(let f=0;f<6;f++){const t=f%3;0===t?(r.up.set(0,a[f],0),r.lookAt(o[f],0,0)):1===t?(r.up.set(0,0,a[f]),r.lookAt(0,o[f],0)):(r.up.set(0,a[f],0),r.lookAt(0,0,o[f]));const n=this._cubeSize;Hx(i,t*n,f>2?n:0,n,n),s.setRenderTarget(i),h&&s.render(d,r),s.render(e,r)}d.geometry.dispose(),d.material.dispose(),s.toneMapping=c,s.autoClear=l,e.background=p}_textureToCubeUV(e,t){const n=this._renderer,i=e.mapping===df||e.mapping===hf;i?(null===this._cubemapMaterial&&(this._cubemapMaterial=Wx()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Vx());const r=i?this._cubemapMaterial:this._equirectMaterial,a=new Vb(this._lodPlanes[0],r);r.uniforms.envMap.value=e;const o=this._cubeSize;Hx(t,0,0,3*o,2*o),n.setRenderTarget(t),n.render(a,Ox)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const i=this._lodPlanes.length;for(let r=1;r<i;r++){const t=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),n=Ux[(i-r-1)%Ux.length];this._blur(e,r-1,r,t,n)}t.autoClear=n}_blur(e,t,n,i,r){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,i,"latitudinal",r),this._halfBlur(a,e,n,n,i,"longitudinal",r)}_halfBlur(e,t,n,i,r,a,o){const s=this._renderer,l=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");const c=new Vb(this._lodPlanes[i],l),u=l.uniforms,d=this._sizeLods[n]-1,h=isFinite(r)?Math.PI/(2*d):2*Math.PI/39,p=r/h,f=isFinite(r)?1+Math.floor(3*p):kx;f>kx&&console.warn("sigmaRadians, ".concat(r,", is too large and will clip, as it requested ").concat(f," samples when the maximum is set to ").concat(kx));const m=[];let v=0;for(let b=0;b<kx;++b){const e=b/p,t=Math.exp(-e*e/2);m.push(t),0===b?v+=t:b<f&&(v+=2*t)}for(let b=0;b<m.length;b++)m[b]=m[b]/v;u.envMap.value=e.texture,u.samples.value=f,u.weights.value=m,u.latitudinal.value="latitudinal"===a,o&&(u.poleAxis.value=o);const{_lodMax:g}=this;u.dTheta.value=h,u.mipInt.value=g-n;const y=this._sizeLods[i];Hx(t,3*y*(i>g-4?i-g+4:0),4*(this._cubeSize-y),3*y,2*y),s.setRenderTarget(t),s.render(c,Ox)}}function Bx(e,t,n){const i=new Eg(e,t,n);return i.texture.mapping=mf,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Hx(e,t,n,i,r){e.viewport.set(t,n,i,r),e.scissor.set(t,n,i,r)}function Vx(){return new Kb({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:vp,depthTest:!1,depthWrite:!1})}function Wx(){return new Kb({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:vp,depthTest:!1,depthWrite:!1})}function Gx(e){let t=new WeakMap,n=null;function i(e){const n=e.target;n.removeEventListener("dispose",i);const r=t.get(n);void 0!==r&&(t.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture){const a=r.mapping,o=a===pf||a===ff,s=a===df||a===hf;if(o||s){let a=t.get(r);const l=void 0!==a?a.texture.pmremVersion:0;if(r.isRenderTargetTexture&&r.pmremVersion!==l)return null===n&&(n=new zx(e)),a=o?n.fromEquirectangular(r,a):n.fromCubemap(r,a),a.texture.pmremVersion=r.pmremVersion,t.set(r,a),a.texture;if(void 0!==a)return a.texture;{const l=r.image;return o&&l&&l.height>0||s&&l&&function(e){let t=0;const n=6;for(let i=0;i<n;i++)void 0!==e[i]&&t++;return t===n}(l)?(null===n&&(n=new zx(e)),a=o?n.fromEquirectangular(r):n.fromCubemap(r),a.texture.pmremVersion=r.pmremVersion,t.set(r,a),r.addEventListener("dispose",i),a.texture):null}}}return r},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function qx(e){const t={};function n(n){if(void 0!==t[n])return t[n];let i;switch(n){case"WEBGL_depth_texture":i=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=e.getExtension(n)}return t[n]=i,i}return{has:function(e){return null!==n(e)},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(e){const t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function Yx(e,t,n,i){const r={},a=new WeakMap;function o(e){const s=e.target;null!==s.index&&t.remove(s.index);for(const n in s.attributes)t.remove(s.attributes[n]);for(const n in s.morphAttributes){const e=s.morphAttributes[n];for(let n=0,i=e.length;n<i;n++)t.remove(e[n])}s.removeEventListener("dispose",o),delete r[s.id];const l=a.get(s);l&&(t.remove(l),a.delete(s)),i.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){const n=[],i=e.index,r=e.attributes.position;let o=0;if(null!==i){const e=i.array;o=i.version;for(let t=0,i=e.length;t<i;t+=3){const i=e[t+0],r=e[t+1],a=e[t+2];n.push(i,r,r,a,a,i)}}else{if(void 0===r)return;{const e=r.array;o=r.version;for(let t=0,i=e.length/3-1;t<i;t+=3){const e=t+0,i=t+1,r=t+2;n.push(e,i,i,r,r,e)}}}const s=new(ng(n)?mb:pb)(n,1);s.version=o;const l=a.get(e);l&&t.remove(l),a.set(e,s)}return{get:function(e,t){return!0===r[t.id]||(t.addEventListener("dispose",o),r[t.id]=!0,n.memory.geometries++),t},update:function(n){const i=n.attributes;for(const a in i)t.update(i[a],e.ARRAY_BUFFER);const r=n.morphAttributes;for(const a in r){const n=r[a];for(let i=0,r=n.length;i<r;i++)t.update(n[i],e.ARRAY_BUFFER)}},getWireframeAttribute:function(e){const t=a.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function Xx(e,t,n){let i,r,a;function o(t,o,s){0!==s&&(e.drawElementsInstanced(i,o,r,t*a,s),n.update(o,i,s))}this.setMode=function(e){i=e},this.setIndex=function(e){r=e.type,a=e.bytesPerElement},this.render=function(t,o){e.drawElements(i,o,r,t*a),n.update(o,i,1)},this.renderInstances=o,this.renderMultiDraw=function(e,o,s){if(0===s)return;const l=t.get("WEBGL_multi_draw");if(null===l)for(let t=0;t<s;t++)this.render(e[t]/a,o[t]);else{l.multiDrawElementsWEBGL(i,o,0,r,e,0,s);let t=0;for(let e=0;e<s;e++)t+=o[e];n.update(t,i,1)}},this.renderMultiDrawInstances=function(e,s,l,c){if(0===l)return;const u=t.get("WEBGL_multi_draw");if(null===u)for(let t=0;t<e.length;t++)o(e[t]/a,s[t],c[t]);else{u.multiDrawElementsInstancedWEBGL(i,s,0,r,e,0,c,0,l);let t=0;for(let e=0;e<l;e++)t+=s[e];for(let e=0;e<c.length;e++)n.update(t,i,c[e])}}}function Zx(e){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,i,r){switch(t.calls++,i){case e.TRIANGLES:t.triangles+=r*(n/3);break;case e.LINES:t.lines+=r*(n/2);break;case e.LINE_STRIP:t.lines+=r*(n-1);break;case e.LINE_LOOP:t.lines+=r*n;break;case e.POINTS:t.points+=r*n;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",i)}}}}function Kx(e,t,n){const i=new WeakMap,r=new Sg;return{update:function(a,o,s){const l=a.morphTargetInfluences,c=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,u=void 0!==c?c.length:0;let d=i.get(o);if(void 0===d||d.count!==u){void 0!==d&&d.texture.dispose();const h=void 0!==o.morphAttributes.position,p=void 0!==o.morphAttributes.normal,f=void 0!==o.morphAttributes.color,m=o.morphAttributes.position||[],v=o.morphAttributes.normal||[],g=o.morphAttributes.color||[];let y=0;!0===h&&(y=1),!0===p&&(y=2),!0===f&&(y=3);let b=o.attributes.position.count*y,x=1;b>t.maxTextureSize&&(x=Math.ceil(b/t.maxTextureSize),b=t.maxTextureSize);const _=new Float32Array(b*x*4*u),w=new Cg(_,b,x,u);w.type=Lf,w.needsUpdate=!0;const S=4*y;for(let E=0;E<u;E++){const C=m[E],T=v[E],N=g[E],A=b*x*4*E;for(let k=0;k<C.count;k++){const O=k*S;!0===h&&(r.fromBufferAttribute(C,k),_[A+O+0]=r.x,_[A+O+1]=r.y,_[A+O+2]=r.z,_[A+O+3]=0),!0===p&&(r.fromBufferAttribute(T,k),_[A+O+4]=r.x,_[A+O+5]=r.y,_[A+O+6]=r.z,_[A+O+7]=0),!0===f&&(r.fromBufferAttribute(N,k),_[A+O+8]=r.x,_[A+O+9]=r.y,_[A+O+10]=r.z,_[A+O+11]=4===N.itemSize?r.w:1)}}function M(){w.dispose(),i.delete(o),o.removeEventListener("dispose",M)}d={count:u,texture:w,size:new Qv(b,x)},i.set(o,d),o.addEventListener("dispose",M)}if(!0===a.isInstancedMesh&&null!==a.morphTexture)s.getUniforms().setValue(e,"morphTexture",a.morphTexture,n);else{let P=0;for(let j=0;j<l.length;j++)P+=l[j];const R=o.morphTargetsRelative?1:1-P;s.getUniforms().setValue(e,"morphTargetBaseInfluence",R),s.getUniforms().setValue(e,"morphTargetInfluences",l)}s.getUniforms().setValue(e,"morphTargetsTexture",d.texture,n),s.getUniforms().setValue(e,"morphTargetsTextureSize",d.size)}}}function Jx(e,t,n,i){let r=new WeakMap;function a(e){const t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(o){const s=i.render.frame,l=o.geometry,c=t.get(o,l);if(r.get(c)!==s&&(t.update(c),r.set(c,s)),o.isInstancedMesh&&(!1===o.hasEventListener("dispose",a)&&o.addEventListener("dispose",a),r.get(o)!==s&&(n.update(o.instanceMatrix,e.ARRAY_BUFFER),null!==o.instanceColor&&n.update(o.instanceColor,e.ARRAY_BUFFER),r.set(o,s))),o.isSkinnedMesh){const e=o.skeleton;r.get(e)!==s&&(e.update(),r.set(e,s))}return c},dispose:function(){r=new WeakMap}}}class $x extends wg{constructor(e,t,n,i,r,a,o,s,l,c){if((c=void 0!==c?c:qf)!==qf&&c!==Yf)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===qf&&(n=jf),void 0===n&&c===Yf&&(n=Uf),super(null,i,r,a,o,s,c,n,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==o?o:bf,this.minFilter=void 0!==s?s:bf,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}const Qx=new wg,e_=new $x(1,1);e_.compareFunction=Sv;const t_=new Cg,n_=new Ng,i_=new rx,r_=[],a_=[],o_=new Float32Array(16),s_=new Float32Array(9),l_=new Float32Array(4);function c_(e,t,n){const i=e[0];if(i<=0||i>0)return e;const r=t*n;let a=r_[r];if(void 0===a&&(a=new Float32Array(r),r_[r]=a),0!==t){i.toArray(a,0);for(let i=1,r=0;i!==t;++i)r+=n,e[i].toArray(a,r)}return a}function u_(e,t){if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function d_(e,t){for(let n=0,i=t.length;n<i;n++)e[n]=t[n]}function h_(e,t){let n=a_[t];void 0===n&&(n=new Int32Array(t),a_[t]=n);for(let i=0;i!==t;++i)n[i]=e.allocateTextureUnit();return n}function p_(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function f_(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(u_(n,t))return;e.uniform2fv(this.addr,t),d_(n,t)}}function m_(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(u_(n,t))return;e.uniform3fv(this.addr,t),d_(n,t)}}function v_(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(u_(n,t))return;e.uniform4fv(this.addr,t),d_(n,t)}}function g_(e,t){const n=this.cache,i=t.elements;if(void 0===i){if(u_(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),d_(n,t)}else{if(u_(n,i))return;l_.set(i),e.uniformMatrix2fv(this.addr,!1,l_),d_(n,i)}}function y_(e,t){const n=this.cache,i=t.elements;if(void 0===i){if(u_(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),d_(n,t)}else{if(u_(n,i))return;s_.set(i),e.uniformMatrix3fv(this.addr,!1,s_),d_(n,i)}}function b_(e,t){const n=this.cache,i=t.elements;if(void 0===i){if(u_(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),d_(n,t)}else{if(u_(n,i))return;o_.set(i),e.uniformMatrix4fv(this.addr,!1,o_),d_(n,i)}}function x_(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function __(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(u_(n,t))return;e.uniform2iv(this.addr,t),d_(n,t)}}function w_(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(u_(n,t))return;e.uniform3iv(this.addr,t),d_(n,t)}}function S_(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(u_(n,t))return;e.uniform4iv(this.addr,t),d_(n,t)}}function M_(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function E_(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(u_(n,t))return;e.uniform2uiv(this.addr,t),d_(n,t)}}function C_(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(u_(n,t))return;e.uniform3uiv(this.addr,t),d_(n,t)}}function T_(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(u_(n,t))return;e.uniform4uiv(this.addr,t),d_(n,t)}}function N_(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r);const a=this.type===e.SAMPLER_2D_SHADOW?e_:Qx;n.setTexture2D(t||a,r)}function A_(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(t||n_,r)}function k_(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(t||i_,r)}function O_(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(t||t_,r)}function P_(e,t){e.uniform1fv(this.addr,t)}function R_(e,t){const n=c_(t,this.size,2);e.uniform2fv(this.addr,n)}function j_(e,t){const n=c_(t,this.size,3);e.uniform3fv(this.addr,n)}function L_(e,t){const n=c_(t,this.size,4);e.uniform4fv(this.addr,n)}function I_(e,t){const n=c_(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function D_(e,t){const n=c_(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function F_(e,t){const n=c_(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function U_(e,t){e.uniform1iv(this.addr,t)}function z_(e,t){e.uniform2iv(this.addr,t)}function B_(e,t){e.uniform3iv(this.addr,t)}function H_(e,t){e.uniform4iv(this.addr,t)}function V_(e,t){e.uniform1uiv(this.addr,t)}function W_(e,t){e.uniform2uiv(this.addr,t)}function G_(e,t){e.uniform3uiv(this.addr,t)}function q_(e,t){e.uniform4uiv(this.addr,t)}function Y_(e,t,n){const i=this.cache,r=t.length,a=h_(n,r);u_(i,a)||(e.uniform1iv(this.addr,a),d_(i,a));for(let o=0;o!==r;++o)n.setTexture2D(t[o]||Qx,a[o])}function X_(e,t,n){const i=this.cache,r=t.length,a=h_(n,r);u_(i,a)||(e.uniform1iv(this.addr,a),d_(i,a));for(let o=0;o!==r;++o)n.setTexture3D(t[o]||n_,a[o])}function Z_(e,t,n){const i=this.cache,r=t.length,a=h_(n,r);u_(i,a)||(e.uniform1iv(this.addr,a),d_(i,a));for(let o=0;o!==r;++o)n.setTextureCube(t[o]||i_,a[o])}function K_(e,t,n){const i=this.cache,r=t.length,a=h_(n,r);u_(i,a)||(e.uniform1iv(this.addr,a),d_(i,a));for(let o=0;o!==r;++o)n.setTexture2DArray(t[o]||t_,a[o])}class J_{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=function(e){switch(e){case 5126:return p_;case 35664:return f_;case 35665:return m_;case 35666:return v_;case 35674:return g_;case 35675:return y_;case 35676:return b_;case 5124:case 35670:return x_;case 35667:case 35671:return __;case 35668:case 35672:return w_;case 35669:case 35673:return S_;case 5125:return M_;case 36294:return E_;case 36295:return C_;case 36296:return T_;case 35678:case 36198:case 36298:case 36306:case 35682:return N_;case 35679:case 36299:case 36307:return A_;case 35680:case 36300:case 36308:case 36293:return k_;case 36289:case 36303:case 36311:case 36292:return O_}}(t.type)}}class $_{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=function(e){switch(e){case 5126:return P_;case 35664:return R_;case 35665:return j_;case 35666:return L_;case 35674:return I_;case 35675:return D_;case 35676:return F_;case 5124:case 35670:return U_;case 35667:case 35671:return z_;case 35668:case 35672:return B_;case 35669:case 35673:return H_;case 5125:return V_;case 36294:return W_;case 36295:return G_;case 36296:return q_;case 35678:case 36198:case 36298:case 36306:case 35682:return Y_;case 35679:case 36299:case 36307:return X_;case 35680:case 36300:case 36308:case 36293:return Z_;case 36289:case 36303:case 36311:case 36292:return K_}}(t.type)}}class Q_{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const i=this.seq;for(let r=0,a=i.length;r!==a;++r){const a=i[r];a.setValue(e,t[a.id],n)}}}const ew=/(\w+)(\])?(\[|\.)?/g;function tw(e,t){e.seq.push(t),e.map[t.id]=t}function nw(e,t,n){const i=e.name,r=i.length;for(ew.lastIndex=0;;){const a=ew.exec(i),o=ew.lastIndex;let s=a[1];const l="]"===a[2],c=a[3];if(l&&(s|=0),void 0===c||"["===c&&o+2===r){tw(n,void 0===c?new J_(s,e,t):new $_(s,e,t));break}{let e=n.map[s];void 0===e&&(e=new Q_(s),tw(n,e)),n=e}}}class iw{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;++i){const n=e.getActiveUniform(t,i);nw(n,e.getUniformLocation(t,n.name),this)}}setValue(e,t,n,i){const r=this.map[t];void 0!==r&&r.setValue(e,n,i)}setOptional(e,t,n){const i=t[n];void 0!==i&&this.setValue(e,n,i)}static upload(e,t,n,i){for(let r=0,a=t.length;r!==a;++r){const a=t[r],o=n[a.id];!1!==o.needsUpdate&&a.setValue(e,o.value,i)}}static seqWithValue(e,t){const n=[];for(let i=0,r=e.length;i!==r;++i){const r=e[i];r.id in t&&n.push(r)}return n}}function rw(e,t,n){const i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),i}const aw=37297;let ow=0;function sw(e,t,n){const i=e.getShaderParameter(t,e.COMPILE_STATUS),r=e.getShaderInfoLog(t).trim();if(i&&""===r)return"";const a=/ERROR: 0:(\d+)/.exec(r);if(a){const i=parseInt(a[1]);return n.toUpperCase()+"\n\n"+r+"\n\n"+function(e,t){const n=e.split("\n"),i=[],r=Math.max(t-6,0),a=Math.min(t+6,n.length);for(let o=r;o<a;o++){const e=o+1;i.push("".concat(e===t?">":" "," ").concat(e,": ").concat(n[o]))}return i.join("\n")}(e.getShaderSource(t),i)}return r}function lw(e,t){const n=function(e){const t=pg.getPrimaries(pg.workingColorSpace),n=pg.getPrimaries(e);let i;switch(t===n?i="":t===iv&&n===nv?i="LinearDisplayP3ToLinearSRGB":t===nv&&n===iv&&(i="LinearSRGBToLinearDisplayP3"),e){case Jm:case Qm:return[i,"LinearTransferOETF"];case Km:case $m:return[i,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",e),[i,"LinearTransferOETF"]}}(t);return"vec4 ".concat(e,"( vec4 value ) { return ").concat(n[0],"( ").concat(n[1],"( value ) ); }")}function cw(e,t){let n;switch(t){case ef:n="Linear";break;case tf:n="Reinhard";break;case nf:n="OptimizedCineon";break;case rf:n="ACESFilmic";break;case of:n="AgX";break;case sf:n="Neutral";break;case af:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function uw(e){return""!==e}function dw(e,t){const n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function hw(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const pw=/^[ \t]*#include +<([\w\d./]+)>/gm;function fw(e){return e.replace(pw,vw)}const mw=new Map;function vw(e,t){let n=vx[t];if(void 0===n){const e=mw.get(t);if(void 0===e)throw new Error("Can not resolve #include <"+t+">");n=vx[e],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,e)}return fw(n)}const gw=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function yw(e){return e.replace(gw,bw)}function bw(e,t,n,i){let r="";for(let a=parseInt(t);a<parseInt(n);a++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function xw(e){let t="precision ".concat(e.precision," float;\n\tprecision ").concat(e.precision," int;\n\tprecision ").concat(e.precision," sampler2D;\n\tprecision ").concat(e.precision," samplerCube;\n\tprecision ").concat(e.precision," sampler3D;\n\tprecision ").concat(e.precision," sampler2DArray;\n\tprecision ").concat(e.precision," sampler2DShadow;\n\tprecision ").concat(e.precision," samplerCubeShadow;\n\tprecision ").concat(e.precision," sampler2DArrayShadow;\n\tprecision ").concat(e.precision," isampler2D;\n\tprecision ").concat(e.precision," isampler3D;\n\tprecision ").concat(e.precision," isamplerCube;\n\tprecision ").concat(e.precision," isampler2DArray;\n\tprecision ").concat(e.precision," usampler2D;\n\tprecision ").concat(e.precision," usampler3D;\n\tprecision ").concat(e.precision," usamplerCube;\n\tprecision ").concat(e.precision," usampler2DArray;\n\t");return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function _w(e,t,n,i){const r=e.getContext(),a=n.defines;let o=n.vertexShader,s=n.fragmentShader;const l=function(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===up?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===dp?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===hp&&(t="SHADOWMAP_TYPE_VSM"),t}(n),c=function(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case df:case hf:t="ENVMAP_TYPE_CUBE";break;case mf:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),u=function(e){let t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===hf&&(t="ENVMAP_MODE_REFRACTION");return t}(n),d=function(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case Kp:t="ENVMAP_BLENDING_MULTIPLY";break;case Jp:t="ENVMAP_BLENDING_MIX";break;case $p:t="ENVMAP_BLENDING_ADD"}return t}(n),h=function(e){const t=e.envMapCubeUVHeight;if(null===t)return null;const n=Math.log2(t)-2,i=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:i,maxMip:n}}(n),p=function(e){return[e.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",e.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(uw).join("\n")}(n),f=function(e){const t=[];for(const n in e){const i=e[n];!1!==i&&t.push("#define "+n+" "+i)}return t.join("\n")}(a),m=r.createProgram();let v,g,y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,f].filter(uw).join("\n"),v.length>0&&(v+="\n"),g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,f].filter(uw).join("\n"),g.length>0&&(g+="\n")):(v=[xw(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,f,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(uw).join("\n"),g=[xw(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,f,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Qp?"#define TONE_MAPPING":"",n.toneMapping!==Qp?vx.tonemapping_pars_fragment:"",n.toneMapping!==Qp?cw("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",vx.colorspace_pars_fragment,lw("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(uw).join("\n")),o=fw(o),o=dw(o,n),o=hw(o,n),s=fw(s),s=dw(s,n),s=hw(s,n),o=yw(o),s=yw(s),!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",v=[p,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+v,g=["#define varying in",n.glslVersion===Fv?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Fv?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+g);const b=y+v+o,x=y+g+s,_=rw(r,r.VERTEX_SHADER,b),w=rw(r,r.FRAGMENT_SHADER,x);function S(t){if(e.debug.checkShaderErrors){const n=r.getProgramInfoLog(m).trim(),i=r.getShaderInfoLog(_).trim(),a=r.getShaderInfoLog(w).trim();let o=!0,s=!0;if(!1===r.getProgramParameter(m,r.LINK_STATUS))if(o=!1,"function"===typeof e.debug.onShaderError)e.debug.onShaderError(r,m,_,w);else{const e=sw(r,_,"vertex"),i=sw(r,w,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(m,r.VALIDATE_STATUS)+"\n\nMaterial Name: "+t.name+"\nMaterial Type: "+t.type+"\n\nProgram Info Log: "+n+"\n"+e+"\n"+i)}else""!==n?console.warn("THREE.WebGLProgram: Program Info Log:",n):""!==i&&""!==a||(s=!1);s&&(t.diagnostics={runnable:o,programLog:n,vertexShader:{log:i,prefix:v},fragmentShader:{log:a,prefix:g}})}r.deleteShader(_),r.deleteShader(w),M=new iw(r,m),E=function(e,t){const n={},i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const i=e.getActiveAttrib(t,r),a=i.name;let o=1;i.type===e.FLOAT_MAT2&&(o=2),i.type===e.FLOAT_MAT3&&(o=3),i.type===e.FLOAT_MAT4&&(o=4),n[a]={type:i.type,location:e.getAttribLocation(t,a),locationSize:o}}return n}(r,m)}let M,E;r.attachShader(m,_),r.attachShader(m,w),void 0!==n.index0AttributeName?r.bindAttribLocation(m,0,n.index0AttributeName):!0===n.morphTargets&&r.bindAttribLocation(m,0,"position"),r.linkProgram(m),this.getUniforms=function(){return void 0===M&&S(this),M},this.getAttributes=function(){return void 0===E&&S(this),E};let C=!1===n.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===C&&(C=r.getProgramParameter(m,aw)),C},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(m),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=ow++,this.cacheKey=t,this.usedTimes=1,this.program=m,this.vertexShader=_,this.fragmentShader=w,this}let ww=0;class Sw{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,i=this._getShaderStage(t),r=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(i)&&(a.add(i),i.usedTimes++),!1===a.has(r)&&(a.add(r),r.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return void 0===n&&(n=new Mw(e),t.set(e,n)),n}}class Mw{constructor(e){this.id=ww++,this.code=e,this.usedTimes=0}}function Ew(e,t,n,i,r,a,o){const s=new yy,l=new Sw,c=new Set,u=[],d=r.logarithmicDepthBuffer,h=r.vertexTextures;let p=r.precision;const f={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(e){return c.add(e),0===e?"uv":"uv".concat(e)}return{getParameters:function(a,s,u,v,g){const y=v.fog,b=g.geometry,x=a.isMeshStandardMaterial?v.environment:null,_=(a.isMeshStandardMaterial?n:t).get(a.envMap||x),w=_&&_.mapping===mf?_.image.height:null,S=f[a.type];null!==a.precision&&(p=r.getMaxPrecision(a.precision),p!==a.precision&&console.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",p,"instead."));const M=b.morphAttributes.position||b.morphAttributes.normal||b.morphAttributes.color,E=void 0!==M?M.length:0;let C,T,N,A,k=0;if(void 0!==b.morphAttributes.position&&(k=1),void 0!==b.morphAttributes.normal&&(k=2),void 0!==b.morphAttributes.color&&(k=3),S){const e=yx[S];C=e.vertexShader,T=e.fragmentShader}else C=a.vertexShader,T=a.fragmentShader,l.update(a),N=l.getVertexShaderID(a),A=l.getFragmentShaderID(a);const O=e.getRenderTarget(),P=!0===g.isInstancedMesh,R=!0===g.isBatchedMesh,j=!!a.map,L=!!a.matcap,I=!!_,D=!!a.aoMap,F=!!a.lightMap,U=!!a.bumpMap,z=!!a.normalMap,B=!!a.displacementMap,H=!!a.emissiveMap,V=!!a.metalnessMap,W=!!a.roughnessMap,G=a.anisotropy>0,q=a.clearcoat>0,Y=a.dispersion>0,X=a.iridescence>0,Z=a.sheen>0,K=a.transmission>0,J=G&&!!a.anisotropyMap,$=q&&!!a.clearcoatMap,Q=q&&!!a.clearcoatNormalMap,ee=q&&!!a.clearcoatRoughnessMap,te=X&&!!a.iridescenceMap,ne=X&&!!a.iridescenceThicknessMap,ie=Z&&!!a.sheenColorMap,re=Z&&!!a.sheenRoughnessMap,ae=!!a.specularMap,oe=!!a.specularColorMap,se=!!a.specularIntensityMap,le=K&&!!a.transmissionMap,ce=K&&!!a.thicknessMap,ue=!!a.gradientMap,de=!!a.alphaMap,he=a.alphaTest>0,pe=!!a.alphaHash,fe=!!a.extensions;let me=Qp;a.toneMapped&&(null!==O&&!0!==O.isXRRenderTarget||(me=e.toneMapping));const ve={shaderID:S,shaderType:a.type,shaderName:a.name,vertexShader:C,fragmentShader:T,defines:a.defines,customVertexShaderID:N,customFragmentShaderID:A,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:p,batching:R,instancing:P,instancingColor:P&&null!==g.instanceColor,instancingMorph:P&&null!==g.morphTexture,supportsVertexTextures:h,outputColorSpace:null===O?e.outputColorSpace:!0===O.isXRRenderTarget?O.texture.colorSpace:Jm,alphaToCoverage:!!a.alphaToCoverage,map:j,matcap:L,envMap:I,envMapMode:I&&_.mapping,envMapCubeUVHeight:w,aoMap:D,lightMap:F,bumpMap:U,normalMap:z,displacementMap:h&&B,emissiveMap:H,normalMapObjectSpace:z&&a.normalMapType===Xm,normalMapTangentSpace:z&&a.normalMapType===Ym,metalnessMap:V,roughnessMap:W,anisotropy:G,anisotropyMap:J,clearcoat:q,clearcoatMap:$,clearcoatNormalMap:Q,clearcoatRoughnessMap:ee,dispersion:Y,iridescence:X,iridescenceMap:te,iridescenceThicknessMap:ne,sheen:Z,sheenColorMap:ie,sheenRoughnessMap:re,specularMap:ae,specularColorMap:oe,specularIntensityMap:se,transmission:K,transmissionMap:le,thicknessMap:ce,gradientMap:ue,opaque:!1===a.transparent&&a.blending===gp&&!1===a.alphaToCoverage,alphaMap:de,alphaTest:he,alphaHash:pe,combine:a.combine,mapUv:j&&m(a.map.channel),aoMapUv:D&&m(a.aoMap.channel),lightMapUv:F&&m(a.lightMap.channel),bumpMapUv:U&&m(a.bumpMap.channel),normalMapUv:z&&m(a.normalMap.channel),displacementMapUv:B&&m(a.displacementMap.channel),emissiveMapUv:H&&m(a.emissiveMap.channel),metalnessMapUv:V&&m(a.metalnessMap.channel),roughnessMapUv:W&&m(a.roughnessMap.channel),anisotropyMapUv:J&&m(a.anisotropyMap.channel),clearcoatMapUv:$&&m(a.clearcoatMap.channel),clearcoatNormalMapUv:Q&&m(a.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ee&&m(a.clearcoatRoughnessMap.channel),iridescenceMapUv:te&&m(a.iridescenceMap.channel),iridescenceThicknessMapUv:ne&&m(a.iridescenceThicknessMap.channel),sheenColorMapUv:ie&&m(a.sheenColorMap.channel),sheenRoughnessMapUv:re&&m(a.sheenRoughnessMap.channel),specularMapUv:ae&&m(a.specularMap.channel),specularColorMapUv:oe&&m(a.specularColorMap.channel),specularIntensityMapUv:se&&m(a.specularIntensityMap.channel),transmissionMapUv:le&&m(a.transmissionMap.channel),thicknessMapUv:ce&&m(a.thicknessMap.channel),alphaMapUv:de&&m(a.alphaMap.channel),vertexTangents:!!b.attributes.tangent&&(z||G),vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!b.attributes.color&&4===b.attributes.color.itemSize,pointsUvs:!0===g.isPoints&&!!b.attributes.uv&&(j||de),fog:!!y,useFog:!0===a.fog,fogExp2:!!y&&y.isFogExp2,flatShading:!0===a.flatShading,sizeAttenuation:!0===a.sizeAttenuation,logarithmicDepthBuffer:d,skinning:!0===g.isSkinnedMesh,morphTargets:void 0!==b.morphAttributes.position,morphNormals:void 0!==b.morphAttributes.normal,morphColors:void 0!==b.morphAttributes.color,morphTargetsCount:E,morphTextureStride:k,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numLightProbes:s.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.length>0,shadowMapType:e.shadowMap.type,toneMapping:me,useLegacyLights:e._useLegacyLights,decodeVideoTexture:j&&!0===a.map.isVideoTexture&&pg.getTransfer(a.map.colorSpace)===tv,premultipliedAlpha:a.premultipliedAlpha,doubleSided:a.side===mp,flipSided:a.side===fp,useDepthPacking:a.depthPacking>=0,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionClipCullDistance:fe&&!0===a.extensions.clipCullDistance&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:fe&&!0===a.extensions.multiDraw&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:a.customProgramCacheKey()};return ve.vertexUv1s=c.has(1),ve.vertexUv2s=c.has(2),ve.vertexUv3s=c.has(3),c.clear(),ve},getProgramCacheKey:function(t){const n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputColorSpace),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.anisotropyMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.numLightProbes),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){s.disableAll(),t.supportsVertexTextures&&s.enable(0);t.instancing&&s.enable(1);t.instancingColor&&s.enable(2);t.instancingMorph&&s.enable(3);t.matcap&&s.enable(4);t.envMap&&s.enable(5);t.normalMapObjectSpace&&s.enable(6);t.normalMapTangentSpace&&s.enable(7);t.clearcoat&&s.enable(8);t.iridescence&&s.enable(9);t.alphaTest&&s.enable(10);t.vertexColors&&s.enable(11);t.vertexAlphas&&s.enable(12);t.vertexUv1s&&s.enable(13);t.vertexUv2s&&s.enable(14);t.vertexUv3s&&s.enable(15);t.vertexTangents&&s.enable(16);t.anisotropy&&s.enable(17);t.alphaHash&&s.enable(18);t.batching&&s.enable(19);t.dispersion&&s.enable(20);e.push(s.mask),s.disableAll(),t.fog&&s.enable(0);t.useFog&&s.enable(1);t.flatShading&&s.enable(2);t.logarithmicDepthBuffer&&s.enable(3);t.skinning&&s.enable(4);t.morphTargets&&s.enable(5);t.morphNormals&&s.enable(6);t.morphColors&&s.enable(7);t.premultipliedAlpha&&s.enable(8);t.shadowMapEnabled&&s.enable(9);t.useLegacyLights&&s.enable(10);t.doubleSided&&s.enable(11);t.flipSided&&s.enable(12);t.useDepthPacking&&s.enable(13);t.dithering&&s.enable(14);t.transmission&&s.enable(15);t.sheen&&s.enable(16);t.opaque&&s.enable(17);t.pointsUvs&&s.enable(18);t.decodeVideoTexture&&s.enable(19);t.alphaToCoverage&&s.enable(20);e.push(s.mask)}(n,t),n.push(e.outputColorSpace)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){const t=f[e.type];let n;if(t){const e=yx[t];n=Zb.clone(e.uniforms)}else n=e.uniforms;return n},acquireProgram:function(t,n){let i;for(let e=0,r=u.length;e<r;e++){const t=u[e];if(t.cacheKey===n){i=t,++i.usedTimes;break}}return void 0===i&&(i=new _w(e,n,t,a),u.push(i)),i},releaseProgram:function(e){if(0===--e.usedTimes){const t=u.indexOf(e);u[t]=u[u.length-1],u.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:u,dispose:function(){l.dispose()}}}function Cw(){let e=new WeakMap;return{get:function(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,i){e.get(t)[n]=i},dispose:function(){e=new WeakMap}}}function Tw(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Nw(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Aw(){const e=[];let t=0;const n=[],i=[],r=[];function a(n,i,r,a,o,s){let l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:i,material:r,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=i,l.material=r,l.groupOrder=a,l.renderOrder=n.renderOrder,l.z=o,l.group=s),t++,l}return{opaque:n,transmissive:i,transparent:r,init:function(){t=0,n.length=0,i.length=0,r.length=0},push:function(e,t,o,s,l,c){const u=a(e,t,o,s,l,c);o.transmission>0?i.push(u):!0===o.transparent?r.push(u):n.push(u)},unshift:function(e,t,o,s,l,c){const u=a(e,t,o,s,l,c);o.transmission>0?i.unshift(u):!0===o.transparent?r.unshift(u):n.unshift(u)},finish:function(){for(let n=t,i=e.length;n<i;n++){const t=e[n];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}},sort:function(e,t){n.length>1&&n.sort(e||Tw),i.length>1&&i.sort(t||Nw),r.length>1&&r.sort(t||Nw)}}}function kw(){let e=new WeakMap;return{get:function(t,n){const i=e.get(t);let r;return void 0===i?(r=new Aw,e.set(t,[r])):n>=i.length?(r=new Aw,i.push(r)):r=i[n],r},dispose:function(){e=new WeakMap}}}function Ow(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new Og,color:new Ky};break;case"SpotLight":n={position:new Og,direction:new Og,color:new Ky,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Og,color:new Ky,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Og,skyColor:new Ky,groundColor:new Ky};break;case"RectAreaLight":n={color:new Ky,position:new Og,halfWidth:new Og,halfHeight:new Og}}return e[t.id]=n,n}}}let Pw=0;function Rw(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function jw(e){const t=new Ow,n=function(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Qv};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Qv,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let s=0;s<9;s++)i.probe.push(new Og);const r=new Og,a=new sy,o=new sy;return{setup:function(r,a){let o=0,s=0,l=0;for(let e=0;e<9;e++)i.probe[e].set(0,0,0);let c=0,u=0,d=0,h=0,p=0,f=0,m=0,v=0,g=0,y=0,b=0;r.sort(Rw);const x=!0===a?Math.PI:1;for(let e=0,w=r.length;e<w;e++){const a=r[e],_=a.color,w=a.intensity,S=a.distance,M=a.shadow&&a.shadow.map?a.shadow.map.texture:null;if(a.isAmbientLight)o+=_.r*w*x,s+=_.g*w*x,l+=_.b*w*x;else if(a.isLightProbe){for(let e=0;e<9;e++)i.probe[e].addScaledVector(a.sh.coefficients[e],w);b++}else if(a.isDirectionalLight){const e=t.get(a);if(e.color.copy(a.color).multiplyScalar(a.intensity*x),a.castShadow){const e=a.shadow,t=n.get(a);t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,i.directionalShadow[c]=t,i.directionalShadowMap[c]=M,i.directionalShadowMatrix[c]=a.shadow.matrix,f++}i.directional[c]=e,c++}else if(a.isSpotLight){const e=t.get(a);e.position.setFromMatrixPosition(a.matrixWorld),e.color.copy(_).multiplyScalar(w*x),e.distance=S,e.coneCos=Math.cos(a.angle),e.penumbraCos=Math.cos(a.angle*(1-a.penumbra)),e.decay=a.decay,i.spot[d]=e;const r=a.shadow;if(a.map&&(i.spotLightMap[g]=a.map,g++,r.updateMatrices(a),a.castShadow&&y++),i.spotLightMatrix[d]=r.matrix,a.castShadow){const e=n.get(a);e.shadowBias=r.bias,e.shadowNormalBias=r.normalBias,e.shadowRadius=r.radius,e.shadowMapSize=r.mapSize,i.spotShadow[d]=e,i.spotShadowMap[d]=M,v++}d++}else if(a.isRectAreaLight){const e=t.get(a);e.color.copy(_).multiplyScalar(w),e.halfWidth.set(.5*a.width,0,0),e.halfHeight.set(0,.5*a.height,0),i.rectArea[h]=e,h++}else if(a.isPointLight){const e=t.get(a);if(e.color.copy(a.color).multiplyScalar(a.intensity*x),e.distance=a.distance,e.decay=a.decay,a.castShadow){const e=a.shadow,t=n.get(a);t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,t.shadowCameraNear=e.camera.near,t.shadowCameraFar=e.camera.far,i.pointShadow[u]=t,i.pointShadowMap[u]=M,i.pointShadowMatrix[u]=a.shadow.matrix,m++}i.point[u]=e,u++}else if(a.isHemisphereLight){const e=t.get(a);e.skyColor.copy(a.color).multiplyScalar(w*x),e.groundColor.copy(a.groundColor).multiplyScalar(w*x),i.hemi[p]=e,p++}}h>0&&(!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=gx.LTC_FLOAT_1,i.rectAreaLTC2=gx.LTC_FLOAT_2):(i.rectAreaLTC1=gx.LTC_HALF_1,i.rectAreaLTC2=gx.LTC_HALF_2)),i.ambient[0]=o,i.ambient[1]=s,i.ambient[2]=l;const _=i.hash;_.directionalLength===c&&_.pointLength===u&&_.spotLength===d&&_.rectAreaLength===h&&_.hemiLength===p&&_.numDirectionalShadows===f&&_.numPointShadows===m&&_.numSpotShadows===v&&_.numSpotMaps===g&&_.numLightProbes===b||(i.directional.length=c,i.spot.length=d,i.rectArea.length=h,i.point.length=u,i.hemi.length=p,i.directionalShadow.length=f,i.directionalShadowMap.length=f,i.pointShadow.length=m,i.pointShadowMap.length=m,i.spotShadow.length=v,i.spotShadowMap.length=v,i.directionalShadowMatrix.length=f,i.pointShadowMatrix.length=m,i.spotLightMatrix.length=v+g-y,i.spotLightMap.length=g,i.numSpotLightShadowsWithMaps=y,i.numLightProbes=b,_.directionalLength=c,_.pointLength=u,_.spotLength=d,_.rectAreaLength=h,_.hemiLength=p,_.numDirectionalShadows=f,_.numPointShadows=m,_.numSpotShadows=v,_.numSpotMaps=g,_.numLightProbes=b,i.version=Pw++)},setupView:function(e,t){let n=0,s=0,l=0,c=0,u=0;const d=t.matrixWorldInverse;for(let h=0,p=e.length;h<p;h++){const t=e[h];if(t.isDirectionalLight){const e=i.directional[n];e.direction.setFromMatrixPosition(t.matrixWorld),r.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(r),e.direction.transformDirection(d),n++}else if(t.isSpotLight){const e=i.spot[l];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(d),e.direction.setFromMatrixPosition(t.matrixWorld),r.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(r),e.direction.transformDirection(d),l++}else if(t.isRectAreaLight){const e=i.rectArea[c];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(d),o.identity(),a.copy(t.matrixWorld),a.premultiply(d),o.extractRotation(a),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),e.halfWidth.applyMatrix4(o),e.halfHeight.applyMatrix4(o),c++}else if(t.isPointLight){const e=i.point[s];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(d),s++}else if(t.isHemisphereLight){const e=i.hemi[u];e.direction.setFromMatrixPosition(t.matrixWorld),e.direction.transformDirection(d),u++}}},state:i}}function Lw(e){const t=new jw(e),n=[],i=[];const r={lightsArray:n,shadowsArray:i,camera:null,lights:t,transmissionRenderTarget:{}};return{init:function(e){r.camera=e,n.length=0,i.length=0},state:r,setupLights:function(e){t.setup(n,e)},setupLightsView:function(e){t.setupView(n,e)},pushLight:function(e){n.push(e)},pushShadow:function(e){i.push(e)}}}function Iw(e){let t=new WeakMap;return{get:function(n){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=t.get(n);let a;return void 0===r?(a=new Lw(e),t.set(n,[a])):i>=r.length?(a=new Lw(e),r.push(a)):a=r[i],a},dispose:function(){t=new WeakMap}}}class Dw extends Qy{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Gm,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Fw extends Qy{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function Uw(e,t,n){let i=new hx;const r=new Qv,a=new Qv,o=new Sg,s=new Dw({depthPacking:qm}),l=new Fw,c={},u=n.maxTextureSize,d={[pp]:fp,[fp]:pp,[mp]:mp},h=new Kb({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Qv},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),p=h.clone();p.defines.HORIZONTAL_PASS=1;const f=new Eb;f.setAttribute("position",new lb(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new Vb(f,h),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=up;let g=this.type;function y(n,i){const a=t.update(m);h.defines.VSM_SAMPLES!==n.blurSamples&&(h.defines.VSM_SAMPLES=n.blurSamples,p.defines.VSM_SAMPLES=n.blurSamples,h.needsUpdate=!0,p.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new Eg(r.x,r.y)),h.uniforms.shadow_pass.value=n.map.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(i,null,a,h,m,null),p.uniforms.shadow_pass.value=n.mapPass.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(i,null,a,p,m,null)}function b(t,n,i,r){let a=null;const o=!0===i.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==o)a=o;else if(a=!0===i.isPointLight?l:s,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){const e=a.uuid,t=n.uuid;let i=c[e];void 0===i&&(i={},c[e]=i);let r=i[t];void 0===r&&(r=a.clone(),i[t]=r,n.addEventListener("dispose",_)),a=r}if(a.visible=n.visible,a.wireframe=n.wireframe,a.side=r===hp?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:d[n.side],a.alphaMap=n.alphaMap,a.alphaTest=n.alphaTest,a.map=n.map,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.clipIntersection=n.clipIntersection,a.displacementMap=n.displacementMap,a.displacementScale=n.displacementScale,a.displacementBias=n.displacementBias,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,!0===i.isPointLight&&!0===a.isMeshDistanceMaterial){e.properties.get(a).light=i}return a}function x(n,r,a,o,s){if(!1===n.visible)return;if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===hp)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);const i=t.update(n),l=n.material;if(Array.isArray(l)){const t=i.groups;for(let c=0,u=t.length;c<u;c++){const u=t[c],d=l[u.materialIndex];if(d&&d.visible){const t=b(n,d,o,s);n.onBeforeShadow(e,n,r,a,i,t,u),e.renderBufferDirect(a,null,i,t,n,u),n.onAfterShadow(e,n,r,a,i,t,u)}}}else if(l.visible){const t=b(n,l,o,s);n.onBeforeShadow(e,n,r,a,i,t,null),e.renderBufferDirect(a,null,i,t,n,null),n.onAfterShadow(e,n,r,a,i,t,null)}}const l=n.children;for(let e=0,t=l.length;e<t;e++)x(l[e],r,a,o,s)}function _(e){e.target.removeEventListener("dispose",_);for(const t in c){const n=c[t],i=e.target.uuid;if(i in n){n[i].dispose(),delete n[i]}}}this.render=function(t,n,s){if(!1===v.enabled)return;if(!1===v.autoUpdate&&!1===v.needsUpdate)return;if(0===t.length)return;const l=e.getRenderTarget(),c=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),h=e.state;h.setBlending(vp),h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);const p=g!==hp&&this.type===hp,f=g===hp&&this.type!==hp;for(let m=0,v=t.length;m<v;m++){const l=t[m],c=l.shadow;if(void 0===c){console.warn("THREE.WebGLShadowMap:",l,"has no shadow.");continue}if(!1===c.autoUpdate&&!1===c.needsUpdate)continue;r.copy(c.mapSize);const d=c.getFrameExtents();if(r.multiply(d),a.copy(c.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(a.x=Math.floor(u/d.x),r.x=a.x*d.x,c.mapSize.x=a.x),r.y>u&&(a.y=Math.floor(u/d.y),r.y=a.y*d.y,c.mapSize.y=a.y)),null===c.map||!0===p||!0===f){const e=this.type!==hp?{minFilter:bf,magFilter:bf}:{};null!==c.map&&c.map.dispose(),c.map=new Eg(r.x,r.y,e),c.map.texture.name=l.name+".shadowMap",c.camera.updateProjectionMatrix()}e.setRenderTarget(c.map),e.clear();const v=c.getViewportCount();for(let e=0;e<v;e++){const t=c.getViewport(e);o.set(a.x*t.x,a.y*t.y,a.x*t.z,a.y*t.w),h.viewport(o),c.updateMatrices(l,e),i=c.getFrustum(),x(n,s,c.camera,l,this.type)}!0!==c.isPointLightShadow&&this.type===hp&&y(c,s),c.needsUpdate=!1}g=this.type,v.needsUpdate=!1,e.setRenderTarget(l,c,d)}}function zw(e){const t=new function(){let t=!1;const n=new Sg;let i=null;const r=new Sg(0,0,0,0);return{setMask:function(n){i===n||t||(e.colorMask(n,n,n,n),i=n)},setLocked:function(e){t=e},setClear:function(t,i,a,o,s){!0===s&&(t*=o,i*=o,a*=o),n.set(t,i,a,o),!1===r.equals(n)&&(e.clearColor(t,i,a,o),r.copy(n))},reset:function(){t=!1,i=null,r.set(-1,0,0,0)}}},n=new function(){let t=!1,n=null,i=null,r=null;return{setTest:function(t){t?U(e.DEPTH_TEST):z(e.DEPTH_TEST)},setMask:function(i){n===i||t||(e.depthMask(i),n=i)},setFunc:function(t){if(i!==t){switch(t){case Hp:e.depthFunc(e.NEVER);break;case Vp:e.depthFunc(e.ALWAYS);break;case Wp:e.depthFunc(e.LESS);break;case Gp:e.depthFunc(e.LEQUAL);break;case qp:e.depthFunc(e.EQUAL);break;case Yp:e.depthFunc(e.GEQUAL);break;case Xp:e.depthFunc(e.GREATER);break;case Zp:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}i=t}},setLocked:function(e){t=e},setClear:function(t){r!==t&&(e.clearDepth(t),r=t)},reset:function(){t=!1,n=null,i=null,r=null}}},i=new function(){let t=!1,n=null,i=null,r=null,a=null,o=null,s=null,l=null,c=null;return{setTest:function(n){t||(n?U(e.STENCIL_TEST):z(e.STENCIL_TEST))},setMask:function(i){n===i||t||(e.stencilMask(i),n=i)},setFunc:function(t,n,o){i===t&&r===n&&a===o||(e.stencilFunc(t,n,o),i=t,r=n,a=o)},setOp:function(t,n,i){o===t&&s===n&&l===i||(e.stencilOp(t,n,i),o=t,s=n,l=i)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,i=null,r=null,a=null,o=null,s=null,l=null,c=null}}},r=new WeakMap,a=new WeakMap;let o={},s={},l=new WeakMap,c=[],u=null,d=!1,h=null,p=null,f=null,m=null,v=null,g=null,y=null,b=new Ky(0,0,0),x=0,_=!1,w=null,S=null,M=null,E=null,C=null;const T=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let N=!1,A=0;const k=e.getParameter(e.VERSION);-1!==k.indexOf("WebGL")?(A=parseFloat(/^WebGL (\d)/.exec(k)[1]),N=A>=1):-1!==k.indexOf("OpenGL ES")&&(A=parseFloat(/^OpenGL ES (\d)/.exec(k)[1]),N=A>=2);let O=null,P={};const R=e.getParameter(e.SCISSOR_BOX),j=e.getParameter(e.VIEWPORT),L=(new Sg).fromArray(R),I=(new Sg).fromArray(j);function D(t,n,i,r){const a=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(let s=0;s<i;s++)t===e.TEXTURE_3D||t===e.TEXTURE_2D_ARRAY?e.texImage3D(n,0,e.RGBA,1,1,r,0,e.RGBA,e.UNSIGNED_BYTE,a):e.texImage2D(n+s,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,a);return o}const F={};function U(t){!0!==o[t]&&(e.enable(t),o[t]=!0)}function z(t){!1!==o[t]&&(e.disable(t),o[t]=!1)}F[e.TEXTURE_2D]=D(e.TEXTURE_2D,e.TEXTURE_2D,1),F[e.TEXTURE_CUBE_MAP]=D(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),F[e.TEXTURE_2D_ARRAY]=D(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),F[e.TEXTURE_3D]=D(e.TEXTURE_3D,e.TEXTURE_3D,1,1),t.setClear(0,0,0,1),n.setClear(1),i.setClear(0),U(e.DEPTH_TEST),n.setFunc(Gp),W(!1),G(op),U(e.CULL_FACE),V(vp);const B={[wp]:e.FUNC_ADD,[Sp]:e.FUNC_SUBTRACT,[Mp]:e.FUNC_REVERSE_SUBTRACT};B[Ep]=e.MIN,B[Cp]=e.MAX;const H={[Tp]:e.ZERO,[Np]:e.ONE,[Ap]:e.SRC_COLOR,[Op]:e.SRC_ALPHA,[Dp]:e.SRC_ALPHA_SATURATE,[Lp]:e.DST_COLOR,[Rp]:e.DST_ALPHA,[kp]:e.ONE_MINUS_SRC_COLOR,[Pp]:e.ONE_MINUS_SRC_ALPHA,[Ip]:e.ONE_MINUS_DST_COLOR,[jp]:e.ONE_MINUS_DST_ALPHA,[Fp]:e.CONSTANT_COLOR,[Up]:e.ONE_MINUS_CONSTANT_COLOR,[zp]:e.CONSTANT_ALPHA,[Bp]:e.ONE_MINUS_CONSTANT_ALPHA};function V(t,n,i,r,a,o,s,l,c,u){if(t!==vp){if(!1===d&&(U(e.BLEND),d=!0),t===_p)a=a||n,o=o||i,s=s||r,n===p&&a===v||(e.blendEquationSeparate(B[n],B[a]),p=n,v=a),i===f&&r===m&&o===g&&s===y||(e.blendFuncSeparate(H[i],H[r],H[o],H[s]),f=i,m=r,g=o,y=s),!1!==l.equals(b)&&c===x||(e.blendColor(l.r,l.g,l.b,c),b.copy(l),x=c),h=t,_=!1;else if(t!==h||u!==_){if(p===wp&&v===wp||(e.blendEquation(e.FUNC_ADD),p=wp,v=wp),u)switch(t){case gp:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case yp:e.blendFunc(e.ONE,e.ONE);break;case bp:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case xp:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case gp:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case yp:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case bp:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case xp:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}f=null,m=null,g=null,y=null,b.set(0,0,0),x=0,h=t,_=u}}else!0===d&&(z(e.BLEND),d=!1)}function W(t){w!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),w=t)}function G(t){t!==ap?(U(e.CULL_FACE),t!==S&&(t===op?e.cullFace(e.BACK):t===sp?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):z(e.CULL_FACE),S=t}function q(t,n,i){t?(U(e.POLYGON_OFFSET_FILL),E===n&&C===i||(e.polygonOffset(n,i),E=n,C=i)):z(e.POLYGON_OFFSET_FILL)}return{buffers:{color:t,depth:n,stencil:i},enable:U,disable:z,bindFramebuffer:function(t,n){return s[t]!==n&&(e.bindFramebuffer(t,n),s[t]=n,t===e.DRAW_FRAMEBUFFER&&(s[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(s[e.DRAW_FRAMEBUFFER]=n),!0)},drawBuffers:function(t,n){let i=c,r=!1;if(t){i=l.get(n),void 0===i&&(i=[],l.set(n,i));const a=t.textures;if(i.length!==a.length||i[0]!==e.COLOR_ATTACHMENT0){for(let t=0,n=a.length;t<n;t++)i[t]=e.COLOR_ATTACHMENT0+t;i.length=a.length,r=!0}}else i[0]!==e.BACK&&(i[0]=e.BACK,r=!0);r&&e.drawBuffers(i)},useProgram:function(t){return u!==t&&(e.useProgram(t),u=t,!0)},setBlending:V,setMaterial:function(r,a){r.side===mp?z(e.CULL_FACE):U(e.CULL_FACE);let o=r.side===fp;a&&(o=!o),W(o),r.blending===gp&&!1===r.transparent?V(vp):V(r.blending,r.blendEquation,r.blendSrc,r.blendDst,r.blendEquationAlpha,r.blendSrcAlpha,r.blendDstAlpha,r.blendColor,r.blendAlpha,r.premultipliedAlpha),n.setFunc(r.depthFunc),n.setTest(r.depthTest),n.setMask(r.depthWrite),t.setMask(r.colorWrite);const s=r.stencilWrite;i.setTest(s),s&&(i.setMask(r.stencilWriteMask),i.setFunc(r.stencilFunc,r.stencilRef,r.stencilFuncMask),i.setOp(r.stencilFail,r.stencilZFail,r.stencilZPass)),q(r.polygonOffset,r.polygonOffsetFactor,r.polygonOffsetUnits),!0===r.alphaToCoverage?U(e.SAMPLE_ALPHA_TO_COVERAGE):z(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:W,setCullFace:G,setLineWidth:function(t){t!==M&&(N&&e.lineWidth(t),M=t)},setPolygonOffset:q,setScissorTest:function(t){t?U(e.SCISSOR_TEST):z(e.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=e.TEXTURE0+T-1),O!==t&&(e.activeTexture(t),O=t)},bindTexture:function(t,n,i){void 0===i&&(i=null===O?e.TEXTURE0+T-1:O);let r=P[i];void 0===r&&(r={type:void 0,texture:void 0},P[i]=r),r.type===t&&r.texture===n||(O!==i&&(e.activeTexture(i),O=i),e.bindTexture(t,n||F[t]),r.type=t,r.texture=n)},unbindTexture:function(){const t=P[O];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},updateUBOMapping:function(t,n){let i=a.get(n);void 0===i&&(i=new WeakMap,a.set(n,i));let r=i.get(t);void 0===r&&(r=e.getUniformBlockIndex(n,t.name),i.set(t,r))},uniformBlockBinding:function(t,n){const i=a.get(n).get(t);r.get(n)!==i&&(e.uniformBlockBinding(n,i,t.__bindingPointIndex),r.set(n,i))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===L.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),L.copy(t))},viewport:function(t){!1===I.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),I.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.blendColor(0,0,0,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),o={},O=null,P={},s={},l=new WeakMap,c=[],u=null,d=!1,h=null,p=null,f=null,m=null,v=null,g=null,y=null,b=new Ky(0,0,0),x=0,_=!1,w=null,S=null,M=null,E=null,C=null,L.set(0,0,e.canvas.width,e.canvas.height),I.set(0,0,e.canvas.width,e.canvas.height),t.reset(),n.reset(),i.reset()}}}function Bw(e,t,n,i,r,a,o){const s=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,l="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),c=new Qv,u=new WeakMap;let d;const h=new WeakMap;let p=!1;try{p="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(z){}function f(e,t){return p?new OffscreenCanvas(e,t):ag("canvas")}function m(e,t,n){let i=1;const r=U(e);if((r.width>n||r.height>n)&&(i=n/Math.max(r.width,r.height)),i<1){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!==typeof VideoFrame&&e instanceof VideoFrame){const n=Math.floor(i*r.width),a=Math.floor(i*r.height);void 0===d&&(d=f(n,a));const o=t?f(n,a):d;o.width=n,o.height=a;return o.getContext("2d").drawImage(e,0,0,n,a),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+r.width+"x"+r.height+") to ("+n+"x"+a+")."),o}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+r.width+"x"+r.height+")."),e}return e}function v(e){return e.generateMipmaps&&e.minFilter!==bf&&e.minFilter!==Mf}function g(t){e.generateMipmap(t)}function y(n,i,r,a){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let s=i;if(i===e.RED&&(r===e.FLOAT&&(s=e.R32F),r===e.HALF_FLOAT&&(s=e.R16F),r===e.UNSIGNED_BYTE&&(s=e.R8)),i===e.RED_INTEGER&&(r===e.UNSIGNED_BYTE&&(s=e.R8UI),r===e.UNSIGNED_SHORT&&(s=e.R16UI),r===e.UNSIGNED_INT&&(s=e.R32UI),r===e.BYTE&&(s=e.R8I),r===e.SHORT&&(s=e.R16I),r===e.INT&&(s=e.R32I)),i===e.RG&&(r===e.FLOAT&&(s=e.RG32F),r===e.HALF_FLOAT&&(s=e.RG16F),r===e.UNSIGNED_BYTE&&(s=e.RG8)),i===e.RG_INTEGER&&(r===e.UNSIGNED_BYTE&&(s=e.RG8UI),r===e.UNSIGNED_SHORT&&(s=e.RG16UI),r===e.UNSIGNED_INT&&(s=e.RG32UI),r===e.BYTE&&(s=e.RG8I),r===e.SHORT&&(s=e.RG16I),r===e.INT&&(s=e.RG32I)),i===e.RGB&&r===e.UNSIGNED_INT_5_9_9_9_REV&&(s=e.RGB9_E5),i===e.RGBA){const t=o?ev:pg.getTransfer(a);r===e.FLOAT&&(s=e.RGBA32F),r===e.HALF_FLOAT&&(s=e.RGBA16F),r===e.UNSIGNED_BYTE&&(s=t===tv?e.SRGB8_ALPHA8:e.RGBA8),r===e.UNSIGNED_SHORT_4_4_4_4&&(s=e.RGBA4),r===e.UNSIGNED_SHORT_5_5_5_1&&(s=e.RGB5_A1)}return s!==e.R16F&&s!==e.R32F&&s!==e.RG16F&&s!==e.RG32F&&s!==e.RGBA16F&&s!==e.RGBA32F||t.get("EXT_color_buffer_float"),s}function b(e,t){return!0===v(e)||e.isFramebufferTexture&&e.minFilter!==bf&&e.minFilter!==Mf?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function x(e){const t=e.target;t.removeEventListener("dispose",x),function(e){const t=i.get(e);if(void 0===t.__webglInit)return;const n=e.source,r=h.get(n);if(r){const i=r[t.__cacheKey];i.usedTimes--,0===i.usedTimes&&w(e),0===Object.keys(r).length&&h.delete(n)}i.remove(e)}(t),t.isVideoTexture&&u.delete(t)}function _(t){const n=t.target;n.removeEventListener("dispose",_),function(t){const n=i.get(t);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(let i=0;i<6;i++){if(Array.isArray(n.__webglFramebuffer[i]))for(let t=0;t<n.__webglFramebuffer[i].length;t++)e.deleteFramebuffer(n.__webglFramebuffer[i][t]);else e.deleteFramebuffer(n.__webglFramebuffer[i]);n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[i])}else{if(Array.isArray(n.__webglFramebuffer))for(let t=0;t<n.__webglFramebuffer.length;t++)e.deleteFramebuffer(n.__webglFramebuffer[t]);else e.deleteFramebuffer(n.__webglFramebuffer);if(n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&e.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer)for(let t=0;t<n.__webglColorRenderbuffer.length;t++)n.__webglColorRenderbuffer[t]&&e.deleteRenderbuffer(n.__webglColorRenderbuffer[t]);n.__webglDepthRenderbuffer&&e.deleteRenderbuffer(n.__webglDepthRenderbuffer)}const r=t.textures;for(let a=0,s=r.length;a<s;a++){const t=i.get(r[a]);t.__webglTexture&&(e.deleteTexture(t.__webglTexture),o.memory.textures--),i.remove(r[a])}i.remove(t)}(n)}function w(t){const n=i.get(t);e.deleteTexture(n.__webglTexture);const r=t.source;delete h.get(r)[n.__cacheKey],o.memory.textures--}let S=0;function M(t,r){const a=i.get(t);if(t.isVideoTexture&&function(e){const t=o.render.frame;u.get(e)!==t&&(u.set(e,t),e.update())}(t),!1===t.isRenderTargetTexture&&t.version>0&&a.__version!==t.version){const e=t.image;if(null===e)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==e.complete)return void k(a,t,r);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(e.TEXTURE_2D,a.__webglTexture,e.TEXTURE0+r)}const E={[vf]:e.REPEAT,[gf]:e.CLAMP_TO_EDGE,[yf]:e.MIRRORED_REPEAT},C={[bf]:e.NEAREST,[xf]:e.NEAREST_MIPMAP_NEAREST,[wf]:e.NEAREST_MIPMAP_LINEAR,[Mf]:e.LINEAR,[Ef]:e.LINEAR_MIPMAP_NEAREST,[Tf]:e.LINEAR_MIPMAP_LINEAR},T={[xv]:e.NEVER,[Tv]:e.ALWAYS,[_v]:e.LESS,[Sv]:e.LEQUAL,[wv]:e.EQUAL,[Cv]:e.GEQUAL,[Mv]:e.GREATER,[Ev]:e.NOTEQUAL};function N(n,a){if(a.type!==Lf||!1!==t.has("OES_texture_float_linear")||a.magFilter!==Mf&&a.magFilter!==Ef&&a.magFilter!==wf&&a.magFilter!==Tf&&a.minFilter!==Mf&&a.minFilter!==Ef&&a.minFilter!==wf&&a.minFilter!==Tf||console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),e.texParameteri(n,e.TEXTURE_WRAP_S,E[a.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,E[a.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,E[a.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,C[a.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,C[a.minFilter]),a.compareFunction&&(e.texParameteri(n,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(n,e.TEXTURE_COMPARE_FUNC,T[a.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){if(a.magFilter===bf)return;if(a.minFilter!==wf&&a.minFilter!==Tf)return;if(a.type===Lf&&!1===t.has("OES_texture_float_linear"))return;if(a.anisotropy>1||i.get(a).__currentAnisotropy){const o=t.get("EXT_texture_filter_anisotropic");e.texParameterf(n,o.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,r.getMaxAnisotropy())),i.get(a).__currentAnisotropy=a.anisotropy}}}function A(t,n){let i=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",x));const r=n.source;let a=h.get(r);void 0===a&&(a={},h.set(r,a));const s=function(e){const t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}(n);if(s!==t.__cacheKey){void 0===a[s]&&(a[s]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,i=!0),a[s].usedTimes++;const r=a[t.__cacheKey];void 0!==r&&(a[t.__cacheKey].usedTimes--,0===r.usedTimes&&w(n)),t.__cacheKey=s,t.__webglTexture=a[s].texture}return i}function k(t,o,s){let l=e.TEXTURE_2D;(o.isDataArrayTexture||o.isCompressedArrayTexture)&&(l=e.TEXTURE_2D_ARRAY),o.isData3DTexture&&(l=e.TEXTURE_3D);const c=A(t,o),u=o.source;n.bindTexture(l,t.__webglTexture,e.TEXTURE0+s);const d=i.get(u);if(u.version!==d.__version||!0===c){n.activeTexture(e.TEXTURE0+s);const t=pg.getPrimaries(pg.workingColorSpace),i=o.colorSpace===Zm?null:pg.getPrimaries(o.colorSpace),h=o.colorSpace===Zm||t===i?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,o.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,o.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,h);let p=m(o.image,!1,r.maxTextureSize);p=F(o,p);const f=a.convert(o.format,o.colorSpace),x=a.convert(o.type);let _,w=y(o.internalFormat,f,x,o.colorSpace,o.isVideoTexture);N(l,o);const S=o.mipmaps,M=!0!==o.isVideoTexture,E=void 0===d.__version||!0===c,C=u.dataReady,T=b(o,p);if(o.isDepthTexture)w=e.DEPTH_COMPONENT16,o.type===Lf?w=e.DEPTH_COMPONENT32F:o.type===jf?w=e.DEPTH_COMPONENT24:o.type===Uf&&(w=e.DEPTH24_STENCIL8),E&&(M?n.texStorage2D(e.TEXTURE_2D,1,w,p.width,p.height):n.texImage2D(e.TEXTURE_2D,0,w,p.width,p.height,0,f,x,null));else if(o.isDataTexture)if(S.length>0){M&&E&&n.texStorage2D(e.TEXTURE_2D,T,w,S[0].width,S[0].height);for(let t=0,i=S.length;t<i;t++)_=S[t],M?C&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,_.width,_.height,f,x,_.data):n.texImage2D(e.TEXTURE_2D,t,w,_.width,_.height,0,f,x,_.data);o.generateMipmaps=!1}else M?(E&&n.texStorage2D(e.TEXTURE_2D,T,w,p.width,p.height),C&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,p.width,p.height,f,x,p.data)):n.texImage2D(e.TEXTURE_2D,0,w,p.width,p.height,0,f,x,p.data);else if(o.isCompressedTexture)if(o.isCompressedArrayTexture){M&&E&&n.texStorage3D(e.TEXTURE_2D_ARRAY,T,w,S[0].width,S[0].height,p.depth);for(let t=0,i=S.length;t<i;t++)_=S[t],o.format!==Vf?null!==f?M?C&&n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,_.width,_.height,p.depth,f,_.data,0,0):n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,t,w,_.width,_.height,p.depth,0,_.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):M?C&&n.texSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,_.width,_.height,p.depth,f,x,_.data):n.texImage3D(e.TEXTURE_2D_ARRAY,t,w,_.width,_.height,p.depth,0,f,x,_.data)}else{M&&E&&n.texStorage2D(e.TEXTURE_2D,T,w,S[0].width,S[0].height);for(let t=0,i=S.length;t<i;t++)_=S[t],o.format!==Vf?null!==f?M?C&&n.compressedTexSubImage2D(e.TEXTURE_2D,t,0,0,_.width,_.height,f,_.data):n.compressedTexImage2D(e.TEXTURE_2D,t,w,_.width,_.height,0,_.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):M?C&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,_.width,_.height,f,x,_.data):n.texImage2D(e.TEXTURE_2D,t,w,_.width,_.height,0,f,x,_.data)}else if(o.isDataArrayTexture)M?(E&&n.texStorage3D(e.TEXTURE_2D_ARRAY,T,w,p.width,p.height,p.depth),C&&n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,p.width,p.height,p.depth,f,x,p.data)):n.texImage3D(e.TEXTURE_2D_ARRAY,0,w,p.width,p.height,p.depth,0,f,x,p.data);else if(o.isData3DTexture)M?(E&&n.texStorage3D(e.TEXTURE_3D,T,w,p.width,p.height,p.depth),C&&n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,p.width,p.height,p.depth,f,x,p.data)):n.texImage3D(e.TEXTURE_3D,0,w,p.width,p.height,p.depth,0,f,x,p.data);else if(o.isFramebufferTexture){if(E)if(M)n.texStorage2D(e.TEXTURE_2D,T,w,p.width,p.height);else{let t=p.width,i=p.height;for(let r=0;r<T;r++)n.texImage2D(e.TEXTURE_2D,r,w,t,i,0,f,x,null),t>>=1,i>>=1}}else if(S.length>0){if(M&&E){const t=U(S[0]);n.texStorage2D(e.TEXTURE_2D,T,w,t.width,t.height)}for(let t=0,i=S.length;t<i;t++)_=S[t],M?C&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,f,x,_):n.texImage2D(e.TEXTURE_2D,t,w,f,x,_);o.generateMipmaps=!1}else if(M){if(E){const t=U(p);n.texStorage2D(e.TEXTURE_2D,T,w,t.width,t.height)}C&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,f,x,p)}else n.texImage2D(e.TEXTURE_2D,0,w,f,x,p);v(o)&&g(l),d.__version=u.version,o.onUpdate&&o.onUpdate(o)}t.__version=o.version}function O(t,r,o,l,c,u){const d=a.convert(o.format,o.colorSpace),h=a.convert(o.type),p=y(o.internalFormat,d,h,o.colorSpace);if(!i.get(r).__hasExternalTextures){const t=Math.max(1,r.width>>u),i=Math.max(1,r.height>>u);c===e.TEXTURE_3D||c===e.TEXTURE_2D_ARRAY?n.texImage3D(c,u,p,t,i,r.depth,0,d,h,null):n.texImage2D(c,u,p,t,i,0,d,h,null)}n.bindFramebuffer(e.FRAMEBUFFER,t),D(r)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,l,c,i.get(o).__webglTexture,0,I(r)):(c===e.TEXTURE_2D||c>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&c<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,l,c,i.get(o).__webglTexture,u),n.bindFramebuffer(e.FRAMEBUFFER,null)}function P(t,n,i){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer&&!n.stencilBuffer){let r=e.DEPTH_COMPONENT24;if(i||D(n)){const t=n.depthTexture;t&&t.isDepthTexture&&(t.type===Lf?r=e.DEPTH_COMPONENT32F:t.type===jf&&(r=e.DEPTH_COMPONENT24));const i=I(n);D(n)?s.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,i,r,n.width,n.height):e.renderbufferStorageMultisample(e.RENDERBUFFER,i,r,n.width,n.height)}else e.renderbufferStorage(e.RENDERBUFFER,r,n.width,n.height);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)}else if(n.depthBuffer&&n.stencilBuffer){const r=I(n);i&&!1===D(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,r,e.DEPTH24_STENCIL8,n.width,n.height):D(n)?s.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,r,e.DEPTH24_STENCIL8,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)}else{const t=n.textures;for(let r=0;r<t.length;r++){const o=t[r],l=a.convert(o.format,o.colorSpace),c=a.convert(o.type),u=y(o.internalFormat,l,c,o.colorSpace),d=I(n);i&&!1===D(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,d,u,n.width,n.height):D(n)?s.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,d,u,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,u,n.width,n.height)}}e.bindRenderbuffer(e.RENDERBUFFER,null)}function R(t){const r=i.get(t),a=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!r.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,r){if(r&&r.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(e.FRAMEBUFFER,t),!r.depthTexture||!r.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(r.depthTexture).__webglTexture&&r.depthTexture.image.width===r.width&&r.depthTexture.image.height===r.height||(r.depthTexture.image.width=r.width,r.depthTexture.image.height=r.height,r.depthTexture.needsUpdate=!0),M(r.depthTexture,0);const a=i.get(r.depthTexture).__webglTexture,o=I(r);if(r.depthTexture.format===qf)D(r)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0,o):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0);else{if(r.depthTexture.format!==Yf)throw new Error("Unknown depthTexture format");D(r)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,a,0,o):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,a,0)}}(r.__webglFramebuffer,t)}else if(a){r.__webglDepthbuffer=[];for(let i=0;i<6;i++)n.bindFramebuffer(e.FRAMEBUFFER,r.__webglFramebuffer[i]),r.__webglDepthbuffer[i]=e.createRenderbuffer(),P(r.__webglDepthbuffer[i],t,!1)}else n.bindFramebuffer(e.FRAMEBUFFER,r.__webglFramebuffer),r.__webglDepthbuffer=e.createRenderbuffer(),P(r.__webglDepthbuffer,t,!1);n.bindFramebuffer(e.FRAMEBUFFER,null)}const j=[],L=[];function I(e){return Math.min(r.maxSamples,e.samples)}function D(e){const n=i.get(e);return e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function F(e,t){const n=e.colorSpace,i=e.format,r=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||n!==Jm&&n!==Zm&&(pg.getTransfer(n)===tv?i===Vf&&r===Af||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",n)),t}function U(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement?(c.width=e.naturalWidth||e.width,c.height=e.naturalHeight||e.height):"undefined"!==typeof VideoFrame&&e instanceof VideoFrame?(c.width=e.displayWidth,c.height=e.displayHeight):(c.width=e.width,c.height=e.height),c}this.allocateTextureUnit=function(){const e=S;return e>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+r.maxTextures),S+=1,e},this.resetTextureUnits=function(){S=0},this.setTexture2D=M,this.setTexture2DArray=function(t,r){const a=i.get(t);t.version>0&&a.__version!==t.version?k(a,t,r):n.bindTexture(e.TEXTURE_2D_ARRAY,a.__webglTexture,e.TEXTURE0+r)},this.setTexture3D=function(t,r){const a=i.get(t);t.version>0&&a.__version!==t.version?k(a,t,r):n.bindTexture(e.TEXTURE_3D,a.__webglTexture,e.TEXTURE0+r)},this.setTextureCube=function(t,o){const s=i.get(t);t.version>0&&s.__version!==t.version?function(t,o,s){if(6!==o.image.length)return;const l=A(t,o),c=o.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+s);const u=i.get(c);if(c.version!==u.__version||!0===l){n.activeTexture(e.TEXTURE0+s);const t=pg.getPrimaries(pg.workingColorSpace),i=o.colorSpace===Zm?null:pg.getPrimaries(o.colorSpace),d=o.colorSpace===Zm||t===i?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,o.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,o.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,d);const h=o.isCompressedTexture||o.image[0].isCompressedTexture,p=o.image[0]&&o.image[0].isDataTexture,f=[];for(let e=0;e<6;e++)f[e]=h||p?p?o.image[e].image:o.image[e]:m(o.image[e],!0,r.maxCubemapSize),f[e]=F(o,f[e]);const x=f[0],_=a.convert(o.format,o.colorSpace),w=a.convert(o.type),S=y(o.internalFormat,_,w,o.colorSpace),M=!0!==o.isVideoTexture,E=void 0===u.__version||!0===l,C=c.dataReady;let T,A=b(o,x);if(N(e.TEXTURE_CUBE_MAP,o),h){M&&E&&n.texStorage2D(e.TEXTURE_CUBE_MAP,A,S,x.width,x.height);for(let t=0;t<6;t++){T=f[t].mipmaps;for(let i=0;i<T.length;i++){const r=T[i];o.format!==Vf?null!==_?M?C&&n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i,0,0,r.width,r.height,_,r.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i,S,r.width,r.height,0,r.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):M?C&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i,0,0,r.width,r.height,_,w,r.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i,S,r.width,r.height,0,_,w,r.data)}}}else{if(T=o.mipmaps,M&&E){T.length>0&&A++;const t=U(f[0]);n.texStorage2D(e.TEXTURE_CUBE_MAP,A,S,t.width,t.height)}for(let t=0;t<6;t++)if(p){M?C&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,f[t].width,f[t].height,_,w,f[t].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,S,f[t].width,f[t].height,0,_,w,f[t].data);for(let i=0;i<T.length;i++){const r=T[i].image[t].image;M?C&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i+1,0,0,r.width,r.height,_,w,r.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i+1,S,r.width,r.height,0,_,w,r.data)}}else{M?C&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,_,w,f[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,S,_,w,f[t]);for(let i=0;i<T.length;i++){const r=T[i];M?C&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i+1,0,0,_,w,r.image[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i+1,S,_,w,r.image[t])}}}v(o)&&g(e.TEXTURE_CUBE_MAP),u.__version=c.version,o.onUpdate&&o.onUpdate(o)}t.__version=o.version}(s,t,o):n.bindTexture(e.TEXTURE_CUBE_MAP,s.__webglTexture,e.TEXTURE0+o)},this.rebindTextures=function(t,n,r){const a=i.get(t);void 0!==n&&O(a.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,0),void 0!==r&&R(t)},this.setupRenderTarget=function(t){const r=t.texture,s=i.get(t),l=i.get(r);t.addEventListener("dispose",_);const c=t.textures,u=!0===t.isWebGLCubeRenderTarget,d=c.length>1;if(d||(void 0===l.__webglTexture&&(l.__webglTexture=e.createTexture()),l.__version=r.version,o.memory.textures++),u){s.__webglFramebuffer=[];for(let t=0;t<6;t++)if(r.mipmaps&&r.mipmaps.length>0){s.__webglFramebuffer[t]=[];for(let n=0;n<r.mipmaps.length;n++)s.__webglFramebuffer[t][n]=e.createFramebuffer()}else s.__webglFramebuffer[t]=e.createFramebuffer()}else{if(r.mipmaps&&r.mipmaps.length>0){s.__webglFramebuffer=[];for(let t=0;t<r.mipmaps.length;t++)s.__webglFramebuffer[t]=e.createFramebuffer()}else s.__webglFramebuffer=e.createFramebuffer();if(d)for(let t=0,n=c.length;t<n;t++){const n=i.get(c[t]);void 0===n.__webglTexture&&(n.__webglTexture=e.createTexture(),o.memory.textures++)}if(t.samples>0&&!1===D(t)){s.__webglMultisampledFramebuffer=e.createFramebuffer(),s.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,s.__webglMultisampledFramebuffer);for(let n=0;n<c.length;n++){const i=c[n];s.__webglColorRenderbuffer[n]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,s.__webglColorRenderbuffer[n]);const r=a.convert(i.format,i.colorSpace),o=a.convert(i.type),l=y(i.internalFormat,r,o,i.colorSpace,!0===t.isXRRenderTarget),u=I(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,u,l,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+n,e.RENDERBUFFER,s.__webglColorRenderbuffer[n])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(s.__webglDepthRenderbuffer=e.createRenderbuffer(),P(s.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(u){n.bindTexture(e.TEXTURE_CUBE_MAP,l.__webglTexture),N(e.TEXTURE_CUBE_MAP,r);for(let n=0;n<6;n++)if(r.mipmaps&&r.mipmaps.length>0)for(let i=0;i<r.mipmaps.length;i++)O(s.__webglFramebuffer[n][i],t,r,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,i);else O(s.__webglFramebuffer[n],t,r,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0);v(r)&&g(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(d){for(let r=0,a=c.length;r<a;r++){const a=c[r],o=i.get(a);n.bindTexture(e.TEXTURE_2D,o.__webglTexture),N(e.TEXTURE_2D,a),O(s.__webglFramebuffer,t,a,e.COLOR_ATTACHMENT0+r,e.TEXTURE_2D,0),v(a)&&g(e.TEXTURE_2D)}n.unbindTexture()}else{let i=e.TEXTURE_2D;if((t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(i=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY),n.bindTexture(i,l.__webglTexture),N(i,r),r.mipmaps&&r.mipmaps.length>0)for(let n=0;n<r.mipmaps.length;n++)O(s.__webglFramebuffer[n],t,r,e.COLOR_ATTACHMENT0,i,n);else O(s.__webglFramebuffer,t,r,e.COLOR_ATTACHMENT0,i,0);v(r)&&g(i),n.unbindTexture()}t.depthBuffer&&R(t)},this.updateRenderTargetMipmap=function(t){const r=t.textures;for(let a=0,o=r.length;a<o;a++){const o=r[a];if(v(o)){const r=t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,a=i.get(o).__webglTexture;n.bindTexture(r,a),g(r),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(t.samples>0)if(!1===D(t)){const r=t.textures,a=t.width,o=t.height;let s=e.COLOR_BUFFER_BIT;const c=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,u=i.get(t),d=r.length>1;if(d)for(let t=0;t<r.length;t++)n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,u.__webglMultisampledFramebuffer),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglFramebuffer);for(let n=0;n<r.length;n++){if(t.resolveDepthBuffer&&(t.depthBuffer&&(s|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&t.resolveStencilBuffer&&(s|=e.STENCIL_BUFFER_BIT)),d){e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,u.__webglColorRenderbuffer[n]);const t=i.get(r[n]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}e.blitFramebuffer(0,0,a,o,0,0,a,o,s,e.NEAREST),!0===l&&(j.length=0,L.length=0,j.push(e.COLOR_ATTACHMENT0+n),t.depthBuffer&&!1===t.resolveDepthBuffer&&(j.push(c),L.push(c),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,L)),e.invalidateFramebuffer(e.READ_FRAMEBUFFER,j))}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),d)for(let t=0;t<r.length;t++){n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,u.__webglColorRenderbuffer[t]);const a=i.get(r[t]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,a,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglMultisampledFramebuffer)}else if(t.depthBuffer&&!1===t.resolveDepthBuffer&&l){const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT;e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[n])}},this.setupDepthRenderbuffer=R,this.setupFrameBufferTexture=O,this.useMultisampledRTT=D}function Hw(e,t){return{convert:function(n){let i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zm;const a=pg.getTransfer(r);if(n===Af)return e.UNSIGNED_BYTE;if(n===Df)return e.UNSIGNED_SHORT_4_4_4_4;if(n===Ff)return e.UNSIGNED_SHORT_5_5_5_1;if(n===zf)return e.UNSIGNED_INT_5_9_9_9_REV;if(n===kf)return e.BYTE;if(n===Of)return e.SHORT;if(n===Pf)return e.UNSIGNED_SHORT;if(n===Rf)return e.INT;if(n===jf)return e.UNSIGNED_INT;if(n===Lf)return e.FLOAT;if(n===If)return e.HALF_FLOAT;if(n===Bf)return e.ALPHA;if(n===Hf)return e.RGB;if(n===Vf)return e.RGBA;if(n===Wf)return e.LUMINANCE;if(n===Gf)return e.LUMINANCE_ALPHA;if(n===qf)return e.DEPTH_COMPONENT;if(n===Yf)return e.DEPTH_STENCIL;if(n===Xf)return e.RED;if(n===Zf)return e.RED_INTEGER;if(n===Kf)return e.RG;if(n===Jf)return e.RG_INTEGER;if(n===$f)return e.RGBA_INTEGER;if(n===Qf||n===em||n===tm||n===nm)if(a===tv){if(i=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===i)return null;if(n===Qf)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===em)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===tm)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===nm)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(i=t.get("WEBGL_compressed_texture_s3tc"),null===i)return null;if(n===Qf)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===em)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===tm)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===nm)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===im||n===rm||n===am||n===om){if(i=t.get("WEBGL_compressed_texture_pvrtc"),null===i)return null;if(n===im)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===rm)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===am)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===om)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===sm||n===lm||n===cm){if(i=t.get("WEBGL_compressed_texture_etc"),null===i)return null;if(n===sm||n===lm)return a===tv?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(n===cm)return a===tv?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}if(n===um||n===dm||n===hm||n===pm||n===fm||n===mm||n===vm||n===gm||n===ym||n===bm||n===xm||n===_m||n===wm||n===Sm){if(i=t.get("WEBGL_compressed_texture_astc"),null===i)return null;if(n===um)return a===tv?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===dm)return a===tv?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===hm)return a===tv?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===pm)return a===tv?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===fm)return a===tv?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===mm)return a===tv?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===vm)return a===tv?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===gm)return a===tv?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===ym)return a===tv?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===bm)return a===tv?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===xm)return a===tv?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===_m)return a===tv?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===wm)return a===tv?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===Sm)return a===tv?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===Mm||n===Em||n===Cm){if(i=t.get("EXT_texture_compression_bptc"),null===i)return null;if(n===Mm)return a===tv?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===Em)return i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===Cm)return i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(n===Tm||n===Nm||n===Am||n===km){if(i=t.get("EXT_texture_compression_rgtc"),null===i)return null;if(n===Mm)return i.COMPRESSED_RED_RGTC1_EXT;if(n===Nm)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===Am)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===km)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===Uf?e.UNSIGNED_INT_24_8:void 0!==e[n]?e[n]:null}}}class Vw extends tx{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(),this.isArrayCamera=!0,this.cameras=e}}class Ww extends jy{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Gw={type:"move"};class qw{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Ww,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Ww,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Og,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Og),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Ww,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Og,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Og),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let i=null,r=null,a=null;const o=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){a=!0;for(const a of e.hand.values()){const e=t.getJointPose(a,n),i=this._getHandJoint(l,a);null!==e&&(i.matrix.fromArray(e.transform.matrix),i.matrix.decompose(i.position,i.rotation,i.scale),i.matrixWorldNeedsUpdate=!0,i.jointRadius=e.radius),i.visible=null!==e}const i=l.joints["index-finger-tip"],r=l.joints["thumb-tip"],o=i.position.distanceTo(r.position),s=.02,c=.005;l.inputState.pinching&&o>s+c?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&o<=s-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&(r=t.getPose(e.gripSpace,n),null!==r&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,r.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(r.linearVelocity)):s.hasLinearVelocity=!1,r.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(r.angularVelocity)):s.hasAngularVelocity=!1));null!==o&&(i=t.getPose(e.targetRaySpace,n),null===i&&null!==r&&(i=r),null!==i&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Gw)))}return null!==o&&(o.visible=null!==i),null!==s&&(s.visible=null!==r),null!==l&&(l.visible=null!==a),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const n=new Ww;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class Yw{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,n){if(null===this.texture){const i=new wg;e.properties.get(i).__webglTexture=t.texture,t.depthNear==n.depthNear&&t.depthFar==n.depthFar||(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=i}}render(e,t){if(null!==this.texture){if(null===this.mesh){const e=t.cameras[0].viewport,n=new Kb({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:e.z},depthHeight:{value:e.w}}});this.mesh=new Vb(new mx(20,20),n)}e.render(this.mesh,t)}}reset(){this.texture=null,this.mesh=null}}class Xw extends Bv{constructor(e,t){super();const n=this;let i=null,r=1,a=null,o="local-floor",s=1,l=null,c=null,u=null,d=null,h=null,p=null;const f=new Yw,m=t.getContextAttributes();let v=null,g=null;const y=[],b=[],x=new Qv;let _=null;const w=new tx;w.layers.enable(1),w.viewport=new Sg;const S=new tx;S.layers.enable(2),S.viewport=new Sg;const M=[w,S],E=new Vw;E.layers.enable(1),E.layers.enable(2);let C=null,T=null;function N(e){const t=b.indexOf(e.inputSource);if(-1===t)return;const n=y[t];void 0!==n&&(n.update(e.inputSource,e.frame,l||a),n.dispatchEvent({type:e.type,data:e.inputSource}))}function A(){i.removeEventListener("select",N),i.removeEventListener("selectstart",N),i.removeEventListener("selectend",N),i.removeEventListener("squeeze",N),i.removeEventListener("squeezestart",N),i.removeEventListener("squeezeend",N),i.removeEventListener("end",A),i.removeEventListener("inputsourceschange",k);for(let e=0;e<y.length;e++){const t=b[e];null!==t&&(b[e]=null,y[e].disconnect(t))}C=null,T=null,f.reset(),e.setRenderTarget(v),h=null,d=null,u=null,i=null,g=null,L.stop(),n.isPresenting=!1,e.setPixelRatio(_),e.setSize(x.width,x.height,!1),n.dispatchEvent({type:"sessionend"})}function k(e){for(let t=0;t<e.removed.length;t++){const n=e.removed[t],i=b.indexOf(n);i>=0&&(b[i]=null,y[i].disconnect(n))}for(let t=0;t<e.added.length;t++){const n=e.added[t];let i=b.indexOf(n);if(-1===i){for(let e=0;e<y.length;e++){if(e>=b.length){b.push(n),i=e;break}if(null===b[e]){b[e]=n,i=e;break}}if(-1===i)break}const r=y[i];r&&r.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=y[e];return void 0===t&&(t=new qw,y[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=y[e];return void 0===t&&(t=new qw,y[e]=t),t.getGripSpace()},this.getHand=function(e){let t=y[e];return void 0===t&&(t=new qw,y[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){r=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){o=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||a},this.setReferenceSpace=function(e){l=e},this.getBaseLayer=function(){return null!==d?d:h},this.getBinding=function(){return u},this.getFrame=function(){return p},this.getSession=function(){return i},this.setSession=async function(c){if(i=c,null!==i){if(v=e.getRenderTarget(),i.addEventListener("select",N),i.addEventListener("selectstart",N),i.addEventListener("selectend",N),i.addEventListener("squeeze",N),i.addEventListener("squeezestart",N),i.addEventListener("squeezeend",N),i.addEventListener("end",A),i.addEventListener("inputsourceschange",k),!0!==m.xrCompatible&&await t.makeXRCompatible(),_=e.getPixelRatio(),e.getSize(x),void 0===i.renderState.layers){const n={antialias:m.antialias,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:r};h=new XRWebGLLayer(i,t,n),i.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),g=new Eg(h.framebufferWidth,h.framebufferHeight,{format:Vf,type:Af,colorSpace:e.outputColorSpace,stencilBuffer:m.stencil})}else{let n=null,a=null,o=null;m.depth&&(o=m.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,n=m.stencil?Yf:qf,a=m.stencil?Uf:jf);const s={colorFormat:t.RGBA8,depthFormat:o,scaleFactor:r};u=new XRWebGLBinding(i,t),d=u.createProjectionLayer(s),i.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),g=new Eg(d.textureWidth,d.textureHeight,{format:Vf,type:Af,depthTexture:new $x(d.textureWidth,d.textureHeight,a,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:m.stencil,colorSpace:e.outputColorSpace,samples:m.antialias?4:0,resolveDepthBuffer:!1===d.ignoreDepthValues})}g.isXRRenderTarget=!0,this.setFoveation(s),l=null,a=await i.requestReferenceSpace(o),L.setContext(i),L.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(null!==i)return i.environmentBlendMode};const O=new Og,P=new Og;function R(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCamera=function(e){if(null===i)return;null!==f.texture&&(e.near=f.depthNear,e.far=f.depthFar),E.near=S.near=w.near=e.near,E.far=S.far=w.far=e.far,C===E.near&&T===E.far||(i.updateRenderState({depthNear:E.near,depthFar:E.far}),C=E.near,T=E.far,w.near=C,w.far=T,S.near=C,S.far=T,w.updateProjectionMatrix(),S.updateProjectionMatrix(),e.updateProjectionMatrix());const t=e.parent,n=E.cameras;R(E,t);for(let i=0;i<n.length;i++)R(n[i],t);2===n.length?function(e,t,n){O.setFromMatrixPosition(t.matrixWorld),P.setFromMatrixPosition(n.matrixWorld);const i=O.distanceTo(P),r=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=r[14]/(r[10]-1),s=r[14]/(r[10]+1),l=(r[9]+1)/r[5],c=(r[9]-1)/r[5],u=(r[8]-1)/r[0],d=(a[8]+1)/a[0],h=o*u,p=o*d,f=i/(-u+d),m=f*-u;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(f),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();const v=o+f,g=s+f,y=h-m,b=p+(i-m),x=l*s/g*v,_=c*s/g*v;e.projectionMatrix.makePerspective(y,b,x,_,v,g),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}(E,w,S):E.projectionMatrix.copy(w.projectionMatrix),function(e,t,n){null===n?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld));e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0),e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*Gv*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}(e,E,t)},this.getCamera=function(){return E},this.getFoveation=function(){if(null!==d||null!==h)return s},this.setFoveation=function(e){s=e,null!==d&&(d.fixedFoveation=e),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=e)},this.hasDepthSensing=function(){return null!==f.texture};let j=null;const L=new px;L.setAnimationLoop((function(t,r){if(c=r.getViewerPose(l||a),p=r,null!==c){const t=c.views;null!==h&&(e.setRenderTargetFramebuffer(g,h.framebuffer),e.setRenderTarget(g));let n=!1;t.length!==E.cameras.length&&(E.cameras.length=0,n=!0);for(let i=0;i<t.length;i++){const r=t[i];let a=null;if(null!==h)a=h.getViewport(r);else{const t=u.getViewSubImage(d,r);a=t.viewport,0===i&&(e.setRenderTargetTextures(g,t.colorTexture,d.ignoreDepthValues?void 0:t.depthStencilTexture),e.setRenderTarget(g))}let o=M[i];void 0===o&&(o=new tx,o.layers.enable(i),o.viewport=new Sg,M[i]=o),o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.quaternion,o.scale),o.projectionMatrix.fromArray(r.projectionMatrix),o.projectionMatrixInverse.copy(o.projectionMatrix).invert(),o.viewport.set(a.x,a.y,a.width,a.height),0===i&&(E.matrix.copy(o.matrix),E.matrix.decompose(E.position,E.quaternion,E.scale)),!0===n&&E.cameras.push(o)}const r=i.enabledFeatures;if(r&&r.includes("depth-sensing")){const n=u.getDepthInformation(t[0]);n&&n.isValid&&n.texture&&f.init(e,n,i.renderState)}}for(let e=0;e<y.length;e++){const t=b[e],n=y[e];null!==t&&void 0!==n&&n.update(t,r,l||a)}f.render(e,E),j&&j(t,r),r.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:r}),p=null})),this.setAnimationLoop=function(e){j=e},this.dispose=function(){}}}const Zw=new gy,Kw=new sy;function Jw(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function i(i,r){i.opacity.value=r.opacity,r.color&&i.diffuse.value.copy(r.color),r.emissive&&i.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(i.map.value=r.map,n(r.map,i.mapTransform)),r.alphaMap&&(i.alphaMap.value=r.alphaMap,n(r.alphaMap,i.alphaMapTransform)),r.bumpMap&&(i.bumpMap.value=r.bumpMap,n(r.bumpMap,i.bumpMapTransform),i.bumpScale.value=r.bumpScale,r.side===fp&&(i.bumpScale.value*=-1)),r.normalMap&&(i.normalMap.value=r.normalMap,n(r.normalMap,i.normalMapTransform),i.normalScale.value.copy(r.normalScale),r.side===fp&&i.normalScale.value.negate()),r.displacementMap&&(i.displacementMap.value=r.displacementMap,n(r.displacementMap,i.displacementMapTransform),i.displacementScale.value=r.displacementScale,i.displacementBias.value=r.displacementBias),r.emissiveMap&&(i.emissiveMap.value=r.emissiveMap,n(r.emissiveMap,i.emissiveMapTransform)),r.specularMap&&(i.specularMap.value=r.specularMap,n(r.specularMap,i.specularMapTransform)),r.alphaTest>0&&(i.alphaTest.value=r.alphaTest);const a=t.get(r),o=a.envMap,s=a.envMapRotation;if(o&&(i.envMap.value=o,Zw.copy(s),Zw.x*=-1,Zw.y*=-1,Zw.z*=-1,o.isCubeTexture&&!1===o.isRenderTargetTexture&&(Zw.y*=-1,Zw.z*=-1),i.envMapRotation.value.setFromMatrix4(Kw.makeRotationFromEuler(Zw)),i.flipEnvMap.value=o.isCubeTexture&&!1===o.isRenderTargetTexture?-1:1,i.reflectivity.value=r.reflectivity,i.ior.value=r.ior,i.refractionRatio.value=r.refractionRatio),r.lightMap){i.lightMap.value=r.lightMap;const t=!0===e._useLegacyLights?Math.PI:1;i.lightMapIntensity.value=r.lightMapIntensity*t,n(r.lightMap,i.lightMapTransform)}r.aoMap&&(i.aoMap.value=r.aoMap,i.aoMapIntensity.value=r.aoMapIntensity,n(r.aoMap,i.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,Xb(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,r,a,o,s){r.isMeshBasicMaterial||r.isMeshLambertMaterial?i(e,r):r.isMeshToonMaterial?(i(e,r),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,r)):r.isMeshPhongMaterial?(i(e,r),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,r)):r.isMeshStandardMaterial?(i(e,r),function(e,t){e.metalness.value=t.metalness,t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap,n(t.metalnessMap,e.metalnessMapTransform));e.roughness.value=t.roughness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap,n(t.roughnessMap,e.roughnessMapTransform));t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}(e,r),r.isMeshPhysicalMaterial&&function(e,t,i){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform)));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),t.side===fp&&e.clearcoatNormalScale.value.negate()));t.dispersion>0&&(e.dispersion.value=t.dispersion);t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform)));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=i.texture,e.transmissionSamplerSize.value.set(i.width,i.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));t.anisotropy>0&&(e.anisotropyVector.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation)),t.anisotropyMap&&(e.anisotropyMap.value=t.anisotropyMap,n(t.anisotropyMap,e.anisotropyMapTransform)));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform));t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}(e,r,s)):r.isMeshMatcapMaterial?(i(e,r),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,r)):r.isMeshDepthMaterial?i(e,r):r.isMeshDistanceMaterial?(i(e,r),function(e,n){const i=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(i.matrixWorld),e.nearDistance.value=i.shadow.camera.near,e.farDistance.value=i.shadow.camera.far}(e,r)):r.isMeshNormalMaterial?i(e,r):r.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}(e,r),r.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,r)):r.isPointsMaterial?function(e,t,i,r){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*i,e.scale.value=.5*r,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,r,a,o):r.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,r):r.isShadowMaterial?(e.color.value.copy(r.color),e.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function $w(e,t,n,i){let r={},a={},o=[];const s=e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS);function l(e,t,n,i){const r=e.value,a=t+"_"+n;if(void 0===i[a])return i[a]="number"===typeof r||"boolean"===typeof r?r:r.clone(),!0;{const e=i[a];if("number"===typeof r||"boolean"===typeof r){if(e!==r)return i[a]=r,!0}else if(!1===e.equals(r))return e.copy(r),!0}return!1}function c(e){const t={boundary:0,storage:0};return"number"===typeof e||"boolean"===typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function u(t){const n=t.target;n.removeEventListener("dispose",u);const i=o.indexOf(n.__bindingPointIndex);o.splice(i,1),e.deleteBuffer(r[n.id]),delete r[n.id],delete a[n.id]}return{bind:function(e,t){const n=t.program;i.uniformBlockBinding(e,n)},update:function(n,d){let h=r[n.id];void 0===h&&(!function(e){const t=e.uniforms;let n=0;const i=16;for(let a=0,o=t.length;a<o;a++){const e=Array.isArray(t[a])?t[a]:[t[a]];for(let t=0,r=e.length;t<r;t++){const r=e[t],a=Array.isArray(r.value)?r.value:[r.value];for(let e=0,t=a.length;e<t;e++){const t=c(a[e]),o=n%i;0!==o&&i-o<t.boundary&&(n+=i-o),r.__data=new Float32Array(t.storage/Float32Array.BYTES_PER_ELEMENT),r.__offset=n,n+=t.storage}}}const r=n%i;r>0&&(n+=i-r);e.__size=n,e.__cache={}}(n),h=function(t){const n=function(){for(let e=0;e<s;e++)if(-1===o.indexOf(e))return o.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;const i=e.createBuffer(),r=t.__size,a=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,i),e.bufferData(e.UNIFORM_BUFFER,r,a),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,i),i}(n),r[n.id]=h,n.addEventListener("dispose",u));const p=d.program;i.updateUBOMapping(n,p);const f=t.render.frame;a[n.id]!==f&&(!function(t){const n=r[t.id],i=t.uniforms,a=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(let r=0,o=i.length;r<o;r++){const t=Array.isArray(i[r])?i[r]:[i[r]];for(let n=0,i=t.length;n<i;n++){const i=t[n];if(!0===l(i,r,n,a)){const t=i.__offset,n=Array.isArray(i.value)?i.value:[i.value];let r=0;for(let a=0;a<n.length;a++){const o=n[a],s=c(o);"number"===typeof o||"boolean"===typeof o?(i.__data[0]=o,e.bufferSubData(e.UNIFORM_BUFFER,t+r,i.__data)):o.isMatrix3?(i.__data[0]=o.elements[0],i.__data[1]=o.elements[1],i.__data[2]=o.elements[2],i.__data[3]=0,i.__data[4]=o.elements[3],i.__data[5]=o.elements[4],i.__data[6]=o.elements[5],i.__data[7]=0,i.__data[8]=o.elements[6],i.__data[9]=o.elements[7],i.__data[10]=o.elements[8],i.__data[11]=0):(o.toArray(i.__data,r),r+=s.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,t,i.__data)}}}e.bindBuffer(e.UNIFORM_BUFFER,null)}(n),a[n.id]=f)},dispose:function(){for(const t in r)e.deleteBuffer(r[t]);o=[],r={},a={}}}}class Qw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{canvas:t=og(),context:n=null,depth:i=!0,stencil:r=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:s=!0,preserveDrawingBuffer:l=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:u=!1}=e;let d;if(this.isWebGLRenderer=!0,null!==n){if("undefined"!==typeof WebGLRenderingContext&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");d=n.getContextAttributes().alpha}else d=a;const h=new Uint32Array(4),p=new Int32Array(4);let f=null,m=null;const v=[],g=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Km,this._useLegacyLights=!1,this.toneMapping=Qp,this.toneMappingExposure=1;const y=this;let b=!1,x=0,_=0,w=null,S=-1,M=null;const E=new Sg,C=new Sg;let T=null;const N=new Ky(0);let A=0,k=t.width,O=t.height,P=1,R=null,j=null;const L=new Sg(0,0,k,O),I=new Sg(0,0,k,O);let D=!1;const F=new hx;let U=!1,z=!1;const B=new sy,H=new Og,V={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function W(){return null===w?P:1}let G,q,Y,X,Z,K,J,$,Q,ee,te,ne,ie,re,ae,oe,se,le,ce,ue,de,he,pe,fe,me=n;function ve(e,n){return t.getContext(e,n)}try{const e={alpha:!0,depth:i,stencil:r,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r".concat(np)),t.addEventListener("webglcontextlost",be,!1),t.addEventListener("webglcontextrestored",xe,!1),t.addEventListener("webglcontextcreationerror",_e,!1),null===me){const t="webgl2";if(me=ve(t,e),null===me)throw ve(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Ie){throw console.error("THREE.WebGLRenderer: "+Ie.message),Ie}function ge(){G=new qx(me),G.init(),he=new Hw(me,G),q=new Ex(me,G,e,he),Y=new zw(me),X=new Zx(me),Z=new Cw,K=new Bw(me,G,Y,Z,q,he,X),J=new Tx(y),$=new Gx(y),Q=new fx(me),pe=new Sx(me,Q),ee=new Yx(me,Q,X,pe),te=new Jx(me,ee,Q,X),ce=new Kx(me,q,K),oe=new Cx(Z),ne=new Ew(y,J,$,G,q,pe,oe),ie=new Jw(y,Z),re=new kw,ae=new Iw(G),le=new wx(y,J,$,Y,te,d,s),se=new Uw(y,te,q),fe=new $w(me,X,q,Y),ue=new Mx(me,G,X),de=new Xx(me,G,X),X.programs=ne.programs,y.capabilities=q,y.extensions=G,y.properties=Z,y.renderLists=re,y.shadowMap=se,y.state=Y,y.info=X}ge();const ye=new Xw(y,me);function be(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),b=!0}function xe(){console.log("THREE.WebGLRenderer: Context Restored."),b=!1;const e=X.autoReset,t=se.enabled,n=se.autoUpdate,i=se.needsUpdate,r=se.type;ge(),X.autoReset=e,se.enabled=t,se.autoUpdate=n,se.needsUpdate=i,se.type=r}function _e(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function we(e){const t=e.target;t.removeEventListener("dispose",we),function(e){(function(e){const t=Z.get(e).programs;void 0!==t&&(t.forEach((function(e){ne.releaseProgram(e)})),e.isShaderMaterial&&ne.releaseShaderCache(e))})(e),Z.remove(e)}(t)}function Se(e,t,n){!0===e.transparent&&e.side===mp&&!1===e.forceSinglePass?(e.side=fp,e.needsUpdate=!0,Re(e,t,n),e.side=pp,e.needsUpdate=!0,Re(e,t,n),e.side=mp):Re(e,t,n)}this.xr=ye,this.getContext=function(){return me},this.getContextAttributes=function(){return me.getContextAttributes()},this.forceContextLoss=function(){const e=G.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=G.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return P},this.setPixelRatio=function(e){void 0!==e&&(P=e,this.setSize(k,O,!1))},this.getSize=function(e){return e.set(k,O)},this.setSize=function(e,n){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];ye.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(k=e,O=n,t.width=Math.floor(e*P),t.height=Math.floor(n*P),!0===i&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(k*P,O*P).floor()},this.setDrawingBufferSize=function(e,n,i){k=e,O=n,P=i,t.width=Math.floor(e*i),t.height=Math.floor(n*i),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return e.copy(E)},this.getViewport=function(e){return e.copy(L)},this.setViewport=function(e,t,n,i){e.isVector4?L.set(e.x,e.y,e.z,e.w):L.set(e,t,n,i),Y.viewport(E.copy(L).multiplyScalar(P).round())},this.getScissor=function(e){return e.copy(I)},this.setScissor=function(e,t,n,i){e.isVector4?I.set(e.x,e.y,e.z,e.w):I.set(e,t,n,i),Y.scissor(C.copy(I).multiplyScalar(P).round())},this.getScissorTest=function(){return D},this.setScissorTest=function(e){Y.setScissorTest(D=e)},this.setOpaqueSort=function(e){R=e},this.setTransparentSort=function(e){j=e},this.getClearColor=function(e){return e.copy(le.getClearColor())},this.setClearColor=function(){le.setClearColor.apply(le,arguments)},this.getClearAlpha=function(){return le.getClearAlpha()},this.setClearAlpha=function(){le.setClearAlpha.apply(le,arguments)},this.clear=function(){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=0;if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]){let e=!1;if(null!==w){const t=w.texture.format;e=t===$f||t===Jf||t===Zf}if(e){const e=w.texture.type,t=e===Af||e===jf||e===Pf||e===Uf||e===Df||e===Ff,n=le.getClearColor(),i=le.getClearAlpha(),r=n.r,a=n.g,o=n.b;t?(h[0]=r,h[1]=a,h[2]=o,h[3]=i,me.clearBufferuiv(me.COLOR,0,h)):(p[0]=r,p[1]=a,p[2]=o,p[3]=i,me.clearBufferiv(me.COLOR,0,p))}else n|=me.COLOR_BUFFER_BIT}e&&(n|=me.DEPTH_BUFFER_BIT),t&&(n|=me.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),me.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",be,!1),t.removeEventListener("webglcontextrestored",xe,!1),t.removeEventListener("webglcontextcreationerror",_e,!1),re.dispose(),ae.dispose(),Z.dispose(),J.dispose(),$.dispose(),te.dispose(),pe.dispose(),fe.dispose(),ne.dispose(),ye.dispose(),ye.removeEventListener("sessionstart",Ee),ye.removeEventListener("sessionend",Ce),Te.stop()},this.renderBufferDirect=function(e,t,n,i,r,a){null===t&&(t=V);const o=r.isMesh&&r.matrixWorld.determinant()<0,s=function(e,t,n,i,r){!0!==t.isScene&&(t=V);K.resetTextureUnits();const a=t.fog,o=i.isMeshStandardMaterial?t.environment:null,s=null===w?y.outputColorSpace:!0===w.isXRRenderTarget?w.texture.colorSpace:Jm,l=(i.isMeshStandardMaterial?$:J).get(i.envMap||o),c=!0===i.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,u=!!n.attributes.tangent&&(!!i.normalMap||i.anisotropy>0),d=!!n.morphAttributes.position,h=!!n.morphAttributes.normal,p=!!n.morphAttributes.color;let f=Qp;i.toneMapped&&(null!==w&&!0!==w.isXRRenderTarget||(f=y.toneMapping));const v=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,g=void 0!==v?v.length:0,b=Z.get(i),x=m.state.lights;if(!0===U&&(!0===z||e!==M)){const t=e===M&&i.id===S;oe.setState(i,e,t)}let _=!1;i.version===b.__version?b.needsLights&&b.lightsStateVersion!==x.state.version||b.outputColorSpace!==s||r.isBatchedMesh&&!1===b.batching?_=!0:r.isBatchedMesh||!0!==b.batching?r.isInstancedMesh&&!1===b.instancing?_=!0:r.isInstancedMesh||!0!==b.instancing?r.isSkinnedMesh&&!1===b.skinning?_=!0:r.isSkinnedMesh||!0!==b.skinning?r.isInstancedMesh&&!0===b.instancingColor&&null===r.instanceColor||r.isInstancedMesh&&!1===b.instancingColor&&null!==r.instanceColor||r.isInstancedMesh&&!0===b.instancingMorph&&null===r.morphTexture||r.isInstancedMesh&&!1===b.instancingMorph&&null!==r.morphTexture||b.envMap!==l||!0===i.fog&&b.fog!==a?_=!0:void 0===b.numClippingPlanes||b.numClippingPlanes===oe.numPlanes&&b.numIntersection===oe.numIntersection?(b.vertexAlphas!==c||b.vertexTangents!==u||b.morphTargets!==d||b.morphNormals!==h||b.morphColors!==p||b.toneMapping!==f||b.morphTargetsCount!==g)&&(_=!0):_=!0:_=!0:_=!0:_=!0:(_=!0,b.__version=i.version);let E=b.currentProgram;!0===_&&(E=Re(i,t,r));let C=!1,T=!1,N=!1;const A=E.getUniforms(),k=b.uniforms;Y.useProgram(E.program)&&(C=!0,T=!0,N=!0);i.id!==S&&(S=i.id,T=!0);if(C||M!==e){A.setValue(me,"projectionMatrix",e.projectionMatrix),A.setValue(me,"viewMatrix",e.matrixWorldInverse);const t=A.map.cameraPosition;void 0!==t&&t.setValue(me,H.setFromMatrixPosition(e.matrixWorld)),q.logarithmicDepthBuffer&&A.setValue(me,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),(i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial)&&A.setValue(me,"isOrthographic",!0===e.isOrthographicCamera),M!==e&&(M=e,T=!0,N=!0)}if(r.isSkinnedMesh){A.setOptional(me,r,"bindMatrix"),A.setOptional(me,r,"bindMatrixInverse");const e=r.skeleton;e&&(null===e.boneTexture&&e.computeBoneTexture(),A.setValue(me,"boneTexture",e.boneTexture,K))}r.isBatchedMesh&&(A.setOptional(me,r,"batchingTexture"),A.setValue(me,"batchingTexture",r._matricesTexture,K));const R=n.morphAttributes;void 0===R.position&&void 0===R.normal&&void 0===R.color||ce.update(r,n,E);(T||b.receiveShadow!==r.receiveShadow)&&(b.receiveShadow=r.receiveShadow,A.setValue(me,"receiveShadow",r.receiveShadow));i.isMeshGouraudMaterial&&null!==i.envMap&&(k.envMap.value=l,k.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1);i.isMeshStandardMaterial&&null===i.envMap&&null!==t.environment&&(k.envMapIntensity.value=t.environmentIntensity);T&&(A.setValue(me,"toneMappingExposure",y.toneMappingExposure),b.needsLights&&(L=N,(j=k).ambientLightColor.needsUpdate=L,j.lightProbe.needsUpdate=L,j.directionalLights.needsUpdate=L,j.directionalLightShadows.needsUpdate=L,j.pointLights.needsUpdate=L,j.pointLightShadows.needsUpdate=L,j.spotLights.needsUpdate=L,j.spotLightShadows.needsUpdate=L,j.rectAreaLights.needsUpdate=L,j.hemisphereLights.needsUpdate=L),a&&!0===i.fog&&ie.refreshFogUniforms(k,a),ie.refreshMaterialUniforms(k,i,P,O,m.state.transmissionRenderTarget[e.id]),iw.upload(me,je(b),k,K));var j,L;i.isShaderMaterial&&!0===i.uniformsNeedUpdate&&(iw.upload(me,je(b),k,K),i.uniformsNeedUpdate=!1);i.isSpriteMaterial&&A.setValue(me,"center",r.center);if(A.setValue(me,"modelViewMatrix",r.modelViewMatrix),A.setValue(me,"normalMatrix",r.normalMatrix),A.setValue(me,"modelMatrix",r.matrixWorld),i.isShaderMaterial||i.isRawShaderMaterial){const e=i.uniformsGroups;for(let t=0,n=e.length;t<n;t++){const n=e[t];fe.update(n,E),fe.bind(n,E)}}return E}(e,t,n,i,r);Y.setMaterial(i,o);let l=n.index,c=1;if(!0===i.wireframe){if(l=ee.getWireframeAttribute(n),void 0===l)return;c=2}const u=n.drawRange,d=n.attributes.position;let h=u.start*c,p=(u.start+u.count)*c;null!==a&&(h=Math.max(h,a.start*c),p=Math.min(p,(a.start+a.count)*c)),null!==l?(h=Math.max(h,0),p=Math.min(p,l.count)):void 0!==d&&null!==d&&(h=Math.max(h,0),p=Math.min(p,d.count));const f=p-h;if(f<0||f===1/0)return;let v;pe.setup(r,i,s,n,l);let g=ue;if(null!==l&&(v=Q.get(l),g=de,g.setIndex(v)),r.isMesh)!0===i.wireframe?(Y.setLineWidth(i.wireframeLinewidth*W()),g.setMode(me.LINES)):g.setMode(me.TRIANGLES);else if(r.isLine){let e=i.linewidth;void 0===e&&(e=1),Y.setLineWidth(e*W()),r.isLineSegments?g.setMode(me.LINES):r.isLineLoop?g.setMode(me.LINE_LOOP):g.setMode(me.LINE_STRIP)}else r.isPoints?g.setMode(me.POINTS):r.isSprite&&g.setMode(me.TRIANGLES);if(r.isBatchedMesh)null!==r._multiDrawInstances?g.renderMultiDrawInstances(r._multiDrawStarts,r._multiDrawCounts,r._multiDrawCount,r._multiDrawInstances):g.renderMultiDraw(r._multiDrawStarts,r._multiDrawCounts,r._multiDrawCount);else if(r.isInstancedMesh)g.renderInstances(h,f,r.count);else if(n.isInstancedBufferGeometry){const e=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,t=Math.min(n.instanceCount,e);g.renderInstances(h,f,t)}else g.render(h,f)},this.compile=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===n&&(n=e),m=ae.get(n),m.init(t),g.push(m),n.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(m.pushLight(e),e.castShadow&&m.pushShadow(e))})),e!==n&&e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(m.pushLight(e),e.castShadow&&m.pushShadow(e))})),m.setupLights(y._useLegacyLights);const i=new Set;return e.traverse((function(e){const t=e.material;if(t)if(Array.isArray(t))for(let r=0;r<t.length;r++){const a=t[r];Se(a,n,e),i.add(a)}else Se(t,n,e),i.add(t)})),g.pop(),m=null,i},this.compileAsync=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=this.compile(e,t,n);return new Promise((t=>{function n(){i.forEach((function(e){Z.get(e).currentProgram.isReady()&&i.delete(e)})),0!==i.size?setTimeout(n,10):t(e)}null!==G.get("KHR_parallel_shader_compile")?n():setTimeout(n,10)}))};let Me=null;function Ee(){Te.stop()}function Ce(){Te.start()}const Te=new px;function Ne(e,t,n,i){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)m.pushLight(e),e.castShadow&&m.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||F.intersectsSprite(e)){i&&H.setFromMatrixPosition(e.matrixWorld).applyMatrix4(B);const t=te.update(e),r=e.material;r.visible&&f.push(e,t,r,n,H.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||F.intersectsObject(e))){const t=te.update(e),r=e.material;if(i&&(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),H.copy(e.boundingSphere.center)):(null===t.boundingSphere&&t.computeBoundingSphere(),H.copy(t.boundingSphere.center)),H.applyMatrix4(e.matrixWorld).applyMatrix4(B)),Array.isArray(r)){const i=t.groups;for(let a=0,o=i.length;a<o;a++){const o=i[a],s=r[o.materialIndex];s&&s.visible&&f.push(e,t,s,n,H.z,o)}}else r.visible&&f.push(e,t,r,n,H.z,null)}const r=e.children;for(let a=0,o=r.length;a<o;a++)Ne(r[a],t,n,i)}function Ae(e,t,n,i){const r=e.opaque,a=e.transmissive,o=e.transparent;m.setupLightsView(n),!0===U&&oe.setGlobalState(y.clippingPlanes,n),i&&Y.viewport(E.copy(i)),r.length>0&&Oe(r,t,n),a.length>0&&Oe(a,t,n),o.length>0&&Oe(o,t,n),Y.buffers.depth.setTest(!0),Y.buffers.depth.setMask(!0),Y.buffers.color.setMask(!0),Y.setPolygonOffset(!1)}function ke(e,t,n,i){if(null!==(!0===n.isScene?n.overrideMaterial:null))return;void 0===m.state.transmissionRenderTarget[i.id]&&(m.state.transmissionRenderTarget[i.id]=new Eg(1,1,{generateMipmaps:!0,type:G.has("EXT_color_buffer_half_float")||G.has("EXT_color_buffer_float")?If:Af,minFilter:Tf,samples:4,stencilBuffer:r,resolveDepthBuffer:!1,resolveStencilBuffer:!1}));const a=m.state.transmissionRenderTarget[i.id],o=i.viewport||E;a.setSize(o.z,o.w);const s=y.getRenderTarget();y.setRenderTarget(a),y.getClearColor(N),A=y.getClearAlpha(),A<1&&y.setClearColor(16777215,.5),y.clear();const l=y.toneMapping;y.toneMapping=Qp;const c=i.viewport;if(void 0!==i.viewport&&(i.viewport=void 0),m.setupLightsView(i),!0===U&&oe.setGlobalState(y.clippingPlanes,i),Oe(e,n,i),K.updateMultisampleRenderTarget(a),K.updateRenderTargetMipmap(a),!1===G.has("WEBGL_multisampled_render_to_texture")){let e=!1;for(let r=0,a=t.length;r<a;r++){const a=t[r],o=a.object,s=a.geometry,l=a.material,c=a.group;if(l.side===mp&&o.layers.test(i.layers)){const t=l.side;l.side=fp,l.needsUpdate=!0,Pe(o,n,i,s,l,c),l.side=t,l.needsUpdate=!0,e=!0}}!0===e&&(K.updateMultisampleRenderTarget(a),K.updateRenderTargetMipmap(a))}y.setRenderTarget(s),y.setClearColor(N,A),void 0!==c&&(i.viewport=c),y.toneMapping=l}function Oe(e,t,n){const i=!0===t.isScene?t.overrideMaterial:null;for(let r=0,a=e.length;r<a;r++){const a=e[r],o=a.object,s=a.geometry,l=null===i?a.material:i,c=a.group;o.layers.test(n.layers)&&Pe(o,t,n,s,l,c)}}function Pe(e,t,n,i,r,a){e.onBeforeRender(y,t,n,i,r,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),r.onBeforeRender(y,t,n,i,e,a),!0===r.transparent&&r.side===mp&&!1===r.forceSinglePass?(r.side=fp,r.needsUpdate=!0,y.renderBufferDirect(n,t,i,r,e,a),r.side=pp,r.needsUpdate=!0,y.renderBufferDirect(n,t,i,r,e,a),r.side=mp):y.renderBufferDirect(n,t,i,r,e,a),e.onAfterRender(y,t,n,i,r,a)}function Re(e,t,n){!0!==t.isScene&&(t=V);const i=Z.get(e),r=m.state.lights,a=m.state.shadowsArray,o=r.state.version,s=ne.getParameters(e,r.state,a,t,n),l=ne.getProgramCacheKey(s);let c=i.programs;i.environment=e.isMeshStandardMaterial?t.environment:null,i.fog=t.fog,i.envMap=(e.isMeshStandardMaterial?$:J).get(e.envMap||i.environment),i.envMapRotation=null!==i.environment&&null===e.envMap?t.environmentRotation:e.envMapRotation,void 0===c&&(e.addEventListener("dispose",we),c=new Map,i.programs=c);let u=c.get(l);if(void 0!==u){if(i.currentProgram===u&&i.lightsStateVersion===o)return Le(e,s),u}else s.uniforms=ne.getUniforms(e),e.onBuild(n,s,y),e.onBeforeCompile(s,y),u=ne.acquireProgram(s,l),c.set(l,u),i.uniforms=s.uniforms;const d=i.uniforms;return(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(d.clippingPlanes=oe.uniform),Le(e,s),i.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),i.lightsStateVersion=o,i.needsLights&&(d.ambientLightColor.value=r.state.ambient,d.lightProbe.value=r.state.probe,d.directionalLights.value=r.state.directional,d.directionalLightShadows.value=r.state.directionalShadow,d.spotLights.value=r.state.spot,d.spotLightShadows.value=r.state.spotShadow,d.rectAreaLights.value=r.state.rectArea,d.ltc_1.value=r.state.rectAreaLTC1,d.ltc_2.value=r.state.rectAreaLTC2,d.pointLights.value=r.state.point,d.pointLightShadows.value=r.state.pointShadow,d.hemisphereLights.value=r.state.hemi,d.directionalShadowMap.value=r.state.directionalShadowMap,d.directionalShadowMatrix.value=r.state.directionalShadowMatrix,d.spotShadowMap.value=r.state.spotShadowMap,d.spotLightMatrix.value=r.state.spotLightMatrix,d.spotLightMap.value=r.state.spotLightMap,d.pointShadowMap.value=r.state.pointShadowMap,d.pointShadowMatrix.value=r.state.pointShadowMatrix),i.currentProgram=u,i.uniformsList=null,u}function je(e){if(null===e.uniformsList){const t=e.currentProgram.getUniforms();e.uniformsList=iw.seqWithValue(t.seq,e.uniforms)}return e.uniformsList}function Le(e,t){const n=Z.get(e);n.outputColorSpace=t.outputColorSpace,n.batching=t.batching,n.instancing=t.instancing,n.instancingColor=t.instancingColor,n.instancingMorph=t.instancingMorph,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}Te.setAnimationLoop((function(e){Me&&Me(e)})),"undefined"!==typeof self&&Te.setContext(self),this.setAnimationLoop=function(e){Me=e,ye.setAnimationLoop(e),null===e?Te.stop():Te.start()},ye.addEventListener("sessionstart",Ee),ye.addEventListener("sessionend",Ce),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===b)return;!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===ye.enabled&&!0===ye.isPresenting&&(!0===ye.cameraAutoUpdate&&ye.updateCamera(t),t=ye.getCamera()),!0===e.isScene&&e.onBeforeRender(y,e,t,w),m=ae.get(e,g.length),m.init(t),g.push(m),B.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),F.setFromProjectionMatrix(B),z=this.localClippingEnabled,U=oe.init(this.clippingPlanes,z),f=re.get(e,v.length),f.init(),v.push(f),Ne(e,t,0,y.sortObjects),f.finish(),!0===y.sortObjects&&f.sort(R,j);const n=!1===ye.enabled||!1===ye.isPresenting||!1===ye.hasDepthSensing();n&&le.addToRenderList(f,e),this.info.render.frame++,!0===U&&oe.beginShadows();const i=m.state.shadowsArray;se.render(i,e,t),!0===U&&oe.endShadows(),!0===this.info.autoReset&&this.info.reset();const r=f.opaque,a=f.transmissive;if(m.setupLights(y._useLegacyLights),t.isArrayCamera){const i=t.cameras;if(a.length>0)for(let t=0,n=i.length;t<n;t++){ke(r,a,e,i[t])}n&&le.render(e);for(let t=0,n=i.length;t<n;t++){const n=i[t];Ae(f,e,n,n.viewport)}}else a.length>0&&ke(r,a,e,t),n&&le.render(e),Ae(f,e,t);null!==w&&(K.updateMultisampleRenderTarget(w),K.updateRenderTargetMipmap(w)),!0===e.isScene&&e.onAfterRender(y,e,t),pe.resetDefaultState(),S=-1,M=null,g.pop(),g.length>0?(m=g[g.length-1],!0===U&&oe.setGlobalState(y.clippingPlanes,m.state.camera)):m=null,v.pop(),f=v.length>0?v[v.length-1]:null},this.getActiveCubeFace=function(){return x},this.getActiveMipmapLevel=function(){return _},this.getRenderTarget=function(){return w},this.setRenderTargetTextures=function(e,t,n){Z.get(e.texture).__webglTexture=t,Z.get(e.depthTexture).__webglTexture=n;const i=Z.get(e);i.__hasExternalTextures=!0,i.__autoAllocateDepthBuffer=void 0===n,i.__autoAllocateDepthBuffer||!0===G.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),i.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(e,t){const n=Z.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;w=e,x=t,_=n;let i=!0,r=null,a=!1,o=!1;if(e){const s=Z.get(e);void 0!==s.__useDefaultFramebuffer?(Y.bindFramebuffer(me.FRAMEBUFFER,null),i=!1):void 0===s.__webglFramebuffer?K.setupRenderTarget(e):s.__hasExternalTextures&&K.rebindTextures(e,Z.get(e.texture).__webglTexture,Z.get(e.depthTexture).__webglTexture);const l=e.texture;(l.isData3DTexture||l.isDataArrayTexture||l.isCompressedArrayTexture)&&(o=!0);const c=Z.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(r=Array.isArray(c[t])?c[t][n]:c[t],a=!0):r=e.samples>0&&!1===K.useMultisampledRTT(e)?Z.get(e).__webglMultisampledFramebuffer:Array.isArray(c)?c[n]:c,E.copy(e.viewport),C.copy(e.scissor),T=e.scissorTest}else E.copy(L).multiplyScalar(P).floor(),C.copy(I).multiplyScalar(P).floor(),T=D;if(Y.bindFramebuffer(me.FRAMEBUFFER,r)&&i&&Y.drawBuffers(e,r),Y.viewport(E),Y.scissor(C),Y.setScissorTest(T),a){const i=Z.get(e.texture);me.framebufferTexture2D(me.FRAMEBUFFER,me.COLOR_ATTACHMENT0,me.TEXTURE_CUBE_MAP_POSITIVE_X+t,i.__webglTexture,n)}else if(o){const i=Z.get(e.texture),r=t||0;me.framebufferTextureLayer(me.FRAMEBUFFER,me.COLOR_ATTACHMENT0,i.__webglTexture,n||0,r)}S=-1},this.readRenderTargetPixels=function(e,t,n,i,r,a,o){if(!e||!e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let s=Z.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){Y.bindFramebuffer(me.FRAMEBUFFER,s);try{const o=e.texture,s=o.format,l=o.type;if(!q.textureFormatReadable(s))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!q.textureTypeReadable(l))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-i&&n>=0&&n<=e.height-r&&me.readPixels(t,n,i,r,he.convert(s),he.convert(l),a)}finally{const e=null!==w?Z.get(w).__webglFramebuffer:null;Y.bindFramebuffer(me.FRAMEBUFFER,e)}}},this.copyFramebufferToTexture=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=Math.pow(2,-n),r=Math.floor(t.image.width*i),a=Math.floor(t.image.height*i);K.setTexture2D(t,0),me.copyTexSubImage2D(me.TEXTURE_2D,n,0,0,e.x,e.y,r,a),Y.unbindTexture()},this.copyTextureToTexture=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const r=t.image.width,a=t.image.height,o=he.convert(n.format),s=he.convert(n.type);K.setTexture2D(n,0),me.pixelStorei(me.UNPACK_FLIP_Y_WEBGL,n.flipY),me.pixelStorei(me.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),me.pixelStorei(me.UNPACK_ALIGNMENT,n.unpackAlignment),t.isDataTexture?me.texSubImage2D(me.TEXTURE_2D,i,e.x,e.y,r,a,o,s,t.image.data):t.isCompressedTexture?me.compressedTexSubImage2D(me.TEXTURE_2D,i,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):me.texSubImage2D(me.TEXTURE_2D,i,e.x,e.y,o,s,t.image),0===i&&n.generateMipmaps&&me.generateMipmap(me.TEXTURE_2D),Y.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;const a=e.max.x-e.min.x,o=e.max.y-e.min.y,s=e.max.z-e.min.z,l=he.convert(i.format),c=he.convert(i.type);let u;if(i.isData3DTexture)K.setTexture3D(i,0),u=me.TEXTURE_3D;else{if(!i.isDataArrayTexture&&!i.isCompressedArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");K.setTexture2DArray(i,0),u=me.TEXTURE_2D_ARRAY}me.pixelStorei(me.UNPACK_FLIP_Y_WEBGL,i.flipY),me.pixelStorei(me.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),me.pixelStorei(me.UNPACK_ALIGNMENT,i.unpackAlignment);const d=me.getParameter(me.UNPACK_ROW_LENGTH),h=me.getParameter(me.UNPACK_IMAGE_HEIGHT),p=me.getParameter(me.UNPACK_SKIP_PIXELS),f=me.getParameter(me.UNPACK_SKIP_ROWS),m=me.getParameter(me.UNPACK_SKIP_IMAGES),v=n.isCompressedTexture?n.mipmaps[r]:n.image;me.pixelStorei(me.UNPACK_ROW_LENGTH,v.width),me.pixelStorei(me.UNPACK_IMAGE_HEIGHT,v.height),me.pixelStorei(me.UNPACK_SKIP_PIXELS,e.min.x),me.pixelStorei(me.UNPACK_SKIP_ROWS,e.min.y),me.pixelStorei(me.UNPACK_SKIP_IMAGES,e.min.z),n.isDataTexture||n.isData3DTexture?me.texSubImage3D(u,r,t.x,t.y,t.z,a,o,s,l,c,v.data):i.isCompressedArrayTexture?me.compressedTexSubImage3D(u,r,t.x,t.y,t.z,a,o,s,l,v.data):me.texSubImage3D(u,r,t.x,t.y,t.z,a,o,s,l,c,v),me.pixelStorei(me.UNPACK_ROW_LENGTH,d),me.pixelStorei(me.UNPACK_IMAGE_HEIGHT,h),me.pixelStorei(me.UNPACK_SKIP_PIXELS,p),me.pixelStorei(me.UNPACK_SKIP_ROWS,f),me.pixelStorei(me.UNPACK_SKIP_IMAGES,m),0===r&&i.generateMipmaps&&me.generateMipmap(u),Y.unbindTexture()},this.initTexture=function(e){e.isCubeTexture?K.setTextureCube(e,0):e.isData3DTexture?K.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?K.setTexture2DArray(e,0):K.setTexture2D(e,0),Y.unbindTexture()},this.resetState=function(){x=0,_=0,w=null,Y.reset(),pe.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Uv}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===$m?"display-p3":"srgb",t.unpackColorSpace=pg.workingColorSpace===Qm?"display-p3":"srgb"}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class eS{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;this.isFogExp2=!0,this.name="",this.color=new Ky(e),this.density=t}clone(){return new eS(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class tS{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;this.isFog=!0,this.name="",this.color=new Ky(e),this.near=t,this.far=n}clone(){return new tS(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class nS extends jy{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new gy,this.environmentIntensity=1,this.environmentRotation=new gy,this.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class iS{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=Nv,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=qv()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}get updateRange(){return lg("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this}set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=qv()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=qv()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const rS=new Og;class aS{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)rS.fromBufferAttribute(this,t),rS.applyMatrix4(e),this.setXYZ(t,rS.x,rS.y,rS.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)rS.fromBufferAttribute(this,t),rS.applyNormalMatrix(e),this.setXYZ(t,rS.x,rS.y,rS.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)rS.fromBufferAttribute(this,t),rS.transformDirection(e),this.setXYZ(t,rS.x,rS.y,rS.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=Kv(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Jv(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=Jv(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Jv(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Jv(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Jv(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Kv(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Kv(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Kv(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Kv(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Jv(t,this.array),n=Jv(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Jv(t,this.array),n=Jv(n,this.array),i=Jv(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this}setXYZW(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Jv(t,this.array),n=Jv(n,this.array),i=Jv(i,this.array),r=Jv(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return new lb(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new aS(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class oS extends Qy{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ky(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let sS;const lS=new Og,cS=new Og,uS=new Og,dS=new Qv,hS=new Qv,pS=new sy,fS=new Og,mS=new Og,vS=new Og,gS=new Qv,yS=new Qv,bS=new Qv;class xS extends jy{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new oS;if(super(),this.isSprite=!0,this.type="Sprite",void 0===sS){sS=new Eb;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),t=new iS(e,5);sS.setIndex([0,1,2,0,2,3]),sS.setAttribute("position",new aS(t,3,0,!1)),sS.setAttribute("uv",new aS(t,2,3,!1))}this.geometry=sS,this.material=e,this.center=new Qv(.5,.5)}raycast(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),cS.setFromMatrixScale(this.matrixWorld),pS.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),uS.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&cS.multiplyScalar(-uS.z);const n=this.material.rotation;let i,r;0!==n&&(r=Math.cos(n),i=Math.sin(n));const a=this.center;_S(fS.set(-.5,-.5,0),uS,a,cS,i,r),_S(mS.set(.5,-.5,0),uS,a,cS,i,r),_S(vS.set(.5,.5,0),uS,a,cS,i,r),gS.set(0,0),yS.set(1,0),bS.set(1,1);let o=e.ray.intersectTriangle(fS,mS,vS,!1,lS);if(null===o&&(_S(mS.set(-.5,.5,0),uS,a,cS,i,r),yS.set(0,1),o=e.ray.intersectTriangle(fS,vS,mS,!1,lS),null===o))return;const s=e.ray.origin.distanceTo(lS);s<e.near||s>e.far||t.push({distance:s,point:lS.clone(),uv:Gy.getInterpolation(lS,fS,mS,vS,gS,yS,bS,new Qv),face:null,object:this})}copy(e,t){return super.copy(e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}function _S(e,t,n,i,r,a){dS.subVectors(e,n).addScalar(.5).multiply(i),void 0!==r?(hS.x=a*dS.x-r*dS.y,hS.y=r*dS.x+a*dS.y):hS.copy(dS),e.copy(t),e.x+=hS.x,e.y+=hS.y,e.applyMatrix4(pS)}const wS=new Og,SS=new Og;class MS extends jy{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,i=t.length;n<i;n++){const e=t[n];this.addLevel(e.object.clone(),e.distance,e.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t=Math.abs(t);const i=this.levels;let r;for(r=0;r<i.length&&!(t<i[r].distance);r++);return i.splice(r,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,i;for(n=1,i=t.length;n<i;n++){let i=t[n].distance;if(t[n].object.visible&&(i-=i*t[n].hysteresis),e<i)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){wS.setFromMatrixPosition(this.matrixWorld);const n=e.ray.origin.distanceTo(wS);this.getObjectForDistance(n).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){wS.setFromMatrixPosition(e.matrixWorld),SS.setFromMatrixPosition(this.matrixWorld);const n=wS.distanceTo(SS)/e.zoom;let i,r;for(t[0].object.visible=!0,i=1,r=t.length;i<r;i++){let e=t[i].distance;if(t[i].object.visible&&(e-=e*t[i].hysteresis),!(n>=e))break;t[i-1].object.visible=!1,t[i].object.visible=!0}for(this._currentLevel=i-1;i<r;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let i=0,r=n.length;i<r;i++){const e=n[i];t.object.levels.push({object:e.object.uuid,distance:e.distance,hysteresis:e.hysteresis})}return t}}const ES=new Og,CS=new Sg,TS=new Sg,NS=new Og,AS=new sy,kS=new Og,OS=new $g,PS=new sy,RS=new oy;class jS extends Vb{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=lf,this.bindMatrix=new sy,this.bindMatrixInverse=new sy,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;null===this.boundingBox&&(this.boundingBox=new jg),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,kS),this.boundingBox.expandByPoint(kS)}computeBoundingSphere(){const e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new $g),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,kS),this.boundingSphere.expandByPoint(kS)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,i=this.matrixWorld;void 0!==n&&(null===this.boundingSphere&&this.computeBoundingSphere(),OS.copy(this.boundingSphere),OS.applyMatrix4(i),!1!==e.ray.intersectsSphere(OS)&&(PS.copy(i).invert(),RS.copy(e.ray).applyMatrix4(PS),null!==this.boundingBox&&!1===RS.intersectsBox(this.boundingBox)||this._computeIntersections(e,t,RS)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Sg,t=this.geometry.attributes.skinWeight;for(let n=0,i=t.count;n<i;n++){e.fromBufferAttribute(t,n);const i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===lf?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===cf?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,i=this.geometry;CS.fromBufferAttribute(i.attributes.skinIndex,e),TS.fromBufferAttribute(i.attributes.skinWeight,e),ES.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let r=0;r<4;r++){const e=TS.getComponent(r);if(0!==e){const i=CS.getComponent(r);AS.multiplyMatrices(n.bones[i].matrixWorld,n.boneInverses[i]),t.addScaledVector(NS.copy(ES).applyMatrix4(AS),e)}}return t.applyMatrix4(this.bindMatrixInverse)}}class LS extends jy{constructor(){super(),this.isBone=!0,this.type="Bone"}}class IS extends wg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(null,arguments.length>5?arguments[5]:void 0,arguments.length>6?arguments[6]:void 0,arguments.length>7?arguments[7]:void 0,arguments.length>8&&void 0!==arguments[8]?arguments[8]:bf,arguments.length>9&&void 0!==arguments[9]?arguments[9]:bf,arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0,arguments.length>10?arguments[10]:void 0,arguments.length>11?arguments[11]:void 0),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const DS=new sy,FS=new sy;class US{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.uuid=qv(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new sy)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const t=new sy;this.bones[e]&&t.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(t)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&t.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&(t.parent&&t.parent.isBone?(t.matrix.copy(t.parent.matrixWorld).invert(),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let r=0,a=e.length;r<a;r++){const i=e[r]?e[r].matrixWorld:FS;DS.multiplyMatrices(i,t[r]),DS.toArray(n,16*r)}null!==i&&(i.needsUpdate=!0)}clone(){return new US(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=4*Math.ceil(e/4),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new IS(t,e,e,Vf,Lf);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const n=this.bones[t];if(n.name===e)return n}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,i=e.bones.length;n<i;n++){const i=e.bones[n];let r=t[i];void 0===r&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),r=new LS),this.bones.push(r),this.boneInverses.push((new sy).fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let i=0,r=t.length;i<r;i++){const r=t[i];e.bones.push(r.uuid);const a=n[i];e.boneInverses.push(a.toArray())}return e}}class zS extends lb{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const BS=new sy,HS=new sy,VS=[],WS=new jg,GS=new sy,qS=new Vb,YS=new $g;class XS extends Vb{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new zS(new Float32Array(16*n),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<n;i++)this.setMatrixAt(i,GS)}computeBoundingBox(){const e=this.geometry,t=this.count;null===this.boundingBox&&(this.boundingBox=new jg),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,BS),WS.copy(e.boundingBox).applyMatrix4(BS),this.boundingBox.union(WS)}computeBoundingSphere(){const e=this.geometry,t=this.count;null===this.boundingSphere&&(this.boundingSphere=new $g),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,BS),YS.copy(e.boundingSphere).applyMatrix4(BS),this.boundingSphere.union(YS)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.morphTexture&&(this.morphTexture=e.morphTexture.clone()),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}getMorphAt(e,t){const n=t.morphTargetInfluences,i=this.morphTexture.source.data.data,r=e*(n.length+1)+1;for(let a=0;a<n.length;a++)n[a]=i[r+a]}raycast(e,t){const n=this.matrixWorld,i=this.count;if(qS.geometry=this.geometry,qS.material=this.material,void 0!==qS.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),YS.copy(this.boundingSphere),YS.applyMatrix4(n),!1!==e.ray.intersectsSphere(YS)))for(let r=0;r<i;r++){this.getMatrixAt(r,BS),HS.multiplyMatrices(n,BS),qS.matrixWorld=HS,qS.raycast(e,VS);for(let e=0,n=VS.length;e<n;e++){const n=VS[e];n.instanceId=r,n.object=this,t.push(n)}VS.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new zS(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}setMorphAt(e,t){const n=t.morphTargetInfluences,i=n.length+1;null===this.morphTexture&&(this.morphTexture=new IS(new Float32Array(i*this.count),i,this.count,Xf,Lf));const r=this.morphTexture.source.data.data;let a=0;for(let l=0;l<n.length;l++)a+=n[l];const o=this.geometry.morphTargetsRelative?1:1-a,s=i*e;r[s]=o,r.set(n,s+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),null!==this.morphTexture&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function ZS(e,t){return e.z-t.z}function KS(e,t){return t.z-e.z}class JS{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t){const n=this.pool,i=this.list;this.index>=n.length&&n.push({start:-1,count:-1,z:-1});const r=n[this.index];i.push(r),this.index++,r.start=e.start,r.count=e.count,r.z=t}reset(){this.list.length=0,this.index=0}}const $S="batchId",QS=new sy,eM=new sy,tM=new sy,nM=new sy,iM=new hx,rM=new jg,aM=new $g,oM=new Og,sM=new JS,lM=new Vb,cM=[];function uM(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=t.itemSize;if(e.isInterleavedBufferAttribute||e.array.constructor!==t.array.constructor){const r=e.count;for(let a=0;a<r;a++)for(let r=0;r<i;r++)t.setComponent(a+n,r,e.getComponent(a,r))}else t.array.set(e.array,n*i);t.needsUpdate=!0}class dM extends Vb{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2*t,i=arguments.length>3?arguments[3]:void 0;super(new Eb,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(4*this._maxGeometryCount);e=4*Math.ceil(e/4),e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new IS(t,e,e,Vf,Lf);this._matricesTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,i=this._maxGeometryCount,r=this._maxIndexCount;if(!1===this._geometryInitialized){for(const i in e.attributes){const r=e.getAttribute(i),{array:a,itemSize:o,normalized:s}=r,l=new a.constructor(n*o),c=new lb(l,o,s);t.setAttribute(i,c)}if(null!==e.getIndex()){const e=n>65536?new Uint32Array(r):new Uint16Array(r);t.setIndex(new lb(e,1))}const a=i>65536?new Uint32Array(n):new Uint16Array(n);t.setAttribute($S,new lb(a,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute($S))throw new Error('BatchedMesh: Geometry cannot use attribute "'.concat($S,'"'));const t=this.geometry;if(Boolean(e.getIndex())!==Boolean(t.getIndex()))throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(n===$S)continue;if(!e.hasAttribute(n))throw new Error('BatchedMesh: Added geometry missing "'.concat(n,'". All geometries must have consistent attributes.'));const i=e.getAttribute(n),r=t.getAttribute(n);if(i.itemSize!==r.itemSize||i.normalized!==r.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new jg);const e=this._geometryCount,t=this.boundingBox,n=this._active;t.makeEmpty();for(let i=0;i<e;i++)!1!==n[i]&&(this.getMatrixAt(i,QS),this.getBoundingBoxAt(i,rM).applyMatrix4(QS),t.union(rM))}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new $g);const e=this._geometryCount,t=this.boundingSphere,n=this._active;t.makeEmpty();for(let i=0;i<e;i++)!1!==n[i]&&(this.getMatrixAt(i,QS),this.getBoundingSphereAt(i,aM).applyMatrix4(QS),t.union(aM))}addGeometry(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let r=null;const a=this._reservedRanges,o=this._drawRanges,s=this._bounds;0!==this._geometryCount&&(r=a[a.length-1]),i.vertexCount=-1===t?e.getAttribute("position").count:t,i.vertexStart=null===r?0:r.vertexStart+r.vertexCount;const l=e.getIndex(),c=null!==l;if(c&&(i.indexCount=-1===n?l.count:n,i.indexStart=null===r?0:r.indexStart+r.indexCount),-1!==i.indexStart&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const u=this._visibility,d=this._active,h=this._matricesTexture,p=this._matricesTexture.image.data;u.push(!0),d.push(!0);const f=this._geometryCount;this._geometryCount++,tM.toArray(p,16*f),h.needsUpdate=!0,a.push(i),o.push({start:c?i.indexStart:i.vertexStart,count:-1}),s.push({boxInitialized:!1,box:new jg,sphereInitialized:!1,sphere:new $g});const m=this.geometry.getAttribute($S);for(let v=0;v<i.vertexCount;v++)m.setX(i.vertexStart+v,f);return m.needsUpdate=!0,this.setGeometryAt(f,e),f}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,i=null!==n.getIndex(),r=n.getIndex(),a=t.getIndex(),o=this._reservedRanges[e];if(i&&a.count>o.indexCount||t.attributes.position.count>o.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const s=o.vertexStart,l=o.vertexCount;for(const h in n.attributes){if(h===$S)continue;const e=t.getAttribute(h),i=n.getAttribute(h);uM(e,i,s);const r=e.itemSize;for(let t=e.count,n=l;t<n;t++){const e=s+t;for(let t=0;t<r;t++)i.setComponent(e,t,0)}i.needsUpdate=!0,i.addUpdateRange(s*r,l*r)}if(i){const e=o.indexStart;for(let t=0;t<a.count;t++)r.setX(e+t,s+a.getX(t));for(let t=a.count,n=o.indexCount;t<n;t++)r.setX(e+t,s);r.needsUpdate=!0,r.addUpdateRange(e,o.indexCount)}const c=this._bounds[e];null!==t.boundingBox?(c.box.copy(t.boundingBox),c.boxInitialized=!0):c.boxInitialized=!1,null!==t.boundingSphere?(c.sphere.copy(t.boundingSphere),c.sphereInitialized=!0):c.sphereInitialized=!1;const u=this._drawRanges[e],d=t.getAttribute("position");return u.count=i?a.count:d.count,this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._active;return e>=t.length||!1===t[e]||(t[e]=!1,this._visibilityChanged=!0),this}getInstanceCountAt(e){return null===this._multiDrawInstances?null:this._multiDrawInstances[e]}setInstanceCountAt(e,t){return null===this._multiDrawInstances&&(this._multiDrawInstances=new Int32Array(this._maxGeometryCount).fill(1)),this._multiDrawInstances[e]=t,e}getBoundingBoxAt(e,t){if(!1===this._active[e])return null;const n=this._bounds[e],i=n.box,r=this.geometry;if(!1===n.boxInitialized){i.makeEmpty();const t=r.index,a=r.attributes.position,o=this._drawRanges[e];for(let e=o.start,n=o.start+o.count;e<n;e++){let n=e;t&&(n=t.getX(n)),i.expandByPoint(oM.fromBufferAttribute(a,n))}n.boxInitialized=!0}return t.copy(i),t}getBoundingSphereAt(e,t){if(!1===this._active[e])return null;const n=this._bounds[e],i=n.sphere,r=this.geometry;if(!1===n.sphereInitialized){i.makeEmpty(),this.getBoundingBoxAt(e,rM),rM.getCenter(i.center);const t=r.index,a=r.attributes.position,o=this._drawRanges[e];let s=0;for(let e=o.start,n=o.start+o.count;e<n;e++){let n=e;t&&(n=t.getX(n)),oM.fromBufferAttribute(a,n),s=Math.max(s,i.center.distanceToSquared(oM))}i.radius=Math.sqrt(s),n.sphereInitialized=!0}return t.copy(i),t}setMatrixAt(e,t){const n=this._active,i=this._matricesTexture,r=this._matricesTexture.image.data;return e>=this._geometryCount||!1===n[e]||(t.toArray(r,16*e),i.needsUpdate=!0),this}getMatrixAt(e,t){const n=this._active,i=this._matricesTexture.image.data;return e>=this._geometryCount||!1===n[e]?null:t.fromArray(i,16*e)}setVisibleAt(e,t){const n=this._visibility,i=this._active;return e>=this._geometryCount||!1===i[e]||n[e]===t||(n[e]=t,this._visibilityChanged=!0),this}getVisibleAt(e){const t=this._visibility,n=this._active;return!(e>=this._geometryCount||!1===n[e])&&t[e]}raycast(e,t){const n=this._visibility,i=this._active,r=this._drawRanges,a=this._geometryCount,o=this.matrixWorld,s=this.geometry;lM.material=this.material,lM.geometry.index=s.index,lM.geometry.attributes=s.attributes,null===lM.geometry.boundingBox&&(lM.geometry.boundingBox=new jg),null===lM.geometry.boundingSphere&&(lM.geometry.boundingSphere=new $g);for(let l=0;l<a;l++){if(!n[l]||!i[l])continue;const a=r[l];lM.geometry.setDrawRange(a.start,a.count),this.getMatrixAt(l,lM.matrixWorld).premultiply(o),this.getBoundingBoxAt(l,lM.geometry.boundingBox),this.getBoundingSphereAt(l,lM.geometry.boundingSphere),lM.raycast(e,cM);for(let e=0,n=cM.length;e<n;e++){const n=cM[e];n.object=this,n.batchId=l,t.push(n)}cM.length=0}lM.material=null,lM.geometry.index=null,lM.geometry.attributes={},lM.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=null!==e.boundingBox?e.boundingBox.clone():null,this.boundingSphere=null!==e.boundingSphere?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map((e=>({...e}))),this._reservedRanges=e._reservedRanges.map((e=>({...e}))),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map((e=>({boxInitialized:e.boxInitialized,box:e.box.clone(),sphereInitialized:e.sphereInitialized,sphere:e.sphere.clone()}))),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,t,n,i,r){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=i.getIndex(),o=null===a?1:a.array.BYTES_PER_ELEMENT,s=this._active,l=this._visibility,c=this._multiDrawStarts,u=this._multiDrawCounts,d=this._drawRanges,h=this.perObjectFrustumCulled;h&&(nM.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),iM.setFromProjectionMatrix(nM,e.coordinateSystem));let p=0;if(this.sortObjects){eM.copy(this.matrixWorld).invert(),oM.setFromMatrixPosition(n.matrixWorld).applyMatrix4(eM);for(let n=0,i=l.length;n<i;n++)if(l[n]&&s[n]){this.getMatrixAt(n,QS),this.getBoundingSphereAt(n,aM).applyMatrix4(QS);let e=!1;if(h&&(e=!iM.intersectsSphere(aM)),!e){const e=oM.distanceTo(aM.center);sM.push(d[n],e)}}const e=sM.list,t=this.customSort;null===t?e.sort(r.transparent?KS:ZS):t.call(this,e,n);for(let n=0,i=e.length;n<i;n++){const t=e[n];c[p]=t.start*o,u[p]=t.count,p++}sM.reset()}else for(let f=0,m=l.length;f<m;f++)if(l[f]&&s[f]){let e=!1;if(h&&(this.getMatrixAt(f,QS),this.getBoundingSphereAt(f,aM).applyMatrix4(QS),e=!iM.intersectsSphere(aM)),!e){const e=d[f];c[p]=e.start*o,u[p]=e.count,p++}}this._multiDrawCount=p,this._visibilityChanged=!1}onBeforeShadow(e,t,n,i,r,a){this.onBeforeRender(e,null,i,r,a)}}class hM extends Qy{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ky(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const pM=new Og,fM=new Og,mM=new sy,vM=new oy,gM=new $g,yM=new Og,bM=new Og;class xM extends jy{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Eb,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new hM;super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[0];for(let e=1,i=t.count;e<i;e++)pM.fromBufferAttribute(t,e-1),fM.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=pM.distanceTo(fM);e.setAttribute("lineDistance",new gb(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),gM.copy(n.boundingSphere),gM.applyMatrix4(i),gM.radius+=r,!1===e.ray.intersectsSphere(gM))return;mM.copy(i).invert(),vM.copy(e.ray).applyMatrix4(mM);const o=r/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=this.isLineSegments?2:1,c=n.index,u=n.attributes.position;if(null!==c){const n=Math.max(0,a.start),i=Math.min(c.count,a.start+a.count);for(let r=n,a=i-1;r<a;r+=l){const n=c.getX(r),i=c.getX(r+1),a=_M(this,e,vM,s,n,i);a&&t.push(a)}if(this.isLineLoop){const r=c.getX(i-1),a=c.getX(n),o=_M(this,e,vM,s,r,a);o&&t.push(o)}}else{const n=Math.max(0,a.start),i=Math.min(u.count,a.start+a.count);for(let r=n,a=i-1;r<a;r+=l){const n=_M(this,e,vM,s,r,r+1);n&&t.push(n)}if(this.isLineLoop){const r=_M(this,e,vM,s,i-1,n);r&&t.push(r)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function _M(e,t,n,i,r,a){const o=e.geometry.attributes.position;pM.fromBufferAttribute(o,r),fM.fromBufferAttribute(o,a);if(n.distanceSqToSegment(pM,fM,yM,bM)>i)return;yM.applyMatrix4(e.matrixWorld);const s=t.ray.origin.distanceTo(yM);return s<t.near||s>t.far?void 0:{distance:s,point:bM.clone().applyMatrix4(e.matrixWorld),index:r,face:null,faceIndex:null,object:e}}const wM=new Og,SM=new Og;class MM extends xM{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[];for(let e=0,i=t.count;e<i;e+=2)wM.fromBufferAttribute(t,e),SM.fromBufferAttribute(t,e+1),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+wM.distanceTo(SM);e.setAttribute("lineDistance",new gb(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class EM extends xM{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class CM extends Qy{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ky(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const TM=new sy,NM=new oy,AM=new $g,kM=new Og;class OM extends jy{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Eb,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new CM;super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),AM.copy(n.boundingSphere),AM.applyMatrix4(i),AM.radius+=r,!1===e.ray.intersectsSphere(AM))return;TM.copy(i).invert(),NM.copy(e.ray).applyMatrix4(TM);const o=r/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=n.index,c=n.attributes.position;if(null!==l){for(let n=Math.max(0,a.start),r=Math.min(l.count,a.start+a.count);n<r;n++){const r=l.getX(n);kM.fromBufferAttribute(c,r),PM(kM,r,s,i,e,t,this)}}else{for(let n=Math.max(0,a.start),r=Math.min(c.count,a.start+a.count);n<r;n++)kM.fromBufferAttribute(c,n),PM(kM,n,s,i,e,t,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function PM(e,t,n,i,r,a,o){const s=NM.distanceSqToPoint(e);if(s<n){const n=new Og;NM.closestPointToPoint(e,n),n.applyMatrix4(i);const l=r.ray.origin.distanceTo(n);if(l<r.near||l>r.far)return;a.push({distance:l,distanceToRay:Math.sqrt(s),point:n,index:t,face:null,object:o})}}class RM extends wg{constructor(e,t,n,i,r,a,o,s,l){super(e,t,n,i,r,a,o,s,l),this.isVideoTexture=!0,this.minFilter=void 0!==a?a:Mf,this.magFilter=void 0!==r?r:Mf,this.generateMipmaps=!1;const c=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){c.needsUpdate=!0,e.requestVideoFrameCallback(t)}))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class jM extends wg{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=bf,this.minFilter=bf,this.generateMipmaps=!1,this.needsUpdate=!0}}class LM extends wg{constructor(e,t,n,i,r,a,o,s,l,c,u,d){super(null,a,o,s,l,c,i,r,u,d),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class IM extends LM{constructor(e,t,n,i,r,a){super(e,t,n,r,a),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=gf}}class DM extends LM{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,df),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class FM extends wg{constructor(e,t,n,i,r,a,o,s,l){super(e,t,n,i,r,a,o,s,l),this.isCanvasTexture=!0,this.needsUpdate=!0}}class UM{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,i=this.getPoint(0),r=0;t.push(0);for(let a=1;a<=e;a++)n=this.getPoint(a/e),r+=n.distanceTo(i),t.push(r),i=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let i=0;const r=n.length;let a;a=t||e*n[r-1];let o,s=0,l=r-1;for(;s<=l;)if(i=Math.floor(s+(l-s)/2),o=n[i]-a,o<0)s=i+1;else{if(!(o>0)){l=i;break}l=i-1}if(i=l,n[i]===a)return i/(r-1);const c=n[i];return(i+(a-c)/(n[i+1]-c))/(r-1)}getTangent(e,t){const n=1e-4;let i=e-n,r=e+n;i<0&&(i=0),r>1&&(r=1);const a=this.getPoint(i),o=this.getPoint(r),s=t||(a.isVector2?new Qv:new Og);return s.copy(o).sub(a).normalize(),s}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new Og,i=[],r=[],a=[],o=new Og,s=new sy;for(let h=0;h<=e;h++){const t=h/e;i[h]=this.getTangentAt(t,new Og)}r[0]=new Og,a[0]=new Og;let l=Number.MAX_VALUE;const c=Math.abs(i[0].x),u=Math.abs(i[0].y),d=Math.abs(i[0].z);c<=l&&(l=c,n.set(1,0,0)),u<=l&&(l=u,n.set(0,1,0)),d<=l&&n.set(0,0,1),o.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],o),a[0].crossVectors(i[0],r[0]);for(let h=1;h<=e;h++){if(r[h]=r[h-1].clone(),a[h]=a[h-1].clone(),o.crossVectors(i[h-1],i[h]),o.length()>Number.EPSILON){o.normalize();const e=Math.acos(Yv(i[h-1].dot(i[h]),-1,1));r[h].applyMatrix4(s.makeRotationAxis(o,e))}a[h].crossVectors(i[h],r[h])}if(!0===t){let t=Math.acos(Yv(r[0].dot(r[e]),-1,1));t/=e,i[0].dot(o.crossVectors(r[0],r[e]))>0&&(t=-t);for(let n=1;n<=e;n++)r[n].applyMatrix4(s.makeRotationAxis(i[n],t*n)),a[n].crossVectors(i[n],r[n])}return{tangents:i,normals:r,binormals:a}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class zM extends UM{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=i,this.aStartAngle=r,this.aEndAngle=a,this.aClockwise=o,this.aRotation=s}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Qv,n=2*Math.PI;let i=this.aEndAngle-this.aStartAngle;const r=Math.abs(i)<Number.EPSILON;for(;i<0;)i+=n;for(;i>n;)i-=n;i<Number.EPSILON&&(i=r?0:n),!0!==this.aClockwise||r||(i===n?i=-n:i-=n);const a=this.aStartAngle+e*i;let o=this.aX+this.xRadius*Math.cos(a),s=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){const e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),n=o-this.aX,i=s-this.aY;o=n*e-i*t+this.aX,s=n*t+i*e+this.aY}return t.set(o,s)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class BM extends zM{constructor(e,t,n,i,r,a){super(e,t,n,n,i,r,a),this.isArcCurve=!0,this.type="ArcCurve"}}function HM(){let e=0,t=0,n=0,i=0;function r(r,a,o,s){e=r,t=o,n=-3*r+3*a-2*o-s,i=2*r-2*a+o+s}return{initCatmullRom:function(e,t,n,i,a){r(t,n,a*(n-e),a*(i-t))},initNonuniformCatmullRom:function(e,t,n,i,a,o,s){let l=(t-e)/a-(n-e)/(a+o)+(n-t)/o,c=(n-t)/o-(i-t)/(o+s)+(i-n)/s;l*=o,c*=o,r(t,n,l,c)},calc:function(r){const a=r*r;return e+t*r+n*a+i*(a*r)}}}const VM=new Og,WM=new HM,GM=new HM,qM=new HM;class YM extends UM{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=i}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Og,n=this.points,i=n.length,r=(i-(this.closed?0:1))*e;let a,o,s=Math.floor(r),l=r-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/i)+1)*i:0===l&&s===i-1&&(s=i-2,l=1),this.closed||s>0?a=n[(s-1)%i]:(VM.subVectors(n[0],n[1]).add(n[0]),a=VM);const c=n[s%i],u=n[(s+1)%i];if(this.closed||s+2<i?o=n[(s+2)%i]:(VM.subVectors(n[i-1],n[i-2]).add(n[i-1]),o=VM),"centripetal"===this.curveType||"chordal"===this.curveType){const e="chordal"===this.curveType?.5:.25;let t=Math.pow(a.distanceToSquared(c),e),n=Math.pow(c.distanceToSquared(u),e),i=Math.pow(u.distanceToSquared(o),e);n<1e-4&&(n=1),t<1e-4&&(t=n),i<1e-4&&(i=n),WM.initNonuniformCatmullRom(a.x,c.x,u.x,o.x,t,n,i),GM.initNonuniformCatmullRom(a.y,c.y,u.y,o.y,t,n,i),qM.initNonuniformCatmullRom(a.z,c.z,u.z,o.z,t,n,i)}else"catmullrom"===this.curveType&&(WM.initCatmullRom(a.x,c.x,u.x,o.x,this.tension),GM.initCatmullRom(a.y,c.y,u.y,o.y,this.tension),qM.initCatmullRom(a.z,c.z,u.z,o.z,this.tension));return t.set(WM.calc(l),GM.calc(l),qM.calc(l)),t}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new Og).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function XM(e,t,n,i,r){const a=.5*(i-t),o=.5*(r-n),s=e*e;return(2*n-2*i+a+o)*(e*s)+(-3*n+3*i-2*a-o)*s+a*e+n}function ZM(e,t,n,i){return function(e,t){const n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,i)}function KM(e,t,n,i,r){return function(e,t){const n=1-e;return n*n*n*t}(e,t)+function(e,t){const n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,i)+function(e,t){return e*e*e*t}(e,r)}class JM extends UM{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Qv,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Qv,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Qv,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Qv;super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Qv,n=this.v0,i=this.v1,r=this.v2,a=this.v3;return t.set(KM(e,n.x,i.x,r.x,a.x),KM(e,n.y,i.y,r.y,a.y)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class $M extends UM{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Og,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Og,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Og,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Og;super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Og,n=this.v0,i=this.v1,r=this.v2,a=this.v3;return t.set(KM(e,n.x,i.x,r.x,a.x),KM(e,n.y,i.y,r.y,a.y),KM(e,n.z,i.z,r.z,a.z)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class QM extends UM{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Qv,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Qv;super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Qv;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Qv).subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class eE extends UM{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Og,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Og;super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Og;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Og).subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class tE extends UM{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Qv,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Qv,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Qv;super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Qv,n=this.v0,i=this.v1,r=this.v2;return t.set(ZM(e,n.x,i.x,r.x),ZM(e,n.y,i.y,r.y)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class nE extends UM{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Og,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Og,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Og;super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Og,n=this.v0,i=this.v1,r=this.v2;return t.set(ZM(e,n.x,i.x,r.x),ZM(e,n.y,i.y,r.y),ZM(e,n.z,i.z,r.z)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class iE extends UM{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Qv,n=this.points,i=(n.length-1)*e,r=Math.floor(i),a=i-r,o=n[0===r?r:r-1],s=n[r],l=n[r>n.length-2?n.length-1:r+1],c=n[r>n.length-3?n.length-1:r+2];return t.set(XM(a,o.x,s.x,l.x,c.x),XM(a,o.y,s.y,l.y,c.y)),t}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new Qv).fromArray(n))}return this}}var rE=Object.freeze({__proto__:null,ArcCurve:BM,CatmullRomCurve3:YM,CubicBezierCurve:JM,CubicBezierCurve3:$M,EllipseCurve:zM,LineCurve:QM,LineCurve3:eE,QuadraticBezierCurve:tE,QuadraticBezierCurve3:nE,SplineCurve:iE});class aE extends UM{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=!0===e.isVector2?"LineCurve":"LineCurve3";this.curves.push(new rE[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),i=this.getCurveLengths();let r=0;for(;r<i.length;){if(i[r]>=n){const e=i[r]-n,a=this.curves[r],o=a.getLength(),s=0===o?0:1-e/o;return a.getPointAt(s,t)}r++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40;const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;const t=[];let n;for(let i=0,r=this.curves;i<r.length;i++){const a=r[i],o=a.isEllipseCurve?2*e:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,s=a.getPoints(o);for(let e=0;e<s.length;e++){const i=s[e];n&&n.equals(i)||(t.push(i),n=i)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const n=this.curves[t];e.curves.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push((new rE[n.type]).fromJSON(n))}return this}}class oE extends aE{constructor(e){super(),this.type="Path",this.currentPoint=new Qv,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new QM(this.currentPoint.clone(),new Qv(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,i){const r=new tE(this.currentPoint.clone(),new Qv(e,t),new Qv(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this}bezierCurveTo(e,t,n,i,r,a){const o=new JM(this.currentPoint.clone(),new Qv(e,t),new Qv(n,i),new Qv(r,a));return this.curves.push(o),this.currentPoint.set(r,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new iE(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,i,r,a){const o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,i,r,a),this}absarc(e,t,n,i,r,a){return this.absellipse(e,t,n,n,i,r,a),this}ellipse(e,t,n,i,r,a,o,s){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,n,i,r,a,o,s),this}absellipse(e,t,n,i,r,a,o,s){const l=new zM(e,t,n,i,r,a,o,s);if(this.curves.length>0){const e=l.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class sE extends Eb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[new Qv(0,-.5),new Qv(.5,0),new Qv(0,.5)],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t),i=Yv(i,0,2*Math.PI);const r=[],a=[],o=[],s=[],l=[],c=1/t,u=new Og,d=new Qv,h=new Og,p=new Og,f=new Og;let m=0,v=0;for(let g=0;g<=e.length-1;g++)switch(g){case 0:m=e[g+1].x-e[g].x,v=e[g+1].y-e[g].y,h.x=1*v,h.y=-m,h.z=0*v,f.copy(h),h.normalize(),s.push(h.x,h.y,h.z);break;case e.length-1:s.push(f.x,f.y,f.z);break;default:m=e[g+1].x-e[g].x,v=e[g+1].y-e[g].y,h.x=1*v,h.y=-m,h.z=0*v,p.copy(h),h.x+=f.x,h.y+=f.y,h.z+=f.z,h.normalize(),s.push(h.x,h.y,h.z),f.copy(p)}for(let g=0;g<=t;g++){const r=n+g*c*i,h=Math.sin(r),p=Math.cos(r);for(let n=0;n<=e.length-1;n++){u.x=e[n].x*h,u.y=e[n].y,u.z=e[n].x*p,a.push(u.x,u.y,u.z),d.x=g/t,d.y=n/(e.length-1),o.push(d.x,d.y);const i=s[3*n+0]*h,r=s[3*n+1],c=s[3*n+0]*p;l.push(i,r,c)}}for(let g=0;g<t;g++)for(let t=0;t<e.length-1;t++){const n=t+g*e.length,i=n,a=n+e.length,o=n+e.length+1,s=n+1;r.push(i,a,s),r.push(o,s,a)}this.setIndex(r),this.setAttribute("position",new gb(a,3)),this.setAttribute("uv",new gb(o,2)),this.setAttribute("normal",new gb(l,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sE(e.points,e.segments,e.phiStart,e.phiLength)}}class lE extends sE{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8;const r=new oE;r.absarc(0,-t/2,e,1.5*Math.PI,0),r.absarc(0,t/2,e,0,.5*Math.PI),super(r.getPoints(n),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:n,radialSegments:i}}static fromJSON(e){return new lE(e.radius,e.length,e.capSegments,e.radialSegments)}}class cE extends Eb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},t=Math.max(3,t);const r=[],a=[],o=[],s=[],l=new Og,c=new Qv;a.push(0,0,0),o.push(0,0,1),s.push(.5,.5);for(let u=0,d=3;u<=t;u++,d+=3){const r=n+u/t*i;l.x=e*Math.cos(r),l.y=e*Math.sin(r),a.push(l.x,l.y,l.z),o.push(0,0,1),c.x=(a[d]/e+1)/2,c.y=(a[d+1]/e+1)/2,s.push(c.x,c.y)}for(let u=1;u<=t;u++)r.push(u,u+1,0);this.setIndex(r),this.setAttribute("position",new gb(a,3)),this.setAttribute("normal",new gb(o,3)),this.setAttribute("uv",new gb(s,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cE(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class uE extends Eb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:s};const l=this;i=Math.floor(i),r=Math.floor(r);const c=[],u=[],d=[],h=[];let p=0;const f=[],m=n/2;let v=0;function g(n){const r=p,a=new Qv,f=new Og;let g=0;const y=!0===n?e:t,b=!0===n?1:-1;for(let e=1;e<=i;e++)u.push(0,m*b,0),d.push(0,b,0),h.push(.5,.5),p++;const x=p;for(let e=0;e<=i;e++){const t=e/i*s+o,n=Math.cos(t),r=Math.sin(t);f.x=y*r,f.y=m*b,f.z=y*n,u.push(f.x,f.y,f.z),d.push(0,b,0),a.x=.5*n+.5,a.y=.5*r*b+.5,h.push(a.x,a.y),p++}for(let e=0;e<i;e++){const t=r+e,i=x+e;!0===n?c.push(i,i+1,t):c.push(i+1,i,t),g+=3}l.addGroup(v,g,!0===n?1:2),v+=g}!function(){const a=new Og,g=new Og;let y=0;const b=(t-e)/n;for(let l=0;l<=r;l++){const c=[],v=l/r,y=v*(t-e)+e;for(let e=0;e<=i;e++){const t=e/i,r=t*s+o,l=Math.sin(r),f=Math.cos(r);g.x=y*l,g.y=-v*n+m,g.z=y*f,u.push(g.x,g.y,g.z),a.set(l,b,f).normalize(),d.push(a.x,a.y,a.z),h.push(t,1-v),c.push(p++)}f.push(c)}for(let e=0;e<i;e++)for(let t=0;t<r;t++){const n=f[t][e],i=f[t+1][e],r=f[t+1][e+1],a=f[t][e+1];c.push(n,i,a),c.push(i,r,a),y+=6}l.addGroup(v,y,0),v+=y}(),!1===a&&(e>0&&g(!0),t>0&&g(!1)),this.setIndex(c),this.setAttribute("position",new gb(u,3)),this.setAttribute("normal",new gb(d,3)),this.setAttribute("uv",new gb(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new uE(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class dE extends uE{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;super(0,e,t,n,i,r,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:a,thetaLength:o}}static fromJSON(e){return new dE(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class hE extends Eb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i};const r=[],a=[];function o(e,t,n,i){const r=i+1,a=[];for(let o=0;o<=r;o++){a[o]=[];const i=e.clone().lerp(n,o/r),s=t.clone().lerp(n,o/r),l=r-o;for(let e=0;e<=l;e++)a[o][e]=0===e&&o===r?i:i.clone().lerp(s,e/l)}for(let o=0;o<r;o++)for(let e=0;e<2*(r-o)-1;e++){const t=Math.floor(e/2);e%2===0?(s(a[o][t+1]),s(a[o+1][t]),s(a[o][t])):(s(a[o][t+1]),s(a[o+1][t+1]),s(a[o+1][t]))}}function s(e){r.push(e.x,e.y,e.z)}function l(t,n){const i=3*t;n.x=e[i+0],n.y=e[i+1],n.z=e[i+2]}function c(e,t,n,i){i<0&&1===e.x&&(a[t]=e.x-1),0===n.x&&0===n.z&&(a[t]=i/2/Math.PI+.5)}function u(e){return Math.atan2(e.z,-e.x)}!function(e){const n=new Og,i=new Og,r=new Og;for(let a=0;a<t.length;a+=3)l(t[a+0],n),l(t[a+1],i),l(t[a+2],r),o(n,i,r,e)}(i),function(e){const t=new Og;for(let n=0;n<r.length;n+=3)t.x=r[n+0],t.y=r[n+1],t.z=r[n+2],t.normalize().multiplyScalar(e),r[n+0]=t.x,r[n+1]=t.y,r[n+2]=t.z}(n),function(){const e=new Og;for(let n=0;n<r.length;n+=3){e.x=r[n+0],e.y=r[n+1],e.z=r[n+2];const i=u(e)/2/Math.PI+.5,o=(t=e,Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))/Math.PI+.5);a.push(i,1-o)}var t;(function(){const e=new Og,t=new Og,n=new Og,i=new Og,o=new Qv,s=new Qv,l=new Qv;for(let d=0,h=0;d<r.length;d+=9,h+=6){e.set(r[d+0],r[d+1],r[d+2]),t.set(r[d+3],r[d+4],r[d+5]),n.set(r[d+6],r[d+7],r[d+8]),o.set(a[h+0],a[h+1]),s.set(a[h+2],a[h+3]),l.set(a[h+4],a[h+5]),i.copy(e).add(t).add(n).divideScalar(3);const p=u(i);c(o,h+0,e,p),c(s,h+2,t,p),c(l,h+4,n,p)}})(),function(){for(let e=0;e<a.length;e+=6){const t=a[e+0],n=a[e+2],i=a[e+4],r=Math.max(t,n,i),o=Math.min(t,n,i);r>.9&&o<.1&&(t<.2&&(a[e+0]+=1),n<.2&&(a[e+2]+=1),i<.2&&(a[e+4]+=1))}}()}(),this.setAttribute("position",new gb(r,3)),this.setAttribute("normal",new gb(r.slice(),3)),this.setAttribute("uv",new gb(a,2)),0===i?this.computeVertexNormals():this.normalizeNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hE(e.vertices,e.indices,e.radius,e.details)}}class pE extends hE{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=(1+Math.sqrt(5))/2,i=1/n;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new pE(e.radius,e.detail)}}const fE=new Og,mE=new Og,vE=new Og,gE=new Gy;class yE extends Eb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const n=4,i=Math.pow(10,n),r=Math.cos(Wv*t),a=e.getIndex(),o=e.getAttribute("position"),s=a?a.count:o.count,l=[0,0,0],c=["a","b","c"],u=new Array(3),d={},h=[];for(let e=0;e<s;e+=3){a?(l[0]=a.getX(e),l[1]=a.getX(e+1),l[2]=a.getX(e+2)):(l[0]=e,l[1]=e+1,l[2]=e+2);const{a:t,b:n,c:s}=gE;if(t.fromBufferAttribute(o,l[0]),n.fromBufferAttribute(o,l[1]),s.fromBufferAttribute(o,l[2]),gE.getNormal(vE),u[0]="".concat(Math.round(t.x*i),",").concat(Math.round(t.y*i),",").concat(Math.round(t.z*i)),u[1]="".concat(Math.round(n.x*i),",").concat(Math.round(n.y*i),",").concat(Math.round(n.z*i)),u[2]="".concat(Math.round(s.x*i),",").concat(Math.round(s.y*i),",").concat(Math.round(s.z*i)),u[0]!==u[1]&&u[1]!==u[2]&&u[2]!==u[0])for(let e=0;e<3;e++){const t=(e+1)%3,n=u[e],i=u[t],a=gE[c[e]],o=gE[c[t]],s="".concat(n,"_").concat(i),p="".concat(i,"_").concat(n);p in d&&d[p]?(vE.dot(d[p].normal)<=r&&(h.push(a.x,a.y,a.z),h.push(o.x,o.y,o.z)),d[p]=null):s in d||(d[s]={index0:l[e],index1:l[t],normal:vE.clone()})}}for(const e in d)if(d[e]){const{index0:t,index1:n}=d[e];fE.fromBufferAttribute(o,t),mE.fromBufferAttribute(o,n),h.push(fE.x,fE.y,fE.z),h.push(mE.x,mE.y,mE.z)}this.setAttribute("position",new gb(h,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class bE extends oE{constructor(e){super(e),this.uuid=qv(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const n=this.holes[t];e.holes.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push((new oE).fromJSON(n))}return this}}const xE=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const i=t&&t.length,r=i?t[0]*n:e.length;let a=_E(e,0,r,n,!0);const o=[];if(!a||a.next===a.prev)return o;let s,l,c,u,d,h,p;if(i&&(a=function(e,t,n,i){const r=[];let a,o,s,l,c;for(a=0,o=t.length;a<o;a++)s=t[a]*i,l=a<o-1?t[a+1]*i:e.length,c=_E(e,s,l,i,!1),c===c.next&&(c.steiner=!0),r.push(PE(c));for(r.sort(NE),a=0;a<r.length;a++)n=AE(r[a],n);return n}(e,t,a,n)),e.length>80*n){s=c=e[0],l=u=e[1];for(let t=n;t<r;t+=n)d=e[t],h=e[t+1],d<s&&(s=d),h<l&&(l=h),d>c&&(c=d),h>u&&(u=h);p=Math.max(c-s,u-l),p=0!==p?32767/p:0}return SE(a,o,n,s,l,p,0),o};function _E(e,t,n,i,r){let a,o;if(r===function(e,t,n,i){let r=0;for(let a=t,o=n-i;a<n;a+=i)r+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return r}(e,t,n,i)>0)for(a=t;a<n;a+=i)o=HE(a,e[a],e[a+1],o);else for(a=n-i;a>=t;a-=i)o=HE(a,e[a],e[a+1],o);return o&&IE(o,o.next)&&(VE(o),o=o.next),o}function wE(e,t){if(!e)return e;t||(t=e);let n,i=e;do{if(n=!1,i.steiner||!IE(i,i.next)&&0!==LE(i.prev,i,i.next))i=i.next;else{if(VE(i),i=t=i.prev,i===i.next)break;n=!0}}while(n||i!==t);return t}function SE(e,t,n,i,r,a,o){if(!e)return;!o&&a&&function(e,t,n,i){let r=e;do{0===r.z&&(r.z=OE(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,function(e){let t,n,i,r,a,o,s,l,c=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,i=n,s=0,t=0;t<c&&(s++,i=i.nextZ,i);t++);for(l=c;s>0||l>0&&i;)0!==s&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,s--):(r=i,i=i.nextZ,l--),a?a.nextZ=r:e=r,r.prevZ=a,a=r;n=i}a.nextZ=null,c*=2}while(o>1)}(r)}(e,i,r,a);let s,l,c=e;for(;e.prev!==e.next;)if(s=e.prev,l=e.next,a?EE(e,i,r,a):ME(e))t.push(s.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),VE(e),e=l.next,c=l.next;else if((e=l)===c){o?1===o?SE(e=CE(wE(e),t,n),t,n,i,r,a,2):2===o&&TE(e,t,n,i,r,a):SE(wE(e),t,n,i,r,a,1);break}}function ME(e){const t=e.prev,n=e,i=e.next;if(LE(t,n,i)>=0)return!1;const r=t.x,a=n.x,o=i.x,s=t.y,l=n.y,c=i.y,u=r<a?r<o?r:o:a<o?a:o,d=s<l?s<c?s:c:l<c?l:c,h=r>a?r>o?r:o:a>o?a:o,p=s>l?s>c?s:c:l>c?l:c;let f=i.next;for(;f!==t;){if(f.x>=u&&f.x<=h&&f.y>=d&&f.y<=p&&RE(r,s,a,l,o,c,f.x,f.y)&&LE(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}function EE(e,t,n,i){const r=e.prev,a=e,o=e.next;if(LE(r,a,o)>=0)return!1;const s=r.x,l=a.x,c=o.x,u=r.y,d=a.y,h=o.y,p=s<l?s<c?s:c:l<c?l:c,f=u<d?u<h?u:h:d<h?d:h,m=s>l?s>c?s:c:l>c?l:c,v=u>d?u>h?u:h:d>h?d:h,g=OE(p,f,t,n,i),y=OE(m,v,t,n,i);let b=e.prevZ,x=e.nextZ;for(;b&&b.z>=g&&x&&x.z<=y;){if(b.x>=p&&b.x<=m&&b.y>=f&&b.y<=v&&b!==r&&b!==o&&RE(s,u,l,d,c,h,b.x,b.y)&&LE(b.prev,b,b.next)>=0)return!1;if(b=b.prevZ,x.x>=p&&x.x<=m&&x.y>=f&&x.y<=v&&x!==r&&x!==o&&RE(s,u,l,d,c,h,x.x,x.y)&&LE(x.prev,x,x.next)>=0)return!1;x=x.nextZ}for(;b&&b.z>=g;){if(b.x>=p&&b.x<=m&&b.y>=f&&b.y<=v&&b!==r&&b!==o&&RE(s,u,l,d,c,h,b.x,b.y)&&LE(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;x&&x.z<=y;){if(x.x>=p&&x.x<=m&&x.y>=f&&x.y<=v&&x!==r&&x!==o&&RE(s,u,l,d,c,h,x.x,x.y)&&LE(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function CE(e,t,n){let i=e;do{const r=i.prev,a=i.next.next;!IE(r,a)&&DE(r,i,i.next,a)&&zE(r,a)&&zE(a,r)&&(t.push(r.i/n|0),t.push(i.i/n|0),t.push(a.i/n|0),VE(i),VE(i.next),i=e=a),i=i.next}while(i!==e);return wE(i)}function TE(e,t,n,i,r,a){let o=e;do{let e=o.next.next;for(;e!==o.prev;){if(o.i!==e.i&&jE(o,e)){let s=BE(o,e);return o=wE(o,o.next),s=wE(s,s.next),SE(o,t,n,i,r,a,0),void SE(s,t,n,i,r,a,0)}e=e.next}o=o.next}while(o!==e)}function NE(e,t){return e.x-t.x}function AE(e,t){const n=function(e,t){let n,i=t,r=-1/0;const a=e.x,o=e.y;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){const e=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(e<=a&&e>r&&(r=e,n=i.x<i.next.x?i:i.next,e===a))return n}i=i.next}while(i!==t);if(!n)return null;const s=n,l=n.x,c=n.y;let u,d=1/0;i=n;do{a>=i.x&&i.x>=l&&a!==i.x&&RE(o<c?a:r,o,l,c,o<c?r:a,o,i.x,i.y)&&(u=Math.abs(o-i.y)/(a-i.x),zE(i,e)&&(u<d||u===d&&(i.x>n.x||i.x===n.x&&kE(n,i)))&&(n=i,d=u)),i=i.next}while(i!==s);return n}(e,t);if(!n)return t;const i=BE(n,e);return wE(i,i.next),wE(n,n.next)}function kE(e,t){return LE(e.prev,e,t.prev)<0&&LE(t.next,e,e.next)<0}function OE(e,t,n,i,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*r|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-i)*r|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function PE(e){let t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function RE(e,t,n,i,r,a,o,s){return(r-o)*(t-s)>=(e-o)*(a-s)&&(e-o)*(i-s)>=(n-o)*(t-s)&&(n-o)*(a-s)>=(r-o)*(i-s)}function jE(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&DE(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(zE(e,t)&&zE(t,e)&&function(e,t){let n=e,i=!1;const r=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&r<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==e);return i}(e,t)&&(LE(e.prev,e,t.prev)||LE(e,t.prev,t))||IE(e,t)&&LE(e.prev,e,e.next)>0&&LE(t.prev,t,t.next)>0)}function LE(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function IE(e,t){return e.x===t.x&&e.y===t.y}function DE(e,t,n,i){const r=UE(LE(e,t,n)),a=UE(LE(e,t,i)),o=UE(LE(n,i,e)),s=UE(LE(n,i,t));return r!==a&&o!==s||(!(0!==r||!FE(e,n,t))||(!(0!==a||!FE(e,i,t))||(!(0!==o||!FE(n,e,i))||!(0!==s||!FE(n,t,i)))))}function FE(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function UE(e){return e>0?1:e<0?-1:0}function zE(e,t){return LE(e.prev,e,e.next)<0?LE(e,t,e.next)>=0&&LE(e,e.prev,t)>=0:LE(e,t,e.prev)<0||LE(e,e.next,t)<0}function BE(e,t){const n=new WE(e.i,e.x,e.y),i=new WE(t.i,t.x,t.y),r=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,a.next=i,i.prev=a,i}function HE(e,t,n,i){const r=new WE(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function VE(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function WE(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}class GE{static area(e){const t=e.length;let n=0;for(let i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return.5*n}static isClockWise(e){return GE.area(e)<0}static triangulateShape(e,t){const n=[],i=[],r=[];qE(e),YE(n,e);let a=e.length;t.forEach(qE);for(let s=0;s<t.length;s++)i.push(a),a+=t[s].length,YE(n,t[s]);const o=xE(n,i);for(let s=0;s<o.length;s+=3)r.push(o.slice(s,s+3));return r}}function qE(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function YE(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}class XE extends Eb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new bE([new Qv(.5,.5),new Qv(-.5,.5),new Qv(-.5,-.5),new Qv(.5,-.5)]),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,i=[],r=[];for(let o=0,s=e.length;o<s;o++){a(e[o])}function a(e){const a=[],o=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1,l=void 0!==t.depth?t.depth:1;let c=void 0===t.bevelEnabled||t.bevelEnabled,u=void 0!==t.bevelThickness?t.bevelThickness:.2,d=void 0!==t.bevelSize?t.bevelSize:u-.1,h=void 0!==t.bevelOffset?t.bevelOffset:0,p=void 0!==t.bevelSegments?t.bevelSegments:3;const f=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:ZE;let v,g,y,b,x,_=!1;f&&(v=f.getSpacedPoints(s),_=!0,c=!1,g=f.computeFrenetFrames(s,!1),y=new Og,b=new Og,x=new Og),c||(p=0,u=0,d=0,h=0);const w=e.extractPoints(o);let S=w.shape;const M=w.holes;if(!GE.isClockWise(S)){S=S.reverse();for(let e=0,t=M.length;e<t;e++){const t=M[e];GE.isClockWise(t)&&(M[e]=t.reverse())}}const E=GE.triangulateShape(S,M),C=S;for(let t=0,n=M.length;t<n;t++){const e=M[t];S=S.concat(e)}function T(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().addScaledVector(t,n)}const N=S.length,A=E.length;function k(e,t,n){let i,r,a;const o=e.x-t.x,s=e.y-t.y,l=n.x-e.x,c=n.y-e.y,u=o*o+s*s,d=o*c-s*l;if(Math.abs(d)>Number.EPSILON){const d=Math.sqrt(u),h=Math.sqrt(l*l+c*c),p=t.x-s/d,f=t.y+o/d,m=((n.x-c/h-p)*c-(n.y+l/h-f)*l)/(o*c-s*l);i=p+o*m-e.x,r=f+s*m-e.y;const v=i*i+r*r;if(v<=2)return new Qv(i,r);a=Math.sqrt(v/2)}else{let e=!1;o>Number.EPSILON?l>Number.EPSILON&&(e=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(e=!0):Math.sign(s)===Math.sign(c)&&(e=!0),e?(i=-s,r=o,a=Math.sqrt(u)):(i=o,r=s,a=Math.sqrt(u/2))}return new Qv(i/a,r/a)}const O=[];for(let t=0,n=C.length,i=n-1,r=t+1;t<n;t++,i++,r++)i===n&&(i=0),r===n&&(r=0),O[t]=k(C[t],C[i],C[r]);const P=[];let R,j=O.concat();for(let t=0,n=M.length;t<n;t++){const e=M[t];R=[];for(let t=0,n=e.length,i=n-1,r=t+1;t<n;t++,i++,r++)i===n&&(i=0),r===n&&(r=0),R[t]=k(e[t],e[i],e[r]);P.push(R),j=j.concat(R)}for(let t=0;t<p;t++){const e=t/p,n=u*Math.cos(e*Math.PI/2),i=d*Math.sin(e*Math.PI/2)+h;for(let t=0,r=C.length;t<r;t++){const e=T(C[t],O[t],i);D(e.x,e.y,-n)}for(let t=0,r=M.length;t<r;t++){const e=M[t];R=P[t];for(let t=0,r=e.length;t<r;t++){const r=T(e[t],R[t],i);D(r.x,r.y,-n)}}}const L=d+h;for(let t=0;t<N;t++){const e=c?T(S[t],j[t],L):S[t];_?(b.copy(g.normals[0]).multiplyScalar(e.x),y.copy(g.binormals[0]).multiplyScalar(e.y),x.copy(v[0]).add(b).add(y),D(x.x,x.y,x.z)):D(e.x,e.y,0)}for(let t=1;t<=s;t++)for(let e=0;e<N;e++){const n=c?T(S[e],j[e],L):S[e];_?(b.copy(g.normals[t]).multiplyScalar(n.x),y.copy(g.binormals[t]).multiplyScalar(n.y),x.copy(v[t]).add(b).add(y),D(x.x,x.y,x.z)):D(n.x,n.y,l/s*t)}for(let t=p-1;t>=0;t--){const e=t/p,n=u*Math.cos(e*Math.PI/2),i=d*Math.sin(e*Math.PI/2)+h;for(let t=0,r=C.length;t<r;t++){const e=T(C[t],O[t],i);D(e.x,e.y,l+n)}for(let t=0,r=M.length;t<r;t++){const e=M[t];R=P[t];for(let t=0,r=e.length;t<r;t++){const r=T(e[t],R[t],i);_?D(r.x,r.y+v[s-1].y,v[s-1].x+n):D(r.x,r.y,l+n)}}}function I(e,t){let n=e.length;for(;--n>=0;){const i=n;let r=n-1;r<0&&(r=e.length-1);for(let e=0,n=s+2*p;e<n;e++){const n=N*e,a=N*(e+1);U(t+i+n,t+r+n,t+r+a,t+i+a)}}}function D(e,t,n){a.push(e),a.push(t),a.push(n)}function F(e,t,r){z(e),z(t),z(r);const a=i.length/3,o=m.generateTopUV(n,i,a-3,a-2,a-1);B(o[0]),B(o[1]),B(o[2])}function U(e,t,r,a){z(e),z(t),z(a),z(t),z(r),z(a);const o=i.length/3,s=m.generateSideWallUV(n,i,o-6,o-3,o-2,o-1);B(s[0]),B(s[1]),B(s[3]),B(s[1]),B(s[2]),B(s[3])}function z(e){i.push(a[3*e+0]),i.push(a[3*e+1]),i.push(a[3*e+2])}function B(e){r.push(e.x),r.push(e.y)}!function(){const e=i.length/3;if(c){let e=0,t=N*e;for(let n=0;n<A;n++){const e=E[n];F(e[2]+t,e[1]+t,e[0]+t)}e=s+2*p,t=N*e;for(let n=0;n<A;n++){const e=E[n];F(e[0]+t,e[1]+t,e[2]+t)}}else{for(let e=0;e<A;e++){const t=E[e];F(t[2],t[1],t[0])}for(let e=0;e<A;e++){const t=E[e];F(t[0]+N*s,t[1]+N*s,t[2]+N*s)}}n.addGroup(e,i.length/3-e,0)}(),function(){const e=i.length/3;let t=0;I(C,t),t+=C.length;for(let n=0,i=M.length;n<i;n++){const e=M[n];I(e,t),t+=e.length}n.addGroup(e,i.length/3-e,1)}()}this.setAttribute("position",new gb(i,3)),this.setAttribute("uv",new gb(r,2)),this.computeVertexNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(let i=0,r=e.length;i<r;i++){const t=e[i];n.shapes.push(t.uuid)}else n.shapes.push(e.uuid);n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}static fromJSON(e,t){const n=[];for(let r=0,a=e.shapes.length;r<a;r++){const i=t[e.shapes[r]];n.push(i)}const i=e.options.extrudePath;return void 0!==i&&(e.options.extrudePath=(new rE[i.type]).fromJSON(i)),new XE(n,e.options)}}const ZE={generateTopUV:function(e,t,n,i,r){const a=t[3*n],o=t[3*n+1],s=t[3*i],l=t[3*i+1],c=t[3*r],u=t[3*r+1];return[new Qv(a,o),new Qv(s,l),new Qv(c,u)]},generateSideWallUV:function(e,t,n,i,r,a){const o=t[3*n],s=t[3*n+1],l=t[3*n+2],c=t[3*i],u=t[3*i+1],d=t[3*i+2],h=t[3*r],p=t[3*r+1],f=t[3*r+2],m=t[3*a],v=t[3*a+1],g=t[3*a+2];return Math.abs(s-u)<Math.abs(o-c)?[new Qv(o,1-l),new Qv(c,1-d),new Qv(h,1-f),new Qv(m,1-g)]:[new Qv(s,1-l),new Qv(u,1-d),new Qv(p,1-f),new Qv(v,1-g)]}};class KE extends hE{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=(1+Math.sqrt(5))/2;super([-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new KE(e.radius,e.detail)}}class JE extends hE{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new JE(e.radius,e.detail)}}class $E extends Eb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:a},n=Math.max(3,n),i=Math.max(1,i);const o=[],s=[],l=[],c=[];let u=e;const d=(t-e)/i,h=new Og,p=new Qv;for(let f=0;f<=i;f++){for(let e=0;e<=n;e++){const i=r+e/n*a;h.x=u*Math.cos(i),h.y=u*Math.sin(i),s.push(h.x,h.y,h.z),l.push(0,0,1),p.x=(h.x/t+1)/2,p.y=(h.y/t+1)/2,c.push(p.x,p.y)}u+=d}for(let f=0;f<i;f++){const e=f*(n+1);for(let t=0;t<n;t++){const i=t+e,r=i,a=i+n+1,s=i+n+2,l=i+1;o.push(r,a,l),o.push(a,s,l)}}this.setIndex(o),this.setAttribute("position",new gb(s,3)),this.setAttribute("normal",new gb(l,3)),this.setAttribute("uv",new gb(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $E(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class QE extends Eb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new bE([new Qv(0,.5),new Qv(-.5,-.5),new Qv(.5,-.5)]),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],i=[],r=[],a=[];let o=0,s=0;if(!1===Array.isArray(e))l(e);else for(let c=0;c<e.length;c++)l(e[c]),this.addGroup(o,s,c),o+=s,s=0;function l(e){const o=i.length/3,l=e.extractPoints(t);let c=l.shape;const u=l.holes;!1===GE.isClockWise(c)&&(c=c.reverse());for(let t=0,n=u.length;t<n;t++){const e=u[t];!0===GE.isClockWise(e)&&(u[t]=e.reverse())}const d=GE.triangulateShape(c,u);for(let t=0,n=u.length;t<n;t++){const e=u[t];c=c.concat(e)}for(let t=0,n=c.length;t<n;t++){const e=c[t];i.push(e.x,e.y,0),r.push(0,0,1),a.push(e.x,e.y)}for(let t=0,i=d.length;t<i;t++){const e=d[t],i=e[0]+o,r=e[1]+o,a=e[2]+o;n.push(i,r,a),s+=3}}this.setIndex(n),this.setAttribute("position",new gb(i,3)),this.setAttribute("normal",new gb(r,3)),this.setAttribute("uv",new gb(a,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,i=e.length;n<i;n++){const i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}static fromJSON(e,t){const n=[];for(let i=0,r=e.shapes.length;i<r;i++){const r=t[e.shapes[i]];n.push(r)}return new QE(n,e.curveSegments)}}class eC extends Eb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:a,thetaLength:o},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const s=Math.min(a+o,Math.PI);let l=0;const c=[],u=new Og,d=new Og,h=[],p=[],f=[],m=[];for(let v=0;v<=n;v++){const h=[],g=v/n;let y=0;0===v&&0===a?y=.5/t:v===n&&s===Math.PI&&(y=-.5/t);for(let n=0;n<=t;n++){const s=n/t;u.x=-e*Math.cos(i+s*r)*Math.sin(a+g*o),u.y=e*Math.cos(a+g*o),u.z=e*Math.sin(i+s*r)*Math.sin(a+g*o),p.push(u.x,u.y,u.z),d.copy(u).normalize(),f.push(d.x,d.y,d.z),m.push(s+y,1-g),h.push(l++)}c.push(h)}for(let v=0;v<n;v++)for(let e=0;e<t;e++){const t=c[v][e+1],i=c[v][e],r=c[v+1][e],o=c[v+1][e+1];(0!==v||a>0)&&h.push(t,i,o),(v!==n-1||s<Math.PI)&&h.push(i,r,o)}this.setIndex(h),this.setAttribute("position",new gb(p,3)),this.setAttribute("normal",new gb(f,3)),this.setAttribute("uv",new gb(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new eC(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class tC extends hE{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new tC(e.radius,e.detail)}}class nC extends Eb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:48,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},n=Math.floor(n),i=Math.floor(i);const a=[],o=[],s=[],l=[],c=new Og,u=new Og,d=new Og;for(let h=0;h<=n;h++)for(let a=0;a<=i;a++){const p=a/i*r,f=h/n*Math.PI*2;u.x=(e+t*Math.cos(f))*Math.cos(p),u.y=(e+t*Math.cos(f))*Math.sin(p),u.z=t*Math.sin(f),o.push(u.x,u.y,u.z),c.x=e*Math.cos(p),c.y=e*Math.sin(p),d.subVectors(u,c).normalize(),s.push(d.x,d.y,d.z),l.push(a/i),l.push(h/n)}for(let h=1;h<=n;h++)for(let e=1;e<=i;e++){const t=(i+1)*h+e-1,n=(i+1)*(h-1)+e-1,r=(i+1)*(h-1)+e,o=(i+1)*h+e;a.push(t,n,o),a.push(n,r,o)}this.setIndex(a),this.setAttribute("position",new gb(o,3)),this.setAttribute("normal",new gb(s,3)),this.setAttribute("uv",new gb(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nC(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class iC extends Eb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:a},n=Math.floor(n),i=Math.floor(i);const o=[],s=[],l=[],c=[],u=new Og,d=new Og,h=new Og,p=new Og,f=new Og,m=new Og,v=new Og;for(let y=0;y<=n;++y){const o=y/n*r*Math.PI*2;g(o,r,a,e,h),g(o+.01,r,a,e,p),m.subVectors(p,h),v.addVectors(p,h),f.crossVectors(m,v),v.crossVectors(f,m),f.normalize(),v.normalize();for(let e=0;e<=i;++e){const r=e/i*Math.PI*2,a=-t*Math.cos(r),o=t*Math.sin(r);u.x=h.x+(a*v.x+o*f.x),u.y=h.y+(a*v.y+o*f.y),u.z=h.z+(a*v.z+o*f.z),s.push(u.x,u.y,u.z),d.subVectors(u,h).normalize(),l.push(d.x,d.y,d.z),c.push(y/n),c.push(e/i)}}for(let y=1;y<=n;y++)for(let e=1;e<=i;e++){const t=(i+1)*(y-1)+(e-1),n=(i+1)*y+(e-1),r=(i+1)*y+e,a=(i+1)*(y-1)+e;o.push(t,n,a),o.push(n,r,a)}function g(e,t,n,i,r){const a=Math.cos(e),o=Math.sin(e),s=n/t*e,l=Math.cos(s);r.x=i*(2+l)*.5*a,r.y=i*(2+l)*o*.5,r.z=i*Math.sin(s)*.5}this.setIndex(o),this.setAttribute("position",new gb(s,3)),this.setAttribute("normal",new gb(l,3)),this.setAttribute("uv",new gb(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new iC(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class rC extends Eb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new nE(new Og(-1,-1,0),new Og(-1,1,0),new Og(1,1,0)),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:r};const a=e.computeFrenetFrames(t,r);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new Og,s=new Og,l=new Qv;let c=new Og;const u=[],d=[],h=[],p=[];function f(r){c=e.getPointAt(r/t,c);const l=a.normals[r],h=a.binormals[r];for(let e=0;e<=i;e++){const t=e/i*Math.PI*2,r=Math.sin(t),a=-Math.cos(t);s.x=a*l.x+r*h.x,s.y=a*l.y+r*h.y,s.z=a*l.z+r*h.z,s.normalize(),d.push(s.x,s.y,s.z),o.x=c.x+n*s.x,o.y=c.y+n*s.y,o.z=c.z+n*s.z,u.push(o.x,o.y,o.z)}}!function(){for(let e=0;e<t;e++)f(e);f(!1===r?t:0),function(){for(let e=0;e<=t;e++)for(let n=0;n<=i;n++)l.x=e/t,l.y=n/i,h.push(l.x,l.y)}(),function(){for(let e=1;e<=t;e++)for(let t=1;t<=i;t++){const n=(i+1)*(e-1)+(t-1),r=(i+1)*e+(t-1),a=(i+1)*e+t,o=(i+1)*(e-1)+t;p.push(n,r,o),p.push(r,a,o)}}()}(),this.setIndex(p),this.setAttribute("position",new gb(u,3)),this.setAttribute("normal",new gb(d,3)),this.setAttribute("uv",new gb(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new rC((new rE[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class aC extends Eb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},null!==e){const t=[],n=new Set,i=new Og,r=new Og;if(null!==e.index){const a=e.attributes.position,o=e.index;let s=e.groups;0===s.length&&(s=[{start:0,count:o.count,materialIndex:0}]);for(let e=0,l=s.length;e<l;++e){const l=s[e],c=l.start;for(let e=c,s=c+l.count;e<s;e+=3)for(let l=0;l<3;l++){const s=o.getX(e+l),c=o.getX(e+(l+1)%3);i.fromBufferAttribute(a,s),r.fromBufferAttribute(a,c),!0===oC(i,r,n)&&(t.push(i.x,i.y,i.z),t.push(r.x,r.y,r.z))}}}else{const a=e.attributes.position;for(let e=0,o=a.count/3;e<o;e++)for(let s=0;s<3;s++){const o=3*e+s,l=3*e+(s+1)%3;i.fromBufferAttribute(a,o),r.fromBufferAttribute(a,l),!0===oC(i,r,n)&&(t.push(i.x,i.y,i.z),t.push(r.x,r.y,r.z))}}this.setAttribute("position",new gb(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function oC(e,t,n){const i="".concat(e.x,",").concat(e.y,",").concat(e.z,"-").concat(t.x,",").concat(t.y,",").concat(t.z),r="".concat(t.x,",").concat(t.y,",").concat(t.z,"-").concat(e.x,",").concat(e.y,",").concat(e.z);return!0!==n.has(i)&&!0!==n.has(r)&&(n.add(i),n.add(r),!0)}var sC=Object.freeze({__proto__:null,BoxGeometry:Gb,CapsuleGeometry:lE,CircleGeometry:cE,ConeGeometry:dE,CylinderGeometry:uE,DodecahedronGeometry:pE,EdgesGeometry:yE,ExtrudeGeometry:XE,IcosahedronGeometry:KE,LatheGeometry:sE,OctahedronGeometry:JE,PlaneGeometry:mx,PolyhedronGeometry:hE,RingGeometry:$E,ShapeGeometry:QE,SphereGeometry:eC,TetrahedronGeometry:tC,TorusGeometry:nC,TorusKnotGeometry:iC,TubeGeometry:rC,WireframeGeometry:aC});class lC extends Qy{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ky(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class cC extends Kb{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class uC extends Qy{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ky(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ky(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ym,this.normalScale=new Qv(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new gy,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class dC extends uC{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Qv(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Yv(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ky(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ky(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ky(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!==e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!==e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!==e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!==e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!==e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!==e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class hC extends Qy{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ky(16777215),this.specular=new Ky(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ky(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ym,this.normalScale=new Qv(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new gy,this.combine=Kp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class pC extends Qy{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ky(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ky(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ym,this.normalScale=new Qv(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class fC extends Qy{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ym,this.normalScale=new Qv(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class mC extends Qy{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ky(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ky(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ym,this.normalScale=new Qv(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new gy,this.combine=Kp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class vC extends Qy{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ky(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ym,this.normalScale=new Qv(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class gC extends hM{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function yC(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function bC(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function xC(e){const t=e.length,n=new Array(t);for(let i=0;i!==t;++i)n[i]=i;return n.sort((function(t,n){return e[t]-e[n]})),n}function _C(e,t,n){const i=e.length,r=new e.constructor(i);for(let a=0,o=0;o!==i;++a){const i=n[a]*t;for(let n=0;n!==t;++n)r[o++]=e[i+n]}return r}function wC(e,t,n,i){let r=1,a=e[0];for(;void 0!==a&&void 0===a[i];)a=e[r++];if(void 0===a)return;let o=a[i];if(void 0!==o)if(Array.isArray(o))do{o=a[i],void 0!==o&&(t.push(a.time),n.push.apply(n,o)),a=e[r++]}while(void 0!==a);else if(void 0!==o.toArray)do{o=a[i],void 0!==o&&(t.push(a.time),o.toArray(n,n.length)),a=e[r++]}while(void 0!==a);else do{o=a[i],void 0!==o&&(t.push(a.time),n.push(o)),a=e[r++]}while(void 0!==a)}const SC={convertArray:yC,isTypedArray:bC,getKeyframeOrder:xC,sortedArray:_C,flattenJSON:wC,subclip:function(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30;const a=e.clone();a.name=t;const o=[];for(let l=0;l<a.tracks.length;++l){const e=a.tracks[l],t=e.getValueSize(),s=[],c=[];for(let a=0;a<e.times.length;++a){const o=e.times[a]*r;if(!(o<n||o>=i)){s.push(e.times[a]);for(let n=0;n<t;++n)c.push(e.values[a*t+n])}}0!==s.length&&(e.times=yC(s,e.times.constructor),e.values=yC(c,e.values.constructor),o.push(e))}a.tracks=o;let s=1/0;for(let l=0;l<a.tracks.length;++l)s>a.tracks[l].times[0]&&(s=a.tracks[l].times[0]);for(let l=0;l<a.tracks.length;++l)a.tracks[l].shift(-1*s);return a.resetDuration(),a},makeClipAdditive:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;i<=0&&(i=30);const r=n.tracks.length,a=t/i;for(let o=0;o<r;++o){const t=n.tracks[o],i=t.ValueTypeName;if("bool"===i||"string"===i)continue;const r=e.tracks.find((function(e){return e.name===t.name&&e.ValueTypeName===i}));if(void 0===r)continue;let s=0;const l=t.getValueSize();t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=l/3);let c=0;const u=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=u/3);const d=t.times.length-1;let h;if(a<=t.times[0]){const e=s,n=l-s;h=t.values.slice(e,n)}else if(a>=t.times[d]){const e=d*l+s,n=e+l-s;h=t.values.slice(e,n)}else{const e=t.createInterpolant(),n=s,i=l-s;e.evaluate(a),h=e.resultBuffer.slice(n,i)}if("quaternion"===i){(new kg).fromArray(h).normalize().conjugate().toArray(h)}const p=r.times.length;for(let e=0;e<p;++e){const t=e*u+c;if("quaternion"===i)kg.multiplyQuaternionsFlat(r.values,t,h,0,r.values,t);else{const e=u-2*c;for(let n=0;n<e;++n)r.values[t+n]-=h[n]}}}return e.blendMode=Bm,e}};class MC{constructor(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{let a;n:{i:if(!(e<i)){for(let a=n+2;;){if(void 0===i){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===a)break;if(r=i,i=t[++n],e<i)break t}a=t.length;break n}if(e>=r)break e;{const o=t[1];e<o&&(n=2,r=o);for(let a=n-2;;){if(void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(n===a)break;if(i=r,r=t[--n-1],e>=r)break t}a=n,n=0}}for(;n<a;){const i=n+a>>>1;e<t[i]?a=i:n=i+1}if(i=t[n],r=t[n-1],void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===i)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i;for(let a=0;a!==i;++a)t[a]=n[r+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class EC extends MC{constructor(e,t,n,i){super(e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Dm,endingEnd:Dm}}intervalChanged_(e,t,n){const i=this.parameterPositions;let r=e-2,a=e+1,o=i[r],s=i[a];if(void 0===o)switch(this.getSettings_().endingStart){case Fm:r=e,o=2*t-n;break;case Um:r=i.length-2,o=t+i[r]-i[r+1];break;default:r=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Fm:a=e,s=2*n-t;break;case Um:a=1,s=n+i[1]-i[0];break;default:a=e-1,s=t}const l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-n),this._offsetPrev=r*c,this._offsetNext=a*c}interpolate_(e,t,n,i){const r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,h=this._weightNext,p=(n-t)/(i-t),f=p*p,m=f*p,v=-d*m+2*d*f-d*p,g=(1+d)*m+(-1.5-2*d)*f+(-.5+d)*p+1,y=(-1-h)*m+(1.5+h)*f+.5*p,b=h*m-h*f;for(let x=0;x!==o;++x)r[x]=v*a[c+x]+g*a[l+x]+y*a[s+x]+b*a[u+x];return r}}class CC extends MC{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=(n-t)/(i-t),u=1-c;for(let d=0;d!==o;++d)r[d]=a[l+d]*u+a[s+d]*c;return r}}class TC extends MC{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class NC{constructor(e,t,n,i){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=yC(t,this.TimeBufferType),this.values=yC(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:yC(e.times,Array),values:yC(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(n.interpolation=t)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new TC(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new CC(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new EC(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case jm:t=this.InterpolantFactoryMethodDiscrete;break;case Lm:t=this.InterpolantFactoryMethodLinear;break;case Im:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return jm;case this.InterpolantFactoryMethodLinear:return Lm;case this.InterpolantFactoryMethodSmooth:return Im}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this}trim(e,t){const n=this.times,i=n.length;let r=0,a=i-1;for(;r!==i&&n[r]<e;)++r;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==r||a!==i){r>=a&&(a=Math.max(a,1),r=a-1);const e=this.getValueSize();this.times=n.slice(r,a),this.values=this.values.slice(r*e,a*e)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==r;o++){const t=n[o];if("number"===typeof t&&isNaN(t)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,t),e=!1;break}if(null!==a&&a>t){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,t,a),e=!1;break}a=t}if(void 0!==i&&bC(i))for(let o=0,s=i.length;o!==s;++o){const t=i[o];if(isNaN(t)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,t),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),i=this.getInterpolation()===Im,r=e.length-1;let a=1;for(let o=1;o<r;++o){let r=!1;const s=e[o];if(s!==e[o+1]&&(1!==o||s!==e[0]))if(i)r=!0;else{const e=o*n,i=e-n,a=e+n;for(let o=0;o!==n;++o){const n=t[e+o];if(n!==t[i+o]||n!==t[a+o]){r=!0;break}}}if(r){if(o!==a){e[a]=e[o];const i=o*n,r=a*n;for(let e=0;e!==n;++e)t[r+e]=t[i+e]}++a}}if(r>0){e[a]=e[r];for(let e=r*n,i=a*n,o=0;o!==n;++o)t[i+o]=t[e+o];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}NC.prototype.TimeBufferType=Float32Array,NC.prototype.ValueBufferType=Float32Array,NC.prototype.DefaultInterpolation=Lm;class AC extends NC{}AC.prototype.ValueTypeName="bool",AC.prototype.ValueBufferType=Array,AC.prototype.DefaultInterpolation=jm,AC.prototype.InterpolantFactoryMethodLinear=void 0,AC.prototype.InterpolantFactoryMethodSmooth=void 0;class kC extends NC{}kC.prototype.ValueTypeName="color";class OC extends NC{}OC.prototype.ValueTypeName="number";class PC extends MC{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(i-t);let l=e*o;for(let c=l+o;l!==c;l+=4)kg.slerpFlat(r,0,a,l-o,a,l,s);return r}}class RC extends NC{InterpolantFactoryMethodLinear(e){return new PC(this.times,this.values,this.getValueSize(),e)}}RC.prototype.ValueTypeName="quaternion",RC.prototype.DefaultInterpolation=Lm,RC.prototype.InterpolantFactoryMethodSmooth=void 0;class jC extends NC{}jC.prototype.ValueTypeName="string",jC.prototype.ValueBufferType=Array,jC.prototype.DefaultInterpolation=jm,jC.prototype.InterpolantFactoryMethodLinear=void 0,jC.prototype.InterpolantFactoryMethodSmooth=void 0;class LC extends NC{}LC.prototype.ValueTypeName="vector";class IC{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:zm;this.name=e,this.tracks=n,this.duration=t,this.blendMode=i,this.uuid=qv(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,i=1/(e.fps||1);for(let a=0,o=n.length;a!==o;++a)t.push(DC(n[a]).scale(i));const r=new this(e.name,e.duration,t,e.blendMode);return r.uuid=e.uuid,r}static toJSON(e){const t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let r=0,a=n.length;r!==a;++r)t.push(NC.toJSON(n[r]));return i}static CreateFromMorphTargetSequence(e,t,n,i){const r=t.length,a=[];for(let o=0;o<r;o++){let e=[],s=[];e.push((o+r-1)%r,o,(o+1)%r),s.push(0,1,0);const l=xC(e);e=_C(e,1,l),s=_C(s,1,l),i||0!==e[0]||(e.push(r),s.push(s[0])),a.push(new OC(".morphTargetInfluences["+t[o].name+"]",e,s).scale(1/n))}return new this(e,-1,a)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const t=e;n=t.geometry&&t.geometry.animations||t.animations}for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const i={},r=/^([\w-]*?)([\d]+)$/;for(let o=0,s=e.length;o<s;o++){const t=e[o],n=t.name.match(r);if(n&&n.length>1){const e=n[1];let r=i[e];r||(i[e]=r=[]),r.push(t)}}const a=[];for(const o in i)a.push(this.CreateFromMorphTargetSequence(o,i[o],t,n));return a}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(e,t,n,i,r){if(0!==n.length){const a=[],o=[];wC(n,a,o,i),0!==a.length&&r.push(new e(t,a,o))}},i=[],r=e.name||"default",a=e.fps||30,o=e.blendMode;let s=e.length||-1;const l=e.hierarchy||[];for(let c=0;c<l.length;c++){const e=l[c].keys;if(e&&0!==e.length)if(e[0].morphTargets){const t={};let n;for(n=0;n<e.length;n++)if(e[n].morphTargets)for(let i=0;i<e[n].morphTargets.length;i++)t[e[n].morphTargets[i]]=-1;for(const r in t){const t=[],a=[];for(let i=0;i!==e[n].morphTargets.length;++i){const i=e[n];t.push(i.time),a.push(i.morphTarget===r?1:0)}i.push(new OC(".morphTargetInfluence["+r+"]",t,a))}s=t.length*a}else{const r=".bones["+t[c].name+"]";n(LC,r+".position",e,"pos",i),n(RC,r+".quaternion",e,"rot",i),n(LC,r+".scale",e,"scl",i)}}if(0===i.length)return null;return new this(r,s,i,o)}resetDuration(){let e=0;for(let t=0,n=this.tracks.length;t!==n;++t){const n=this.tracks[t];e=Math.max(e,n.times[n.times.length-1])}return this.duration=e,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function DC(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return OC;case"vector":case"vector2":case"vector3":case"vector4":return LC;case"color":return kC;case"quaternion":return RC;case"bool":case"boolean":return AC;case"string":return jC}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){const t=[],n=[];wC(e.keys,t,n,"value"),e.times=t,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}const FC={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class UC{constructor(e,t,n){const i=this;let r,a=!1,o=0,s=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){s++,!1===a&&void 0!==i.onStart&&i.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==i.onProgress&&i.onProgress(e,o,s),o===s&&(a=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return r?r(e):e},this.setURLModifier=function(e){return r=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){const t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){const n=l[t],i=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return i}return null}}}const zC=new UC;class BC{constructor(e){this.manager=void 0!==e?e:zC,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise((function(i,r){n.load(e,i,t,r)}))}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}BC.DEFAULT_MATERIAL_NAME="__DEFAULT";const HC={};class VC extends Error{constructor(e,t){super(e),this.response=t}}class WC extends BC{constructor(e){super(e)}load(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const r=FC.get(e);if(void 0!==r)return this.manager.itemStart(e),setTimeout((()=>{t&&t(r),this.manager.itemEnd(e)}),0),r;if(void 0!==HC[e])return void HC[e].push({onLoad:t,onProgress:n,onError:i});HC[e]=[],HC[e].push({onLoad:t,onProgress:n,onError:i});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,s=this.responseType;fetch(a).then((t=>{if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;const n=HC[e],i=t.body.getReader(),r=t.headers.get("X-File-Size")||t.headers.get("Content-Length"),a=r?parseInt(r):0,o=0!==a;let s=0;const l=new ReadableStream({start(e){!function t(){i.read().then((i=>{let{done:r,value:l}=i;if(r)e.close();else{s+=l.byteLength;const i=new ProgressEvent("progress",{lengthComputable:o,loaded:s,total:a});for(let e=0,t=n.length;e<t;e++){const t=n[e];t.onProgress&&t.onProgress(i)}e.enqueue(l),t()}}))}()}});return new Response(l)}throw new VC('fetch for "'.concat(t.url,'" responded with ').concat(t.status,": ").concat(t.statusText),t)})).then((e=>{switch(s){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((e=>(new DOMParser).parseFromString(e,o)));case"json":return e.json();default:if(void 0===o)return e.text();{const t=/charset="?([^;"\s]*)"?/i.exec(o),n=t&&t[1]?t[1].toLowerCase():void 0,i=new TextDecoder(n);return e.arrayBuffer().then((e=>i.decode(e)))}}})).then((t=>{FC.add(e,t);const n=HC[e];delete HC[e];for(let e=0,i=n.length;e<i;e++){const i=n[e];i.onLoad&&i.onLoad(t)}})).catch((t=>{const n=HC[e];if(void 0===n)throw this.manager.itemError(e),t;delete HC[e];for(let e=0,i=n.length;e<i;e++){const i=n[e];i.onError&&i.onError(t)}this.manager.itemError(e)})).finally((()=>{this.manager.itemEnd(e)})),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class GC extends BC{constructor(e){super(e)}load(e,t,n,i){const r=this,a=new WC(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){try{t(r.parse(JSON.parse(n)))}catch(fU){i?i(fU):console.error(fU),r.manager.itemError(e)}}),n,i)}parse(e){const t=[];for(let n=0;n<e.length;n++){const i=IC.parse(e[n]);t.push(i)}return t}}class qC extends BC{constructor(e){super(e)}load(e,t,n,i){const r=this,a=[],o=new LM,s=new WC(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(r.withCredentials);let l=0;function c(c){s.load(e[c],(function(e){const n=r.parse(e,!0);a[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},l+=1,6===l&&(1===n.mipmapCount&&(o.minFilter=Mf),o.image=a,o.format=n.format,o.needsUpdate=!0,t&&t(o))}),n,i)}if(Array.isArray(e))for(let u=0,d=e.length;u<d;++u)c(u);else s.load(e,(function(e){const n=r.parse(e,!0);if(n.isCubemap){const e=n.mipmaps.length/n.mipmapCount;for(let t=0;t<e;t++){a[t]={mipmaps:[]};for(let e=0;e<n.mipmapCount;e++)a[t].mipmaps.push(n.mipmaps[t*n.mipmapCount+e]),a[t].format=n.format,a[t].width=n.width,a[t].height=n.height}o.image=a}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=Mf),o.format=n.format,o.needsUpdate=!0,t&&t(o)}),n,i);return o}}class YC extends BC{constructor(e){super(e)}load(e,t,n,i){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,a=FC.get(e);if(void 0!==a)return r.manager.itemStart(e),setTimeout((function(){t&&t(a),r.manager.itemEnd(e)}),0),a;const o=ag("img");function s(){c(),FC.add(e,this),t&&t(this),r.manager.itemEnd(e)}function l(t){c(),i&&i(t),r.manager.itemError(e),r.manager.itemEnd(e)}function c(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),r.manager.itemStart(e),o.src=e,o}}class XC extends BC{constructor(e){super(e)}load(e,t,n,i){const r=new rx;r.colorSpace=Km;const a=new YC(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function s(n){a.load(e[n],(function(e){r.images[n]=e,o++,6===o&&(r.needsUpdate=!0,t&&t(r))}),void 0,i)}for(let l=0;l<e.length;++l)s(l);return r}}class ZC extends BC{constructor(e){super(e)}load(e,t,n,i){const r=this,a=new IS,o=new WC(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(r.withCredentials),o.load(e,(function(e){let n;try{n=r.parse(e)}catch(o){if(void 0===i)return void console.error(o);i(o)}void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:gf,a.wrapT=void 0!==n.wrapT?n.wrapT:gf,a.magFilter=void 0!==n.magFilter?n.magFilter:Mf,a.minFilter=void 0!==n.minFilter?n.minFilter:Mf,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.colorSpace&&(a.colorSpace=n.colorSpace),void 0!==n.flipY&&(a.flipY=n.flipY),void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=Tf),1===n.mipmapCount&&(a.minFilter=Mf),void 0!==n.generateMipmaps&&(a.generateMipmaps=n.generateMipmaps),a.needsUpdate=!0,t&&t(a,n)}),n,i),a}}class KC extends BC{constructor(e){super(e)}load(e,t,n,i){const r=new wg,a=new YC(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(e){r.image=e,r.needsUpdate=!0,void 0!==t&&t(r)}),n,i),r}}class JC extends jy{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;super(),this.isLight=!0,this.type="Light",this.color=new Ky(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}class $C extends JC{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(jy.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ky(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const QC=new sy,eT=new Og,tT=new Og;class nT{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Qv(512,512),this.map=null,this.mapPass=null,this.matrix=new sy,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new hx,this._frameExtents=new Qv(1,1),this._viewportCount=1,this._viewports=[new Sg(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;eT.setFromMatrixPosition(e.matrixWorld),t.position.copy(eT),tT.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(tT),t.updateMatrixWorld(),QC.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(QC),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(QC)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class iT extends nT{constructor(){super(new tx(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=2*Gv*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;n===t.fov&&i===t.aspect&&r===t.far||(t.fov=n,t.aspect=i,t.far=r,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class rT extends JC{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2;super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(jy.DEFAULT_UP),this.updateMatrix(),this.target=new jy,this.distance=n,this.angle=i,this.penumbra=r,this.decay=a,this.map=null,this.shadow=new iT}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const aT=new sy,oT=new Og,sT=new Og;class lT extends nT{constructor(){super(new tx(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Qv(4,2),this._viewportCount=6,this._viewports=[new Sg(2,1,1,1),new Sg(0,1,1,1),new Sg(3,1,1,1),new Sg(1,1,1,1),new Sg(3,0,1,1),new Sg(1,0,1,1)],this._cubeDirections=[new Og(1,0,0),new Og(-1,0,0),new Og(0,0,1),new Og(0,0,-1),new Og(0,1,0),new Og(0,-1,0)],this._cubeUps=[new Og(0,1,0),new Og(0,1,0),new Og(0,1,0),new Og(0,1,0),new Og(0,0,1),new Og(0,0,-1)]}updateMatrices(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.camera,i=this.matrix,r=e.distance||n.far;r!==n.far&&(n.far=r,n.updateProjectionMatrix()),oT.setFromMatrixPosition(e.matrixWorld),n.position.copy(oT),sT.copy(n.position),sT.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(sT),n.updateMatrixWorld(),i.makeTranslation(-oT.x,-oT.y,-oT.z),aT.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(aT)}}class cT extends JC{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=i,this.shadow=new lT}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class uT extends nT{constructor(){super(new Nx(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class dT extends JC{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(jy.DEFAULT_UP),this.updateMatrix(),this.target=new jy,this.shadow=new uT}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class hT extends JC{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class pT extends JC{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class fT{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Og)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,i=e.y,r=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*i),t.addScaledVector(a[2],.488603*r),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],n*i*1.092548),t.addScaledVector(a[5],i*r*1.092548),t.addScaledVector(a[6],.315392*(3*r*r-1)),t.addScaledVector(a[7],n*r*1.092548),t.addScaledVector(a[8],.546274*(n*n-i*i)),t}getIrradianceAt(e,t){const n=e.x,i=e.y,r=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*i),t.addScaledVector(a[2],1.023328*r),t.addScaledVector(a[3],1.023328*n),t.addScaledVector(a[4],.858086*n*i),t.addScaledVector(a[5],.858086*i*r),t.addScaledVector(a[6],.743125*r*r-.247708),t.addScaledVector(a[7],.858086*n*r),t.addScaledVector(a[8],.429043*(n*n-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(e,t+3*i);return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(e,t+3*i);return e}static getBasisAt(e,t){const n=e.x,i=e.y,r=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*r,t[3]=.488603*n,t[4]=1.092548*n*i,t[5]=1.092548*i*r,t[6]=.315392*(3*r*r-1),t[7]=1.092548*n*r,t[8]=.546274*(n*n-i*i)}}class mT extends JC{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new fT;super(void 0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class vT extends BC{constructor(e){super(e),this.textures={}}load(e,t,n,i){const r=this,a=new WC(r.manager);a.setPath(r.path),a.setRequestHeader(r.requestHeader),a.setWithCredentials(r.withCredentials),a.load(e,(function(n){try{t(r.parse(JSON.parse(n)))}catch(fU){i?i(fU):console.error(fU),r.manager.itemError(e)}}),n,i)}parse(e){const t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}const i=vT.createMaterialFromType(e.type);if(void 0!==e.uuid&&(i.uuid=e.uuid),void 0!==e.name&&(i.name=e.name),void 0!==e.color&&void 0!==i.color&&i.color.setHex(e.color),void 0!==e.roughness&&(i.roughness=e.roughness),void 0!==e.metalness&&(i.metalness=e.metalness),void 0!==e.sheen&&(i.sheen=e.sheen),void 0!==e.sheenColor&&(i.sheenColor=(new Ky).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(i.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==i.emissive&&i.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==i.specular&&i.specular.setHex(e.specular),void 0!==e.specularIntensity&&(i.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==i.specularColor&&i.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(i.shininess=e.shininess),void 0!==e.clearcoat&&(i.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(i.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.dispersion&&(i.dispersion=e.dispersion),void 0!==e.iridescence&&(i.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(i.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(i.transmission=e.transmission),void 0!==e.thickness&&(i.thickness=e.thickness),void 0!==e.attenuationDistance&&(i.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==i.attenuationColor&&i.attenuationColor.setHex(e.attenuationColor),void 0!==e.anisotropy&&(i.anisotropy=e.anisotropy),void 0!==e.anisotropyRotation&&(i.anisotropyRotation=e.anisotropyRotation),void 0!==e.fog&&(i.fog=e.fog),void 0!==e.flatShading&&(i.flatShading=e.flatShading),void 0!==e.blending&&(i.blending=e.blending),void 0!==e.combine&&(i.combine=e.combine),void 0!==e.side&&(i.side=e.side),void 0!==e.shadowSide&&(i.shadowSide=e.shadowSide),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.transparent&&(i.transparent=e.transparent),void 0!==e.alphaTest&&(i.alphaTest=e.alphaTest),void 0!==e.alphaHash&&(i.alphaHash=e.alphaHash),void 0!==e.depthFunc&&(i.depthFunc=e.depthFunc),void 0!==e.depthTest&&(i.depthTest=e.depthTest),void 0!==e.depthWrite&&(i.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(i.colorWrite=e.colorWrite),void 0!==e.blendSrc&&(i.blendSrc=e.blendSrc),void 0!==e.blendDst&&(i.blendDst=e.blendDst),void 0!==e.blendEquation&&(i.blendEquation=e.blendEquation),void 0!==e.blendSrcAlpha&&(i.blendSrcAlpha=e.blendSrcAlpha),void 0!==e.blendDstAlpha&&(i.blendDstAlpha=e.blendDstAlpha),void 0!==e.blendEquationAlpha&&(i.blendEquationAlpha=e.blendEquationAlpha),void 0!==e.blendColor&&void 0!==i.blendColor&&i.blendColor.setHex(e.blendColor),void 0!==e.blendAlpha&&(i.blendAlpha=e.blendAlpha),void 0!==e.stencilWriteMask&&(i.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(i.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(i.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(i.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(i.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(i.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(i.stencilZPass=e.stencilZPass),void 0!==e.stencilWrite&&(i.stencilWrite=e.stencilWrite),void 0!==e.wireframe&&(i.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(i.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(i.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(i.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(i.rotation=e.rotation),void 0!==e.linewidth&&(i.linewidth=e.linewidth),void 0!==e.dashSize&&(i.dashSize=e.dashSize),void 0!==e.gapSize&&(i.gapSize=e.gapSize),void 0!==e.scale&&(i.scale=e.scale),void 0!==e.polygonOffset&&(i.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(i.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(i.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(i.dithering=e.dithering),void 0!==e.alphaToCoverage&&(i.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(i.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.forceSinglePass&&(i.forceSinglePass=e.forceSinglePass),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.toneMapped&&(i.toneMapped=e.toneMapped),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),void 0!==e.uniforms)for(const r in e.uniforms){const t=e.uniforms[r];switch(i.uniforms[r]={},t.type){case"t":i.uniforms[r].value=n(t.value);break;case"c":i.uniforms[r].value=(new Ky).setHex(t.value);break;case"v2":i.uniforms[r].value=(new Qv).fromArray(t.value);break;case"v3":i.uniforms[r].value=(new Og).fromArray(t.value);break;case"v4":i.uniforms[r].value=(new Sg).fromArray(t.value);break;case"m3":i.uniforms[r].value=(new eg).fromArray(t.value);break;case"m4":i.uniforms[r].value=(new sy).fromArray(t.value);break;default:i.uniforms[r].value=t.value}}if(void 0!==e.defines&&(i.defines=e.defines),void 0!==e.vertexShader&&(i.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(i.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(i.glslVersion=e.glslVersion),void 0!==e.extensions)for(const r in e.extensions)i.extensions[r]=e.extensions[r];if(void 0!==e.lights&&(i.lights=e.lights),void 0!==e.clipping&&(i.clipping=e.clipping),void 0!==e.size&&(i.size=e.size),void 0!==e.sizeAttenuation&&(i.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(i.map=n(e.map)),void 0!==e.matcap&&(i.matcap=n(e.matcap)),void 0!==e.alphaMap&&(i.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(i.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(i.bumpScale=e.bumpScale),void 0!==e.normalMap&&(i.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(i.normalMapType=e.normalMapType),void 0!==e.normalScale){let t=e.normalScale;!1===Array.isArray(t)&&(t=[t,t]),i.normalScale=(new Qv).fromArray(t)}return void 0!==e.displacementMap&&(i.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(i.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(i.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(i.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(i.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(i.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(i.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(i.specularMap=n(e.specularMap)),void 0!==e.specularIntensityMap&&(i.specularIntensityMap=n(e.specularIntensityMap)),void 0!==e.specularColorMap&&(i.specularColorMap=n(e.specularColorMap)),void 0!==e.envMap&&(i.envMap=n(e.envMap)),void 0!==e.envMapRotation&&i.envMapRotation.fromArray(e.envMapRotation),void 0!==e.envMapIntensity&&(i.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(i.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(i.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(i.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(i.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(i.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(i.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(i.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(i.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(i.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(i.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(i.clearcoatNormalScale=(new Qv).fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(i.iridescenceMap=n(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(i.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(i.transmissionMap=n(e.transmissionMap)),void 0!==e.thicknessMap&&(i.thicknessMap=n(e.thicknessMap)),void 0!==e.anisotropyMap&&(i.anisotropyMap=n(e.anisotropyMap)),void 0!==e.sheenColorMap&&(i.sheenColorMap=n(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(i.sheenRoughnessMap=n(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){return new{ShadowMaterial:lC,SpriteMaterial:oS,RawShaderMaterial:cC,ShaderMaterial:Kb,PointsMaterial:CM,MeshPhysicalMaterial:dC,MeshStandardMaterial:uC,MeshPhongMaterial:hC,MeshToonMaterial:pC,MeshNormalMaterial:fC,MeshLambertMaterial:mC,MeshDepthMaterial:Dw,MeshDistanceMaterial:Fw,MeshBasicMaterial:eb,MeshMatcapMaterial:vC,LineDashedMaterial:gC,LineBasicMaterial:hM,Material:Qy}[e]}}class gT{static decodeText(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(let n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(fU){return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class yT extends Eb{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class bT extends BC{constructor(e){super(e)}load(e,t,n,i){const r=this,a=new WC(r.manager);a.setPath(r.path),a.setRequestHeader(r.requestHeader),a.setWithCredentials(r.withCredentials),a.load(e,(function(n){try{t(r.parse(JSON.parse(n)))}catch(fU){i?i(fU):console.error(fU),r.manager.itemError(e)}}),n,i)}parse(e){const t={},n={};function i(e,i){if(void 0!==t[i])return t[i];const r=e.interleavedBuffers[i],a=function(e,t){if(void 0!==n[t])return n[t];const i=e.arrayBuffers,r=i[t],a=new Uint32Array(r).buffer;return n[t]=a,a}(e,r.buffer),o=rg(r.type,a),s=new iS(o,r.stride);return s.uuid=r.uuid,t[i]=s,s}const r=e.isInstancedBufferGeometry?new yT:new Eb,a=e.data.index;if(void 0!==a){const e=rg(a.type,a.array);r.setIndex(new lb(e,1))}const o=e.data.attributes;for(const u in o){const t=o[u];let n;if(t.isInterleavedBufferAttribute){const r=i(e.data,t.data);n=new aS(r,t.itemSize,t.offset,t.normalized)}else{const e=rg(t.type,t.array);n=new(t.isInstancedBufferAttribute?zS:lb)(e,t.itemSize,t.normalized)}void 0!==t.name&&(n.name=t.name),void 0!==t.usage&&n.setUsage(t.usage),r.setAttribute(u,n)}const s=e.data.morphAttributes;if(s)for(const u in s){const t=s[u],n=[];for(let r=0,a=t.length;r<a;r++){const a=t[r];let o;if(a.isInterleavedBufferAttribute){const t=i(e.data,a.data);o=new aS(t,a.itemSize,a.offset,a.normalized)}else{const e=rg(a.type,a.array);o=new lb(e,a.itemSize,a.normalized)}void 0!==a.name&&(o.name=a.name),n.push(o)}r.morphAttributes[u]=n}e.data.morphTargetsRelative&&(r.morphTargetsRelative=!0);const l=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==l)for(let u=0,d=l.length;u!==d;++u){const e=l[u];r.addGroup(e.start,e.count,e.materialIndex)}const c=e.data.boundingSphere;if(void 0!==c){const e=new Og;void 0!==c.center&&e.fromArray(c.center),r.boundingSphere=new $g(e,c.radius)}return e.name&&(r.name=e.name),e.userData&&(r.userData=e.userData),r}}class xT extends BC{constructor(e){super(e)}load(e,t,n,i){const r=this,a=""===this.path?gT.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new WC(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){let a=null;try{a=JSON.parse(n)}catch(s){return void 0!==i&&i(s),void console.error("THREE:ObjectLoader: Can't parse "+e+".",s.message)}const o=a.metadata;if(void 0===o||void 0===o.type||"geometry"===o.type.toLowerCase())return void 0!==i&&i(new Error("THREE.ObjectLoader: Can't load "+e)),void console.error("THREE.ObjectLoader: Can't load "+e);r.parse(a,t)}),n,i)}async loadAsync(e,t){const n=""===this.path?gT.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||n;const i=new WC(this.manager);i.setPath(this.path),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials);const r=await i.loadAsync(e,t),a=JSON.parse(r),o=a.metadata;if(void 0===o||void 0===o.type||"geometry"===o.type.toLowerCase())throw new Error("THREE.ObjectLoader: Can't load "+e);return await this.parseAsync(a)}parse(e,t){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),a=this.parseImages(e.images,(function(){void 0!==t&&t(l)})),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,s,o,n),c=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,c),void 0!==t){let e=!1;for(const t in a)if(a[t].data instanceof HTMLImageElement){e=!0;break}!1===e&&t(l)}return l}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,n),r=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,r),o=this.parseMaterials(e.materials,a),s=this.parseObject(e.object,i,o,a,t),l=this.parseSkeletons(e.skeletons,s);return this.bindSkeletons(s,l),s}parseShapes(e){const t={};if(void 0!==e)for(let n=0,i=e.length;n<i;n++){const i=(new bE).fromJSON(e[n]);t[i.uuid]=i}return t}parseSkeletons(e,t){const n={},i={};if(t.traverse((function(e){e.isBone&&(i[e.uuid]=e)})),void 0!==e)for(let r=0,a=e.length;r<a;r++){const t=(new US).fromJSON(e[r],i);n[t.uuid]=t}return n}parseGeometries(e,t){const n={};if(void 0!==e){const i=new bT;for(let r=0,a=e.length;r<a;r++){let a;const o=e[r];switch(o.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(o);break;default:o.type in sC?a=sC[o.type].fromJSON(o,t):console.warn('THREE.ObjectLoader: Unsupported geometry type "'.concat(o.type,'"'))}a.uuid=o.uuid,void 0!==o.name&&(a.name=o.name),void 0!==o.userData&&(a.userData=o.userData),n[o.uuid]=a}}return n}parseMaterials(e,t){const n={},i={};if(void 0!==e){const r=new vT;r.setTextures(t);for(let t=0,a=e.length;t<a;t++){const a=e[t];void 0===n[a.uuid]&&(n[a.uuid]=r.parse(a)),i[a.uuid]=n[a.uuid]}}return i}parseAnimations(e){const t={};if(void 0!==e)for(let n=0;n<e.length;n++){const i=e[n],r=IC.parse(i);t[r.uuid]=r}return t}parseImages(e,t){const n=this,i={};let r;function a(e){if("string"===typeof e){const t=e;return function(e){return n.manager.itemStart(e),r.load(e,(function(){n.manager.itemEnd(e)}),void 0,(function(){n.manager.itemError(e),n.manager.itemEnd(e)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:n.resourcePath+t)}return e.data?{data:rg(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){const n=new UC(t);r=new YC(n),r.setCrossOrigin(this.crossOrigin);for(let t=0,r=e.length;t<r;t++){const n=e[t],r=n.url;if(Array.isArray(r)){const e=[];for(let t=0,n=r.length;t<n;t++){const n=a(r[t]);null!==n&&(n instanceof HTMLImageElement?e.push(n):e.push(new IS(n.data,n.width,n.height)))}i[n.uuid]=new bg(e)}else{const e=a(n.url);i[n.uuid]=new bg(e)}}}return i}async parseImagesAsync(e){const t=this,n={};let i;async function r(e){if("string"===typeof e){const n=e,r=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(n)?n:t.resourcePath+n;return await i.loadAsync(r)}return e.data?{data:rg(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){i=new YC(this.manager),i.setCrossOrigin(this.crossOrigin);for(let t=0,i=e.length;t<i;t++){const i=e[t],a=i.url;if(Array.isArray(a)){const e=[];for(let t=0,n=a.length;t<n;t++){const n=a[t],i=await r(n);null!==i&&(i instanceof HTMLImageElement?e.push(i):e.push(new IS(i.data,i.width,i.height)))}n[i.uuid]=new bg(e)}else{const e=await r(i.url);n[i.uuid]=new bg(e)}}}return n}parseTextures(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}const i={};if(void 0!==e)for(let r=0,a=e.length;r<a;r++){const a=e[r];void 0===a.image&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),void 0===t[a.image]&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const o=t[a.image],s=o.data;let l;Array.isArray(s)?(l=new rx,6===s.length&&(l.needsUpdate=!0)):(l=s&&s.data?new IS:new wg,s&&(l.needsUpdate=!0)),l.source=o,l.uuid=a.uuid,void 0!==a.name&&(l.name=a.name),void 0!==a.mapping&&(l.mapping=n(a.mapping,_T)),void 0!==a.channel&&(l.channel=a.channel),void 0!==a.offset&&l.offset.fromArray(a.offset),void 0!==a.repeat&&l.repeat.fromArray(a.repeat),void 0!==a.center&&l.center.fromArray(a.center),void 0!==a.rotation&&(l.rotation=a.rotation),void 0!==a.wrap&&(l.wrapS=n(a.wrap[0],wT),l.wrapT=n(a.wrap[1],wT)),void 0!==a.format&&(l.format=a.format),void 0!==a.internalFormat&&(l.internalFormat=a.internalFormat),void 0!==a.type&&(l.type=a.type),void 0!==a.colorSpace&&(l.colorSpace=a.colorSpace),void 0!==a.minFilter&&(l.minFilter=n(a.minFilter,ST)),void 0!==a.magFilter&&(l.magFilter=n(a.magFilter,ST)),void 0!==a.anisotropy&&(l.anisotropy=a.anisotropy),void 0!==a.flipY&&(l.flipY=a.flipY),void 0!==a.generateMipmaps&&(l.generateMipmaps=a.generateMipmaps),void 0!==a.premultiplyAlpha&&(l.premultiplyAlpha=a.premultiplyAlpha),void 0!==a.unpackAlignment&&(l.unpackAlignment=a.unpackAlignment),void 0!==a.compareFunction&&(l.compareFunction=a.compareFunction),void 0!==a.userData&&(l.userData=a.userData),i[a.uuid]=l}return i}parseObject(e,t,n,i,r){let a,o,s;function l(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function c(e){if(void 0!==e){if(Array.isArray(e)){const t=[];for(let i=0,r=e.length;i<r;i++){const r=e[i];void 0===n[r]&&console.warn("THREE.ObjectLoader: Undefined material",r),t.push(n[r])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}function u(e){return void 0===i[e]&&console.warn("THREE.ObjectLoader: Undefined texture",e),i[e]}switch(e.type){case"Scene":a=new nS,void 0!==e.background&&(Number.isInteger(e.background)?a.background=new Ky(e.background):a.background=u(e.background)),void 0!==e.environment&&(a.environment=u(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?a.fog=new tS(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(a.fog=new eS(e.fog.color,e.fog.density)),""!==e.fog.name&&(a.fog.name=e.fog.name)),void 0!==e.backgroundBlurriness&&(a.backgroundBlurriness=e.backgroundBlurriness),void 0!==e.backgroundIntensity&&(a.backgroundIntensity=e.backgroundIntensity),void 0!==e.backgroundRotation&&a.backgroundRotation.fromArray(e.backgroundRotation),void 0!==e.environmentIntensity&&(a.environmentIntensity=e.environmentIntensity),void 0!==e.environmentRotation&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new tx(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(a.focus=e.focus),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.filmGauge&&(a.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(a.filmOffset=e.filmOffset),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Nx(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new hT(e.color,e.intensity);break;case"DirectionalLight":a=new dT(e.color,e.intensity);break;case"PointLight":a=new cT(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new pT(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new rT(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new $C(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=(new mT).fromJSON(e);break;case"SkinnedMesh":o=l(e.geometry),s=c(e.material),a=new jS(o,s),void 0!==e.bindMode&&(a.bindMode=e.bindMode),void 0!==e.bindMatrix&&a.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(a.skeleton=e.skeleton);break;case"Mesh":o=l(e.geometry),s=c(e.material),a=new Vb(o,s);break;case"InstancedMesh":o=l(e.geometry),s=c(e.material);const t=e.count,n=e.instanceMatrix,i=e.instanceColor;a=new XS(o,s,t),a.instanceMatrix=new zS(new Float32Array(n.array),16),void 0!==i&&(a.instanceColor=new zS(new Float32Array(i.array),i.itemSize));break;case"BatchedMesh":o=l(e.geometry),s=c(e.material),a=new dM(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,s),a.geometry=o,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._visibility=e.visibility,a._active=e.active,a._bounds=e.bounds.map((e=>{const t=new jg;t.min.fromArray(e.boxMin),t.max.fromArray(e.boxMax);const n=new $g;return n.radius=e.sphereRadius,n.center.fromArray(e.sphereCenter),{boxInitialized:e.boxInitialized,box:t,sphereInitialized:e.sphereInitialized,sphere:n}})),a._maxGeometryCount=e.maxGeometryCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._geometryCount=e.geometryCount,a._matricesTexture=u(e.matricesTexture.uuid);break;case"LOD":a=new MS;break;case"Line":a=new xM(l(e.geometry),c(e.material));break;case"LineLoop":a=new EM(l(e.geometry),c(e.material));break;case"LineSegments":a=new MM(l(e.geometry),c(e.material));break;case"PointCloud":case"Points":a=new OM(l(e.geometry),c(e.material));break;case"Sprite":a=new xS(c(e.material));break;case"Group":a=new Ww;break;case"Bone":a=new LS;break;default:a=new jy}if(a.uuid=e.uuid,void 0!==e.name&&(a.name=e.name),void 0!==e.matrix?(a.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(void 0!==e.position&&a.position.fromArray(e.position),void 0!==e.rotation&&a.rotation.fromArray(e.rotation),void 0!==e.quaternion&&a.quaternion.fromArray(e.quaternion),void 0!==e.scale&&a.scale.fromArray(e.scale)),void 0!==e.up&&a.up.fromArray(e.up),void 0!==e.castShadow&&(a.castShadow=e.castShadow),void 0!==e.receiveShadow&&(a.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(a.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(a.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(a.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&a.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(a.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.frustumCulled&&(a.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(a.renderOrder=e.renderOrder),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.layers&&(a.layers.mask=e.layers),void 0!==e.children){const o=e.children;for(let e=0;e<o.length;e++)a.add(this.parseObject(o[e],t,n,i,r))}if(void 0!==e.animations){const t=e.animations;for(let e=0;e<t.length;e++){const n=t[e];a.animations.push(r[n])}}if("LOD"===e.type){void 0!==e.autoUpdate&&(a.autoUpdate=e.autoUpdate);const t=e.levels;for(let e=0;e<t.length;e++){const n=t[e],i=a.getObjectByProperty("uuid",n.object);void 0!==i&&a.addLevel(i,n.distance,n.hysteresis)}}return a}bindSkeletons(e,t){0!==Object.keys(t).length&&e.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){const n=t[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}}))}}const _T={UVMapping:uf,CubeReflectionMapping:df,CubeRefractionMapping:hf,EquirectangularReflectionMapping:pf,EquirectangularRefractionMapping:ff,CubeUVReflectionMapping:mf},wT={RepeatWrapping:vf,ClampToEdgeWrapping:gf,MirroredRepeatWrapping:yf},ST={NearestFilter:bf,NearestMipmapNearestFilter:xf,NearestMipmapLinearFilter:wf,LinearFilter:Mf,LinearMipmapNearestFilter:Ef,LinearMipmapLinearFilter:Tf};class MT extends BC{constructor(e){super(e),this.isImageBitmapLoader=!0,"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,a=FC.get(e);if(void 0!==a)return r.manager.itemStart(e),a.then?void a.then((n=>{t&&t(n),r.manager.itemEnd(e)})).catch((e=>{i&&i(e)})):(setTimeout((function(){t&&t(a),r.manager.itemEnd(e)}),0),a);const o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader;const s=fetch(e,o).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(r.options,{colorSpaceConversion:"none"}))})).then((function(n){return FC.add(e,n),t&&t(n),r.manager.itemEnd(e),n})).catch((function(t){i&&i(t),FC.remove(e),r.manager.itemError(e),r.manager.itemEnd(e)}));FC.add(e,s),r.manager.itemStart(e)}}let ET;class CT{static getContext(){return void 0===ET&&(ET=new(window.AudioContext||window.webkitAudioContext)),ET}static setContext(e){ET=e}}class TT extends BC{constructor(e){super(e)}load(e,t,n,i){const r=this,a=new WC(this.manager);function o(t){i?i(t):console.error(t),r.manager.itemError(e)}a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(e){try{const n=e.slice(0);CT.getContext().decodeAudioData(n,(function(e){t(e)})).catch(o)}catch(fU){o(fU)}}),n,i)}}const NT=new sy,AT=new sy,kT=new sy;class OT{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new tx,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new tx,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,kT.copy(e.projectionMatrix);const n=t.eyeSep/2,i=n*t.near/t.focus,r=t.near*Math.tan(Wv*t.fov*.5)/t.zoom;let a,o;AT.elements[12]=-n,NT.elements[12]=n,a=-r*t.aspect+i,o=r*t.aspect+i,kT.elements[0]=2*t.near/(o-a),kT.elements[8]=(o+a)/(o-a),this.cameraL.projectionMatrix.copy(kT),a=-r*t.aspect-i,o=r*t.aspect-i,kT.elements[0]=2*t.near/(o-a),kT.elements[8]=(o+a)/(o-a),this.cameraR.projectionMatrix.copy(kT)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(AT),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(NT)}}class PT{constructor(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=RT(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=RT();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function RT(){return("undefined"===typeof performance?Date:performance).now()}const jT=new Og,LT=new kg,IT=new Og,DT=new Og;class FT extends jy{constructor(){super(),this.type="AudioListener",this.context=CT.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new PT}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(jT,LT,IT),DT.set(0,0,-1).applyQuaternion(LT),t.positionX){const e=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(jT.x,e),t.positionY.linearRampToValueAtTime(jT.y,e),t.positionZ.linearRampToValueAtTime(jT.z,e),t.forwardX.linearRampToValueAtTime(DT.x,e),t.forwardY.linearRampToValueAtTime(DT.y,e),t.forwardZ.linearRampToValueAtTime(DT.z,e),t.upX.linearRampToValueAtTime(n.x,e),t.upY.linearRampToValueAtTime(n.y,e),t.upZ.linearRampToValueAtTime(n.z,e)}else t.setPosition(jT.x,jT.y,jT.z),t.setOrientation(DT.x,DT.y,DT.z,n.x,n.y,n.z)}}class UT extends jy{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,null!==this.source&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(!1!==this._connected){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,!0===this.isPlaying&&void 0!==this.source.detune&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const zT=new Og,BT=new kg,HT=new Og,VT=new Og;class WT extends UT{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(zT,BT,HT),VT.set(0,0,1).applyQuaternion(BT);const t=this.panner;if(t.positionX){const e=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(zT.x,e),t.positionY.linearRampToValueAtTime(zT.y,e),t.positionZ.linearRampToValueAtTime(zT.z,e),t.orientationX.linearRampToValueAtTime(VT.x,e),t.orientationY.linearRampToValueAtTime(VT.y,e),t.orientationZ.linearRampToValueAtTime(VT.z,e)}else t.setPosition(zT.x,zT.y,zT.z),t.setOrientation(VT.x,VT.y,VT.z)}}class GT{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class qT{constructor(e,t,n){let i,r,a;switch(this.binding=e,this.valueSize=n,t){case"quaternion":i=this._slerp,r=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":i=this._select,r=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:i=this._lerp,r=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=r,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,i=this.valueSize,r=e*i+i;let a=this.cumulativeWeight;if(0===a){for(let e=0;e!==i;++e)n[r+e]=n[e];a=t}else{a+=t;const e=t/a;this._mixBufferRegion(n,r,0,e,i)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,i=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,i=e*t+t,r=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const e=t*this._origIndex;this._mixBufferRegion(n,i,e,1-r,t)}a>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(let s=t,l=t+t;s!==l;++s)if(n[s]!==n[s+t]){o.setValue(n,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,i=n*this._origIndex;e.getValue(t,i);for(let r=n,a=i;r!==a;++r)t[r]=t[i+r%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=3*this.valueSize;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,i,r){if(i>=.5)for(let a=0;a!==r;++a)e[t+a]=e[n+a]}_slerp(e,t,n,i){kg.slerpFlat(e,t,e,t,e,n,i)}_slerpAdditive(e,t,n,i,r){const a=this._workIndex*r;kg.multiplyQuaternionsFlat(e,a,e,t,e,n),kg.slerpFlat(e,t,e,t,e,a,i)}_lerp(e,t,n,i,r){const a=1-i;for(let o=0;o!==r;++o){const r=t+o;e[r]=e[r]*a+e[n+o]*i}}_lerpAdditive(e,t,n,i,r){for(let a=0;a!==r;++a){const r=t+a;e[r]=e[r]+e[n+a]*i}}}const YT="\\[\\]\\.:\\/",XT=new RegExp("["+YT+"]","g"),ZT="[^"+YT+"]",KT="[^"+YT.replace("\\.","")+"]",JT=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",ZT)+/(WCOD+)?/.source.replace("WCOD",KT)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",ZT)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",ZT)+"$"),$T=["material","materials","bones","map"];class QT{constructor(e,t,n){this.path=t,this.parsedPath=n||QT.parseTrackName(t),this.node=QT.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new QT.Composite(e,t,n):new QT(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(XT,"")}static parseTrackName(e){const t=JT.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){const e=n.nodeName.substring(i+1);-1!==$T.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){const n=function(e){for(let i=0;i<e.length;i++){const r=e[i];if(r.name===t||r.uuid===t)return r;const a=n(r.children);if(a)return a}return null},i=n(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)e[t++]=n[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,i=t.propertyName;let r=t.propertyIndex;if(e||(e=QT.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(n){let i=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===i){i=t;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==i){if(void 0===e[i])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[i]}}const a=e[i];if(void 0===a){const n=t.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+i+" but it wasn't found.",e)}let o=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?o=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(o=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[r]&&(r=e.morphTargetDictionary[r])}s=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=r}else void 0!==a.fromArray&&void 0!==a.toArray?(s=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(s=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}QT.Composite=class{constructor(e,t,n){const i=n||QT.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];void 0!==i&&i.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},QT.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},QT.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},QT.prototype.GetterByBindingType=[QT.prototype._getValue_direct,QT.prototype._getValue_array,QT.prototype._getValue_arrayElement,QT.prototype._getValue_toArray],QT.prototype.SetterByBindingTypeAndVersioning=[[QT.prototype._setValue_direct,QT.prototype._setValue_direct_setNeedsUpdate,QT.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[QT.prototype._setValue_array,QT.prototype._setValue_array_setNeedsUpdate,QT.prototype._setValue_array_setMatrixWorldNeedsUpdate],[QT.prototype._setValue_arrayElement,QT.prototype._setValue_arrayElement_setNeedsUpdate,QT.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[QT.prototype._setValue_fromArray,QT.prototype._setValue_fromArray_setNeedsUpdate,QT.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class eN{constructor(){this.isAnimationObjectGroup=!0,this.uuid=qv(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,i=arguments.length;n!==i;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,i=this._parsedPaths,r=this._bindings,a=r.length;let o,s=e.length,l=this.nCachedObjects_;for(let c=0,u=arguments.length;c!==u;++c){const u=arguments[c],d=u.uuid;let h=t[d];if(void 0===h){h=s++,t[d]=h,e.push(u);for(let e=0,t=a;e!==t;++e)r[e].push(new QT(u,n[e],i[e]))}else if(h<l){o=e[h];const s=--l,c=e[s];t[c.uuid]=h,e[h]=c,t[d]=s,e[s]=u;for(let e=0,t=a;e!==t;++e){const t=r[e],a=t[s];let o=t[h];t[h]=a,void 0===o&&(o=new QT(u,n[e],i[e])),t[s]=o}}else e[h]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const o=arguments[a],s=o.uuid,l=t[s];if(void 0!==l&&l>=r){const a=r++,c=e[a];t[c.uuid]=l,e[l]=c,t[s]=a,e[a]=o;for(let e=0,t=i;e!==t;++e){const t=n[e],i=t[a],r=t[l];t[l]=i,t[a]=r}}}this.nCachedObjects_=r}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_,a=e.length;for(let o=0,s=arguments.length;o!==s;++o){const s=arguments[o].uuid,l=t[s];if(void 0!==l)if(delete t[s],l<r){const o=--r,s=e[o],c=--a,u=e[c];t[s.uuid]=l,e[l]=s,t[u.uuid]=o,e[o]=u,e.pop();for(let e=0,t=i;e!==t;++e){const t=n[e],i=t[o],r=t[c];t[l]=i,t[o]=r,t.pop()}}else{const r=--a,o=e[r];r>0&&(t[o.uuid]=l),e[l]=o,e.pop();for(let e=0,t=i;e!==t;++e){const t=n[e];t[l]=t[r],t.pop()}}}this.nCachedObjects_=r}subscribe_(e,t){const n=this._bindingsIndicesByPath;let i=n[e];const r=this._bindings;if(void 0!==i)return r[i];const a=this._paths,o=this._parsedPaths,s=this._objects,l=s.length,c=this.nCachedObjects_,u=new Array(l);i=r.length,n[e]=i,a.push(e),o.push(t),r.push(u);for(let d=c,h=s.length;d!==h;++d){const n=s[d];u[d]=new QT(n,e,t)}return u}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){const i=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];t[e[o]]=n,a[n]=s,a.pop(),r[n]=r[o],r.pop(),i[n]=i[o],i.pop()}}}class tN{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.blendMode;this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=i;const r=t.tracks,a=r.length,o=new Array(a),s={endingStart:Dm,endingEnd:Dm};for(let l=0;l!==a;++l){const e=r[l].createInterpolant(null);o[l]=e,e.settings=s}this._interpolantSettings=s,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Pm,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const n=this._clip.duration,i=e._clip.duration,r=i/n,a=n/i;e.warp(1,r,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const i=this._mixer,r=i.time,a=this.timeScale;let o=this._timeScaleInterpolant;null===o&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);const s=o.parameterPositions,l=o.sampleValues;return s[0]=r,s[1]=r+n,l[0]=e/a,l[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,i){if(!this.enabled)return void this._updateWeight(e);const r=this._startTime;if(null!==r){const i=(e-r)*n;i<0||0===n?t=0:(this._startTime=null,t=n*i)}t*=this._updateTimeScale(e);const a=this._updateTime(t),o=this._updateWeight(e);if(o>0){const e=this._interpolants,t=this._propertyBindings;if(this.blendMode===Bm)for(let n=0,i=e.length;n!==i;++n)e[n].evaluate(a),t[n].accumulateAdditive(o);else for(let n=0,r=e.length;n!==r;++n)e[n].evaluate(a),t[n].accumulate(i,o)}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(null!==n){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(null!==n){t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let i=this.time+e,r=this._loopCount;const a=n===Rm;if(0===e)return-1===r?i:a&&1===(1&r)?t-i:i;if(n===Om){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else{if(!(i<0)){this.time=i;break e}i=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===r&&(e>=0?(r=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),i>=t||i<0){const n=Math.floor(i/t);i-=t*n,r+=Math.abs(n);const o=this.repetitions-r;if(o<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===o){const t=e<0;this._setEndings(t,!t,a)}else this._setEndings(!1,!1,a);this._loopCount=r,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=i;if(a&&1===(1&r))return t-i}return i}_setEndings(e,t,n){const i=this._interpolantSettings;n?(i.endingStart=Fm,i.endingEnd=Fm):(i.endingStart=e?this.zeroSlopeAtStart?Fm:Dm:Um,i.endingEnd=t?this.zeroSlopeAtEnd?Fm:Dm:Um)}_scheduleFading(e,t,n){const i=this._mixer,r=i.time;let a=this._weightInterpolant;null===a&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,s=a.sampleValues;return o[0]=r,s[0]=t,o[1]=r+e,s[1]=n,this}}const nN=new Float32Array(1);class iN extends Bv{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName;let c=l[s];void 0===c&&(c={},l[s]=c);for(let u=0;u!==r;++u){const e=i[u],r=e.name;let l=c[r];if(void 0!==l)++l.referenceCount,a[u]=l;else{if(l=a[u],void 0!==l){null===l._cacheIndex&&(++l.referenceCount,this._addInactiveBinding(l,s,r));continue}const i=t&&t._propertyBindings[u].binding.parsedPath;l=new qT(QT.create(n,r,i),e.ValueTypeName,e.getValueSize()),++l.referenceCount,this._addInactiveBinding(l,s,r),a[u]=l}o[u].resultBuffer=l.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const t=(e._localRoot||this._root).uuid,n=e._clip.uuid,i=this._actionsByClip[n];this._bindAction(e,i&&i.knownActions[0]),this._addInactiveAction(e,n,t)}const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,n){const i=this._actions,r=this._actionsByClip;let a=r[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=a;else{const t=a.knownActions;e._byClipCacheIndex=t.length,t.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;const r=e._clip.uuid,a=this._actionsByClip,o=a[r],s=o.knownActions,l=s[s.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,s[c]=l,s.pop(),e._byClipCacheIndex=null;delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[r],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const e=t[n];0===--e.referenceCount&&this._removeInactiveBinding(e)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_addInactiveBinding(e,t,n){const i=this._bindingsByRootAndName,r=this._bindings;let a=i[t];void 0===a&&(a={},i[t]=a),a[n]=e,e._cacheIndex=r.length,r.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,i=n.rootNode.uuid,r=n.path,a=this._bindingsByRootAndName,o=a[i],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete o[r],0===Object.keys(o).length&&delete a[i]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return void 0===n&&(n=new CC(new Float32Array(2),new Float32Array(2),1,nN),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];e.__cacheIndex=i,t[i]=e,r.__cacheIndex=n,t[n]=r}clipAction(e,t,n){const i=t||this._root,r=i.uuid;let a="string"===typeof e?IC.findByName(i,e):e;const o=null!==a?a.uuid:e,s=this._actionsByClip[o];let l=null;if(void 0===n&&(n=null!==a?a.blendMode:zm),void 0!==s){const e=s.actionByRoot[r];if(void 0!==e&&e.blendMode===n)return e;l=s.knownActions[0],null===a&&(a=l._clip)}if(null===a)return null;const c=new tN(this,a,t,n);return this._bindAction(c,l),this._addInactiveAction(c,o,r),c}existingAction(e,t){const n=t||this._root,i=n.uuid,r="string"===typeof e?IC.findByName(n,e):e,a=r?r.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[i]||null}stopAllAction(){const e=this._actions;for(let t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,i=this.time+=e,r=Math.sign(e),a=this._accuIndex^=1;for(let l=0;l!==n;++l){t[l]._update(i,e,r,a)}const o=this._bindings,s=this._nActiveBindings;for(let l=0;l!==s;++l)o[l].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){const e=r.knownActions;for(let n=0,i=e.length;n!==i;++n){const i=e[n];this._deactivateAction(i);const r=i._cacheIndex,a=t[t.length-1];i._cacheIndex=null,i._byClipCacheIndex=null,a._cacheIndex=r,t[r]=a,t.pop(),this._removeInactiveBindingsForAction(i)}delete i[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const r in n){const e=n[r].actionByRoot[t];void 0!==e&&(this._deactivateAction(e),this._removeInactiveAction(e))}const i=this._bindingsByRootAndName[t];if(void 0!==i)for(const r in i){const e=i[r];e.restoreOriginalState(),this._removeInactiveBinding(e)}}uncacheAction(e,t){const n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class rN{constructor(e){this.value=e}clone(){return new rN(void 0===this.value.clone?this.value:this.value.clone())}}let aN=0;class oN extends Bv{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:aN++}),this.name="",this.usage=Nv,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return-1!==t&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,i=t.length;n<i;n++){const e=Array.isArray(t[n])?t[n]:[t[n]];for(let t=0;t<e.length;t++)this.uniforms.push(e[t].clone())}return this}clone(){return(new this.constructor).copy(this)}}class sN extends iS{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class lN{constructor(e,t,n,i,r){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=i,this.count=r,this.version=0}set needsUpdate(e){!0===e&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const cN=new sy;class uN{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;this.ray=new oy(e,t),this.near=n,this.far=i,this.camera=null,this.layers=new yy,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return cN.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(cN),this}intersectObject(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return hN(e,this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]),t.sort(dN),t}intersectObjects(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];for(let i=0,r=e.length;i<r;i++)hN(e[i],this,n,t);return n.sort(dN),n}}function dN(e,t){return e.distance-t.distance}function hN(e,t,n,i){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===i){const i=e.children;for(let e=0,r=i.length;e<r;e++)hN(i[e],t,n,!0)}}class pN{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Yv(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class fN{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return(new this.constructor).copy(this)}}const mN=new Qv;class vN{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Qv(1/0,1/0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Qv(-1/0,-1/0);this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=mN.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,mN).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const gN=new Og,yN=new Og;class bN{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Og,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Og;this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){gN.subVectors(e,this.start),yN.subVectors(this.end,this.start);const n=yN.dot(yN);let i=yN.dot(gN)/n;return t&&(i=Yv(i,0,1)),i}closestPointToPoint(e,t,n){const i=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}}const xN=new Og;class _N extends jy{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new Eb,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,s=32;a<s;a++,o++){const e=a/s*Math.PI*2,t=o/s*Math.PI*2;i.push(Math.cos(e),Math.sin(e),1,Math.cos(t),Math.sin(t),1)}n.setAttribute("position",new gb(i,3));const r=new hM({fog:!1,toneMapped:!1});this.cone=new MM(n,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),xN.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(xN),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const wN=new Og,SN=new sy,MN=new sy;class EN extends MM{constructor(e){const t=CN(e),n=new Eb,i=[],r=[],a=new Ky(0,0,1),o=new Ky(0,1,0);for(let s=0;s<t.length;s++){const e=t[s];e.parent&&e.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(a.r,a.g,a.b),r.push(o.r,o.g,o.b))}n.setAttribute("position",new gb(i,3)),n.setAttribute("color",new gb(r,3));super(n,new hM({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,i=n.getAttribute("position");MN.copy(this.root.matrixWorld).invert();for(let r=0,a=0;r<t.length;r++){const e=t[r];e.parent&&e.parent.isBone&&(SN.multiplyMatrices(MN,e.matrixWorld),wN.setFromMatrixPosition(SN),i.setXYZ(a,wN.x,wN.y,wN.z),SN.multiplyMatrices(MN,e.parent.matrixWorld),wN.setFromMatrixPosition(SN),i.setXYZ(a+1,wN.x,wN.y,wN.z),a+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function CN(e){const t=[];!0===e.isBone&&t.push(e);for(let n=0;n<e.children.length;n++)t.push.apply(t,CN(e.children[n]));return t}class TN extends Vb{constructor(e,t,n){super(new eC(t,4,2),new eb({wireframe:!0,fog:!1,toneMapped:!1})),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const NN=new Og,AN=new Ky,kN=new Ky;class ON extends jy{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const i=new JE(t);i.rotateY(.5*Math.PI),this.material=new eb({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const r=i.getAttribute("position"),a=new Float32Array(3*r.count);i.setAttribute("color",new lb(a,3)),this.add(new Vb(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");AN.copy(this.light.color),kN.copy(this.light.groundColor);for(let e=0,n=t.count;e<n;e++){const i=e<n/2?AN:kN;t.setXYZ(e,i.r,i.g,i.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(NN.setFromMatrixPosition(this.light.matrixWorld).negate())}}class PN extends MM{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;n=new Ky(n),i=new Ky(i);const r=t/2,a=e/t,o=e/2,s=[],l=[];for(let u=0,d=0,h=-o;u<=t;u++,h+=a){s.push(-o,0,h,o,0,h),s.push(h,0,-o,h,0,o);const e=u===r?n:i;e.toArray(l,d),d+=3,e.toArray(l,d),d+=3,e.toArray(l,d),d+=3,e.toArray(l,d),d+=3}const c=new Eb;c.setAttribute("position",new gb(s,3)),c.setAttribute("color",new gb(l,3));super(c,new hM({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class RN extends MM{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4473924,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:8947848;r=new Ky(r),a=new Ky(a);const o=[],s=[];if(t>1)for(let c=0;c<t;c++){const n=c/t*(2*Math.PI),i=Math.sin(n)*e,l=Math.cos(n)*e;o.push(0,0,0),o.push(i,0,l);const u=1&c?r:a;s.push(u.r,u.g,u.b),s.push(u.r,u.g,u.b)}for(let c=0;c<n;c++){const t=1&c?r:a,l=e-e/n*c;for(let e=0;e<i;e++){let n=e/i*(2*Math.PI),r=Math.sin(n)*l,a=Math.cos(n)*l;o.push(r,0,a),s.push(t.r,t.g,t.b),n=(e+1)/i*(2*Math.PI),r=Math.sin(n)*l,a=Math.cos(n)*l,o.push(r,0,a),s.push(t.r,t.g,t.b)}}const l=new Eb;l.setAttribute("position",new gb(o,3)),l.setAttribute("color",new gb(s,3));super(l,new hM({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const jN=new Og,LN=new Og,IN=new Og;class DN extends jy{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",void 0===t&&(t=1);let i=new Eb;i.setAttribute("position",new gb([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const r=new hM({fog:!1,toneMapped:!1});this.lightPlane=new xM(i,r),this.add(this.lightPlane),i=new Eb,i.setAttribute("position",new gb([0,0,0,0,0,1],3)),this.targetLine=new xM(i,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),jN.setFromMatrixPosition(this.light.matrixWorld),LN.setFromMatrixPosition(this.light.target.matrixWorld),IN.subVectors(LN,jN),this.lightPlane.lookAt(LN),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(LN),this.targetLine.scale.z=IN.length()}}const FN=new Og,UN=new Jb;class zN extends MM{constructor(e){const t=new Eb,n=new hM({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],r=[],a={};function o(e,t){s(e),s(t)}function s(e){i.push(0,0,0),r.push(0,0,0),void 0===a[e]&&(a[e]=[]),a[e].push(i.length/3-1)}o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4"),t.setAttribute("position",new gb(i,3)),t.setAttribute("color",new gb(r,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const l=new Ky(16755200),c=new Ky(16711680),u=new Ky(43775),d=new Ky(16777215),h=new Ky(3355443);this.setColors(l,c,u,d,h)}setColors(e,t,n,i,r){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,n.r,n.g,n.b),a.setXYZ(33,n.r,n.g,n.b),a.setXYZ(34,n.r,n.g,n.b),a.setXYZ(35,n.r,n.g,n.b),a.setXYZ(36,n.r,n.g,n.b),a.setXYZ(37,n.r,n.g,n.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,r.r,r.g,r.b),a.setXYZ(41,r.r,r.g,r.b),a.setXYZ(42,r.r,r.g,r.b),a.setXYZ(43,r.r,r.g,r.b),a.setXYZ(44,r.r,r.g,r.b),a.setXYZ(45,r.r,r.g,r.b),a.setXYZ(46,r.r,r.g,r.b),a.setXYZ(47,r.r,r.g,r.b),a.setXYZ(48,r.r,r.g,r.b),a.setXYZ(49,r.r,r.g,r.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap;UN.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),BN("c",t,e,UN,0,0,-1),BN("t",t,e,UN,0,0,1),BN("n1",t,e,UN,-1,-1,-1),BN("n2",t,e,UN,1,-1,-1),BN("n3",t,e,UN,-1,1,-1),BN("n4",t,e,UN,1,1,-1),BN("f1",t,e,UN,-1,-1,1),BN("f2",t,e,UN,1,-1,1),BN("f3",t,e,UN,-1,1,1),BN("f4",t,e,UN,1,1,1),BN("u1",t,e,UN,.7,1.1,-1),BN("u2",t,e,UN,-.7,1.1,-1),BN("u3",t,e,UN,0,2,-1),BN("cf1",t,e,UN,-1,0,1),BN("cf2",t,e,UN,1,0,1),BN("cf3",t,e,UN,0,-1,1),BN("cf4",t,e,UN,0,1,1),BN("cn1",t,e,UN,-1,0,-1),BN("cn2",t,e,UN,1,0,-1),BN("cn3",t,e,UN,0,-1,-1),BN("cn4",t,e,UN,0,1,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function BN(e,t,n,i,r,a,o){FN.set(r,a,o).unproject(i);const s=t[e];if(void 0!==s){const e=n.getAttribute("position");for(let t=0,n=s.length;t<n;t++)e.setXYZ(s[t],FN.x,FN.y,FN.z)}}const HN=new jg;class VN extends MM{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),r=new Eb;r.setIndex(new lb(n,1)),r.setAttribute("position",new lb(i,3)),super(r,new hM({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&HN.setFromObject(this.object),HN.isEmpty())return;const t=HN.min,n=HN.max,i=this.geometry.attributes.position,r=i.array;r[0]=n.x,r[1]=n.y,r[2]=n.z,r[3]=t.x,r[4]=n.y,r[5]=n.z,r[6]=t.x,r[7]=t.y,r[8]=n.z,r[9]=n.x,r[10]=t.y,r[11]=n.z,r[12]=n.x,r[13]=n.y,r[14]=t.z,r[15]=t.x,r[16]=n.y,r[17]=t.z,r[18]=t.x,r[19]=t.y,r[20]=t.z,r[21]=n.x,r[22]=t.y,r[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class WN extends MM{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Eb;i.setIndex(new lb(n,1)),i.setAttribute("position",new gb([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(i,new hM({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class GN extends xM{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16776960,i=new Eb;i.setAttribute("position",new gb([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),i.computeBoundingSphere(),super(i,new hM({color:n,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const r=new Eb;r.setAttribute("position",new gb([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),r.computeBoundingSphere(),this.add(new Vb(r,new eb({color:n,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const qN=new Og;let YN,XN;class ZN extends jy{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Og(0,0,1),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Og(0,0,0),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16776960,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.2*n,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.2*r;super(),this.type="ArrowHelper",void 0===YN&&(YN=new Eb,YN.setAttribute("position",new gb([0,0,0,0,1,0],3)),XN=new uE(0,.5,1,5,1),XN.translate(0,-.5,0)),this.position.copy(t),this.line=new xM(YN,new hM({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Vb(XN,new eb({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,r,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{qN.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(qN,t)}}setLength(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2*e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2*t;this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class KN extends MM{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new Eb;n.setAttribute("position",new gb(t,3)),n.setAttribute("color",new gb([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));super(n,new hM({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,t,n){const i=new Ky,r=this.geometry.attributes.color.array;return i.set(e),i.toArray(r,0),i.toArray(r,3),i.set(t),i.toArray(r,6),i.toArray(r,9),i.set(n),i.toArray(r,12),i.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class JN{constructor(){this.type="ShapePath",this.color=new Ky,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new oE,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,i){return this.currentPath.quadraticCurveTo(e,t,n,i),this}bezierCurveTo(e,t,n,i,r,a){return this.currentPath.bezierCurveTo(e,t,n,i,r,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(e,t){const n=t.length;let i=!1;for(let r=n-1,a=0;a<n;r=a++){let n=t[r],o=t[a],s=o.x-n.x,l=o.y-n.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(n=t[a],s=-s,o=t[r],l=-l),e.y<n.y||e.y>o.y)continue;if(e.y===n.y){if(e.x===n.x)return!0}else{const t=l*(e.x-n.x)-s*(e.y-n.y);if(0===t)return!0;if(t<0)continue;i=!i}}else{if(e.y!==n.y)continue;if(o.x<=e.x&&e.x<=n.x||n.x<=e.x&&e.x<=o.x)return!0}}return i}const n=GE.isClockWise,i=this.subPaths;if(0===i.length)return[];let r,a,o;const s=[];if(1===i.length)return a=i[0],o=new bE,o.curves=a.curves,s.push(o),s;let l=!n(i[0].getPoints());l=e?!l:l;const c=[],u=[];let d,h,p=[],f=0;u[f]=void 0,p[f]=[];for(let m=0,v=i.length;m<v;m++)a=i[m],d=a.getPoints(),r=n(d),r=e?!r:r,r?(!l&&u[f]&&f++,u[f]={s:new bE,p:d},u[f].s.curves=a.curves,l&&f++,p[f]=[]):p[f].push({h:a,p:d[0]});if(!u[0])return function(e){const t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n],r=new bE;r.curves=i.curves,t.push(r)}return t}(i);if(u.length>1){let e=!1,n=0;for(let t=0,i=u.length;t<i;t++)c[t]=[];for(let i=0,r=u.length;i<r;i++){const r=p[i];for(let a=0;a<r.length;a++){const o=r[a];let s=!0;for(let r=0;r<u.length;r++)t(o.p,u[r].p)&&(i!==r&&n++,s?(s=!1,c[r].push(o)):e=!0);s&&c[i].push(o)}}n>0&&!1===e&&(p=c)}for(let m=0,v=u.length;m<v;m++){o=u[m].s,s.push(o),h=p[m];for(let e=0,t=h.length;e<t;e++)o.holes.push(h[e].h)}return s}}class $N extends Eg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,t,{...i,count:n}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:np}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=np);var QN=function(e,t){return QN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},QN(e,t)};var eA=function(){return eA=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},eA.apply(this,arguments)};function tA(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function nA(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var iA,rA={exports:{}},aA={};function oA(e){let t;const n=new Set,i=(e,i)=>{const r="function"===typeof e?e(t):e;if(r!==t){const e=t;t=i?r:Object.assign({},t,r),n.forEach((n=>n(t,e)))}},r=()=>t,a={setState:i,getState:r,subscribe:(e,i,a)=>i||a?function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let o=i(t);function s(){const n=i(t);if(!a(o,n)){const t=o;e(o=n,t)}}return n.add(s),()=>n.delete(s)}(e,i,a):(n.add(e),()=>n.delete(e)),destroy:()=>n.clear()};return t=e(i,r,a),a}rA.exports=(iA||(iA=1,aA.ConcurrentRoot=1,aA.ContinuousEventPriority=4,aA.DefaultEventPriority=16,aA.DiscreteEventPriority=1,aA.IdleEventPriority=536870912,aA.LegacyRoot=0),aA);const sA="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?r.useEffect:r.useLayoutEffect;var lA,cA={exports:{}},uA={exports:{}},dA={};var hA,pA;function fA(){return pA||(pA=1,hA=function(e){var t={},n=r,i=uA.exports,a=Object.assign;function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),_=Symbol.iterator;function w(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=_&&e[_]||e["@@iterator"])?e:null}function S(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case u:return"Fragment";case c:return"Portal";case h:return"Profiler";case d:return"StrictMode";case v:return"Suspense";case g:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case f:return(e.displayName||"Context")+".Consumer";case p:return(e._context.displayName||"Context")+".Provider";case m:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case y:return null!==(t=e.displayName||null)?t:S(e.type)||"Memo";case b:t=e._payload,e=e._init;try{return S(e(t))}catch(Ri){}}return null}function M(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return S(t);case 8:return t===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function E(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function C(e){if(E(e)!==e)throw Error(o(188))}function T(e){var t=e.alternate;if(!t){if(null===(t=E(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(i=r.return)){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return C(r),e;if(a===i)return C(r),t;a=a.sibling}throw Error(o(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,i=a;break}if(l===i){s=!0,i=r,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,i=r;break}if(l===i){s=!0,i=a,n=r;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}function N(e){return null!==(e=T(e))?A(e):null}function A(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=A(e);if(null!==t)return t;e=e.sibling}return null}function k(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){if(4!==e.tag){var t=k(e);if(null!==t)return t}e=e.sibling}return null}var O,P=Array.isArray,R=e.getPublicInstance,j=e.getRootHostContext,L=e.getChildHostContext,I=e.prepareForCommit,D=e.resetAfterCommit,F=e.createInstance,U=e.appendInitialChild,z=e.finalizeInitialChildren,B=e.prepareUpdate,H=e.shouldSetTextContent,V=e.createTextInstance,W=e.scheduleTimeout,G=e.cancelTimeout,q=e.noTimeout,Y=e.isPrimaryRenderer,X=e.supportsMutation,Z=e.supportsPersistence,K=e.supportsHydration,J=e.getInstanceFromNode,$=e.preparePortalMount,Q=e.getCurrentEventPriority,ee=e.detachDeletedInstance,te=e.supportsMicrotasks,ne=e.scheduleMicrotask,ie=e.supportsTestSelectors,re=e.findFiberRoot,ae=e.getBoundingRect,oe=e.getTextContent,se=e.isHiddenSubtree,le=e.matchAccessibilityRole,ce=e.setFocusIfFocusable,ue=e.setupIntersectionObserver,de=e.appendChild,he=e.appendChildToContainer,pe=e.commitTextUpdate,fe=e.commitMount,me=e.commitUpdate,ve=e.insertBefore,ge=e.insertInContainerBefore,ye=e.removeChild,be=e.removeChildFromContainer,xe=e.resetTextContent,_e=e.hideInstance,we=e.hideTextInstance,Se=e.unhideInstance,Me=e.unhideTextInstance,Ee=e.clearContainer,Ce=e.cloneInstance,Te=e.createContainerChildSet,Ne=e.appendChildToContainerChildSet,Ae=e.finalizeContainerChildren,ke=e.replaceContainerChildren,Oe=e.cloneHiddenInstance,Pe=e.cloneHiddenTextInstance,Re=e.canHydrateInstance,je=e.canHydrateTextInstance,Le=e.canHydrateSuspenseInstance,Ie=e.isSuspenseInstancePending,De=e.isSuspenseInstanceFallback,Fe=e.registerSuspenseInstanceRetry,Ue=e.getNextHydratableSibling,ze=e.getFirstHydratableChild,Be=e.getFirstHydratableChildWithinContainer,He=e.getFirstHydratableChildWithinSuspenseInstance,Ve=e.hydrateInstance,We=e.hydrateTextInstance,Ge=e.hydrateSuspenseInstance,qe=e.getNextHydratableInstanceAfterSuspenseInstance,Ye=e.commitHydratedContainer,Xe=e.commitHydratedSuspenseInstance,Ze=e.clearSuspenseBoundary,Ke=e.clearSuspenseBoundaryFromContainer,Je=e.shouldDeleteUnhydratedTailInstances,$e=e.didNotMatchHydratedContainerTextInstance,Qe=e.didNotMatchHydratedTextInstance;function et(e){if(void 0===O)try{throw Error()}catch(Ri){var t=Ri.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var tt=!1;function nt(e,t){if(!e||tt)return"";tt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),a=i.stack.split("\n"),o=r.length-1,s=a.length-1;1<=o&&0<=s&&r[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(r[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||r[o]!==a[s]){var l="\n"+r[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{tt=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?et(e):""}var it=Object.prototype.hasOwnProperty,rt=[],at=-1;function ot(e){return{current:e}}function st(e){0>at||(e.current=rt[at],rt[at]=null,at--)}function lt(e,t){at++,rt[at]=e.current,e.current=t}var ct={},ut=ot(ct),dt=ot(!1),ht=ct;function pt(e,t){var n=e.type.contextTypes;if(!n)return ct;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,a={};for(r in n)a[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ft(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mt(){st(dt),st(ut)}function vt(e,t,n){if(ut.current!==ct)throw Error(o(168));lt(ut,t),lt(dt,n)}function gt(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(o(108,M(e)||"Unknown",r));return a({},n,i)}function yt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ct,ht=ut.current,lt(ut,e),lt(dt,dt.current),!0}function bt(e,t,n){var i=e.stateNode;if(!i)throw Error(o(169));n?(e=gt(e,t,ht),i.__reactInternalMemoizedMergedChildContext=e,st(dt),st(ut),lt(ut,e)):st(dt),lt(dt,n)}var xt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(_t(e)/wt|0)|0},_t=Math.log,wt=Math.LN2;var St=64,Mt=4194304;function Et(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ct(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~r;0!==s?i=Et(s):0!==(a&=o)&&(i=Et(a))}else 0!==(o=n&~r)?i=Et(o):0!==a&&(i=Et(a));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&r)&&((r=i&-i)>=(a=t&-t)||16===r&&0!==(4194240&a)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-xt(t)),i|=e[n],t&=~r;return i}function Tt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Nt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function At(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function kt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-xt(t)]=n}function Ot(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-xt(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var Pt=0;function Rt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt=i.unstable_scheduleCallback,Lt=i.unstable_cancelCallback,It=i.unstable_shouldYield,Dt=i.unstable_requestPaint,Ft=i.unstable_now,Ut=i.unstable_ImmediatePriority,zt=i.unstable_UserBlockingPriority,Bt=i.unstable_NormalPriority,Ht=i.unstable_IdlePriority,Vt=null,Wt=null;var Gt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},qt=null,Yt=!1,Xt=!1;function Zt(e){null===qt?qt=[e]:qt.push(e)}function Kt(){if(!Xt&&null!==qt){Xt=!0;var e=0,t=Pt;try{var n=qt;for(Pt=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}qt=null,Yt=!1}catch(fU){throw null!==qt&&(qt=qt.slice(e+1)),jt(Ut,Kt),fU}finally{Pt=t,Xt=!1}}return null}var Jt=s.ReactCurrentBatchConfig;function $t(e,t){if(Gt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!it.call(t,r)||!Gt(e[r],t[r]))return!1}return!0}function Qt(e){switch(e.tag){case 5:return et(e.type);case 16:return et("Lazy");case 13:return et("Suspense");case 19:return et("SuspenseList");case 0:case 2:case 15:return e=nt(e.type,!1);case 11:return e=nt(e.type.render,!1);case 1:return e=nt(e.type,!0);default:return""}}function en(e,t){if(e&&e.defaultProps){for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var tn=ot(null),nn=null,rn=null,an=null;function on(){an=rn=nn=null}function sn(e,t,n){Y?(lt(tn,t._currentValue),t._currentValue=n):(lt(tn,t._currentValue2),t._currentValue2=n)}function ln(e){var t=tn.current;st(tn),Y?e._currentValue=t:e._currentValue2=t}function cn(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function un(e,t){nn=e,an=rn=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Hr=!0),e.firstContext=null)}function dn(e){var t=Y?e._currentValue:e._currentValue2;if(an!==e)if(e={context:e,memoizedValue:t,next:null},null===rn){if(null===nn)throw Error(o(308));rn=e,nn.dependencies={lanes:0,firstContext:e}}else rn=rn.next=e;return t}var hn=null,pn=!1;function fn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gn(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==eo&&0!==(1&e.mode)&&0===(2&Qa)?(null===(e=n.interleaved)?(t.next=t,null===hn?hn=[n]:hn.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function yn(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,Ot(e,n)}}function bn(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?r=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?r=a=t:a=a.next=t}else r=a=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xn(e,t,n,i){var r=e.updateQueue;pn=!1;var o=r.firstBaseUpdate,s=r.lastBaseUpdate,l=r.shared.pending;if(null!==l){r.shared.pending=null;var c=l,u=c.next;c.next=null,null===s?o=u:s.next=u,s=c;var d=e.alternate;null!==d&&((l=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===l?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(null!==o){var h=r.baseState;for(s=0,d=u=c=null,l=o;;){var p=l.lane,f=l.eventTime;if((i&p)===p){null!==d&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,v=l;switch(p=t,f=n,v.tag){case 1:if("function"===typeof(m=v.payload)){h=m.call(f,h,p);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(p="function"===typeof(m=v.payload)?m.call(f,h,p):m)||void 0===p)break e;h=a({},h,p);break e;case 2:pn=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(p=r.effects)?r.effects=[l]:p.push(l))}else f={eventTime:f,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(u=d=f,c=h):d=d.next=f,s|=p;if(null===(l=l.next)){if(null===(l=r.shared.pending))break;l=(p=l).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}if(null===d&&(c=h),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=d,null!==(t=r.shared.interleaved)){r=t;do{s|=r.lane,r=r.next}while(r!==t)}else null===o&&(r.shared.lanes=0);so|=s,e.lanes=s,e.memoizedState=h}}function _n(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var wn=(new n.Component).refs;function Sn(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:a({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Mn={isMounted:function(e){return!!(e=e._reactInternals)&&E(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=To(),r=No(e),a=vn(i,r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),gn(e,a),null!==(t=Ao(e,r,i))&&yn(t,e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=To(),r=No(e),a=vn(i,r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),gn(e,a),null!==(t=Ao(e,r,i))&&yn(t,e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=To(),i=No(e),r=vn(n,i);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),gn(e,r),null!==(t=Ao(e,i,n))&&yn(t,e,i)}};function En(e,t,n,i,r,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!$t(n,i)||!$t(r,a))}function Cn(e,t,n){var i=!1,r=ct,a=t.contextType;return"object"===typeof a&&null!==a?a=dn(a):(r=ft(t)?ht:ut.current,a=(i=null!==(i=t.contextTypes)&&void 0!==i)?pt(e,r):ct),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Mn,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function Tn(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Mn.enqueueReplaceState(t,t.state,null)}function Nn(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=wn,fn(e);var a=t.contextType;"object"===typeof a&&null!==a?r.context=dn(a):(a=ft(t)?ht:ut.current,r.context=pt(e,a)),r.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Sn(e,t,a,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&Mn.enqueueReplaceState(r,r.state,null),xn(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}var An=[],kn=0,On=null,Pn=0,Rn=[],jn=0,Ln=null,In=1,Dn="";function Fn(e,t){An[kn++]=Pn,An[kn++]=On,On=e,Pn=t}function Un(e,t,n){Rn[jn++]=In,Rn[jn++]=Dn,Rn[jn++]=Ln,Ln=e;var i=In;e=Dn;var r=32-xt(i)-1;i&=~(1<<r),n+=1;var a=32-xt(t)+r;if(30<a){var o=r-r%5;a=(i&(1<<o)-1).toString(32),i>>=o,r-=o,In=1<<32-xt(t)+r|n<<r|i,Dn=a+e}else In=1<<a|n<<r|i,Dn=e}function zn(e){null!==e.return&&(Fn(e,1),Un(e,1,0))}function Bn(e){for(;e===On;)On=An[--kn],An[kn]=null,Pn=An[--kn],An[kn]=null;for(;e===Ln;)Ln=Rn[--jn],Rn[jn]=null,Dn=Rn[--jn],Rn[jn]=null,In=Rn[--jn],Rn[jn]=null}var Hn=null,Vn=null,Wn=!1,Gn=!1,qn=null;function Yn(e,t){var n=rs(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Xn(e,t){switch(e.tag){case 5:return null!==(t=Re(t,e.type,e.pendingProps))&&(e.stateNode=t,Hn=e,Vn=ze(t),!0);case 6:return null!==(t=je(t,e.pendingProps))&&(e.stateNode=t,Hn=e,Vn=null,!0);case 13:if(null!==(t=Le(t))){var n=null!==Ln?{id:In,overflow:Dn}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=rs(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Hn=e,Vn=null,!0}return!1;default:return!1}}function Zn(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Kn(e){if(Wn){var t=Vn;if(t){var n=t;if(!Xn(e,t)){if(Zn(e))throw Error(o(418));t=Ue(n);var i=Hn;t&&Xn(e,t)?Yn(i,n):(e.flags=-4097&e.flags|2,Wn=!1,Hn=e)}}else{if(Zn(e))throw Error(o(418));e.flags=-4097&e.flags|2,Wn=!1,Hn=e}}}function Jn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Hn=e}function $n(e){if(!K||e!==Hn)return!1;if(!Wn)return Jn(e),Wn=!0,!1;if(3!==e.tag&&(5!==e.tag||Je(e.type)&&!H(e.type,e.memoizedProps))){var t=Vn;if(t){if(Zn(e)){for(e=Vn;e;)e=Ue(e);throw Error(o(418))}for(;t;)Yn(e,t),t=Ue(t)}}if(Jn(e),13===e.tag){if(!K)throw Error(o(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));Vn=qe(e)}else Vn=Hn?Ue(e.stateNode):null;return!0}function Qn(){K&&(Vn=Hn=null,Gn=Wn=!1)}function ei(e){null===qn?qn=[e]:qn.push(e)}function ti(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var i=n.stateNode}if(!i)throw Error(o(147,e));var r=i,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=r.refs;t===wn&&(t=r.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function ni(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ii(e){return(0,e._init)(e._payload)}function ri(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=os(e,t)).index=0,e.sibling=null,e}function a(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function d(e,t,n,i){return null===t||6!==t.tag?((t=us(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n,i){var a=n.type;return a===u?f(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===b&&ii(a)===t.type)?((i=r(t,n.props)).ref=ti(e,t,n),i.return=e,i):((i=ss(n.type,n.key,n.props,null,e.mode,i)).ref=ti(e,t,n),i.return=e,i)}function p(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ds(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function f(e,t,n,i,a){return null===t||7!==t.tag?((t=ls(n,e.mode,i,a)).return=e,t):((t=r(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=us(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case l:return(n=ss(t.type,t.key,t.props,null,e.mode,n)).ref=ti(e,null,t),n.return=e,n;case c:return(t=ds(t,e.mode,n)).return=e,t;case b:return m(e,(0,t._init)(t._payload),n)}if(P(t)||w(t))return(t=ls(t,e.mode,n,null)).return=e,t;ni(e,t)}return null}function v(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:d(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case l:return n.key===r?h(e,t,n,i):null;case c:return n.key===r?p(e,t,n,i):null;case b:return v(e,t,(r=n._init)(n._payload),i)}if(P(n)||w(n))return null!==r?null:f(e,t,n,i,null);ni(e,n)}return null}function g(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return d(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case l:return h(t,e=e.get(null===i.key?n:i.key)||null,i,r);case c:return p(t,e=e.get(null===i.key?n:i.key)||null,i,r);case b:return g(e,t,n,(0,i._init)(i._payload),r)}if(P(i)||w(i))return f(t,e=e.get(n)||null,i,r,null);ni(t,i)}return null}function y(r,o,s,l){for(var c=null,u=null,d=o,h=o=0,p=null;null!==d&&h<s.length;h++){d.index>h?(p=d,d=null):p=d.sibling;var f=v(r,d,s[h],l);if(null===f){null===d&&(d=p);break}e&&d&&null===f.alternate&&t(r,d),o=a(f,o,h),null===u?c=f:u.sibling=f,u=f,d=p}if(h===s.length)return n(r,d),Wn&&Fn(r,h),c;if(null===d){for(;h<s.length;h++)null!==(d=m(r,s[h],l))&&(o=a(d,o,h),null===u?c=d:u.sibling=d,u=d);return Wn&&Fn(r,h),c}for(d=i(r,d);h<s.length;h++)null!==(p=g(d,r,h,s[h],l))&&(e&&null!==p.alternate&&d.delete(null===p.key?h:p.key),o=a(p,o,h),null===u?c=p:u.sibling=p,u=p);return e&&d.forEach((function(e){return t(r,e)})),Wn&&Fn(r,h),c}function x(r,s,l,c){var u=w(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,h=s,p=s=0,f=null,y=l.next();null!==h&&!y.done;p++,y=l.next()){h.index>p?(f=h,h=null):f=h.sibling;var b=v(r,h,y.value,c);if(null===b){null===h&&(h=f);break}e&&h&&null===b.alternate&&t(r,h),s=a(b,s,p),null===d?u=b:d.sibling=b,d=b,h=f}if(y.done)return n(r,h),Wn&&Fn(r,p),u;if(null===h){for(;!y.done;p++,y=l.next())null!==(y=m(r,y.value,c))&&(s=a(y,s,p),null===d?u=y:d.sibling=y,d=y);return Wn&&Fn(r,p),u}for(h=i(r,h);!y.done;p++,y=l.next())null!==(y=g(h,r,p,y.value,c))&&(e&&null!==y.alternate&&h.delete(null===y.key?p:y.key),s=a(y,s,p),null===d?u=y:d.sibling=y,d=y);return e&&h.forEach((function(e){return t(r,e)})),Wn&&Fn(r,p),u}return function e(i,a,o,d){if("object"===typeof o&&null!==o&&o.type===u&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case l:e:{for(var h=o.key,p=a;null!==p;){if(p.key===h){if((h=o.type)===u){if(7===p.tag){n(i,p.sibling),(a=r(p,o.props.children)).return=i,i=a;break e}}else if(p.elementType===h||"object"===typeof h&&null!==h&&h.$$typeof===b&&ii(h)===p.type){n(i,p.sibling),(a=r(p,o.props)).ref=ti(i,p,o),a.return=i,i=a;break e}n(i,p);break}t(i,p),p=p.sibling}o.type===u?((a=ls(o.props.children,i.mode,d,o.key)).return=i,i=a):((d=ss(o.type,o.key,o.props,null,i.mode,d)).ref=ti(i,a,o),d.return=i,i=d)}return s(i);case c:e:{for(p=o.key;null!==a;){if(a.key===p){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(i,a.sibling),(a=r(a,o.children||[])).return=i,i=a;break e}n(i,a);break}t(i,a),a=a.sibling}(a=ds(o,i.mode,d)).return=i,i=a}return s(i);case b:return e(i,a,(p=o._init)(o._payload),d)}if(P(o))return y(i,a,o,d);if(w(o))return x(i,a,o,d);ni(i,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(i,a.sibling),(a=r(a,o)).return=i,i=a):(n(i,a),(a=us(o,i.mode,d)).return=i,i=a),s(i)):n(i,a)}}var ai=ri(!0),oi=ri(!1),si={},li=ot(si),ci=ot(si),ui=ot(si);function di(e){if(e===si)throw Error(o(174));return e}function hi(e,t){lt(ui,t),lt(ci,e),lt(li,si),e=j(t),st(li),lt(li,e)}function pi(){st(li),st(ci),st(ui)}function fi(e){var t=di(ui.current),n=di(li.current);n!==(t=L(n,e.type,t))&&(lt(ci,e),lt(li,t))}function mi(e){ci.current===e&&(st(li),st(ci))}var vi=ot(0);function gi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Ie(n)||De(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yi=[];function bi(){for(var e=0;e<yi.length;e++){var t=yi[e];Y?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}yi.length=0}var xi=s.ReactCurrentDispatcher,_i=s.ReactCurrentBatchConfig,wi=0,Si=null,Mi=null,Ei=null,Ci=!1,Ti=!1,Ni=0,Ai=0;function ki(){throw Error(o(321))}function Oi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gt(e[n],t[n]))return!1;return!0}function Pi(e,t,n,i,r,a){if(wi=a,Si=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xi.current=null===e||null===e.memoizedState?xr:_r,e=n(i,r),Ti){a=0;do{if(Ti=!1,Ni=0,25<=a)throw Error(o(301));a+=1,Ei=Mi=null,t.updateQueue=null,xi.current=wr,e=n(i,r)}while(Ti)}if(xi.current=br,t=null!==Mi&&null!==Mi.next,wi=0,Ei=Mi=Si=null,Ci=!1,t)throw Error(o(300));return e}function Li(){var e=0!==Ni;return Ni=0,e}function Ii(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ei?Si.memoizedState=Ei=e:Ei=Ei.next=e,Ei}function Di(){if(null===Mi){var e=Si.alternate;e=null!==e?e.memoizedState:null}else e=Mi.next;var t=null===Ei?Si.memoizedState:Ei.next;if(null!==t)Ei=t,Mi=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Mi=e).memoizedState,baseState:Mi.baseState,baseQueue:Mi.baseQueue,queue:Mi.queue,next:null},null===Ei?Si.memoizedState=Ei=e:Ei=Ei.next=e}return Ei}function Ui(e,t){return"function"===typeof t?t(e):t}function Hi(e){var t=Di(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=Mi,r=i.baseQueue,a=n.pending;if(null!==a){if(null!==r){var s=r.next;r.next=a.next,a.next=s}i.baseQueue=r=a,n.pending=null}if(null!==r){a=r.next,i=i.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((wi&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:e(i,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=i):c=c.next=h,Si.lanes|=d,so|=d}u=u.next}while(null!==u&&u!==a);null===c?s=i:c.next=l,Gt(i,t.memoizedState)||(Hr=!0),t.memoizedState=i,t.baseState=s,t.baseQueue=c,n.lastRenderedState=i}if(null!==(e=n.interleaved)){r=e;do{a=r.lane,Si.lanes|=a,so|=a,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Vi(e){var t=Di(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,a=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{a=e(a,s.action),s=s.next}while(s!==r);Gt(a,t.memoizedState)||(Hr=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function Wi(){}function Gi(e,t){var n=Si,i=Di(),r=t(),a=!Gt(i.memoizedState,r);if(a&&(i.memoizedState=r,Hr=!0),i=i.queue,ir(Xi.bind(null,n,i,e),[e]),i.getSnapshot!==t||a||null!==Ei&&1&Ei.memoizedState.tag){if(n.flags|=2048,Ji(9,Yi.bind(null,n,i,r,t),void 0,null),null===eo)throw Error(o(349));0!==(30&wi)||qi(n,t,r)}return r}function qi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Si.updateQueue)?(t={lastEffect:null,stores:null},Si.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Yi(e,t,n,i){t.value=n,t.getSnapshot=i,Zi(t)&&Ao(e,1,-1)}function Xi(e,t,n){return n((function(){Zi(t)&&Ao(e,1,-1)}))}function Zi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gt(e,n)}catch(ji){return!0}}function Ki(e){var t=Ii();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:e},t.queue=e,e=e.dispatch=fr.bind(null,Si,e),[t.memoizedState,e]}function Ji(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=Si.updateQueue)?(t={lastEffect:null,stores:null},Si.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Qi(){return Di().memoizedState}function er(e,t,n,i){var r=Ii();Si.flags|=e,r.memoizedState=Ji(1|t,n,void 0,void 0===i?null:i)}function tr(e,t,n,i){var r=Di();i=void 0===i?null:i;var a=void 0;if(null!==Mi){var o=Mi.memoizedState;if(a=o.destroy,null!==i&&Oi(i,o.deps))return void(r.memoizedState=Ji(t,n,a,i))}Si.flags|=e,r.memoizedState=Ji(1|t,n,a,i)}function nr(e,t){return er(8390656,8,e,t)}function ir(e,t){return tr(2048,8,e,t)}function rr(e,t){return tr(4,2,e,t)}function ar(e,t){return tr(4,4,e,t)}function or(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function sr(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,tr(4,4,or.bind(null,t,e),n)}function lr(){}function cr(e,t){var n=Di();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Oi(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function ur(e,t){var n=Di();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Oi(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function dr(e,t){var n=Pt;Pt=0!==n&&4>n?n:4,e(!0);var i=_i.transition;_i.transition={};try{e(!1),t()}finally{Pt=n,_i.transition=i}}function hr(){return Di().memoizedState}function pr(e,t,n){var i=No(e);n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},mr(e)?vr(t,n):(gr(e,t,n),null!==(e=Ao(e,i,n=To()))&&yr(e,t,i))}function fr(e,t,n){var i=No(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(mr(e))vr(t,r);else{gr(e,t,r);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(r.hasEagerState=!0,r.eagerState=s,Gt(s,o))return}catch($i){}null!==(e=Ao(e,i,n=To()))&&yr(e,t,i)}}function mr(e){var t=e.alternate;return e===Si||null!==t&&t===Si}function vr(e,t){Ti=Ci=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function gr(e,t,n){null!==eo&&0!==(1&e.mode)&&0===(2&Qa)?(null===(e=t.interleaved)?(n.next=n,null===hn?hn=[t]:hn.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function yr(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,Ot(e,n)}}var br={readContext:dn,useCallback:ki,useContext:ki,useEffect:ki,useImperativeHandle:ki,useInsertionEffect:ki,useLayoutEffect:ki,useMemo:ki,useReducer:ki,useRef:ki,useState:ki,useDebugValue:ki,useDeferredValue:ki,useTransition:ki,useMutableSource:ki,useSyncExternalStore:ki,useId:ki,unstable_isNewReconciler:!1},xr={readContext:dn,useCallback:function(e,t){return Ii().memoizedState=[e,void 0===t?null:t],e},useContext:dn,useEffect:nr,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,er(4194308,4,or.bind(null,t,e),n)},useLayoutEffect:function(e,t){return er(4194308,4,e,t)},useInsertionEffect:function(e,t){return er(4,2,e,t)},useMemo:function(e,t){var n=Ii();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Ii();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=pr.bind(null,Si,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Ii().memoizedState=e},useState:Ki,useDebugValue:lr,useDeferredValue:function(e){var t=Ki(e),n=t[0],i=t[1];return nr((function(){var t=_i.transition;_i.transition={};try{i(e)}finally{_i.transition=t}}),[e]),n},useTransition:function(){var e=Ki(!1),t=e[0];return e=dr.bind(null,e[1]),Ii().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=Si,r=Ii();if(Wn){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===eo)throw Error(o(349));0!==(30&wi)||qi(i,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,nr(Xi.bind(null,i,a,e),[e]),i.flags|=2048,Ji(9,Yi.bind(null,i,a,n,t),void 0,null),n},useId:function(){var e=Ii(),t=eo.identifierPrefix;if(Wn){var n=Dn;t=":"+t+"R"+(n=(In&~(1<<32-xt(In)-1)).toString(32)+n),0<(n=Ni++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Ai++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_r={readContext:dn,useCallback:cr,useContext:dn,useEffect:ir,useImperativeHandle:sr,useInsertionEffect:rr,useLayoutEffect:ar,useMemo:ur,useReducer:Hi,useRef:Qi,useState:function(){return Hi(Ui)},useDebugValue:lr,useDeferredValue:function(e){var t=Hi(Ui),n=t[0],i=t[1];return ir((function(){var t=_i.transition;_i.transition={};try{i(e)}finally{_i.transition=t}}),[e]),n},useTransition:function(){return[Hi(Ui)[0],Di().memoizedState]},useMutableSource:Wi,useSyncExternalStore:Gi,useId:hr,unstable_isNewReconciler:!1},wr={readContext:dn,useCallback:cr,useContext:dn,useEffect:ir,useImperativeHandle:sr,useInsertionEffect:rr,useLayoutEffect:ar,useMemo:ur,useReducer:Vi,useRef:Qi,useState:function(){return Vi(Ui)},useDebugValue:lr,useDeferredValue:function(e){var t=Vi(Ui),n=t[0],i=t[1];return ir((function(){var t=_i.transition;_i.transition={};try{i(e)}finally{_i.transition=t}}),[e]),n},useTransition:function(){return[Vi(Ui)[0],Di().memoizedState]},useMutableSource:Wi,useSyncExternalStore:Gi,useId:hr,unstable_isNewReconciler:!1};function Sr(e,t){try{var n="",i=t;do{n+=Qt(i),i=i.return}while(i);var r=n}catch(a){r="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:r}}function Mr(e,t){try{console.error(t.value)}catch(Ri){setTimeout((function(){throw Ri}))}}var Er,Cr,Tr,Nr,Ar="function"===typeof WeakMap?WeakMap:Map;function kr(e,t,n){(n=vn(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){go||(go=!0,yo=i),Mr(0,t)},n}function Or(e,t,n){(n=vn(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){Mr(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){Mr(0,t),"function"!==typeof i&&(null===bo?bo=new Set([this]):bo.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Pr(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new Ar;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=$o.bind(null,e,t,n),t.then(e,e))}function Rr(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function jr(e,t,n,i,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=vn(-1,1)).tag=2,gn(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}function Lr(e){e.flags|=4}function Ir(e,t){if(null!==e&&e.child===t.child)return!0;if(0!==(16&t.flags))return!1;for(e=t.child;null!==e;){if(0!==(12854&e.flags)||0!==(12854&e.subtreeFlags))return!1;e=e.sibling}return!0}if(X)Er=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)U(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Cr=function(){},Tr=function(e,t,n,i,r){if((e=e.memoizedProps)!==i){var a=t.stateNode,o=di(li.current);n=B(a,n,e,i,r,o),(t.updateQueue=n)&&Lr(t)}},Nr=function(e,t,n,i){n!==i&&Lr(t)};else if(Z){Er=function(e,t,n,i){for(var r=t.child;null!==r;){if(5===r.tag){var a=r.stateNode;n&&i&&(a=Oe(a,r.type,r.memoizedProps,r)),U(e,a)}else if(6===r.tag)a=r.stateNode,n&&i&&(a=Pe(a,r.memoizedProps,r)),U(e,a);else if(4!==r.tag)if(22===r.tag&&null!==r.memoizedState)null!==(a=r.child)&&(a.return=r),Er(e,r,!0,!0);else if(null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};var Dr=function(e,t,n,i){for(var r=t.child;null!==r;){if(5===r.tag){var a=r.stateNode;n&&i&&(a=Oe(a,r.type,r.memoizedProps,r)),Ne(e,a)}else if(6===r.tag)a=r.stateNode,n&&i&&(a=Pe(a,r.memoizedProps,r)),Ne(e,a);else if(4!==r.tag)if(22===r.tag&&null!==r.memoizedState)null!==(a=r.child)&&(a.return=r),Dr(e,r,!0,!0);else if(null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Cr=function(e,t){var n=t.stateNode;if(!Ir(e,t)){e=n.containerInfo;var i=Te(e);Dr(i,t,!1,!1),n.pendingChildren=i,Lr(t),Ae(e,i)}},Tr=function(e,t,n,i,r){var a=e.stateNode,o=e.memoizedProps;if((e=Ir(e,t))&&o===i)t.stateNode=a;else{var s=t.stateNode,l=di(li.current),c=null;o!==i&&(c=B(s,n,o,i,r,l)),e&&null===c?t.stateNode=a:(a=Ce(a,c,n,o,i,t,e,s),z(a,n,i,r,l)&&Lr(t),t.stateNode=a,e?Lr(t):Er(a,t,!1,!1))}},Nr=function(e,t,n,i){n!==i?(e=di(ui.current),n=di(li.current),t.stateNode=V(i,e,n,t),Lr(t)):t.stateNode=e.stateNode}}else Cr=function(){},Tr=function(){},Nr=function(){};function Fr(e,t){if(!Wn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ur(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function zr(e,t,n){var i=t.pendingProps;switch(Bn(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ur(t),null;case 1:case 17:return ft(t.type)&&mt(),Ur(t),null;case 3:return i=t.stateNode,pi(),st(dt),st(ut),bi(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||($n(t)?Lr(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==qn&&(jo(qn),qn=null))),Cr(e,t),Ur(t),null;case 5:mi(t),n=di(ui.current);var r=t.type;if(null!==e&&null!=t.stateNode)Tr(e,t,r,i,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(o(166));return Ur(t),null}if(e=di(li.current),$n(t)){if(!K)throw Error(o(175));e=Ve(t.stateNode,t.type,t.memoizedProps,n,e,t,!Gn),t.updateQueue=e,null!==e&&Lr(t)}else{var a=F(r,i,n,e,t);Er(a,t,!1,!1),t.stateNode=a,z(a,r,i,n,e)&&Lr(t)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ur(t),null;case 6:if(e&&null!=t.stateNode)Nr(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(o(166));if(e=di(ui.current),n=di(li.current),$n(t)){if(!K)throw Error(o(176));if(e=t.stateNode,i=t.memoizedProps,(n=We(e,i,t,!Gn))&&null!==(r=Hn))switch(a=0!==(1&r.mode),r.tag){case 3:$e(r.stateNode.containerInfo,e,i,a);break;case 5:Qe(r.type,r.memoizedProps,r.stateNode,e,i,a)}n&&Lr(t)}else t.stateNode=V(i,e,n,t)}return Ur(t),null;case 13:if(st(vi),i=t.memoizedState,Wn&&null!==Vn&&0!==(1&t.mode)&&0===(128&t.flags)){for(e=Vn;e;)e=Ue(e);return Qn(),t.flags|=98560,t}if(null!==i&&null!==i.dehydrated){if(i=$n(t),null===e){if(!i)throw Error(o(318));if(!K)throw Error(o(344));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(o(317));Ge(e,t)}else Qn(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return Ur(t),null}return null!==qn&&(jo(qn),qn=null),0!==(128&t.flags)?(t.lanes=n,t):(i=null!==i,n=!1,null===e?$n(t):n=null!==e.memoizedState,i&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&vi.current)?0===ao&&(ao=3):Ho())),null!==t.updateQueue&&(t.flags|=4),Ur(t),null);case 4:return pi(),Cr(e,t),null===e&&$(t.stateNode.containerInfo),Ur(t),null;case 10:return ln(t.type._context),Ur(t),null;case 19:if(st(vi),null===(r=t.memoizedState))return Ur(t),null;if(i=0!==(128&t.flags),null===(a=r.rendering))if(i)Fr(r,!1);else{if(0!==ao||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=gi(e))){for(t.flags|=128,Fr(r,!1),null!==(e=a.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,i=t.child;null!==i;)r=e,(n=i).flags&=14680066,null===(a=n.alternate)?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=null===r?null:{lanes:r.lanes,firstContext:r.firstContext}),i=i.sibling;return lt(vi,1&vi.current|2),t.child}e=e.sibling}null!==r.tail&&Ft()>fo&&(t.flags|=128,i=!0,Fr(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=gi(a))){if(t.flags|=128,i=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),Fr(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!Wn)return Ur(t),null}else 2*Ft()-r.renderingStartTime>fo&&1073741824!==n&&(t.flags|=128,i=!0,Fr(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=r.last)?e.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Ft(),t.sibling=null,e=vi.current,lt(vi,i?1&e|2:1&e),t):(Ur(t),null);case 22:case 23:return Fo(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&io)&&(Ur(t),X&&6&t.subtreeFlags&&(t.flags|=8192)):Ur(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}var Br=s.ReactCurrentOwner,Hr=!1;function Vr(e,t,n,i){t.child=null===e?oi(t,null,n,i):ai(t,e.child,n,i)}function Wr(e,t,n,i,r){n=n.render;var a=t.ref;return un(t,r),i=Pi(e,t,n,i,a,r),n=Li(),null===e||Hr?(Wn&&n&&zn(t),t.flags|=1,Vr(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,ua(e,t,r))}function Gr(e,t,n,i,r){if(null===e){var a=n.type;return"function"!==typeof a||as(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ss(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,qr(e,t,a,i,r))}if(a=e.child,0===(e.lanes&r)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:$t)(o,i)&&e.ref===t.ref)return ua(e,t,r)}return t.flags|=1,(e=os(a,i)).ref=t.ref,e.return=t,t.child=e}function qr(e,t,n,i,r){if(null!==e&&$t(e.memoizedProps,i)&&e.ref===t.ref){if(Hr=!1,0===(e.lanes&r))return t.lanes=e.lanes,ua(e,t,r);0!==(131072&e.flags)&&(Hr=!0)}return Zr(e,t,n,i,r)}function Yr(e,t,n){var i=t.pendingProps,r=i.children,a=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},lt(ro,io),io|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,lt(ro,io),io|=e,null;t.memoizedState={baseLanes:0,cachePool:null},i=null!==a?a.baseLanes:n,lt(ro,io),io|=i}else null!==a?(i=a.baseLanes|n,t.memoizedState=null):i=n,lt(ro,io),io|=i;return Vr(e,t,r,n),t.child}function Xr(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Zr(e,t,n,i,r){var a=ft(n)?ht:ut.current;return a=pt(t,a),un(t,r),n=Pi(e,t,n,i,a,r),i=Li(),null===e||Hr?(Wn&&i&&zn(t),t.flags|=1,Vr(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,ua(e,t,r))}function Kr(e,t,n,i,r){if(ft(n)){var a=!0;yt(t)}else a=!1;if(un(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Cn(t,n,i),Nn(t,n,i,r),i=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=dn(c):c=pt(t,c=ft(n)?ht:ut.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==i||l!==c)&&Tn(t,o,i,c),pn=!1;var h=t.memoizedState;o.state=h,xn(t,i,o,r),l=t.memoizedState,s!==i||h!==l||dt.current||pn?("function"===typeof u&&(Sn(t,n,u,i),l=t.memoizedState),(s=pn||En(t,n,s,i,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),o.props=i,o.state=l,o.context=c,i=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,mn(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:en(t.type,s),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=dn(l):l=pt(t,l=ft(n)?ht:ut.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&Tn(t,o,i,l),pn=!1,h=t.memoizedState,o.state=h,xn(t,i,o,r);var f=t.memoizedState;s!==d||h!==f||dt.current||pn?("function"===typeof p&&(Sn(t,n,p,i),f=t.memoizedState),(c=pn||En(t,n,c,i,h,f,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(i,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=f),o.props=i,o.state=f,o.context=l,i=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return Jr(e,t,n,i,a,r)}function Jr(e,t,n,i,r,a){Xr(e,t);var o=0!==(128&t.flags);if(!i&&!o)return r&&bt(t,n,!1),ua(e,t,a);i=t.stateNode,Br.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&o?(t.child=ai(t,e.child,null,a),t.child=ai(t,null,s,a)):Vr(e,t,s,a),t.memoizedState=i.state,r&&bt(t,n,!0),t.child}function $r(e){var t=e.stateNode;t.pendingContext?vt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vt(0,t.context,!1),hi(e,t.containerInfo)}function Qr(e,t,n,i,r){return Qn(),ei(r),t.flags|=256,Vr(e,t,n,i),t.child}var ea={dehydrated:null,treeContext:null,retryLane:0};function ta(e){return{baseLanes:e,cachePool:null}}function na(e,t,n){var i,r=t.pendingProps,a=vi.current,s=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&a)),i?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),lt(vi,1&a),null===e)return Kn(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:De(e)?t.lanes=8:t.lanes=1073741824,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},0===(1&r)&&null!==s?(s.childLanes=0,s.pendingProps=a):s=cs(a,r,0,null),e=ls(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=ta(n),t.memoizedState=ea,e):ia(t,a));if(null!==(a=e.memoizedState)){if(null!==(i=a.dehydrated)){if(l)return 256&t.flags?(t.flags&=-257,oa(e,t,n,Error(o(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,a=t.mode,r=cs({mode:"visible",children:r.children},a,0,null),(s=ls(s,a,n,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&ai(t,e.child,null,n),t.child.memoizedState=ta(n),t.memoizedState=ea,s);if(0===(1&t.mode))t=oa(e,t,n,null);else if(De(i))t=oa(e,t,n,Error(o(419)));else if(r=0!==(n&e.childLanes),Hr||r){if(null!==(r=eo)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(r=0!==(s&(r.suspendedLanes|n))?0:s)&&r!==a.retryLane&&(a.retryLane=r,Ao(e,r,-1))}Ho(),t=oa(e,t,n,Error(o(421)))}else Ie(i)?(t.flags|=128,t.child=e.child,t=es.bind(null,e),Fe(i,t),t=null):(n=a.treeContext,K&&(Vn=He(i),Hn=t,Wn=!0,qn=null,Gn=!1,null!==n&&(Rn[jn++]=In,Rn[jn++]=Dn,Rn[jn++]=Ln,In=n.id,Dn=n.overflow,Ln=t)),(t=ia(t,t.pendingProps.children)).flags|=4096);return t}return s?(r=aa(e,t,r.children,r.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?ta(n):{baseLanes:a.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=ea,r):(n=ra(e,t,r.children,n),t.memoizedState=null,n)}return s?(r=aa(e,t,r.children,r.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?ta(n):{baseLanes:a.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=ea,r):(n=ra(e,t,r.children,n),t.memoizedState=null,n)}function ia(e,t){return(t=cs({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ra(e,t,n,i){var r=e.child;return e=r.sibling,n=os(r,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=i),n.return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n}function aa(e,t,n,i,r){var a=t.mode,o=(e=e.child).sibling,s={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=os(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==o?i=os(o,i):(i=ls(i,a,r,null)).flags|=2,i.return=t,n.return=t,n.sibling=i,t.child=n,i}function oa(e,t,n,i){return null!==i&&ei(i),ai(t,e.child,null,n),(e=ia(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function sa(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),cn(e.return,t,n)}function la(e,t,n,i,r){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r)}function ca(e,t,n){var i=t.pendingProps,r=i.revealOrder,a=i.tail;if(Vr(e,t,i.children,n),0!==(2&(i=vi.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&sa(e,n,t);else if(19===e.tag)sa(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(lt(vi,i),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===gi(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),la(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===gi(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}la(t,!0,n,null,a);break;case"together":la(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ua(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),so|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=os(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=os(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function da(e,t){switch(Bn(t),t.tag){case 1:return ft(t.type)&&mt(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return pi(),st(dt),st(ut),bi(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return mi(t),null;case 13:if(st(vi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));Qn()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return st(vi),null;case 4:return pi(),null;case 10:return ln(t.type._context),null;case 22:case 23:return Fo(),null;default:return null}}var ha=!1,pa=!1,fa="function"===typeof WeakSet?WeakSet:Set,ma=null;function va(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(ji){Jo(e,t,ji)}else n.current=null}function ga(e,t,n){try{n()}catch(ji){Jo(e,t,ji)}}var ya=!1;function ba(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var a=r.destroy;r.destroy=void 0,void 0!==a&&ga(t,n,a)}r=r.next}while(r!==i)}}function xa(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function _a(e){var t=e.ref;if(null!==t){var n=e.stateNode;if(5===e.tag)e=R(n);else e=n;"function"===typeof t?t(e):t.current=e}}function wa(e,t,n){if(Wt&&"function"===typeof Wt.onCommitFiberUnmount)try{Wt.onCommitFiberUnmount(Vt,t)}catch(Fi){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var i=e=e.next;do{var r=i,a=r.destroy;r=r.tag,void 0!==a&&(0!==(2&r)||0!==(4&r))&&ga(t,n,a),i=i.next}while(i!==e)}break;case 1:if(va(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(Fi){Jo(t,n,Fi)}break;case 5:va(t,n);break;case 4:X?ka(e,t,n):Z&&Z&&(t=t.stateNode.containerInfo,n=Te(t),ke(t,n))}}function Sa(e,t,n){for(var i=t;;)if(wa(e,i,n),null===i.child||X&&4===i.tag){if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}else i.child.return=i,i=i.child}function Ma(e){var t=e.alternate;null!==t&&(e.alternate=null,Ma(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ee(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ea(e){return 5===e.tag||3===e.tag||4===e.tag}function Ca(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Ea(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ta(e){if(X){e:{for(var t=e.return;null!==t;){if(Ea(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(xe(t),n.flags&=-33),Aa(e,n=Ca(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,Na(e,n=Ca(e),t);break;default:throw Error(o(161))}}}function Na(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?ge(n,e,t):he(n,e);else if(4!==i&&null!==(e=e.child))for(Na(e,t,n),e=e.sibling;null!==e;)Na(e,t,n),e=e.sibling}function Aa(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?ve(n,e,t):de(n,e);else if(4!==i&&null!==(e=e.child))for(Aa(e,t,n),e=e.sibling;null!==e;)Aa(e,t,n),e=e.sibling}function ka(e,t,n){for(var i,r,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(i=s.stateNode,s.tag){case 5:r=!1;break e;case 3:case 4:i=i.containerInfo,r=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag)Sa(e,a,n),r?be(i,a.stateNode):ye(i,a.stateNode);else if(18===a.tag)r?Ke(i,a.stateNode):Ze(i,a.stateNode);else if(4===a.tag){if(null!==a.child){i=a.stateNode.containerInfo,r=!0,a.child.return=a,a=a.child;continue}}else if(wa(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function Oa(e,t){if(X){switch(t.tag){case 0:case 11:case 14:case 15:return ba(3,t,t.return),xa(3,t),void ba(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps;e=null!==e?e.memoizedProps:i;var r=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&me(n,a,r,e,i,t)}return;case 6:if(null===t.stateNode)throw Error(o(162));return n=t.memoizedProps,void pe(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void(K&&null!==e&&e.memoizedState.isDehydrated&&Ye(t.stateNode.containerInfo));case 13:case 19:return void Pa(t)}throw Error(o(163))}switch(t.tag){case 0:case 11:case 14:case 15:return ba(3,t,t.return),xa(3,t),void ba(5,t,t.return);case 12:case 22:case 23:return;case 13:case 19:return void Pa(t);case 3:K&&null!==e&&e.memoizedState.isDehydrated&&Ye(t.stateNode.containerInfo)}e:if(Z){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:t=t.stateNode,ke(t.containerInfo,t.pendingChildren);break e}throw Error(o(163))}}function Pa(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new fa),t.forEach((function(t){var i=ts.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function Ra(e,t,n){ma=e,ja(e)}function ja(e,t,n){for(var i=0!==(1&e.mode);null!==ma;){var r=ma,a=r.child;if(22===r.tag&&i){var o=null!==r.memoizedState||ha;if(!o){var s=r.alternate,l=null!==s&&null!==s.memoizedState||pa;s=ha;var c=pa;if(ha=o,(pa=l)&&!c)for(ma=r;null!==ma;)l=(o=ma).child,22===o.tag&&null!==o.memoizedState?Da(r):null!==l?(l.return=o,ma=l):Da(r);for(;null!==a;)ma=a,ja(a),a=a.sibling;ma=r,ha=s,pa=c}La(e)}else 0!==(8772&r.subtreeFlags)&&null!==a?(a.return=r,ma=a):La(e)}}function La(e){for(;null!==ma;){var t=ma;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:pa||xa(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!pa)if(null===n)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:en(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&_n(t,a,i);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=R(t.child.stateNode);break;case 1:n=t.child.stateNode}_n(t,s,n)}break;case 5:var l=t.stateNode;null===n&&4&t.flags&&fe(l,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(K&&null===t.memoizedState){var c=t.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var d=u.dehydrated;null!==d&&Xe(d)}}}break;default:throw Error(o(163))}pa||512&t.flags&&_a(t)}catch(zi){Jo(t,t.return,zi)}}if(t===e){ma=null;break}if(null!==(n=t.sibling)){n.return=t.return,ma=n;break}ma=t.return}}function Ia(e){for(;null!==ma;){var t=ma;if(t===e){ma=null;break}var n=t.sibling;if(null!==n){n.return=t.return,ma=n;break}ma=t.return}}function Da(e){for(;null!==ma;){var t=ma;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{xa(4,t)}catch($i){Jo(t,n,$i)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch($i){Jo(t,r,$i)}}var a=t.return;try{_a(t)}catch($i){Jo(t,a,$i)}break;case 5:var o=t.return;try{_a(t)}catch($i){Jo(t,o,$i)}}}catch($i){Jo(t,t.return,$i)}if(t===e){ma=null;break}var s=t.sibling;if(null!==s){s.return=t.return,ma=s;break}ma=t.return}}var Fa=0,Ua=1,za=2,Ba=3,Ha=4;if("function"===typeof Symbol&&Symbol.for){var Va=Symbol.for;Fa=Va("selector.component"),Ua=Va("selector.has_pseudo_class"),za=Va("selector.role"),Ba=Va("selector.test_id"),Ha=Va("selector.text")}function Wa(e){var t=J(e);if(null!=t){if("string"!==typeof t.memoizedProps["data-testname"])throw Error(o(364));return t}if(null===(e=re(e)))throw Error(o(362));return e.stateNode.current}function Ga(e,t){switch(t.$$typeof){case Fa:if(e.type===t.value)return!0;break;case Ua:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var i=e[n++],r=e[n++],a=t[r];if(5!==i.tag||!se(i)){for(;null!=a&&Ga(i,a);)a=t[++r];if(r===t.length){t=!0;break e}for(i=i.child;null!==i;)e.push(i,r),i=i.sibling}}t=!1}return t;case za:if(5===e.tag&&le(e.stateNode,t.value))return!0;break;case Ha:if((5===e.tag||6===e.tag)&&(null!==(e=oe(e))&&0<=e.indexOf(t.value)))return!0;break;case Ba:if(5===e.tag&&("string"===typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function qa(e){switch(e.$$typeof){case Fa:return"<"+(S(e.value)||"Unknown")+">";case Ua:return":has("+(qa(e)||"")+")";case za:return'[role="'+e.value+'"]';case Ha:return'"'+e.value+'"';case Ba:return'[data-testname="'+e.value+'"]';default:throw Error(o(365))}}function Ya(e,t){var n=[];e=[e,0];for(var i=0;i<e.length;){var r=e[i++],a=e[i++],o=t[a];if(5!==r.tag||!se(r)){for(;null!=o&&Ga(r,o);)o=t[++a];if(a===t.length)n.push(r);else for(r=r.child;null!==r;)e.push(r,a),r=r.sibling}}return n}function Xa(e,t){if(!ie)throw Error(o(363));e=Ya(e=Wa(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var i=e[n++];if(5===i.tag)se(i)||t.push(i.stateNode);else for(i=i.child;null!==i;)e.push(i),i=i.sibling}return t}var Za=Math.ceil,Ka=s.ReactCurrentDispatcher,Ja=s.ReactCurrentOwner,$a=s.ReactCurrentBatchConfig,Qa=0,eo=null,to=null,no=0,io=0,ro=ot(0),ao=0,oo=null,so=0,lo=0,co=0,uo=null,ho=null,po=0,fo=1/0;function mo(){fo=Ft()+500}var vo,go=!1,yo=null,bo=null,xo=!1,_o=null,wo=0,So=0,Mo=null,Eo=-1,Co=0;function To(){return 0!==(6&Qa)?Ft():-1!==Eo?Eo:Eo=Ft()}function No(e){return 0===(1&e.mode)?1:0!==(2&Qa)&&0!==no?no&-no:null!==Jt.transition?(0===Co&&(e=St,0===(4194240&(St<<=1))&&(St=64),Co=e),Co):0!==(e=Pt)?e:Q()}function Ao(e,t,n){if(50<So)throw So=0,Mo=null,Error(o(185));var i=ko(e,t);return null===i?null:(kt(i,t,n),0!==(2&Qa)&&i===eo||(i===eo&&(0===(2&Qa)&&(lo|=t),4===ao&&Lo(i,no)),Oo(i,n),1===t&&0===Qa&&0===(1&e.mode)&&(mo(),Yt&&Kt())),i)}function ko(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Oo(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-xt(a),s=1<<o,l=r[o];-1===l?0!==(s&n)&&0===(s&i)||(r[o]=Tt(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var i=Ct(e,e===eo?no:0);if(0===i)null!==n&&Lt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&Lt(n),1===t)0===e.tag?function(e){Yt=!0,Zt(e)}(Io.bind(null,e)):Zt(Io.bind(null,e)),te?ne((function(){0===Qa&&Kt()})):jt(Ut,Kt),n=null;else{switch(Rt(i)){case 1:n=Ut;break;case 4:n=zt;break;case 16:default:n=Bt;break;case 536870912:n=Ht}n=ns(n,Po.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Po(e,t){if(Eo=-1,Co=0,0!==(6&Qa))throw Error(o(327));var n=e.callbackNode;if(Zo()&&e.callbackNode!==n)return null;var i=Ct(e,e===eo?no:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=Vo(e,i);else{t=i;var r=Qa;Qa|=2;var a=Bo();for(eo===e&&no===t||(mo(),Uo(e,t));;)try{Go();break}catch(Bi){zo(e,Bi)}on(),Ka.current=a,Qa=r,null!==to?t=0:(eo=null,no=0,t=ao)}if(0!==t){if(2===t&&(0!==(r=Nt(e))&&(i=r,t=Ro(e,r))),1===t)throw n=oo,Uo(e,0),Lo(e,i),Oo(e,Ft()),n;if(6===t)Lo(e,i);else{if(r=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!Gt(a(),r))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=Vo(e,i))&&(0!==(a=Nt(e))&&(i=a,t=Ro(e,a))),1===t))throw n=oo,Uo(e,0),Lo(e,i),Oo(e,Ft()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(o(345));case 2:case 5:Xo(e,ho);break;case 3:if(Lo(e,i),(130023424&i)===i&&10<(t=po+500-Ft())){if(0!==Ct(e,0))break;if(((r=e.suspendedLanes)&i)!==i){To(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=W(Xo.bind(null,e,ho),t);break}Xo(e,ho);break;case 4:if(Lo(e,i),(4194240&i)===i)break;for(t=e.eventTimes,r=-1;0<i;){var s=31-xt(i);a=1<<s,(s=t[s])>r&&(r=s),i&=~a}if(i=r,10<(i=(120>(i=Ft()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Za(i/1960))-i)){e.timeoutHandle=W(Xo.bind(null,e,ho),i);break}Xo(e,ho);break;default:throw Error(o(329))}}}return Oo(e,Ft()),e.callbackNode===n?Po.bind(null,e):null}function Ro(e,t){var n=uo;return e.current.memoizedState.isDehydrated&&(Uo(e,t).flags|=256),2!==(e=Vo(e,t))&&(t=ho,ho=n,null!==t&&jo(t)),e}function jo(e){null===ho?ho=e:ho.push.apply(ho,e)}function Lo(e,t){for(t&=~co,t&=~lo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xt(t),i=1<<n;e[n]=-1,t&=~i}}function Io(e){if(0!==(6&Qa))throw Error(o(327));Zo();var t=Ct(e,0);if(0===(1&t))return Oo(e,Ft()),null;var n=Vo(e,t);if(0!==e.tag&&2===n){var i=Nt(e);0!==i&&(t=i,n=Ro(e,i))}if(1===n)throw n=oo,Uo(e,0),Lo(e,t),Oo(e,Ft()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xo(e,ho),Oo(e,Ft()),null}function Do(e){null!==_o&&0===_o.tag&&0===(6&Qa)&&Zo();var t=Qa;Qa|=1;var n=$a.transition,i=Pt;try{if($a.transition=null,Pt=1,e)return e()}finally{Pt=i,$a.transition=n,0===(6&(Qa=t))&&Kt()}}function Fo(){io=ro.current,st(ro)}function Uo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==q&&(e.timeoutHandle=q,G(n)),null!==to)for(n=to.return;null!==n;){var i=n;switch(Bn(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&mt();break;case 3:pi(),st(dt),st(ut),bi();break;case 5:mi(i);break;case 4:pi();break;case 13:case 19:st(vi);break;case 10:ln(i.type._context);break;case 22:case 23:Fo()}n=n.return}if(eo=e,to=e=os(e.current,null),no=io=t,ao=0,oo=null,co=lo=so=0,ho=uo=null,null!==hn){for(t=0;t<hn.length;t++)if(null!==(i=(n=hn[t]).interleaved)){n.interleaved=null;var r=i.next,a=n.pending;if(null!==a){var o=a.next;a.next=r,i.next=o}n.pending=i}hn=null}return e}function zo(e,t){for(;;){var n=to;try{if(on(),xi.current=br,Ci){for(var i=Si.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}Ci=!1}if(wi=0,Ei=Mi=Si=null,Ti=!1,Ni=0,Ja.current=null,null===n||null===n.return){ao=1,oo=t,to=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=no,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=Rr(s);if(null!==f){f.flags&=-257,jr(f,s,l,0,t),1&f.mode&&Pr(a,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var v=new Set;v.add(c),t.updateQueue=v}else m.add(c);break e}if(0===(1&t)){Pr(a,u,t),Ho();break e}c=Error(o(426))}else if(Wn&&1&l.mode){var g=Rr(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),jr(g,s,l,0,t),ei(c);break e}}a=c,4!==ao&&(ao=2),null===uo?uo=[a]:uo.push(a),c=Sr(c,l),l=s;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,bn(l,kr(0,c,t));break e;case 1:a=c;var y=l.type,b=l.stateNode;if(0===(128&l.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===bo||!bo.has(b)))){l.flags|=65536,t&=-t,l.lanes|=t,bn(l,Or(l,a,t));break e}}l=l.return}while(null!==l)}Yo(n)}catch(x){t=x,to===n&&null!==n&&(to=n=n.return);continue}break}}function Bo(){var e=Ka.current;return Ka.current=br,null===e?br:e}function Ho(){0!==ao&&3!==ao&&2!==ao||(ao=4),null===eo||0===(268435455&so)&&0===(268435455&lo)||Lo(eo,no)}function Vo(e,t){var n=Qa;Qa|=2;var i=Bo();for(eo===e&&no===t||Uo(e,t);;)try{Wo();break}catch(fU){zo(e,fU)}if(on(),Qa=n,Ka.current=i,null!==to)throw Error(o(261));return eo=null,no=0,ao}function Wo(){for(;null!==to;)qo(to)}function Go(){for(;null!==to&&!It();)qo(to)}function qo(e){var t=vo(e.alternate,e,io);e.memoizedProps=e.pendingProps,null===t?Yo(e):to=t,Ja.current=null}function Yo(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=zr(n,t,io)))return void(to=n)}else{if(null!==(n=da(n,t)))return n.flags&=32767,void(to=n);if(null===e)return ao=6,void(to=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(to=t);to=t=e}while(null!==t);0===ao&&(ao=5)}function Xo(e,t){var n=Pt,i=$a.transition;try{$a.transition=null,Pt=1,function(e,t,n){do{Zo()}while(null!==_o);if(0!==(6&Qa))throw Error(o(327));var i=e.finishedWork,r=e.finishedLanes;if(null===i)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=i.lanes|i.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-xt(n),a=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~a}}(e,a),e===eo&&(to=eo=null,no=0),0===(2064&i.subtreeFlags)&&0===(2064&i.flags)||xo||(xo=!0,ns(Bt,(function(){return Zo(),null}))),a=0!==(15990&i.flags),0!==(15990&i.subtreeFlags)||a){a=$a.transition,$a.transition=null;var s=Pt;Pt=1;var l=Qa;Qa|=4,Ja.current=null,function(e,t){for(I(e.containerInfo),ma=t;null!==ma;)if(t=(e=ma).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,ma=t;else for(;null!==ma;){e=ma;try{var n=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==n){var i=n.memoizedProps,r=n.memoizedState,a=e.stateNode,s=a.getSnapshotBeforeUpdate(e.elementType===e.type?i:en(e.type,i),r);a.__reactInternalSnapshotBeforeUpdate=s}break;case 3:X&&Ee(e.stateNode.containerInfo);break;default:throw Error(o(163))}}catch(l){Jo(e,e.return,l)}if(null!==(t=e.sibling)){t.return=e.return,ma=t;break}ma=e.return}n=ya,ya=!1}(e,i),function(e,t){for(ma=t;null!==ma;){var n=(t=ma).deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var a=e;X?ka(a,r,t):Sa(a,r,t);var o=r.alternate;null!==o&&(o.return=null),r.return=null}catch(_){Jo(r,t,_)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,ma=n;else for(;null!==ma;){t=ma;try{var s=t.flags;if(32&s&&X&&xe(t.stateNode),512&s){var l=t.alternate;if(null!==l){var c=l.ref;null!==c&&("function"===typeof c?c(null):c.current=null)}}if(8192&s)switch(t.tag){case 13:if(null!==t.memoizedState){var u=t.alternate;null!==u&&null!==u.memoizedState||(po=Ft())}break;case 22:var d=null!==t.memoizedState,h=t.alternate,p=null!==h&&null!==h.memoizedState;if(n=t,X)e:if(i=n,r=d,a=null,X)for(var f=i;;){if(5===f.tag){if(null===a){a=f;var m=f.stateNode;r?_e(m):Se(f.stateNode,f.memoizedProps)}}else if(6===f.tag){if(null===a){var v=f.stateNode;r?we(v):Me(v,f.memoizedProps)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===i)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===i)break;for(;null===f.sibling;){if(null===f.return||f.return===i)break e;a===f&&(a=null),f=f.return}a===f&&(a=null),f.sibling.return=f.return,f=f.sibling}if(d&&!p&&0!==(1&n.mode)){ma=n;for(var g=n.child;null!==g;){for(n=ma=g;null!==ma;){var y=(i=ma).child;switch(i.tag){case 0:case 11:case 14:case 15:ba(4,i,i.return);break;case 1:va(i,i.return);var b=i.stateNode;if("function"===typeof b.componentWillUnmount){var x=i.return;try{b.props=i.memoizedProps,b.state=i.memoizedState,b.componentWillUnmount()}catch(_){Jo(i,x,_)}}break;case 5:va(i,i.return);break;case 22:if(null!==i.memoizedState){Ia(n);continue}}null!==y?(y.return=i,ma=y):Ia(n)}g=g.sibling}}}switch(4102&s){case 2:Ta(t),t.flags&=-3;break;case 6:Ta(t),t.flags&=-3,Oa(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,Oa(t.alternate,t);break;case 4:Oa(t.alternate,t)}}catch(_){Jo(t,t.return,_)}if(null!==(n=t.sibling)){n.return=t.return,ma=n;break}ma=t.return}}}(e,i),D(e.containerInfo),e.current=i,Ra(i),Dt(),Qa=l,Pt=s,$a.transition=a}else e.current=i;if(xo&&(xo=!1,_o=e,wo=r),a=e.pendingLanes,0===a&&(bo=null),function(e){if(Wt&&"function"===typeof Wt.onCommitFiberRoot)try{Wt.onCommitFiberRoot(Vt,e,void 0,128===(128&e.current.flags))}catch(t){}}(i.stateNode),Oo(e,Ft()),null!==t)for(n=e.onRecoverableError,i=0;i<t.length;i++)n(t[i]);if(go)throw go=!1,e=yo,yo=null,e;0!==(1&wo)&&0!==e.tag&&Zo(),a=e.pendingLanes,0!==(1&a)?e===Mo?So++:(So=0,Mo=e):So=0,Kt()}(e,t,n)}finally{$a.transition=i,Pt=n}return null}function Zo(){if(null!==_o){var e=Rt(wo),t=$a.transition,n=Pt;try{if($a.transition=null,Pt=16>e?16:e,null===_o)var i=!1;else{if(e=_o,_o=null,wo=0,0!==(6&Qa))throw Error(o(331));var r=Qa;for(Qa|=4,ma=e.current;null!==ma;){var a=ma,s=a.child;if(0!==(16&ma.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(ma=u;null!==ma;){var d=ma;switch(d.tag){case 0:case 11:case 15:ba(8,d,a)}var h=d.child;if(null!==h)h.return=d,ma=h;else for(;null!==ma;){var p=(d=ma).sibling,f=d.return;if(Ma(d),d===u){ma=null;break}if(null!==p){p.return=f,ma=p;break}ma=f}}}var m=a.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}ma=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,ma=s;else e:for(;null!==ma;){if(0!==(2048&(a=ma).flags))switch(a.tag){case 0:case 11:case 15:ba(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,ma=y;break e}ma=a.return}}var b=e.current;for(ma=b;null!==ma;){var x=(s=ma).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,ma=x;else e:for(s=b;null!==ma;){if(0!==(2048&(l=ma).flags))try{switch(l.tag){case 0:case 11:case 15:xa(9,l)}}catch(w){Jo(l,l.return,w)}if(l===s){ma=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,ma=_;break e}ma=l.return}}if(Qa=r,Kt(),Wt&&"function"===typeof Wt.onPostCommitFiberRoot)try{Wt.onPostCommitFiberRoot(Vt,e)}catch(w){}i=!0}return i}finally{Pt=n,$a.transition=t}}return!1}function Ko(e,t,n){gn(e,t=kr(0,t=Sr(n,t),1)),t=To(),null!==(e=ko(e,1))&&(kt(e,1,t),Oo(e,t))}function Jo(e,t,n){if(3===e.tag)Ko(e,e,n);else for(;null!==t;){if(3===t.tag){Ko(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===bo||!bo.has(i))){gn(t,e=Or(t,e=Sr(n,e),1)),e=To(),null!==(t=ko(t,1))&&(kt(t,1,e),Oo(t,e));break}}t=t.return}}function $o(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=To(),e.pingedLanes|=e.suspendedLanes&n,eo===e&&(no&n)===n&&(4===ao||3===ao&&(130023424&no)===no&&500>Ft()-po?Uo(e,0):co|=n),Oo(e,t)}function Qo(e,t){0===t&&(0===(1&e.mode)?t=1:(t=Mt,0===(130023424&(Mt<<=1))&&(Mt=4194304)));var n=To();null!==(e=ko(e,t))&&(kt(e,t,n),Oo(e,n))}function es(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Qo(e,n)}function ts(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(o(314))}null!==i&&i.delete(t),Qo(e,n)}function ns(e,t){return jt(e,t)}function is(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rs(e,t,n,i){return new is(e,t,n,i)}function as(e){return!(!(e=e.prototype)||!e.isReactComponent)}function os(e,t){var n=e.alternate;return null===n?((n=rs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ss(e,t,n,i,r,a){var s=2;if(i=e,"function"===typeof e)as(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case u:return ls(n.children,r,a,t);case d:s=8,r|=8;break;case h:return(e=rs(12,n,t,2|r)).elementType=h,e.lanes=a,e;case v:return(e=rs(13,n,t,r)).elementType=v,e.lanes=a,e;case g:return(e=rs(19,n,t,r)).elementType=g,e.lanes=a,e;case x:return cs(n,r,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case p:s=10;break e;case f:s=9;break e;case m:s=11;break e;case y:s=14;break e;case b:s=16,i=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=rs(s,n,t,r)).elementType=e,t.type=i,t.lanes=a,t}function ls(e,t,n,i){return(e=rs(7,e,i,t)).lanes=n,e}function cs(e,t,n,i){return(e=rs(22,e,i,t)).elementType=x,e.lanes=n,e.stateNode={},e}function us(e,t,n){return(e=rs(6,e,null,t)).lanes=n,e}function ds(e,t,n){return(t=rs(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hs(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=q,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=At(0),this.expirationTimes=At(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=At(0),this.identifierPrefix=i,this.onRecoverableError=r,K&&(this.mutableSourceEagerHydrationData=null)}function ps(e,t,n,i,r,a,o,s,l){return e=new hs(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=rs(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null},fn(a),e}function fs(e){if(!e)return ct;e:{if(E(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(ft(n))return gt(e,n,t)}return t}function ms(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return null===(e=N(t))?null:e.stateNode}function vs(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function gs(e,t){vs(e,t),(e=e.alternate)&&vs(e,t)}function ys(e){return null===(e=N(e))?null:e.stateNode}function bs(){return null}return vo=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||dt.current)Hr=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Hr=!1,function(e,t,n){switch(t.tag){case 3:$r(t),Qn();break;case 5:fi(t);break;case 1:ft(t.type)&&yt(t);break;case 4:hi(t,t.stateNode.containerInfo);break;case 10:sn(0,t.type._context,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(null!==i)return null!==i.dehydrated?(lt(vi,1&vi.current),t.flags|=128,null):0!==(n&t.child.childLanes)?na(e,t,n):(lt(vi,1&vi.current),null!==(e=ua(e,t,n))?e.sibling:null);lt(vi,1&vi.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return ca(e,t,n);t.flags|=128}var r=t.memoizedState;if(null!==r&&(r.rendering=null,r.tail=null,r.lastEffect=null),lt(vi,vi.current),i)break;return null;case 22:case 23:return t.lanes=0,Yr(e,t,n)}return ua(e,t,n)}(e,t,n);Hr=0!==(131072&e.flags)}else Hr=!1,Wn&&0!==(1048576&t.flags)&&Un(t,Pn,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var r=pt(t,ut.current);un(t,n),r=Pi(null,t,i,e,r,n);var a=Li();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ft(i)?(a=!0,yt(t)):a=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,fn(t),r.updater=Mn,t.stateNode=r,r._reactInternals=t,Nn(t,i,e,n),t=Jr(null,t,i,!0,a,n)):(t.tag=0,Wn&&a&&zn(t),Vr(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"===typeof e)return as(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===m)return 11;if(e===y)return 14}return 2}(i),e=en(i,e),r){case 0:t=Zr(null,t,i,e,n);break e;case 1:t=Kr(null,t,i,e,n);break e;case 11:t=Wr(null,t,i,e,n);break e;case 14:t=Gr(null,t,i,en(i.type,e),n);break e}throw Error(o(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,Zr(e,t,i,r=t.elementType===i?r:en(i,r),n);case 1:return i=t.type,r=t.pendingProps,Kr(e,t,i,r=t.elementType===i?r:en(i,r),n);case 3:e:{if($r(t),null===e)throw Error(o(387));i=t.pendingProps,r=(a=t.memoizedState).element,mn(e,t),xn(t,i,null,n);var s=t.memoizedState;if(i=s.element,K&&a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:s.cache,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Qr(e,t,i,n,r=Error(o(423)));break e}if(i!==r){t=Qr(e,t,i,n,r=Error(o(424)));break e}for(K&&(Vn=Be(t.stateNode.containerInfo),Hn=t,Wn=!0,qn=null,Gn=!1),n=oi(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Qn(),i===r){t=ua(e,t,n);break e}Vr(e,t,i,n)}t=t.child}return t;case 5:return fi(t),null===e&&Kn(t),i=t.type,r=t.pendingProps,a=null!==e?e.memoizedProps:null,s=r.children,H(i,r)?s=null:null!==a&&H(i,a)&&(t.flags|=32),Xr(e,t),Vr(e,t,s,n),t.child;case 6:return null===e&&Kn(t),null;case 13:return na(e,t,n);case 4:return hi(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=ai(t,null,i,n):Vr(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,Wr(e,t,i,r=t.elementType===i?r:en(i,r),n);case 7:return Vr(e,t,t.pendingProps,n),t.child;case 8:case 12:return Vr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,a=t.memoizedProps,sn(0,i,s=r.value),null!==a)if(Gt(a.value,s)){if(a.children===r.children&&!dt.current){t=ua(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===a.tag){(c=vn(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),cn(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),cn(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}Vr(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,un(t,n),i=i(r=dn(r)),t.flags|=1,Vr(e,t,i,n),t.child;case 14:return r=en(i=t.type,t.pendingProps),Gr(e,t,i,r=en(i.type,r),n);case 15:return qr(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:en(i,r),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,ft(i)?(e=!0,yt(t)):e=!1,un(t,n),Cn(t,i,r),Nn(t,i,r,n),Jr(null,t,i,!0,e,n);case 19:return ca(e,t,n);case 22:return Yr(e,t,n)}throw Error(o(156,t.tag))},t.attemptContinuousHydration=function(e){13===e.tag&&(Ao(e,134217728,To()),gs(e,134217728))},t.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=To(),n=No(e);Ao(e,n,t),gs(e,n)}},t.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Et(t.pendingLanes);0!==n&&(Ot(t,1|n),Oo(t,Ft()),0===(6&Qa)&&(mo(),Kt()))}break;case 13:var i=To();Do((function(){return Ao(e,1,i)})),gs(e,1)}},t.batchedUpdates=function(e,t){var n=Qa;Qa|=1;try{return e(t)}finally{0===(Qa=n)&&(mo(),Yt&&Kt())}},t.createComponentSelector=function(e){return{$$typeof:Fa,value:e}},t.createContainer=function(e,t,n,i,r,a,o){return ps(e,t,!1,null,0,i,0,a,o)},t.createHasPseudoClassSelector=function(e){return{$$typeof:Ua,value:e}},t.createHydrationContainer=function(e,t,n,i,r,a,o,s,l){return(e=ps(n,i,!0,e,0,a,0,s,l)).context=fs(null),n=e.current,(a=vn(i=To(),r=No(n))).callback=void 0!==t&&null!==t?t:null,gn(n,a),e.current.lanes=r,kt(e,r,i),Oo(e,i),e},t.createPortal=function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:c,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}},t.createRoleSelector=function(e){return{$$typeof:za,value:e}},t.createTestNameSelector=function(e){return{$$typeof:Ba,value:e}},t.createTextSelector=function(e){return{$$typeof:Ha,value:e}},t.deferredUpdates=function(e){var t=Pt,n=$a.transition;try{return $a.transition=null,Pt=16,e()}finally{Pt=t,$a.transition=n}},t.discreteUpdates=function(e,t,n,i,r){var a=Pt,o=$a.transition;try{return $a.transition=null,Pt=1,e(t,n,i,r)}finally{Pt=a,$a.transition=o,0===Qa&&mo()}},t.findAllNodes=Xa,t.findBoundingRects=function(e,t){if(!ie)throw Error(o(363));t=Xa(e,t),e=[];for(var n=0;n<t.length;n++)e.push(ae(t[n]));for(t=e.length-1;0<t;t--)for(var i=(n=e[t]).x,r=i+n.width,a=n.y,s=a+n.height,l=t-1;0<=l;l--)if(t!==l){var c=e[l],u=c.x,d=u+c.width,h=c.y,p=h+c.height;if(i>=u&&a>=h&&r<=d&&s<=p){e.splice(t,1);break}if(!(i!==u||n.width!==c.width||p<a||h>s)){h>a&&(c.height+=h-a,c.y=a),p<s&&(c.height=s-h),e.splice(t,1);break}if(!(a!==h||n.height!==c.height||d<i||u>r)){u>i&&(c.width+=u-i,c.x=i),d<r&&(c.width=r-u),e.splice(t,1);break}}return e},t.findHostInstance=ms,t.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=T(e))?k(e):null)?null:e.stateNode},t.findHostInstanceWithWarning=function(e){return ms(e)},t.flushControlled=function(e){var t=Qa;Qa|=1;var n=$a.transition,i=Pt;try{$a.transition=null,Pt=1,e()}finally{Pt=i,$a.transition=n,0===(Qa=t)&&(mo(),Kt())}},t.flushPassiveEffects=Zo,t.flushSync=Do,t.focusWithin=function(e,t){if(!ie)throw Error(o(363));for(t=Ya(e=Wa(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!se(n)){if(5===n.tag&&ce(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Pt},t.getFindAllNodesFailureDescription=function(e,t){if(!ie)throw Error(o(363));var n=0,i=[];e=[Wa(e),0];for(var r=0;r<e.length;){var a=e[r++],s=e[r++],l=t[s];if((5!==a.tag||!se(a))&&(Ga(a,l)&&(i.push(qa(l)),++s>n&&(n=s)),s<t.length))for(a=a.child;null!==a;)e.push(a,s),a=a.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(qa(t[n]));return"findAllNodes was able to match part of the selector:\n  "+i.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},t.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?R(e.child.stateNode):e.child.stateNode:null},t.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:ys,findFiberByHostInstance:e.findFiberByHostInstance||bs,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},"undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Vt=t.inject(e),Wt=t}catch(Ri){}e=!!t.checkDCE}}return e},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(e,t,n,i){if(!ie)throw Error(o(363));e=Xa(e,t);var r=ue(e,n,i).disconnect;return{disconnect:function(){r()}}},t.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},t.runWithPriority=function(e,t){var n=Pt;try{return Pt=e,t()}finally{Pt=n}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(e,t,n,i){var r=t.current,a=To(),o=No(r);return n=fs(n),null===t.context?t.context=n:t.pendingContext=n,(t=vn(a,o)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),gn(r,t),null!==(e=Ao(r,o,a))&&yn(e,r,o),o},t}),hA}!function(e){e.exports=(lA||(lA=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,a=e[i];if(!(0<r(a,t)))break e;e[i]=t,e[n]=a,n=i}}function n(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,a=e.length,o=a>>>1;i<o;){var s=2*(i+1)-1,l=e[s],c=s+1,u=e[c];if(0>r(l,n))c<a&&0>r(u,l)?(e[i]=u,e[c]=n,i=c):(e[i]=l,e[s]=n,i=s);else{if(!(c<a&&0>r(u,n)))break e;e[i]=u,e[c]=n,i=c}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],c=[],u=1,d=null,h=3,p=!1,f=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var r=n(c);null!==r;){if(null===r.callback)i(c);else{if(!(r.startTime<=e))break;i(c),r.sortIndex=r.expirationTime,t(l,r)}r=n(c)}}function x(e){if(m=!1,b(e),!f)if(null!==n(l))f=!0,P(_);else{var t=n(c);null!==t&&R(x,t.startTime-e)}}function _(t,r){f=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=h;try{for(b(r),d=n(l);null!==d&&(!(d.expirationTime>r)||t&&!N());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var s=o(d.expirationTime<=r);r=e.unstable_now(),"function"===typeof s?d.callback=s:d===n(l)&&i(l),b(r)}else i(l);d=n(l)}if(null!==d)var u=!0;else{var v=n(c);null!==v&&R(x,v.startTime-r),u=!1}return u}finally{d=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,S=!1,M=null,E=-1,C=5,T=-1;function N(){return!(e.unstable_now()-T<C)}function A(){if(null!==M){var t=e.unstable_now();T=t;var n=!0;try{n=M(!0,t)}finally{n?w():(S=!1,M=null)}}else S=!1}if("function"===typeof y)w=function(){y(A)};else if("undefined"!==typeof MessageChannel){var k=new MessageChannel,O=k.port2;k.port1.onmessage=A,w=function(){O.postMessage(null)}}else w=function(){v(A,0)};function P(e){M=e,S||(S=!0,w())}function R(t,n){E=v((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){f||p||(f=!0,P(_))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(i,r,a){var o=e.unstable_now();switch(a="object"===typeof a&&null!==a&&"number"===typeof(a=a.delay)&&0<a?o+a:o,i){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return i={id:u++,callback:r,priorityLevel:i,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(i.sortIndex=a,t(c,i),null===n(l)&&i===n(c)&&(m?(g(E),E=-1):m=!0,R(x,a-o))):(i.sortIndex=s,t(l,i),f||p||(f=!0,P(_))),i},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(dA)),dA)}(uA);!function(e){e.exports=fA()}(cA);var mA=nA(cA.exports);const vA=[];function gA(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(e,t)=>e===t;if(e===t)return!0;if(!e||!t)return!1;const i=e.length;if(t.length!==i)return!1;for(let r=0;r<i;r++)if(!n(e[r],t[r]))return!1;return!0}function yA(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};null===t&&(t=[e]);for(const o of vA)if(gA(t,o.keys,o.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return i.lifespan&&i.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,i.lifespan)),o.response;if(!n)throw o.promise}const r={keys:t,equal:i.equal,remove:()=>{const e=vA.indexOf(r);-1!==e&&vA.splice(e,1)},promise:(a=e,"object"===typeof a&&"function"===typeof a.then?e:e(...t)).then((e=>{r.response=e,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))})).catch((e=>r.error=e))};var a;if(vA.push(r),!n)throw r.promise}const bA={};var xA,_A;const wA=e=>"colorSpace"in e||"outputColorSpace"in e,SA=()=>{var e;return null!=(e=bA.ColorManagement)?e:null},MA=e=>e&&e.isOrthographicCamera,EA="undefined"!==typeof window&&(null!=(xA=window.document)&&xA.createElement||"ReactNative"===(null==(_A=window.navigator)?void 0:_A.product))?r.useLayoutEffect:r.useEffect;function CA(e){const t=r.useRef(e);return EA((()=>{t.current=e}),[e]),t}function TA(e){let{set:t}=e;return EA((()=>(t(new Promise((()=>null))),()=>t(!1))),[t]),null}let NA=class extends r.Component{constructor(){super(...arguments),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}};NA.getDerivedStateFromError=()=>({error:!0});const AA="__default",kA=new Map,OA=e=>e&&!!e.memoized&&!!e.changes;function PA(e){var t;const n="undefined"!==typeof window?null!=(t=window.devicePixelRatio)?t:2:1;return Array.isArray(e)?Math.min(Math.max(e[0],n),e[1]):e}const RA=e=>{var t;return null==(t=e.__r3f)?void 0:t.root.getState()},jA={obj:e=>e===Object(e)&&!jA.arr(e)&&"function"!==typeof e,fun:e=>"function"===typeof e,str:e=>"string"===typeof e,num:e=>"number"===typeof e,boo:e=>"boolean"===typeof e,und:e=>void 0===e,arr:e=>Array.isArray(e),equ(e,t){let{arrays:n="shallow",objects:i="reference",strict:r=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(typeof e!==typeof t||!!e!==!!t)return!1;if(jA.str(e)||jA.num(e))return e===t;const a=jA.obj(e);if(a&&"reference"===i)return e===t;const o=jA.arr(e);if(o&&"reference"===n)return e===t;if((o||a)&&e===t)return!0;let s;for(s in e)if(!(s in t))return!1;if(a&&"shallow"===n&&"shallow"===i){for(s in r?t:e)if(!jA.equ(e[s],t[s],{strict:r,objects:"reference"}))return!1}else for(s in r?t:e)if(e[s]!==t[s])return!1;if(jA.und(s)){if(o&&0===e.length&&0===t.length)return!0;if(a&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function LA(e,t){return e.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...t},e}function IA(e,t){let n=e;if(t.includes("-")){const i=t.split("-"),r=i.pop();return n=i.reduce(((e,t)=>e[t]),e),{target:n,key:r}}return{target:n,key:t}}const DA=/-\d+$/;function FA(e,t,n){if(jA.str(n)){if(DA.test(n)){const t=n.replace(DA,""),{target:i,key:r}=IA(e,t);Array.isArray(i[r])||(i[r]=[])}const{target:i,key:r}=IA(e,n);t.__r3f.previousAttach=i[r],i[r]=t}else t.__r3f.previousAttach=n(e,t)}function UA(e,t,n){var i,r;if(jA.str(n)){const{target:i,key:r}=IA(e,n),a=t.__r3f.previousAttach;void 0===a?delete i[r]:i[r]=a}else null==(i=t.__r3f)||null==i.previousAttach||i.previousAttach(e,t);null==(r=t.__r3f)||delete r.previousAttach}function zA(e,t){let{children:n,key:i,ref:r,...a}=t,{children:o,key:s,ref:l,...c}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];var d;const h=null!=(d=null==e?void 0:e.__r3f)?d:{},p=Object.entries(a),f=[];if(u){const e=Object.keys(c);for(let t=0;t<e.length;t++)a.hasOwnProperty(e[t])||p.unshift([e[t],AA+"remove"])}p.forEach((t=>{let[n,i]=t;var r;if(null!=(r=e.__r3f)&&r.primitive&&"object"===n)return;if(jA.equ(i,c[n]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(n))return f.push([n,i,!0,[]]);let o=[];n.includes("-")&&(o=n.split("-")),f.push([n,i,!1,o]);for(const e in a){const t=a[e];e.startsWith("".concat(n,"-"))&&f.push([e,t,!1,e.split("-")])}}));const m={...a};return h.memoizedProps&&h.memoizedProps.args&&(m.args=h.memoizedProps.args),h.memoizedProps&&h.memoizedProps.attach&&(m.attach=h.memoizedProps.attach),{memoized:m,changes:f}}const BA="undefined"!==typeof process&&!1;function HA(e,t){var n,i,r;const a=null!=(n=e.__r3f)?n:{},o=a.root,s=null!=(i=null==o||null==o.getState?void 0:o.getState())?i:{},{memoized:l,changes:c}=OA(t)?t:zA(e,t),u=a.eventCount;e.__r3f&&(e.__r3f.memoizedProps=l);for(let d=0;d<c.length;d++){let[t,n,i,r]=c[d];if(wA(e)){const e=3001,i="srgb",r="srgb-linear";"encoding"===t?(t="colorSpace",n=n===e?i:r):"outputEncoding"===t&&(t="outputColorSpace",n=n===e?i:r)}let o=e,l=o[t];if(r.length&&(l=r.reduce(((e,t)=>e[t]),e),!l||!l.set)){const[n,...i]=r.reverse();o=i.reverse().reduce(((e,t)=>e[t]),e),t=n}if(n===AA+"remove")if(o.constructor){let e=kA.get(o.constructor);e||(e=new o.constructor,kA.set(o.constructor,e)),n=e[t]}else n=0;if(i)n?a.handlers[t]=n:delete a.handlers[t],a.eventCount=Object.keys(a.handlers).length;else if(l&&l.set&&(l.copy||l instanceof yy)){if(Array.isArray(n))l.fromArray?l.fromArray(n):l.set(...n);else if(l.copy&&n&&n.constructor&&(BA?l.constructor.name===n.constructor.name:l.constructor===n.constructor))l.copy(n);else if(void 0!==n){const e=l instanceof Ky;!e&&l.setScalar?l.setScalar(n):l instanceof yy&&n instanceof yy?l.mask=n.mask:l.set(n),SA()||s.linear||!e||l.convertSRGBToLinear()}}else if(o[t]=n,o[t]instanceof wg&&o[t].format===Vf&&o[t].type===Af){const e=o[t];wA(e)&&wA(s.gl)?e.colorSpace=s.gl.outputColorSpace:e.encoding=s.gl.outputEncoding}VA(e)}if(a.parent&&s.internal&&e.raycast&&u!==a.eventCount){const t=s.internal.interaction.indexOf(e);t>-1&&s.internal.interaction.splice(t,1),a.eventCount&&s.internal.interaction.push(e)}return!(1===c.length&&"onUpdate"===c[0][0])&&c.length&&null!=(r=e.__r3f)&&r.parent&&WA(e),e}function VA(e){var t,n;const i=null==(t=e.__r3f)||null==(n=t.root)||null==n.getState?void 0:n.getState();i&&0===i.internal.frames&&i.invalidate()}function WA(e){null==e.onUpdate||e.onUpdate(e)}function GA(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function qA(e,t,n,i){const r=n.get(t);r&&(n.delete(t),0===n.size&&(e.delete(i),r.target.releasePointerCapture(i)))}function YA(e){function t(e){return e.filter((e=>["Move","Over","Enter","Out","Leave"].some((t=>{var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))))}function n(t){const{internal:n}=e.getState();for(const e of n.hovered.values())if(!t.length||!t.find((t=>t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId))){const i=e.eventObject.__r3f,r=null==i?void 0:i.handlers;if(n.hovered.delete(GA(e)),null!=i&&i.eventCount){const n={...e,intersections:t};null==r.onPointerOut||r.onPointerOut(n),null==r.onPointerLeave||r.onPointerLeave(n)}}}function i(e,t){for(let n=0;n<t.length;n++){const i=t[n].__r3f;null==i||null==i.handlers.onPointerMissed||i.handlers.onPointerMissed(e)}}return{handlePointer:function(r){switch(r){case"onPointerLeave":case"onPointerCancel":return()=>n([]);case"onLostPointerCapture":return t=>{const{internal:i}=e.getState();"pointerId"in t&&i.capturedMap.has(t.pointerId)&&requestAnimationFrame((()=>{i.capturedMap.has(t.pointerId)&&(i.capturedMap.delete(t.pointerId),n([]))}))}}return function(a){const{onPointerMissed:o,internal:s}=e.getState();s.lastEvent.current=a;const l="onPointerMove"===r,c="onClick"===r||"onContextMenu"===r||"onDoubleClick"===r,u=function(t,n){const i=e.getState(),r=new Set,a=[],o=n?n(i.internal.interaction):i.internal.interaction;for(let e=0;e<o.length;e++){const t=RA(o[e]);t&&(t.raycaster.camera=void 0)}i.previousRoot||null==i.events.compute||i.events.compute(t,i);let s=o.flatMap((function(e){const n=RA(e);return n&&n.events.enabled&&null!==n.raycaster.camera?(void 0===n.raycaster.camera&&(null==n.events.compute||n.events.compute(t,n,null==(i=n.previousRoot)?void 0:i.getState()),void 0===n.raycaster.camera&&(n.raycaster.camera=null)),n.raycaster.camera?n.raycaster.intersectObject(e,!0):[]):[];var i})).sort(((e,t)=>{const n=RA(e.object),i=RA(t.object);return n&&i&&i.events.priority-n.events.priority||e.distance-t.distance})).filter((e=>{const t=GA(e);return!r.has(t)&&(r.add(t),!0)}));i.events.filter&&(s=i.events.filter(s,i));for(const e of s){let t=e.object;for(;t;){var l;null!=(l=t.__r3f)&&l.eventCount&&a.push({...e,eventObject:t}),t=t.parent}}if("pointerId"in t&&i.internal.capturedMap.has(t.pointerId))for(let e of i.internal.capturedMap.get(t.pointerId).values())r.has(GA(e.intersection))||a.push(e.intersection);return a}(a,l?t:void 0),d=c?function(t){const{internal:n}=e.getState(),i=t.offsetX-n.initialClick[0],r=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(i*i+r*r))}(a):0;"onPointerDown"===r&&(s.initialClick=[a.offsetX,a.offsetY],s.initialHits=u.map((e=>e.eventObject))),c&&!u.length&&d<=2&&(i(a,s.interaction),o&&o(a)),l&&n(u),function(t,i,r,a){const o=e.getState();if(t.length){const e={stopped:!1};for(const s of t){const l=RA(s.object)||o,{raycaster:c,pointer:u,camera:d,internal:h}=l,p=new Og(u.x,u.y,0).unproject(d),f=e=>{var t,n;return null!=(t=null==(n=h.capturedMap.get(e))?void 0:n.has(s.eventObject))&&t},m=e=>{const t={intersection:s,target:i.target};h.capturedMap.has(e)?h.capturedMap.get(e).set(s.eventObject,t):h.capturedMap.set(e,new Map([[s.eventObject,t]])),i.target.setPointerCapture(e)},v=e=>{const t=h.capturedMap.get(e);t&&qA(h.capturedMap,s.eventObject,t,e)};let g={};for(let e in i){let t=i[e];"function"!==typeof t&&(g[e]=t)}let y={...s,...g,pointer:u,intersections:t,stopped:e.stopped,delta:r,unprojectedPoint:p,ray:c.ray,camera:d,stopPropagation(){const r="pointerId"in i&&h.capturedMap.get(i.pointerId);(!r||r.has(s.eventObject))&&(y.stopped=e.stopped=!0,h.hovered.size&&Array.from(h.hovered.values()).find((e=>e.eventObject===s.eventObject)))&&n([...t.slice(0,t.indexOf(s)),s])},target:{hasPointerCapture:f,setPointerCapture:m,releasePointerCapture:v},currentTarget:{hasPointerCapture:f,setPointerCapture:m,releasePointerCapture:v},nativeEvent:i};if(a(y),!0===e.stopped)break}}}(u,a,d,(function(e){const t=e.eventObject,n=t.__r3f,o=null==n?void 0:n.handlers;if(null!=n&&n.eventCount)if(l){if(o.onPointerOver||o.onPointerEnter||o.onPointerOut||o.onPointerLeave){const t=GA(e),n=s.hovered.get(t);n?n.stopped&&e.stopPropagation():(s.hovered.set(t,e),null==o.onPointerOver||o.onPointerOver(e),null==o.onPointerEnter||o.onPointerEnter(e))}null==o.onPointerMove||o.onPointerMove(e)}else{const n=o[r];n?c&&!s.initialHits.includes(t)||(i(a,s.interaction.filter((e=>!s.initialHits.includes(e)))),n(e)):c&&s.initialHits.includes(t)&&i(a,s.interaction.filter((e=>!s.initialHits.includes(e))))}}))}}}}const XA=e=>!(null==e||!e.render),ZA=r.createContext(null),KA=(e,t)=>{const n=function(e){const t="function"===typeof e?oA(e):e,n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.getState,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is;const[,i]=(0,r.useReducer)((e=>e+1),0),a=t.getState(),o=(0,r.useRef)(a),s=(0,r.useRef)(e),l=(0,r.useRef)(n),c=(0,r.useRef)(!1),u=(0,r.useRef)();let d;void 0===u.current&&(u.current=e(a));let h=!1;(o.current!==a||s.current!==e||l.current!==n||c.current)&&(d=e(a),h=!n(u.current,d)),sA((()=>{h&&(u.current=d),o.current=a,s.current=e,l.current=n,c.current=!1}));const p=(0,r.useRef)(a);sA((()=>{const e=()=>{try{const e=t.getState(),n=s.current(e);l.current(u.current,n)||(o.current=e,u.current=n,i())}catch(e){c.current=!0,i()}},n=t.subscribe(e);return t.getState()!==p.current&&e(),n}),[]);const f=h?d:u.current;return(0,r.useDebugValue)(f),f};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const e=[n,t];return{next(){const t=e.length<=0;return{value:e.shift(),done:t}}}},n}(((n,i)=>{const a=new Og,o=new Og,s=new Og;function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i().camera,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i().size;const{width:r,height:l,top:c,left:u}=n,d=r/l;t instanceof Og?s.copy(t):s.set(...t);const h=e.getWorldPosition(a).distanceTo(s);if(MA(e))return{width:r/e.zoom,height:l/e.zoom,top:c,left:u,factor:1,distance:h,aspect:d};{const t=e.fov*Math.PI/180,n=2*Math.tan(t/2)*h,i=n*(r/l);return{width:i,height:n,top:c,left:u,factor:r/i,distance:h,aspect:d}}}let c;const u=e=>n((t=>({performance:{...t.performance,current:e}}))),d=new Qv,h={set:n,get:i,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e(i(),t)},advance:(e,n)=>t(e,n,i()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new PT,pointer:d,mouse:d,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const e=i();c&&clearTimeout(c),e.performance.current!==e.performance.min&&u(e.performance.min),c=setTimeout((()=>u(i().performance.max)),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:l},setEvents:e=>n((t=>({...t,events:{...t.events,...e}}))),setSize:(e,t,r,a,s)=>{const c=i().camera,u={width:e,height:t,top:a||0,left:s||0,updateStyle:r};n((e=>({size:u,viewport:{...e.viewport,...l(c,o,u)}})))},setDpr:e=>n((t=>{const n=PA(e);return{viewport:{...t.viewport,dpr:n,initialDpr:t.viewport.initialDpr||n}}})),setFrameloop:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"always";const t=i().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),n((()=>({frameloop:e})))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:r.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(e,t,n)=>{const r=i().internal;return r.priority=r.priority+(t>0?1:0),r.subscribers.push({ref:e,priority:t,store:n}),r.subscribers=r.subscribers.sort(((e,t)=>e.priority-t.priority)),()=>{const n=i().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0?1:0),n.subscribers=n.subscribers.filter((t=>t.ref!==e)))}}}};return h})),i=n.getState();let a=i.size,o=i.viewport.dpr,s=i.camera;return n.subscribe((()=>{const{camera:e,size:t,viewport:i,gl:r,set:l}=n.getState();if(t.width!==a.width||t.height!==a.height||i.dpr!==o){var c;a=t,o=i.dpr,function(e,t){e.manual||(MA(e)?(e.left=t.width/-2,e.right=t.width/2,e.top=t.height/2,e.bottom=t.height/-2):e.aspect=t.width/t.height,e.updateProjectionMatrix(),e.updateMatrixWorld())}(e,t),r.setPixelRatio(i.dpr);const n=null!=(c=t.updateStyle)?c:"undefined"!==typeof HTMLCanvasElement&&r.domElement instanceof HTMLCanvasElement;r.setSize(t.width,t.height,n)}e!==s&&(s=e,l((t=>({viewport:{...t.viewport,...t.viewport.getCurrentViewport(e)}}))))})),n.subscribe((t=>e(t))),n};let JA,$A,QA,ek=new Set,tk=new Set,nk=new Set;function ik(e,t){if(e.size)for(const{callback:n}of e.values())n(t)}function rk(e,t){switch(e){case"before":return ik(ek,t);case"after":return ik(tk,t);case"tail":return ik(nk,t)}}function ak(e,t,n){let i=t.clock.getDelta();for("never"===t.frameloop&&"number"===typeof e&&(i=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),$A=t.internal.subscribers,JA=0;JA<$A.length;JA++)QA=$A[JA],QA.ref.current(QA.store.getState(),i,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function ok(){const e=r.useContext(ZA);if(!e)throw new Error("R3F: Hooks can only be used within the Canvas component!");return e}function sk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e,t=arguments.length>1?arguments[1]:void 0;return ok()(e,t)}function lk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=ok(),i=n.getState().internal.subscribe,r=CA(e);return EA((()=>i(r,t,n)),[t,i,n]),null}const ck=new WeakMap;function uk(e,t){return function(n){let i=ck.get(n);i||(i=new n,ck.set(n,i)),e&&e(i);for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return Promise.all(a.map((e=>new Promise(((n,r)=>i.load(e,(e=>{e.scene&&Object.assign(e,function(e){const t={nodes:{},materials:{}};return e&&e.traverse((e=>{e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)})),t}(e.scene)),n(e)}),t,(t=>r(new Error("Could not load ".concat(e,": ").concat(null==t?void 0:t.message)))))))))).finally((()=>null==i.dispose?void 0:i.dispose()))}}function dk(e,t,n,i){const r=Array.isArray(t)?t:[t],a=((e,t,n)=>yA(e,t,!1,n))(uk(n,i),[e,...r],{equal:jA.equ});return Array.isArray(t)?a:a[0]}dk.preload=function(e,t,n){const i=Array.isArray(t)?t:[t];return((e,t,n)=>{yA(e,t,!0,n)})(uk(n),[e,...i])},dk.clear=function(e,t){return(e=>{if(void 0===e||0===e.length)vA.splice(0,vA.length);else{const t=vA.find((t=>gA(e,t.keys,t.equal)));t&&t.remove()}})([e,...Array.isArray(t)?t:[t]])};const hk=new Map,{invalidate:pk,advance:fk}=function(e){let t,n,i,r=!1;function a(o){n=requestAnimationFrame(a),r=!0,t=0,rk("before",o);for(const n of e.values()){var s;i=n.store.getState(),!i.internal.active||!("always"===i.frameloop||i.internal.frames>0)||null!=(s=i.gl.xr)&&s.isPresenting||(t+=ak(o,i))}if(rk("after",o),0===t)return rk("tail",o),r=!1,cancelAnimationFrame(n)}return{loop:a,invalidate:function t(n){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;var o;if(!n)return e.forEach((e=>t(e.store.getState())),i);null!=(o=n.gl.xr)&&o.isPresenting||!n.internal.active||"never"===n.frameloop||(n.internal.frames=Math.min(60,n.internal.frames+i),r||(r=!0,requestAnimationFrame(a)))},advance:function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(n&&rk("before",t),i)ak(t,i,r);else for(const a of e.values())ak(t,a.store.getState());n&&rk("after",t)}}}(hk),{reconciler:mk,applyProps:vk}=function(e,t){function n(e,t,n){let i,{args:r=[],attach:a,...o}=t,s="".concat(e[0].toUpperCase()).concat(e.slice(1));if("primitive"===e){if(void 0===o.object)throw new Error("R3F: Primitives without 'object' are invalid!");i=LA(o.object,{type:e,root:n,attach:a,primitive:!0})}else{const t=bA[s];if(!t)throw new Error("R3F: ".concat(s," is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively"));if(!Array.isArray(r))throw new Error("R3F: The args prop must be an array!");i=LA(new t(...r),{type:e,root:n,attach:a,memoizedProps:{args:r}})}return void 0===i.__r3f.attach&&(i instanceof Eb?i.__r3f.attach="geometry":i instanceof Qy&&(i.__r3f.attach="material")),"inject"!==s&&HA(i,o),i}function i(e,t){let n=!1;var i,r;t&&(null!=(i=t.__r3f)&&i.attach?FA(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),n=!0),n||null==(r=e.__r3f)||r.objects.push(t),t.__r3f||LA(t,{}),t.__r3f.parent=e,WA(t),VA(t))}function r(e,t,n){let i=!1;if(t){var r,a;if(null!=(r=t.__r3f)&&r.attach)FA(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"});const r=e.children.filter((e=>e!==t)),a=r.indexOf(n);e.children=[...r.slice(0,a),t,...r.slice(a)],i=!0}i||null==(a=e.__r3f)||a.objects.push(t),t.__r3f||LA(t,{}),t.__r3f.parent=e,WA(t),VA(t)}}function a(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&[...e].forEach((e=>o(t,e,n)))}function o(e,t,n){if(t){var i,r,o;if(t.__r3f&&(t.__r3f.parent=null),null!=(i=e.__r3f)&&i.objects&&(e.__r3f.objects=e.__r3f.objects.filter((e=>e!==t))),null!=(r=t.__r3f)&&r.attach)UA(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){var s;e.remove(t),null!=(s=t.__r3f)&&s.root&&function(e,t){const{internal:n}=e.getState();n.interaction=n.interaction.filter((e=>e!==t)),n.initialHits=n.initialHits.filter((e=>e!==t)),n.hovered.forEach(((e,i)=>{e.eventObject!==t&&e.object!==t||n.hovered.delete(i)})),n.capturedMap.forEach(((e,i)=>{qA(n.capturedMap,t,e,i)}))}(t.__r3f.root,t)}const c=null==(o=t.__r3f)?void 0:o.primitive,u=void 0===n?null!==t.dispose&&!c:n;var l;if(!c)a(null==(l=t.__r3f)?void 0:l.objects,t,u),a(t.children,t,u);delete t.__r3f,u&&t.dispose&&"Scene"!==t.type&&uA.exports.unstable_scheduleCallback(uA.exports.unstable_IdlePriority,(()=>{try{t.dispose()}catch(fU){}})),VA(e)}}const s=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters."),l=mA({createInstance:n,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(e,t)=>{if(!t)return;const n=e.getState().scene;n.__r3f&&(n.__r3f.root=e,i(n,t))},removeChildFromContainer:(e,t)=>{t&&o(e.getState().scene,t)},insertInContainerBefore:(e,t,n)=>{if(!t||!n)return;const i=e.getState().scene;i.__r3f&&r(i,t,n)},getRootHostContext:()=>null,getChildHostContext:e=>e,finalizeInitialChildren(e){var t;const n=null!=(t=null==e?void 0:e.__r3f)?t:{};return Boolean(n.handlers)},prepareUpdate(e,t,n,i){var r;if((null!=(r=null==e?void 0:e.__r3f)?r:{}).primitive&&i.object&&i.object!==e)return[!0];{const{args:t=[],children:r,...a}=i,{args:o=[],children:s,...l}=n;if(!Array.isArray(t))throw new Error("R3F: the args prop must be an array!");if(t.some(((e,t)=>e!==o[t])))return[!0];const c=zA(e,a,l,!0);return c.changes.length?[!1,c]:null}},commitUpdate(e,t,r,a,s,l){let[c,u]=t;c?function(e,t,r,a){var s;const l=null==(s=e.__r3f)?void 0:s.parent;if(!l)return;const c=n(t,r,e.__r3f.root);if(e.children){for(const t of e.children)t.__r3f&&i(c,t);e.children=e.children.filter((e=>!e.__r3f))}e.__r3f.objects.forEach((e=>i(c,e))),e.__r3f.objects=[],e.__r3f.autoRemovedBeforeAppend||o(l,e),c.parent&&(c.__r3f.autoRemovedBeforeAppend=!0),i(l,c),c.raycast&&c.__r3f.eventCount&&c.__r3f.root.getState().internal.interaction.push(c);[a,a.alternate].forEach((e=>{null!==e&&(e.stateNode=c,e.ref&&("function"===typeof e.ref?e.ref(c):e.ref.current=c))}))}(e,r,s,l):HA(e,u)},commitMount(e,t,n,i){var r;const a=null!=(r=e.__r3f)?r:{};e.raycast&&a.handlers&&a.eventCount&&e.__r3f.root.getState().internal.interaction.push(e)},getPublicInstance:e=>e,prepareForCommit:()=>null,preparePortalMount:e=>LA(e.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(e){var t;const{attach:n,parent:i}=null!=(t=e.__r3f)?t:{};n&&i&&UA(i,e,n),e.isObject3D&&(e.visible=!1),VA(e)},unhideInstance(e,t){var n;const{attach:i,parent:r}=null!=(n=e.__r3f)?n:{};i&&r&&FA(r,e,i),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),VA(e)},createTextInstance:s,hideTextInstance:s,unhideTextInstance:s,getCurrentEventPriority:()=>t?t():rA.exports.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:"undefined"!==typeof performance&&jA.fun(performance.now)?performance.now:jA.fun(Date.now)?Date.now:()=>0,scheduleTimeout:jA.fun(setTimeout)?setTimeout:void 0,cancelTimeout:jA.fun(clearTimeout)?clearTimeout:void 0});return{reconciler:l,applyProps:HA}}(0,(function(){var e;const t="undefined"!==typeof self&&self||"undefined"!==typeof window&&window;if(!t)return rA.exports.DefaultEventPriority;switch(null==(e=t.event)?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return rA.exports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return rA.exports.ContinuousEventPriority;default:return rA.exports.DefaultEventPriority}})),gk={objects:"shallow",strict:!1},yk=(e,t)=>{const n="function"===typeof e?e(t):e;return XA(n)?n:new Qw({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0,...e})};function bk(e){const t=hk.get(e),n=null==t?void 0:t.fiber,i=null==t?void 0:t.store;t&&console.warn("R3F.createRoot should only be called once!");const a="function"===typeof reportError?reportError:console.error,o=i||KA(pk,fk),s=n||mk.createContainer(o,rA.exports.ConcurrentRoot,null,!1,null,"",a,null);let l;t||hk.set(e,{fiber:s,store:o});let c,u=!1;return{configure(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{gl:n,size:i,scene:r,events:a,onCreated:s,shadows:d=!1,linear:h=!1,flat:p=!1,legacy:f=!1,orthographic:m=!1,frameloop:v="always",dpr:g=[1,2],performance:y,raycaster:b,camera:x,onPointerMissed:_}=t,w=o.getState(),S=w.gl;w.gl||w.set({gl:S=yk(n,e)});let M=w.raycaster;M||w.set({raycaster:M=new uN});const{params:E,...C}=b||{};if(jA.equ(C,M,gk)||vk(M,{...C}),jA.equ(E,M.params,gk)||vk(M,{params:{...M.params,...E}}),!w.camera||w.camera===c&&!jA.equ(c,x,gk)){c=x;const e=x instanceof Jb,t=e?x:m?new Nx(0,0,0,0,.1,1e3):new tx(75,0,.1,1e3);e||(t.position.z=5,x&&vk(t,x),w.camera||null!=x&&x.rotation||t.lookAt(0,0,0)),w.set({camera:t}),M.camera=t}if(!w.scene){let e;r instanceof nS?e=r:(e=new nS,r&&vk(e,r)),w.set({scene:LA(e)})}if(!w.xr){var T;const e=(e,t)=>{const n=o.getState();"never"!==n.frameloop&&fk(e,!0,n,t)},t=()=>{const t=o.getState();t.gl.xr.enabled=t.gl.xr.isPresenting,t.gl.xr.setAnimationLoop(t.gl.xr.isPresenting?e:null),t.gl.xr.isPresenting||pk(t)},n={connect(){const e=o.getState().gl;e.xr.addEventListener("sessionstart",t),e.xr.addEventListener("sessionend",t)},disconnect(){const e=o.getState().gl;e.xr.removeEventListener("sessionstart",t),e.xr.removeEventListener("sessionend",t)}};"function"===typeof(null==(T=S.xr)?void 0:T.addEventListener)&&n.connect(),w.set({xr:n})}if(S.shadowMap){const e=S.shadowMap.enabled,t=S.shadowMap.type;if(S.shadowMap.enabled=!!d,jA.boo(d))S.shadowMap.type=dp;else if(jA.str(d)){var N;const e={basic:cp,percentage:up,soft:dp,variance:hp};S.shadowMap.type=null!=(N=e[d])?N:dp}else jA.obj(d)&&Object.assign(S.shadowMap,d);e===S.shadowMap.enabled&&t===S.shadowMap.type||(S.shadowMap.needsUpdate=!0)}const A=SA();A&&("enabled"in A?A.enabled=!f:"legacyMode"in A&&(A.legacyMode=f));vk(S,{outputEncoding:h?3e3:3001,toneMapping:p?Qp:rf}),w.legacy!==f&&w.set((()=>({legacy:f}))),w.linear!==h&&w.set((()=>({linear:h}))),w.flat!==p&&w.set((()=>({flat:p}))),!n||jA.fun(n)||XA(n)||jA.equ(n,S,gk)||vk(S,n),a&&!w.events.handlers&&w.set({events:a(o)});const k=function(e,t){const n="undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement;if(t){const{width:e,height:i,top:r,left:a,updateStyle:o=n}=t;return{width:e,height:i,top:r,left:a,updateStyle:o}}if("undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){const{width:t,height:i,top:r,left:a}=e.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:a,updateStyle:n}}return"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0,updateStyle:n}:{width:0,height:0,top:0,left:0}}(e,i);return jA.equ(k,w.size,gk)||w.setSize(k.width,k.height,k.updateStyle,k.top,k.left),g&&w.viewport.dpr!==PA(g)&&w.setDpr(g),w.frameloop!==v&&w.setFrameloop(v),w.onPointerMissed||w.set({onPointerMissed:_}),y&&!jA.equ(y,w.performance,gk)&&w.set((e=>({performance:{...e.performance,...y}}))),l=s,u=!0,this},render(t){return u||this.configure(),mk.updateContainer(r.createElement(xk,{store:o,children:t,onCreated:l,rootElement:e}),s,null,(()=>{})),o},unmount(){_k(e)}}}function xk(e){let{store:t,children:n,onCreated:i,rootElement:a}=e;return EA((()=>{const e=t.getState();e.set((e=>({internal:{...e.internal,active:!0}}))),i&&i(e),t.getState().events.connected||null==e.events.connect||e.events.connect(a)}),[]),r.createElement(ZA.Provider,{value:t},n)}function _k(e,t){const n=hk.get(e),i=null==n?void 0:n.fiber;if(i){const r=null==n?void 0:n.store.getState();r&&(r.internal.active=!1),mk.updateContainer(null,i,null,(()=>{r&&setTimeout((()=>{try{var n,i,a,o;null==r.events.disconnect||r.events.disconnect(),null==(n=r.gl)||null==(i=n.renderLists)||null==i.dispose||i.dispose(),null==(a=r.gl)||null==a.forceContextLoss||a.forceContextLoss(),null!=(o=r.gl)&&o.xr&&r.xr.disconnect(),function(e){e.dispose&&"Scene"!==e.type&&e.dispose();for(const t in e)null==t.dispose||t.dispose(),delete e[t]}(r),hk.delete(e),t&&t(e)}catch(fU){}}),500)}))}}function wk(){return wk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},wk.apply(this,arguments)}function Sk(e,t,n){var i,r,a,o,s;function l(){var c=Date.now()-o;c<t&&c>=0?i=setTimeout(l,t-c):(i=null,n||(s=e.apply(a,r),a=r=null))}null==t&&(t=100);var c=function(){a=this,r=arguments,o=Date.now();var c=n&&!i;return i||(i=setTimeout(l,t)),c&&(s=e.apply(a,r),a=r=null),s};return c.clear=function(){i&&(clearTimeout(i),i=null)},c.flush=function(){i&&(s=e.apply(a,r),a=r=null,clearTimeout(i),i=null)},c}mk.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:r.version}),Sk.debounce=Sk;var Mk=Sk;function Ek(e){let{debounce:t,scroll:n,polyfill:i,offsetSize:a}=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e;const o=i||("undefined"===typeof window?class{}:window.ResizeObserver);if(!o)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,l]=(0,r.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),c=(0,r.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s}),u=t?"number"===typeof t?t:t.scroll:null,d=t?"number"===typeof t?t:t.resize:null,h=(0,r.useRef)(!1);(0,r.useEffect)((()=>(h.current=!0,()=>{h.current=!1})));const[p,f,m]=(0,r.useMemo)((()=>{const e=()=>{if(!c.current.element)return;const{left:e,top:t,width:n,height:i,bottom:r,right:o,x:s,y:u}=c.current.element.getBoundingClientRect(),d={left:e,top:t,width:n,height:i,bottom:r,right:o,x:s,y:u};c.current.element instanceof HTMLElement&&a&&(d.height=c.current.element.offsetHeight,d.width=c.current.element.offsetWidth),Object.freeze(d),h.current&&!Nk(c.current.lastBounds,d)&&l(c.current.lastBounds=d)};return[e,d?Mk(e,d):e,u?Mk(e,u):e]}),[l,a,u,d]);function v(){c.current.scrollContainers&&(c.current.scrollContainers.forEach((e=>e.removeEventListener("scroll",m,!0))),c.current.scrollContainers=null),c.current.resizeObserver&&(c.current.resizeObserver.disconnect(),c.current.resizeObserver=null)}function g(){c.current.element&&(c.current.resizeObserver=new o(m),c.current.resizeObserver.observe(c.current.element),n&&c.current.scrollContainers&&c.current.scrollContainers.forEach((e=>e.addEventListener("scroll",m,{capture:!0,passive:!0}))))}var y,b;return y=m,b=Boolean(n),(0,r.useEffect)((()=>{if(b){const e=y;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",e,!0)}}}),[y,b]),function(e){(0,r.useEffect)((()=>{const t=e;return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}}),[e])}(f),(0,r.useEffect)((()=>{v(),g()}),[n,m,f]),(0,r.useEffect)((()=>v),[]),[e=>{e&&e!==c.current.element&&(v(),c.current.element=e,c.current.scrollContainers=Ck(e),g())},s,p]}function Ck(e){const t=[];if(!e||e===document.body)return t;const{overflow:n,overflowX:i,overflowY:r}=window.getComputedStyle(e);return[n,i,r].some((e=>"auto"===e||"scroll"===e))&&t.push(e),[...t,...Ck(e.parentElement)]}const Tk=["x","y","top","bottom","left","right","width","height"],Nk=(e,t)=>Tk.every((n=>e[n]===t[n]));var Ak=Object.defineProperty,kk=Object.defineProperties,Ok=Object.getOwnPropertyDescriptors,Pk=Object.getOwnPropertySymbols,Rk=Object.prototype.hasOwnProperty,jk=Object.prototype.propertyIsEnumerable,Lk=(e,t,n)=>t in e?Ak(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ik=(e,t)=>{for(var n in t||(t={}))Rk.call(t,n)&&Lk(e,n,t[n]);if(Pk)for(var n of Pk(t))jk.call(t,n)&&Lk(e,n,t[n]);return e};function Dk(e,t,n){if(!e)return;if(!0===n(e))return e;let i=t?e.return:e.child;for(;i;){const e=Dk(i,t,n);if(e)return e;i=t?null:i.sibling}}function Fk(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(qi){return e}}const Uk=Fk(r.createContext(null));class zk extends r.Component{render(){return r.createElement(Uk.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:Bk,ReactCurrentDispatcher:Hk}=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;const Vk=[],Wk=new WeakMap;function Gk(){var e;const t=function(){const e=r.useContext(Uk);if(!e)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=r.useId(),n=r.useMemo((()=>{var n;return null!=(n=Bk.current)?n:Dk(e,!1,(e=>{let n=e.memoizedState;for(;n;){if(n.memoizedState===t)return!0;n=n.next}}))}),[e,t]);return n}();Vk.splice(0,Vk.length),Dk(t,!0,(e=>{var t;const n=null==(t=e.type)?void 0:t._context;n&&n!==Uk&&Vk.push(Fk(n))}));for(const n of Vk){const t=null==(e=Hk.current)?void 0:e.readContext(n);Wk.set(n,t)}return r.useMemo((()=>Vk.reduce(((e,t)=>n=>r.createElement(e,null,r.createElement(t.Provider,((e,t)=>kk(e,Ok(t)))(Ik({},n),{value:Wk.get(t)})))),(e=>r.createElement(zk,Ik({},e))))),[])}const qk={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Yk(e){const{handlePointer:t}=YA(e);return{priority:1,enabled:!0,compute(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(qk).reduce(((e,n)=>({...e,[n]:t(n)})),{}),update:()=>{var t;const{events:n,internal:i}=e.getState();null!=(t=i.lastEvent)&&t.current&&n.handlers&&n.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var n;const{set:i,events:r}=e.getState();null==r.disconnect||r.disconnect(),i((e=>({events:{...e.events,connected:t}}))),Object.entries(null!=(n=r.handlers)?n:[]).forEach((e=>{let[n,i]=e;const[r,a]=qk[n];t.addEventListener(r,i,{passive:a})}))},disconnect:()=>{const{set:t,events:n}=e.getState();var i;n.connected&&(Object.entries(null!=(i=n.handlers)?i:[]).forEach((e=>{let[t,i]=e;if(n&&n.connected instanceof HTMLElement){const[e]=qk[t];n.connected.removeEventListener(e,i)}})),t((e=>({events:{...e.events,connected:void 0}}))))}}}const Xk=r.forwardRef((function(e,n){let{children:i,fallback:a,resize:o,style:s,gl:l,events:c=Yk,eventSource:u,eventPrefix:d,shadows:h,linear:p,flat:f,legacy:m,orthographic:v,frameloop:g,dpr:y,performance:b,raycaster:x,camera:_,scene:w,onPointerMissed:S,onCreated:M,...E}=e;r.useMemo((()=>{return e=t,void Object.assign(bA,e);var e}),[]);const C=Gk(),[T,N]=Ek({scroll:!0,debounce:{scroll:50,resize:0},...o}),A=r.useRef(null),k=r.useRef(null);r.useImperativeHandle(n,(()=>A.current));const O=CA(S),[P,R]=r.useState(!1),[j,L]=r.useState(!1);if(P)throw P;if(j)throw j;const I=r.useRef(null);EA((()=>{const e=A.current;N.width>0&&N.height>0&&e&&(I.current||(I.current=bk(e)),I.current.configure({gl:l,events:c,shadows:h,linear:p,flat:f,legacy:m,orthographic:v,frameloop:g,dpr:y,performance:b,raycaster:x,camera:_,scene:w,size:N,onPointerMissed:function(){return null==O.current?void 0:O.current(...arguments)},onCreated:e=>{var t;null==e.events.connect||e.events.connect(u?(t=u)&&t.hasOwnProperty("current")?u.current:u:k.current),d&&e.setEvents({compute:(e,t)=>{const n=e[d+"X"],i=e[d+"Y"];t.pointer.set(n/t.size.width*2-1,-i/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==M||M(e)}}),I.current.render(r.createElement(C,null,r.createElement(NA,{set:L},r.createElement(r.Suspense,{fallback:r.createElement(TA,{set:R})},i)))))})),r.useEffect((()=>{const e=A.current;if(e)return()=>_k(e)}),[]);const D=u?"none":"auto";return r.createElement("div",wk({ref:k,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:D,...s}},E),r.createElement("div",{ref:T,style:{width:"100%",height:"100%"}},r.createElement("canvas",{ref:A,style:{display:"block"}},a)))})),Zk=r.forwardRef((function(e,t){return r.createElement(zk,null,r.createElement(Xk,wk({},e,{ref:t})))}));class Kk extends BC{constructor(e){super(e)}load(e,t,n,i){const r=this,a=new WC(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){try{t(r.parse(n))}catch(fU){i?i(fU):console.error(fU),r.manager.itemError(e)}}),n,i)}parse(e){function t(e,t,n){for(let i=0,r=e.length;i<r;i++)if(e[i]!==t.getUint8(n+i,!1))return!1;return!0}const n=function(e){if("string"===typeof e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=255&e.charCodeAt(n);return t.buffer||t}return e}(e);return function(e){const n=new DataView(e);if(84+50*n.getUint32(80,!0)===n.byteLength)return!0;const i=[115,111,108,105,100];for(let r=0;r<5;r++)if(t(i,n,r))return!1;return!0}(n)?function(e){const t=new DataView(e),n=t.getUint32(80,!0);let i,r,a,o,s,l,c,u,d=!1;for(let m=0;m<70;m++)1129270351==t.getUint32(m,!1)&&82==t.getUint8(m+4)&&61==t.getUint8(m+5)&&(d=!0,o=new Float32Array(3*n*3),s=t.getUint8(m+6)/255,l=t.getUint8(m+7)/255,c=t.getUint8(m+8)/255,u=t.getUint8(m+9)/255);const h=new Eb,p=new Float32Array(3*n*3),f=new Float32Array(3*n*3);for(let m=0;m<n;m++){const e=84+50*m,n=t.getFloat32(e,!0),u=t.getFloat32(e+4,!0),h=t.getFloat32(e+8,!0);if(d){const n=t.getUint16(e+48,!0);0===(32768&n)?(i=(31&n)/31,r=(n>>5&31)/31,a=(n>>10&31)/31):(i=s,r=l,a=c)}for(let s=1;s<=3;s++){const l=e+12*s,c=3*m*3+3*(s-1);p[c]=t.getFloat32(l,!0),p[c+1]=t.getFloat32(l+4,!0),p[c+2]=t.getFloat32(l+8,!0),f[c]=n,f[c+1]=u,f[c+2]=h,d&&(o[c]=i,o[c+1]=r,o[c+2]=a)}}return h.setAttribute("position",new lb(p,3)),h.setAttribute("normal",new lb(f,3)),d&&(h.setAttribute("color",new lb(o,3)),h.hasColors=!0,h.alpha=u),h}(n):function(e){const t=new Eb,n=/solid([\s\S]*?)endsolid/g,i=/facet([\s\S]*?)endfacet/g;let r=0;const a=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,o=new RegExp("vertex"+a+a+a,"g"),s=new RegExp("normal"+a+a+a,"g"),l=[],c=[],u=new Og;let d,h=0,p=0,f=0;for(;null!==(d=n.exec(e));){p=f;const e=d[0];for(;null!==(d=i.exec(e));){let e=0,t=0;const n=d[0];for(;null!==(d=s.exec(n));)u.x=parseFloat(d[1]),u.y=parseFloat(d[2]),u.z=parseFloat(d[3]),t++;for(;null!==(d=o.exec(n));)l.push(parseFloat(d[1]),parseFloat(d[2]),parseFloat(d[3])),c.push(u.x,u.y,u.z),e++,f++;1!==t&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+r),3!==e&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+r),r++}const n=p,a=f-p;t.addGroup(n,a,h),h++}return t.setAttribute("position",new gb(l,3)),t.setAttribute("normal",new gb(c,3)),t}("string"!==typeof(i=e)?gT.decodeText(new Uint8Array(i)):i);var i}}var Jk=function(){function e(){}return e.prototype.parse=function(e,t){void 0===t&&(t={});var n,i=void 0!==t.binary&&t.binary,r=[],a=0;e.traverse((function(e){if(e.isMesh){var t=e.geometry;if(!0!==t.isBufferGeometry)throw new Error("THREE.STLExporter: Geometry is not of type THREE.BufferGeometry.");var n=t.index,i=t.getAttribute("position");a+=null!==n?n.count/3:i.count/3,r.push({object3d:e,geometry:t})}}));var o=80;if(!0===i){var s=new ArrayBuffer(2*a+3*a*4*4+80+4);(n=new DataView(s)).setUint32(o,a,!0),o+=4}else n="",n+="solid exported\n";for(var l=new Og,c=new Og,u=new Og,d=new Og,h=new Og,p=new Og,f=0,m=r.length;f<m;f++){var v=r[f].object3d,g=r[f].geometry,y=g.index,b=g.getAttribute("position");if(null!==y)for(var x=0;x<y.count;x+=3){_(y.getX(x+0),y.getX(x+1),y.getX(x+2),b,v)}else for(x=0;x<b.count;x+=3){_(x+0,x+1,x+2,b,v)}}return!1===i&&(n+="endsolid exported\n"),n;function _(e,t,r,a,s){l.fromBufferAttribute(a,e),c.fromBufferAttribute(a,t),u.fromBufferAttribute(a,r),!0===s.isSkinnedMesh&&(s.boneTransform(e,l),s.boneTransform(t,c),s.boneTransform(r,u)),l.applyMatrix4(s.matrixWorld),c.applyMatrix4(s.matrixWorld),u.applyMatrix4(s.matrixWorld),function(e,t,r){d.subVectors(r,t),h.subVectors(e,t),d.cross(h).normalize(),p.copy(d).normalize(),!0===i?(n.setFloat32(o,p.x,!0),o+=4,n.setFloat32(o,p.y,!0),o+=4,n.setFloat32(o,p.z,!0),o+=4):(n+="\tfacet normal "+p.x+" "+p.y+" "+p.z+"\n",n+="\t\touter loop\n")}(l,c,u),w(l),w(c),w(u),!0===i?(n.setUint16(o,0,!0),o+=2):(n+="\t\tendloop\n",n+="\tendfacet\n")}function w(e){!0===i?(n.setFloat32(o,e.x,!0),o+=4,n.setFloat32(o,e.y,!0),o+=4,n.setFloat32(o,e.z,!0),o+=4):n+="\t\t\tvertex "+e.x+" "+e.y+" "+e.z+"\n"}},e}(),$k=function(e){var t=e.scale,n=void 0===t?1:t,i=e.visible,a=void 0!==i&&i,o=e.geometry,s=e.meshProps,l=e.materialProps,c=l.opacity,u=void 0===c?1:c,d=tA(l,["opacity"]),h=e.onLoaded,p=tA(e,["scale","visible","geometry","meshProps","materialProps","onLoaded"]),f=(0,r.useRef)(null),m=(0,r.useRef)(null),v=(0,r.useState)(!1),g=v[0],y=v[1];return(0,r.useEffect)((function(){y(!0)}),[o]),lk((function(){var e;if(g&&null!=o.boundingSphere&&null!=f.current&&null!=m.current){(new jg).setFromObject(f.current);var t=null!==(e=o.boundingBox)&&void 0!==e?e:{min:{x:0,y:0,z:0},max:{x:0,y:0,z:0}},n=t.min,i=t.max;o.computeVertexNormals();var r={width:i.x-n.x,length:i.y-n.y,height:i.z-n.z};o.applyMatrix4((new sy).makeTranslation(-n.x-r.width/2,-n.y-r.length/2,-n.z-r.height/2)),h(eA(eA({},r),{boundingRadius:o.boundingSphere.radius}),f.current,m.current),y(!1)}})),r.createElement("group",eA({ref:m},p),r.createElement("mesh",eA({ref:f,scale:[n,n,n],castShadow:!0},s),r.createElement("primitive",{object:o,attach:"geometry"}),r.createElement("meshStandardMaterial",eA({side:mp,opacity:a?u:0},d))))},Qk=Math.pow(2,16),eO=function(e){var t=e.visible,n=void 0!==t&&t,i=e.width,a=e.length,o=e.noShadow,s=void 0!==o&&o,l=e.offset,c=void 0===l?0:l,u=tA(e,["visible","width","length","noShadow","offset"]),d=[(null!==i&&void 0!==i?i:0)/2,(null!==a&&void 0!==a?a:0)/2,-c],h=[null!==i&&void 0!==i?i:Qk,null!==a&&void 0!==a?a:Qk,Math.floor((null!==i&&void 0!==i?i:20)/20),Math.floor((null!==a&&void 0!==a?a:20)/20)];return n?r.createElement("group",eA({},u),null!=i&&null!=a&&r.createElement("mesh",{receiveShadow:!0,position:d},r.createElement("planeGeometry",{args:h}),r.createElement("meshStandardMaterial",{wireframe:!0,color:"#777"})),!s&&r.createElement("mesh",{receiveShadow:!0,position:d},r.createElement("planeGeometry",{args:h}),r.createElement("shadowMaterial",{opacity:.2}))):null},tO=function(e){var t=e.offsetX,n=void 0===t?0:t,i=e.offsetY,a=void 0===i?0:i,o=e.offsetZ,s=void 0===o?0:o,l=e.distance;return r.createElement(r.Fragment,null,r.createElement("ambientLight",null),r.createElement("spotLight",{castShadow:!0,position:[n,a,l+s]}),[[-l+n,a,l+s],[n,-l+a,l+s],[n,l+a,s]].map((function(e,t){return r.createElement("directionalLight",{key:t,intensity:2,position:e})})))};function nO(e,t,n){return Math.max(Math.min(t,n),e)}var iO=.01;function rO(e){var t=nO(-Math.PI/2+iO,e.latitude,Math.PI/2-iO),n=nO(-Math.PI+iO,e.longitude,Math.PI-iO);return[e.distance*Math.cos(t)*Math.sin(n),-e.distance*Math.cos(n)*Math.cos(t),e.distance*Math.sin(t)]}var aO=function(e){var t=e.initialPosition,n=e.center,i=tA(e,["initialPosition","center"]),a=sk().camera;return(0,r.useEffect)((function(){a.up.applyAxisAngle(new Og(1,0,0),Math.PI/2)}),[a]),(0,r.useEffect)((function(){var e=rO(t);a.position.set(e[0]+n[0],e[1]+n[1],e[2]+n[2]),a.lookAt.apply(a,n)}),[a,n]),r.createElement("perspectiveCamera",eA({near:1,far:1e3},i))};function oO(e){return oO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oO(e)}function sO(e){var t=function(e,t){if("object"!==oO(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==oO(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===oO(t)?t:String(t)}function lO(e,t,n){return(t=sO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const cO=(e,t)=>(e%t+t)%t;let uO=class extends Bv{constructor(e,t){super(),lO(this,"object",void 0),lO(this,"domElement",void 0),lO(this,"enabled",!0),lO(this,"target",new Og),lO(this,"minDistance",0),lO(this,"maxDistance",1/0),lO(this,"minZoom",0),lO(this,"maxZoom",1/0),lO(this,"minPolarAngle",0),lO(this,"maxPolarAngle",Math.PI),lO(this,"minAzimuthAngle",-1/0),lO(this,"maxAzimuthAngle",1/0),lO(this,"enableDamping",!1),lO(this,"dampingFactor",.05),lO(this,"enableZoom",!0),lO(this,"zoomSpeed",1),lO(this,"enableRotate",!0),lO(this,"rotateSpeed",1),lO(this,"enablePan",!0),lO(this,"panSpeed",1),lO(this,"screenSpacePanning",!0),lO(this,"keyPanSpeed",7),lO(this,"autoRotate",!1),lO(this,"autoRotateSpeed",2),lO(this,"reverseOrbit",!1),lO(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),lO(this,"mouseButtons",{LEFT:ip.ROTATE,MIDDLE:ip.DOLLY,RIGHT:ip.PAN}),lO(this,"touches",{ONE:rp.ROTATE,TWO:rp.DOLLY_PAN}),lO(this,"target0",void 0),lO(this,"position0",void 0),lO(this,"zoom0",void 0),lO(this,"_domElementKeyEvents",null),lO(this,"getPolarAngle",void 0),lO(this,"getAzimuthalAngle",void 0),lO(this,"setPolarAngle",void 0),lO(this,"setAzimuthalAngle",void 0),lO(this,"getDistance",void 0),lO(this,"listenToKeyEvents",void 0),lO(this,"saveState",void 0),lO(this,"reset",void 0),lO(this,"update",void 0),lO(this,"connect",void 0),lO(this,"dispose",void 0),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof tx?this.object.zoom:1,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=e=>{let t=cO(e,2*Math.PI),i=c.phi;i<0&&(i+=2*Math.PI),t<0&&(t+=2*Math.PI);let r=Math.abs(t-i);2*Math.PI-r<r&&(t<i?t+=2*Math.PI:i+=2*Math.PI),u.phi=t-i,n.update()},this.setAzimuthalAngle=e=>{let t=cO(e,2*Math.PI),i=c.theta;i<0&&(i+=2*Math.PI),t<0&&(t+=2*Math.PI);let r=Math.abs(t-i);2*Math.PI-r<r&&(t<i?t+=2*Math.PI:i+=2*Math.PI),u.theta=t-i,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=e=>{e.addEventListener("keydown",q),this._domElementKeyEvents=e},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object instanceof tx?n.object.zoom:1},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object instanceof tx&&(n.object.zoom=n.zoom0,n.object.updateProjectionMatrix()),n.dispatchEvent(i),n.update(),s=o.NONE},this.update=(()=>{const t=new Og,r=(new kg).setFromUnitVectors(e.up,new Og(0,1,0)),a=r.clone().invert(),f=new Og,m=new kg,v=2*Math.PI;return function(){const e=n.object.position;t.copy(e).sub(n.target),t.applyQuaternion(r),c.setFromVector3(t),n.autoRotate&&s===o.NONE&&C(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(c.theta+=u.theta*n.dampingFactor,c.phi+=u.phi*n.dampingFactor):(c.theta+=u.theta,c.phi+=u.phi);let g=n.minAzimuthAngle,y=n.maxAzimuthAngle;return isFinite(g)&&isFinite(y)&&(g<-Math.PI?g+=v:g>Math.PI&&(g-=v),y<-Math.PI?y+=v:y>Math.PI&&(y-=v),c.theta=g<=y?Math.max(g,Math.min(y,c.theta)):c.theta>(g+y)/2?Math.max(g,c.theta):Math.min(y,c.theta)),c.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,c.phi)),c.makeSafe(),c.radius*=d,c.radius=Math.max(n.minDistance,Math.min(n.maxDistance,c.radius)),!0===n.enableDamping?n.target.addScaledVector(h,n.dampingFactor):n.target.add(h),t.setFromSpherical(c),t.applyQuaternion(a),e.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(u.theta*=1-n.dampingFactor,u.phi*=1-n.dampingFactor,h.multiplyScalar(1-n.dampingFactor)):(u.set(0,0,0),h.set(0,0,0)),d=1,!!(p||f.distanceToSquared(n.object.position)>l||8*(1-m.dot(n.object.quaternion))>l)&&(n.dispatchEvent(i),f.copy(n.object.position),m.copy(n.object.quaternion),p=!1,!0)}})(),this.connect=e=>{e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),n.domElement=e,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",Y),n.domElement.addEventListener("pointerdown",B),n.domElement.addEventListener("pointercancel",W),n.domElement.addEventListener("wheel",G)},this.dispose=()=>{var e,t,i,r,a,o;null===(e=n.domElement)||void 0===e||e.removeEventListener("contextmenu",Y),null===(t=n.domElement)||void 0===t||t.removeEventListener("pointerdown",B),null===(i=n.domElement)||void 0===i||i.removeEventListener("pointercancel",W),null===(r=n.domElement)||void 0===r||r.removeEventListener("wheel",G),null===(a=n.domElement)||void 0===a||a.ownerDocument.removeEventListener("pointermove",H),null===(o=n.domElement)||void 0===o||o.ownerDocument.removeEventListener("pointerup",V),null!==n._domElementKeyEvents&&n._domElementKeyEvents.removeEventListener("keydown",q)};const n=this,i={type:"change"},r={type:"start"},a={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let s=o.NONE;const l=1e-6,c=new pN,u=new pN;let d=1;const h=new Og;let p=!1;const f=new Qv,m=new Qv,v=new Qv,g=new Qv,y=new Qv,b=new Qv,x=new Qv,_=new Qv,w=new Qv,S=[],M={};function E(){return Math.pow(.95,n.zoomSpeed)}function C(e){n.reverseOrbit?u.theta+=e:u.theta-=e}function T(e){n.reverseOrbit?u.phi+=e:u.phi-=e}const N=(()=>{const e=new Og;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),h.add(e)}})(),A=(()=>{const e=new Og;return function(t,i){!0===n.screenSpacePanning?e.setFromMatrixColumn(i,1):(e.setFromMatrixColumn(i,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),h.add(e)}})(),k=(()=>{const e=new Og;return function(t,i){const r=n.domElement;if(r&&n.object instanceof tx&&n.object.isPerspectiveCamera){const a=n.object.position;e.copy(a).sub(n.target);let o=e.length();o*=Math.tan(n.object.fov/2*Math.PI/180),N(2*t*o/r.clientHeight,n.object.matrix),A(2*i*o/r.clientHeight,n.object.matrix)}else r&&n.object instanceof Nx&&n.object.isOrthographicCamera?(N(t*(n.object.right-n.object.left)/n.object.zoom/r.clientWidth,n.object.matrix),A(i*(n.object.top-n.object.bottom)/n.object.zoom/r.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function O(e){n.object instanceof tx&&n.object.isPerspectiveCamera?d/=e:n.object instanceof Nx&&n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*e)),n.object.updateProjectionMatrix(),p=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function P(e){n.object instanceof tx&&n.object.isPerspectiveCamera?d*=e:n.object instanceof Nx&&n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/e)),n.object.updateProjectionMatrix(),p=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function R(e){f.set(e.clientX,e.clientY)}function j(e){g.set(e.clientX,e.clientY)}function L(){if(1==S.length)f.set(S[0].pageX,S[0].pageY);else{const e=.5*(S[0].pageX+S[1].pageX),t=.5*(S[0].pageY+S[1].pageY);f.set(e,t)}}function I(){if(1==S.length)g.set(S[0].pageX,S[0].pageY);else{const e=.5*(S[0].pageX+S[1].pageX),t=.5*(S[0].pageY+S[1].pageY);g.set(e,t)}}function D(){const e=S[0].pageX-S[1].pageX,t=S[0].pageY-S[1].pageY,n=Math.sqrt(e*e+t*t);x.set(0,n)}function F(e){if(1==S.length)m.set(e.pageX,e.pageY);else{const t=K(e),n=.5*(e.pageX+t.x),i=.5*(e.pageY+t.y);m.set(n,i)}v.subVectors(m,f).multiplyScalar(n.rotateSpeed);const t=n.domElement;t&&(C(2*Math.PI*v.x/t.clientHeight),T(2*Math.PI*v.y/t.clientHeight)),f.copy(m)}function U(e){if(1==S.length)y.set(e.pageX,e.pageY);else{const t=K(e),n=.5*(e.pageX+t.x),i=.5*(e.pageY+t.y);y.set(n,i)}b.subVectors(y,g).multiplyScalar(n.panSpeed),k(b.x,b.y),g.copy(y)}function z(e){const t=K(e),i=e.pageX-t.x,r=e.pageY-t.y,a=Math.sqrt(i*i+r*r);_.set(0,a),w.set(0,Math.pow(_.y/x.y,n.zoomSpeed)),O(w.y),x.copy(_)}function B(e){if(!1!==n.enabled){var t,i;if(0===S.length)null===(t=n.domElement)||void 0===t||t.ownerDocument.addEventListener("pointermove",H),null===(i=n.domElement)||void 0===i||i.ownerDocument.addEventListener("pointerup",V);!function(e){S.push(e)}(e),"touch"===e.pointerType?function(e){switch(Z(e),S.length){case 1:switch(n.touches.ONE){case rp.ROTATE:if(!1===n.enableRotate)return;L(),s=o.TOUCH_ROTATE;break;case rp.PAN:if(!1===n.enablePan)return;I(),s=o.TOUCH_PAN;break;default:s=o.NONE}break;case 2:switch(n.touches.TWO){case rp.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&D(),n.enablePan&&I(),s=o.TOUCH_DOLLY_PAN;break;case rp.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&D(),n.enableRotate&&L(),s=o.TOUCH_DOLLY_ROTATE;break;default:s=o.NONE}break;default:s=o.NONE}s!==o.NONE&&n.dispatchEvent(r)}(e):function(e){let t;switch(e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case ip.DOLLY:if(!1===n.enableZoom)return;!function(e){x.set(e.clientX,e.clientY)}(e),s=o.DOLLY;break;case ip.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;j(e),s=o.PAN}else{if(!1===n.enableRotate)return;R(e),s=o.ROTATE}break;case ip.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;R(e),s=o.ROTATE}else{if(!1===n.enablePan)return;j(e),s=o.PAN}break;default:s=o.NONE}s!==o.NONE&&n.dispatchEvent(r)}(e)}}function H(e){!1!==n.enabled&&("touch"===e.pointerType?function(e){switch(Z(e),s){case o.TOUCH_ROTATE:if(!1===n.enableRotate)return;F(e),n.update();break;case o.TOUCH_PAN:if(!1===n.enablePan)return;U(e),n.update();break;case o.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&z(e),n.enablePan&&U(e)}(e),n.update();break;case o.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&z(e),n.enableRotate&&F(e)}(e),n.update();break;default:s=o.NONE}}(e):function(e){if(!1===n.enabled)return;switch(s){case o.ROTATE:if(!1===n.enableRotate)return;!function(e){m.set(e.clientX,e.clientY),v.subVectors(m,f).multiplyScalar(n.rotateSpeed);const t=n.domElement;t&&(C(2*Math.PI*v.x/t.clientHeight),T(2*Math.PI*v.y/t.clientHeight)),f.copy(m),n.update()}(e);break;case o.DOLLY:if(!1===n.enableZoom)return;!function(e){_.set(e.clientX,e.clientY),w.subVectors(_,x),w.y>0?O(E()):w.y<0&&P(E()),x.copy(_),n.update()}(e);break;case o.PAN:if(!1===n.enablePan)return;!function(e){y.set(e.clientX,e.clientY),b.subVectors(y,g).multiplyScalar(n.panSpeed),k(b.x,b.y),g.copy(y),n.update()}(e)}}(e))}function V(e){var t,i,r;(X(e),0===S.length)&&(null===(t=n.domElement)||void 0===t||t.releasePointerCapture(e.pointerId),null===(i=n.domElement)||void 0===i||i.ownerDocument.removeEventListener("pointermove",H),null===(r=n.domElement)||void 0===r||r.ownerDocument.removeEventListener("pointerup",V));n.dispatchEvent(a),s=o.NONE}function W(e){X(e)}function G(e){!1===n.enabled||!1===n.enableZoom||s!==o.NONE&&s!==o.ROTATE||(e.preventDefault(),n.dispatchEvent(r),function(e){e.deltaY<0?P(E()):e.deltaY>0&&O(E()),n.update()}(e),n.dispatchEvent(a))}function q(e){!1!==n.enabled&&!1!==n.enablePan&&function(e){let t=!1;switch(e.code){case n.keys.UP:k(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:k(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:k(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:k(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}(e)}function Y(e){!1!==n.enabled&&e.preventDefault()}function X(e){delete M[e.pointerId];for(let t=0;t<S.length;t++)if(S[t].pointerId==e.pointerId)return void S.splice(t,1)}function Z(e){let t=M[e.pointerId];void 0===t&&(t=new Qv,M[e.pointerId]=t),t.set(e.pageX,e.pageY)}function K(e){const t=e.pointerId===S[0].pointerId?S[1]:S[0];return M[t.pointerId]}void 0!==t&&this.connect(t),this.update()}};var dO=function(e){var t,n=sk((function(e){return e.camera})),i=r.useMemo((function(){return new uO(n)}),[n]),a=sk((function(e){return e.gl})),o=null!==(t=sk((function(e){return e.events})).connected)&&void 0!==t?t:a.domElement;return(0,r.useEffect)((function(){return i.connect(o),function(){return i.dispose()}})),lk((function(){i.update()}),-1),r.createElement("primitive",eA({object:i},e))},hO=Math.PI/8,pO=-Math.PI/8,fO=new Ky("white"),mO=function(e){var t=e.url,n=e.extraHeaders,i=e.shadows,a=void 0!==i&&i,o=e.showAxes,s=void 0!==o&&o,l=e.orbitControls,c=void 0!==l&&l,u=e.onFinishLoading,d=void 0===u?function(){}:u,h=e.cameraInitialPosition,p=void 0===h?{}:h,f=p.latitude,m=p.longitude,v=p.distance,g=e.cameraProps,y=void 0===g?{}:g,b=y.ref,x=y.initialPosition,_=void 0===x?{}:x,w=_.latitude,S=void 0===w?hO:w,M=_.longitude,E=void 0===M?pO:M,C=_.distance,T=void 0===C?void 0:C,N=e.modelProps,A=void 0===N?{}:N,k=A.ref,O=A.scale,P=void 0===O?1:O,R=A.positionX,j=A.positionY,L=A.rotationX,I=void 0===L?0:L,D=A.rotationY,F=void 0===D?0:D,U=A.rotationZ,z=void 0===U?0:U,B=A.color,H=void 0===B?"grey":B,V=A.geometryProcessor,W=e.floorProps,G=void 0===W?{}:W,q=G.gridWidth,Y=G.gridLength,X=sk().camera,Z=(0,r.useState)(),K=Z[0],J=Z[1],$=(0,r.useState)({width:0,height:0,length:0,boundingRadius:0}),Q=$[0],ee=$[1],te=(0,r.useState)(),ne=te[0],ie=te[1],re=(0,r.useState)([0,0,0]),ae=re[0],oe=re[1],se=(0,r.useState)(!1),le=se[0],ce=se[1];(0,r.useEffect)((function(){ce(!1)}),[t]);var ue=dk(Kk,t,(function(e){return e.setRequestHeader(null!==n&&void 0!==n?n:{})})),de=(0,r.useMemo)((function(){var e;return null!==(e=null===V||void 0===V?void 0:V(ue))&&void 0!==e?e:ue}),[ue,V]);function he(e,t){var n=Math.max(null!==q&&void 0!==q?q:0,null!==Y&&void 0!==Y?Y:0);return n>0?n*(null!==t&&void 0!==t?t:1):e*(null!==t&&void 0!==t?t:3)}(0,r.useEffect)((function(){null!=b&&(b.current={setCameraPosition:function(e){var t=e.latitude,n=e.longitude,i=e.distance,r=rO({latitude:t,longitude:n,distance:he(Q.boundingRadius,i)}),a=r[0],o=r[1],s=r[2],l=ae[0],c=ae[1],u=ae[2];X.position.set(a+l,o+c,s+u),X.lookAt(l,c,u)}})}),[X,b,ae,Q]),(0,r.useEffect)((function(){null!=k&&null!=K&&(k.current={save:function(){return new Blob([(new Jk).parse(K,{binary:!0})],{type:"application/octet-stream"})},model:K})}),[K,k]),lk((function(e){var t=e.scene,n=t.getObjectByName("mesh"),i=t.getObjectByName("group"),r=(new jg).setFromObject(n),a=r.max.z-r.min.z;i.position.z=a/2}));var pe=[null!==R&&void 0!==R?R:Q.width*P/2,null!==j&&void 0!==j?j:Q.length*P/2,0];return r.createElement(r.Fragment,null,r.createElement("scene",{background:fO}),le&&s&&r.createElement("axesHelper",{scale:[50,50,50]}),null!=ne&&r.createElement(aO,{initialPosition:ne,center:ae}),r.createElement($k,{name:"group",meshProps:{name:"mesh"},scale:P,geometry:de,position:pe,rotation:[I,F,z],visible:le,materialProps:{color:H},onLoaded:function(e,t){J(t);var n=e.width,i=e.length,r=e.height,a=e.boundingRadius;ee(e),oe([null!==R&&void 0!==R?R:n/2,null!==j&&void 0!==j?j:i/2,r/2]),ie({latitude:null!==f&&void 0!==f?f:S,longitude:null!==m&&void 0!==m?m:E,distance:he(a,null!==v&&void 0!==v?v:T)}),d(e),setTimeout((function(){return ce(!0)}),100)}}),r.createElement(eO,{width:null!==q&&void 0!==q?q:Y,length:null!==Y&&void 0!==Y?Y:q,visible:le,noShadow:!a,offset:.4}),r.createElement(tO,{distance:350,offsetX:pe[0],offsetY:pe[1]}),le&&c&&r.createElement(dO,{target:ae}))},vO=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={message:""},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}QN(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.shouldComponentUpdate=function(e,t,n){return""===this.state.message&&""!==t.message&&null!=e.onError&&e.onError(new Error(t.message)),!0},t.getDerivedStateFromError=function(e){return{message:e.message}},t.prototype.componentDidCatch=function(){},t.prototype.render=function(){return""!==this.state.message?null:this.props.children},t}(r.Component),gO=function(e){var t=e.url,n=e.cameraProps,i=e.modelProps,a=e.floorProps,o=e.children,s=e.onError,l=e.extraHeaders,c=e.onFinishLoading,u=e.canvasId,d=e.shadows,h=e.showAxes,p=e.orbitControls,f=e.cameraInitialPosition,m=tA(e,["url","cameraProps","modelProps","floorProps","children","onError","extraHeaders","onFinishLoading","canvasId","shadows","showAxes","orbitControls","cameraInitialPosition"]),v={url:t,cameraProps:n,modelProps:i,floorProps:a,extraHeaders:l,onFinishLoading:c,shadows:d,showAxes:h,orbitControls:p,cameraInitialPosition:f};return r.createElement("div",eA({},m),r.createElement(vO,{onError:s},r.createElement(r.Suspense,{fallback:null},r.createElement(Zk,{shadows:!0,gl:{preserveDrawingBuffer:!0,shadowMapType:dp,antialias:!0},id:u,style:{width:"100%",height:"100%"}},r.createElement(mO,eA({},v)),o))))};n.p;const yO=n.p+"static/media/notfound.994b680a4e60621c9ed4.png",bO=()=>(0,hr.jsxs)("div",{className:"page-not-found",children:[(0,hr.jsx)("div",{className:"image",children:(0,hr.jsx)("img",{src:yO,alt:""})}),(0,hr.jsx)("div",{className:"title mb-2",children:"NO RECORD FOUND!"}),(0,hr.jsx)("div",{className:"title",children:(0,hr.jsx)(Lt,{className:"title",to:"/dashboard",children:"GO BACK"})})]}),xO=n.p+"static/media/NotAuth.bcec07b2c4a9f601963a.png",_O=()=>(0,hr.jsxs)("div",{className:"page-not-found",children:[(0,hr.jsx)("div",{className:"mb-2 image",children:(0,hr.jsx)("img",{src:xO})}),(0,hr.jsx)("div",{className:"title mb-2",children:"YOU ARR NOT AUTHORIZED"}),(0,hr.jsx)("div",{className:"title",children:(0,hr.jsx)(Lt,{className:"title",to:"/dashboard",children:"GO BACK "})})]});function wO(e){return Er({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M8,11 C10.7614237,11 13,8.76142375 13,6 C13,3.23857625 10.7614237,1 8,1 C5.23857625,1 3,3.23857625 3,6 C3,8.76142375 5.23857625,11 8,11 Z M13.0233822,13.0234994 C11.7718684,11.7594056 10.0125018,11 8,11 C4,11 1,14 1,18 L1,23 L8,23 M10,19.5 C10,20.88 11.12,22 12.5,22 C13.881,22 15,20.88 15,19.5 C15,18.119 13.881,17 12.5,17 C11.12,17 10,18.119 10,19.5 L10,19.5 Z M23,15 L20,12 L14,18 M17.5,14.5 L20.5,17.5 L17.5,14.5 Z"},child:[]}]})(e)}function SO(e){return Er({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M12,21 C7,21 1,16 1,12 C1,8 7,3 12,3 C17,3 23,8 23,12 C23,16 17,21 12,21 Z M12,7 C9.23875,7 7,9.23875 7,12 C7,14.76125 9.23875,17 12,17 C14.76125,17 17,14.76125 17,12 C17,9.23875 14.76125,7 12,7 L12,7 Z"},child:[]}]})(e)}const MO=n.p+"static/media/dummy.e1af1cba27afc30ee261.jpeg";var EO=n(8786);const CO=n.p+"static/media/logo.9a6196552cdc5f7018bf.png";var TO=n(3769);const NO=()=>{const e=tt(),{currentUser:t,isReadNot:n,updateIsReadNot:i}=(0,r.useContext)(pr),a=null===t||void 0===t?void 0:t.role_name,[o,s]=(0,r.useState)([]),[l,c]=(null===t||void 0===t||t.permissions,(0,r.useState)([])),[u,d]=(0,r.useState)(!1),[h,p]=(0,r.useState)([]),f=async e=>{let t=1;e&&e.page&&(t=e.page);try{var n;d(!0);const e=await ea.getNotifications(t);if(200==(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.status)){var i,r,a,o;p(e.data.data),s(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.data.data);const t=null===e||void 0===e||null===(r=e.data)||void 0===r||null===(a=r.data)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.map(((e,t)=>({index:t+1,id:null===e||void 0===e?void 0:e.guid,isRead:null===e||void 0===e?void 0:e.is_read,isReadAdmin:null===e||void 0===e?void 0:e.is_read_admin,isReadCase:null===e||void 0===e?void 0:e.is_read_case_submission,url:e.url_action,title:e.title,body:e.body,created_at:Hh()(e.created_at).format("dddd, MMMM Do YYYY, h:mm:ss A")})));c(t),d(!1)}}catch(h){var l,u;ir.error(null===h||void 0===h||null===(l=h.result)||void 0===l||null===(u=l.data)||void 0===u?void 0:u.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{d(!1)}};(0,r.useEffect)((()=>{f(1)}),[]);const m=[{name:"#",selector:e=>e.index,sortable:!0},{name:"Title",selector:e=>e.title,sortable:!0},{name:"Text",selector:e=>e.body,sortable:!0},{name:"Created",selector:e=>e.created_at,sortable:!0},{name:"Action",cell:t=>(0,hr.jsx)("div",{className:"icons__parent",children:(0,hr.jsx)(Lt,{title:"View User",className:"button-icon",onClick:()=>(async(t,r)=>{d(!0);try{var a;const l=await ea.getNotificationDetail(t);var o,s;200==(null===l||void 0===l||null===(a=l.data)||void 0===a?void 0:a.status)?(i(!n),e("/case-detail/".concat(r)),d(!1)):("Unauthenticated."==(null===l||void 0===l||null===(o=l.data)||void 0===o?void 0:o.message)&&e("/login"),ir.error(null===l||void 0===l||null===(s=l.data)||void 0===s?void 0:s.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0}))}catch(u){var l,c;ir.error(null===u||void 0===u||null===(l=u.result)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{d(!1)}})(null===t||void 0===t?void 0:t.id,t.url),children:(0,hr.jsx)(SO,{})})}),ignoreRowClick:!0,allowOverflow:!0,button:!0}],v=[{when:e=>"1"==e.isRead&&"super_admin"!==a&&"case_submission"!==a,style:{backgroundColor:"#ffffff"},classNames:["read-notification"]},{when:e=>"0"==e.isRead&&"super_admin"!==a&&"case_submission"!==a,style:{backgroundColor:"#ddd"},classNames:["unread-notification"]},{when:e=>"1"==e.isReadAdmin&&"super_admin"==a,style:{backgroundColor:"#ffffff"},classNames:["read-notification"]},{when:e=>"0"==e.isReadAdmin&&"super_admin"==a,style:{backgroundColor:"#ddd"},classNames:["unread-notification"]},{when:e=>"1"==e.isReadCase&&"case_submission"==a,style:{backgroundColor:"#ffffff"},classNames:["read-notification"]},{when:e=>"0"==e.isReadCase&&"case_submission"==a,style:{backgroundColor:"#ddd"},classNames:["unread-notification"]}];return(0,hr.jsxs)("div",{className:"users-wrapper",children:[(0,hr.jsx)("div",{className:"d-flex justify-content-end mb-3",children:(0,hr.jsx)("button",{className:"button",onClick:async()=>{d(!0);try{var t;const r=await ea.readAllNotifications();var n,i;if(200==(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.status))f(1);else"Unauthenticated."==(null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)&&e("/login"),ir.error(null===r||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(o){var r,a;ir.error(null===o||void 0===o||null===(r=o.result)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{d(!1)}},children:"Read All Notifications"})}),u&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)(dr,{}),(0,hr.jsx)(EO.Ay,{columns:m,data:l,conditionalRowStyles:v}),(0,hr.jsx)(TO.d,{changePage:f,data:h})]})};function AO(e){return Er({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}const kO=()=>{var e;const{currentUser:t}=(0,r.useContext)(pr),[n,i]=(null===t||void 0===t||null===(e=t.roles[0])||void 0===e||e.name,(0,r.useState)([])),a=null===t||void 0===t?void 0:t.permissions,[o,s]=(0,r.useState)([]),[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)([]),[h,p]=(0,r.useState)(""),f=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;d([]),s([]);let t=1;e&&e.page&&(t=e.page);try{var n;c(!0);const e=await ki.getUsers(t,h);if(200==(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.status)){var r,a,o,l;d(e.data.data),i(null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.data.data);const t=null===e||void 0===e||null===(a=e.data)||void 0===a||null===(o=a.data)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.map((e=>({id:e.guid,firstname:e.first_name,lastname:e.last_name,email:e.email,userId:e.username,image:null!==e&&void 0!==e&&e.profile_pic?"".concat("http://localhost:8000","/uploads/").concat(null===e||void 0===e?void 0:e.profile_pic):CO})));s(t),c(!1)}}catch(f){var u,p;ir.error(null===f||void 0===f||null===(u=f.result)||void 0===u||null===(p=u.data)||void 0===p?void 0:p.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{c(!1)}};(0,r.useEffect)((()=>{f(1)}),[]);const m=[{name:"First Name",selector:e=>e.firstname,sortable:!0},{name:"Last Name",selector:e=>e.lastname,sortable:!0},{name:"Email",selector:e=>e.email,sortable:!0},{name:"User id",selector:e=>e.userId,sortable:!0},{name:"Profile",selector:e=>(0,hr.jsx)("img",{className:"user_profile",src:e.image}),sortable:!0},{name:"Action",cell:e=>(0,hr.jsxs)("div",{className:"icons__parent",children:[(null===a||void 0===a?void 0:a.includes("users-update"))&&(0,hr.jsx)(Lt,{title:"Edit User",className:"button-icon",to:"/edit-user/".concat(e.id),children:(0,hr.jsx)(AO,{})}),(null===a||void 0===a?void 0:a.includes("users-update"))&&(0,hr.jsx)(Lt,{title:"View User",className:"button-icon",to:"/user-detail/".concat(e.id),children:(0,hr.jsx)(SO,{})}),(null===a||void 0===a?void 0:a.includes("users-delete"))&&(0,hr.jsx)("div",{title:"Delete User",className:"button-icon",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this user?")){c(!0);try{var t;const r=await ki.deleteUser(e);var n,i;200==(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.status)?(ir.error(null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0}),f()):ir.error(null===r||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(o){var r,a;ir.error(null===o||void 0===o||null===(r=o.result)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{c(!1)}}})(e.id),children:(0,hr.jsx)(Gr,{})})]}),ignoreRowClick:!0,allowOverflow:!0,button:!0}];return(0,hr.jsxs)("div",{className:"users-wrapper",children:[l&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)(dr,{}),(0,hr.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,hr.jsxs)("div",{className:"d-flex gap-3",children:[(0,hr.jsx)("input",{type:"text",placeholder:"Search user by name or email",className:"input search-input",value:h,onChange:e=>p(e.target.value)}),(0,hr.jsx)("button",{className:"button",onClick:f,children:"Filter"})]}),(null===a||void 0===a?void 0:a.includes("users-store"))&&(0,hr.jsx)(Lt,{to:"/create-user",className:"button",children:"Create New User "})]}),(0,hr.jsx)(EO.Ay,{columns:m,data:o}),(0,hr.jsx)(TO.d,{changePage:f,data:u})]})},OO=()=>{const[e,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)(""),[a,o]=(0,r.useState)(""),[s,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[d,h]=(0,r.useState)(""),[p,f]=(0,r.useState)(""),[m,v]=(0,r.useState)(""),[g,y]=(0,r.useState)(""),[b,x]=(0,r.useState)(""),[_,w]=(0,r.useState)(null),[S,M]=(0,r.useState)([]),[E,C]=(0,r.useState)([]),[T,N]=(0,r.useState)(""),[A,k]=(0,r.useState)([]),O=e=>{const{id:t,checked:n}=e.target,i=parseInt(t,10);k((e=>n?[...e,i]:e.filter((e=>e!==i))))},P=tt();(0,r.useEffect)((()=>{(async()=>{try{var e;const t=await ki.getRoles();var n;200==(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.status)&&M(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.data)}catch(a){var i,r;ir.error(null===a||void 0===a||null===(i=a.result)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{t(!1)}})()}),[]);return(0,r.useEffect)((()=>{(async()=>{try{var e;const t=await ki.getPermissions();var n;200==(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.status)&&C(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.data)}catch(a){var i,r;ir.error(null===a||void 0===a||null===(i=a.result)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{t(!1)}})()}),[]),(0,hr.jsxs)("div",{className:"form-wrapper",children:[(0,hr.jsx)(dr,{}),e&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)("div",{className:"title",children:"Create user"}),(0,hr.jsxs)("div",{className:"row",children:[(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["First Name ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsx)("input",{type:"text",className:"input",value:n,onChange:e=>i(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Last Name ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsx)("input",{type:"text",className:"input",value:a,onChange:e=>o(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["User id ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsx)("input",{type:"text",className:"input",value:c,onChange:e=>u(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Email"}),(0,hr.jsx)("input",{type:"text",className:"input",value:s,onChange:e=>l(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Monthly target (cases) ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsx)("input",{type:"text",className:"input",value:p,onChange:e=>f(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Country Name ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsx)("input",{type:"text",className:"input",value:d,onChange:e=>h(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Mobile Number"}),(0,hr.jsx)("input",{type:"text",className:"input",value:m,onChange:e=>v(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Password ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsx)("input",{type:"text",className:"input",value:g,onChange:e=>y(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Retype Password ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsx)("input",{type:"text",className:"input",value:b,onChange:e=>x(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Profile Image"}),(0,hr.jsx)("input",{type:"file",className:"input",onChange:e=>{const t=e.target.files[0];w(t)}})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"User role"}),(0,hr.jsxs)("select",{className:"input",value:T,onChange:e=>N(e.target.value),children:[(0,hr.jsx)("option",{value:"",children:"Please select role"}),null===S||void 0===S?void 0:S.map((e=>(0,hr.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name})))]})]})]}),(0,hr.jsx)("div",{className:"title",children:"Permissions"}),(0,hr.jsx)("div",{className:"permissions-wrapper",children:null===E||void 0===E?void 0:E.map((e=>(0,hr.jsxs)("div",{className:"checkboxx",children:[(0,hr.jsx)("input",{type:"checkbox",id:parseInt(e.id),onChange:O,checked:null===A||void 0===A?void 0:A.includes(parseInt(e.id))}),(0,hr.jsx)("label",{htmlFor:parseInt(e.id),children:e.name})]},null===e||void 0===e?void 0:e.id)))}),(0,hr.jsx)("div",{className:"d-flex justify-content-center my-3",children:(0,hr.jsx)("button",{className:"button",onClick:async()=>{try{const l=new FormData;if(n)if(a)if(g)if(b){var e;t(!0),n&&l.append("first_name",n),a&&l.append("last_name",a),c&&l.append("username",c),s&&l.append("email",s),d&&l.append("country_name",d),p&&l.append("monthly_target_cases",p),m&&l.append("mobile_number",m),_&&l.append("profile_pic",_),g&&l.append("password",g),b&&l.append("password_confirmation",b),T&&l.append("role_id",T),A&&(null===A||void 0===A||A.map(((e,t)=>{l.append("permissions[".concat(t,"]"),e)})));const u=await ki.addUser(l);var i,r,o;if(200==(null===u||void 0===u||null===(e=u.data)||void 0===e?void 0:e.status))ir.success(null===u||void 0===u||null===(i=u.data)||void 0===i?void 0:i.message,{autoClose:1e3,pauseOnHover:!0,draggable:!0}),setTimeout((()=>{P("/users")}),1300);else"Unauthenticated."==(null===u||void 0===u||null===(r=u.data)||void 0===r?void 0:r.success)&&P("/login"),ir.error(null===u||void 0===u||null===(o=u.data)||void 0===o?void 0:o.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}else ir.error("please re-enter password",{autoClose:2e3,pauseOnHover:!0,draggable:!0});else ir.error("please enter password",{autoClose:2e3,pauseOnHover:!0,draggable:!0});else ir.error("please enter last name",{autoClose:2e3,pauseOnHover:!0,draggable:!0});else ir.error("please enter first name",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(h){var l,u;ir.error(null===h||void 0===h||null===(l=h.result)||void 0===l||null===(u=l.data)||void 0===u?void 0:u.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{t(!1)}},children:"Create user "})})]})},PO=()=>{const{id:e}=it(),[t,n]=(0,r.useState)(!1),[i,a]=(0,r.useState)(""),[o,s]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),[h,p]=(0,r.useState)(""),[f,m]=(0,r.useState)(""),[v,g]=(0,r.useState)(""),[y,b]=(0,r.useState)(""),[x,_]=(0,r.useState)(""),[w,S]=(0,r.useState)(null),[M,E]=(0,r.useState)([]),[C,T]=(0,r.useState)([]),[N,A]=(0,r.useState)(""),[k,O]=(0,r.useState)([]),[P,R]=(0,r.useState)(""),j=tt(),{currentUser:L}=(0,r.useContext)(pr),I=null===L||void 0===L?void 0:L.role_name,D=e=>{const{id:t,checked:n}=e.target,i=parseInt(t,10);O((e=>n?[...e,i]:e.filter((e=>e!==i))))};(0,r.useEffect)((()=>{(async e=>{try{var t;const n=await ki.getUserDetail(e);var i,r,o,l,u,h,f,v,y,b,x,_,w,S,M,E,C,T,N,k,P,L,I,D,F;200==(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.status)?(a(null===n||void 0===n||null===(i=n.data)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.first_name),s(null===n||void 0===n||null===(o=n.data)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.last_name),d(null===n||void 0===n||null===(u=n.data)||void 0===u||null===(h=u.data)||void 0===h?void 0:h.email),c(null===n||void 0===n||null===(f=n.data)||void 0===f||null===(v=f.data)||void 0===v?void 0:v.username),p(null===n||void 0===n||null===(y=n.data)||void 0===y||null===(b=y.data)||void 0===b?void 0:b.country_name),m(null===n||void 0===n||null===(x=n.data)||void 0===x||null===(_=x.data)||void 0===_?void 0:_.monthly_target_cases),g(null===n||void 0===n||null===(w=n.data)||void 0===w||null===(S=w.data)||void 0===S?void 0:S.mobile_number),R(null===n||void 0===n||null===(M=n.data)||void 0===M||null===(E=M.data)||void 0===E?void 0:E.is_8_hours_enabled),A(null===n||void 0===n||null===(C=n.data)||void 0===C||null===(T=C.data)||void 0===T||null===(N=T.roles[0])||void 0===N?void 0:N.id),null===n||void 0===n||null===(k=n.data)||void 0===k||null===(P=k.data)||void 0===P||null===(L=P.roles[0])||void 0===L||null===(I=L.permissions)||void 0===I||I.forEach((e=>{O((t=>{const n=new Set(t);return n.add(parseInt(e.id)),Array.from(n)}))}))):("Unauthenticated."==(null===n||void 0===n||null===(D=n.data)||void 0===D?void 0:D.message)&&j("/login"),ir.error(null===n||void 0===n||null===(F=n.data)||void 0===F?void 0:F.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0}))}catch(B){var U,z;ir.error(null===B||void 0===B||null===(U=B.result)||void 0===U||null===(z=U.data)||void 0===z?void 0:z.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{n(!1)}})(e)}),[]);(0,r.useEffect)((()=>{(async()=>{try{var e;const n=await ki.getRoles();var t;200==(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.status)&&E(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.data)}catch(a){var i,r;ir.error(null===a||void 0===a||null===(i=a.result)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{n(!1)}})()}),[]);(0,r.useEffect)((()=>{(async()=>{try{var e;const n=await ki.getPermissions();var t;200==(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.status)&&T(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.data)}catch(a){var i,r;ir.error(null===a||void 0===a||null===(i=a.result)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{n(!1)}})()}),[]);return(0,hr.jsxs)("div",{className:"form-wrapper",children:[(0,hr.jsx)(dr,{}),t&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)("div",{className:"title",children:"Update user"}),"super_admin"==I&&(0,hr.jsx)("div",{className:"allow-times",children:(0,hr.jsx)("div",{className:"inner",children:(0,hr.jsxs)("div",{className:"for-group",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Express setup delivery allowed for this user? ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsxs)("select",{name:"",id:"",className:"input",value:P,onChange:e=>R(e.target.value),children:[(0,hr.jsx)("option",{value:"",children:"Select below"}),(0,hr.jsx)("option",{value:"1",children:"Yes"}),(0,hr.jsx)("option",{value:"0",children:"No"})]})]})})}),(0,hr.jsxs)("div",{className:"row",children:[(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["First Name ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsx)("input",{type:"text",className:"input",value:i,onChange:e=>a(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Last Name ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsx)("input",{type:"text",className:"input",value:o,onChange:e=>s(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["User Id ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsx)("input",{type:"text",className:"input",value:l,onChange:e=>c(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Email"}),(0,hr.jsx)("input",{type:"text",className:"input",value:u,onChange:e=>d(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Monthly target (cases) ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsx)("input",{type:"text",className:"input",value:f,onChange:e=>m(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Country Name ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsx)("input",{type:"text",className:"input",value:h,onChange:e=>p(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Mobile Number"}),(0,hr.jsx)("input",{type:"text",className:"input",value:v,onChange:e=>g(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Profile Image"}),(0,hr.jsx)("input",{type:"file",className:"input",onChange:e=>{const t=e.target.files[0];S(t)}})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"User role"}),(0,hr.jsxs)("select",{className:"input",value:N,onChange:e=>A(e.target.value),children:[(0,hr.jsx)("option",{value:"",children:"Please select role"}),null===M||void 0===M?void 0:M.map((e=>(0,hr.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name})))]})]})]}),(0,hr.jsx)("div",{className:"title",children:"Permissions"}),(0,hr.jsx)("div",{className:"permissions-wrapper",children:null===C||void 0===C?void 0:C.map((e=>(0,hr.jsxs)("div",{className:"checkboxx",children:[(0,hr.jsx)("input",{type:"checkbox",id:parseInt(e.id),onChange:D,checked:null===k||void 0===k?void 0:k.includes(parseInt(e.id))}),(0,hr.jsx)("label",{htmlFor:parseInt(e.id),children:e.name})]},null===e||void 0===e?void 0:e.id)))}),(0,hr.jsx)("div",{className:"d-flex justify-content-center my-3",children:(0,hr.jsx)("button",{className:"button",onClick:async()=>{try{const s=new FormData;if(i)if(o){var t;n(!0),i&&s.append("first_name",i),o&&s.append("last_name",o),l&&s.append("username",l),u&&s.append("email",u),h&&s.append("country_name",h),f&&s.append("monthly_target_cases",f),v&&s.append("mobile_number",v),w&&s.append("profile_pic",w),y&&s.append("password",y),x&&s.append("password_confirmation",x),N&&s.append("role_id",N),P&&s.append("is_8_hours_enabled",P),k&&(null===k||void 0===k||k.map(((e,t)=>{s.append("permissions[".concat(t,"]"),e)})));const c=await ki.updateUser(e,s);var r,a;if(200==(null===c||void 0===c||null===(t=c.data)||void 0===t?void 0:t.status))ir.success(null===c||void 0===c||null===(r=c.data)||void 0===r?void 0:r.message,{autoClose:1e3,pauseOnHover:!0,draggable:!0});else ir.error(null===c||void 0===c||null===(a=c.data)||void 0===a?void 0:a.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}else ir.error("please enter last name",{autoClose:2e3,pauseOnHover:!0,draggable:!0});else ir.error("please enter first name",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(d){var s,c;ir.error(null===d||void 0===d||null===(s=d.result)||void 0===s||null===(c=s.data)||void 0===c?void 0:c.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{n(!1)}},children:"Update user "})})]})};function RO(e){return Er({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M218.26,84.89a100.16,100.16,0,1,1-22.44-30.37l25.35-25.35a4,4,0,1,1,5.66,5.66l-96,96a4,4,0,0,1-5.66-5.66l31-31a44,44,0,1,0,15.78,31.3,4,4,0,0,1,8-.46,52,52,0,1,1-18.1-36.51l28.34-28.33A92,92,0,0,0,63,193.05,92,92,0,0,0,211,88.33a4,4,0,1,1,7.22-3.44Z"},child:[]}]})(e)}function jO(e){return Er({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M319.41,320,224,415.39,128.59,320C57.1,323.1,0,381.6,0,453.79A58.21,58.21,0,0,0,58.21,512H389.79A58.21,58.21,0,0,0,448,453.79C448,381.6,390.9,323.1,319.41,320ZM224,304A128,128,0,0,0,352,176V65.82a32,32,0,0,0-20.76-30L246.47,4.07a64,64,0,0,0-44.94,0L116.76,35.86A32,32,0,0,0,96,65.82V176A128,128,0,0,0,224,304ZM184,71.67a5,5,0,0,1,5-5h21.67V45a5,5,0,0,1,5-5h16.66a5,5,0,0,1,5,5V66.67H259a5,5,0,0,1,5,5V88.33a5,5,0,0,1-5,5H237.33V115a5,5,0,0,1-5,5H215.67a5,5,0,0,1-5-5V93.33H189a5,5,0,0,1-5-5ZM144,160H304v16a80,80,0,0,1-160,0Z"},child:[]}]})(e)}function LO(e){return Er({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(e)}const IO=()=>{var e;const t=tt(),{id:n}=it(),[i,a]=(0,r.useState)(!1),[o,s]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),[h,p]=(0,r.useState)(!1),[f,m]=(0,r.useState)({});(0,r.useEffect)((()=>{(async e=>{try{var n;const l=await ki.getUserDetail(e);var i,r,a,o,s;200==(null===l||void 0===l||null===(n=l.data)||void 0===n?void 0:n.status)?(m(null===l||void 0===l||null===(i=l.data)||void 0===i?void 0:i.data),d(null===l||void 0===l||null===(r=l.data)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.id)):("Unauthenticated."==(null===l||void 0===l||null===(o=l.data)||void 0===o?void 0:o.message)&&t("/login"),ir.error(null===l||void 0===l||null===(s=l.data)||void 0===s?void 0:s.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0}))}catch(u){var l,c;ir.error(null===u||void 0===u||null===(l=u.result)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{p(!1)}})(n)}),[n]);return(0,hr.jsxs)("div",{className:"users-wrapper",children:[i&&(0,hr.jsx)("div",{className:"modal-main",children:(0,hr.jsxs)("div",{className:"modal-wrapper change-pass",children:[(0,hr.jsx)("div",{className:"close",onClick:()=>a(!1),children:(0,hr.jsx)(ta,{})}),(0,hr.jsx)("div",{className:"title",children:"Update password"}),(0,hr.jsxs)("div",{className:"form-group mb-3",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Password"}),(0,hr.jsx)("input",{type:"text",className:"input",placeholder:"Enter password here",value:o,onChange:e=>s(e.target.value)})]}),(0,hr.jsxs)("div",{className:"form-group mb-3",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Confirm password"}),(0,hr.jsx)("input",{type:"text",className:"input",placeholder:"Enter password here",value:l,onChange:e=>c(e.target.value)})]}),(0,hr.jsx)("div",{className:"text-center",children:(0,hr.jsx)("button",{className:"button",onClick:()=>{(async()=>{try{const a=new FormData;if(o){var e;p(!0),o&&a.append("password",o),l&&a.append("password_confirmation",l),u&&a.append("user_id",u);const s=await ki.updatePasswordByAdmin(a);var n,i,r;200==(null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.status)?(ir.success(null===s||void 0===s||null===(n=s.data)||void 0===n?void 0:n.message,{autoClose:1e3,pauseOnHover:!0,draggable:!0}),setTimeout((()=>{t("/users")}),1300)):("Unauthenticated."==(null===s||void 0===s||null===(i=s.data)||void 0===i?void 0:i.success)&&t("/login"),ir.error(null===s||void 0===s||null===(r=s.data)||void 0===r?void 0:r.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0}))}else ir.error("please enter password",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(c){var a,s;ir.error(null===c||void 0===c||null===(a=c.result)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{p(!1)}})()},children:"Update"})})]})}),h&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)(dr,{}),(0,hr.jsxs)("div",{className:"user-details",children:[(0,hr.jsxs)("div",{className:"profile",children:[(0,hr.jsx)("div",{className:"change-password-wrapper",children:(0,hr.jsx)("button",{className:"button",onClick:()=>a(!0),children:"Update password for user"})}),null!==f&&void 0!==f&&f.profile_pic?(0,hr.jsx)("img",{src:"".concat("http://localhost:8000","/uploads/").concat(f.profile_pic)}):(0,hr.jsx)("img",{src:MO})]}),(0,hr.jsxs)("div",{className:"text",children:[(0,hr.jsx)(jO,{}),"  ",null===f||void 0===f?void 0:f.username]}),(0,hr.jsxs)("div",{className:"text",children:[(0,hr.jsx)(Jr,{}),"  ",null===f||void 0===f?void 0:f.email]}),(0,hr.jsxs)("div",{className:"text",children:[(0,hr.jsx)(RO,{}),"Monthly Target :  ",null===f||void 0===f?void 0:f.monthly_target_cases," cases"]}),(0,hr.jsxs)("div",{className:"text",children:[(0,hr.jsx)(Hr,{}),"  ",null===f||void 0===f?void 0:f.mobile_number]}),(0,hr.jsxs)("div",{className:"text",children:[(0,hr.jsx)(Ur,{}),"Country :  ",null===f||void 0===f?void 0:f.country_name]}),(0,hr.jsxs)("div",{className:"text",children:[(0,hr.jsx)(Zr,{}),"Role :  ",null===f||void 0===f?void 0:f.role_name]}),(0,hr.jsx)("div",{className:"text"}),(0,hr.jsxs)("div",{className:"text",children:[(0,hr.jsx)(wO,{}),"  Permissions"]}),(0,hr.jsx)("div",{className:"permissons-allowed",children:(0,hr.jsx)("ul",{children:null===f||void 0===f||null===(e=f.permissions)||void 0===e?void 0:e.map((e=>(0,hr.jsx)("li",{children:e})))})})]})]})},DO=()=>{var e;const{currentUser:t}=(0,r.useContext)(pr),n=(null===t||void 0===t||null===(e=t.roles[0])||void 0===e||e.name,null===t||void 0===t?void 0:t.permissions),[i,a]=(0,r.useState)([]),[o,s]=(0,r.useState)(!1),l=async()=>{try{var e;const i=await ki.getPermissions();if(200==(null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.status)){var t,n;const e=null===i||void 0===i||null===(t=i.data)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.map((e=>({id:e.guid,name:e.name})));a(e)}}catch(o){var i,r;ir.error(null===o||void 0===o||null===(i=o.result)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{s(!1)}};(0,r.useEffect)((()=>{l()}),[]);const c=[{name:"Permission",selector:e=>e.name,sortable:!0},{name:"Action",cell:e=>(0,hr.jsx)("div",{className:"icons__parent",children:(null===n||void 0===n?void 0:n.includes("permissions-detail"))&&(0,hr.jsx)(Lt,{className:"button-icon",to:"/permission-detail/".concat(e.id),children:(0,hr.jsx)(SO,{})})}),ignoreRowClick:!0,allowOverflow:!0,button:!0}];return(0,hr.jsxs)("div",{className:"users-wrapper",children:[o&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)(dr,{}),(0,hr.jsx)("div",{className:"d-flex justify-content-end mb-3",children:(null===n||void 0===n?void 0:n.includes("permissions-store"))&&(0,hr.jsx)(Lt,{to:"/add-permission",className:"button",children:"Create New Permission "})}),(0,hr.jsx)(EO.Ay,{columns:c,data:i,pagination:!0,paginationPerPage:10,paginationRowsPerPageOptions:[5,10,20]})]})},FO=()=>{const[e,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)(""),a=tt();return(0,hr.jsxs)("div",{className:"form-wrapper",children:[(0,hr.jsx)(dr,{}),e&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)("div",{className:"title",children:"Create Permission"}),(0,hr.jsx)("div",{className:"row",children:(0,hr.jsxs)("div",{className:"col-12 col-md-12 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Enter name"}),(0,hr.jsx)("input",{type:"text",className:"input",value:n,onChange:e=>i(e.target.value)})]})}),(0,hr.jsx)("div",{className:"d-flex justify-content-center my-3",children:(0,hr.jsx)("button",{className:"button",onClick:async()=>{try{const o=new FormData;if(n){var e;t(!0),n&&o.append("name",n);const s=await ki.addPermission(o);var i,r;if(200==(null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.status))ir.success(null===s||void 0===s||null===(i=s.data)||void 0===i?void 0:i.message,{autoClose:1e3,pauseOnHover:!0,draggable:!0}),setTimeout((()=>{a("/permissions")}),1300);else ir.error(null===s||void 0===s||null===(r=s.data)||void 0===r?void 0:r.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}else ir.error("please enter  name",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(l){var o,s;ir.error(null===l||void 0===l||null===(o=l.result)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{t(!1)}},children:"Create Permission "})})]})},UO=()=>{const{id:e}=it(),[t,n]=(0,r.useState)(!1),[i,a]=(0,r.useState)({});return(0,r.useEffect)((()=>{(async e=>{try{var t;const n=await ki.getPermissionDetail(e);var i,r;200==(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.status)?a(null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.data):ir.error(null===n||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(l){var o,s;ir.error(null===l||void 0===l||null===(o=l.result)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{n(!1)}})(e)}),[e]),(0,hr.jsxs)("div",{className:"users-wrapper",children:[t&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)(dr,{}),(0,hr.jsx)("div",{className:"user-details",children:(0,hr.jsxs)("div",{className:"text",children:[(0,hr.jsx)(jO,{}),"  ",null===i||void 0===i?void 0:i.name]})})]})},zO=()=>{const{id:e}=it(),[t,n]=(0,r.useState)(!1),[i,a]=(0,r.useState)(""),o=tt();(0,r.useEffect)((()=>{(async e=>{try{var t;const n=await ki.getPermissionDetail(e);var i,r,o;200==(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.status)?a(null===n||void 0===n||null===(i=n.data)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.name):ir.error(null===n||void 0===n||null===(o=n.data)||void 0===o?void 0:o.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(c){var s,l;ir.error(null===c||void 0===c||null===(s=c.result)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{n(!1)}})(e)}),[e]);return(0,hr.jsxs)("div",{className:"form-wrapper",children:[(0,hr.jsx)(dr,{}),t&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)("div",{className:"title",children:"Update Permission"}),(0,hr.jsx)("div",{className:"row",children:(0,hr.jsxs)("div",{className:"col-12 col-md-12 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Enter name"}),(0,hr.jsx)("input",{type:"text",className:"input",value:i,onChange:e=>a(e.target.value)})]})}),(0,hr.jsx)("div",{className:"d-flex justify-content-center my-3",children:(0,hr.jsx)("button",{className:"button",onClick:async()=>{try{const s=new FormData;if(i){var t;n(!0),i&&s.append("name",i);const l=await ki.updatePermission(e,s);var r,a;if(200==(null===l||void 0===l||null===(t=l.data)||void 0===t?void 0:t.status))ir.success(null===l||void 0===l||null===(r=l.data)||void 0===r?void 0:r.message,{autoClose:1e3,pauseOnHover:!0,draggable:!0}),setTimeout((()=>{o("/permissions")}),1300);else ir.error(null===l||void 0===l||null===(a=l.data)||void 0===a?void 0:a.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}else ir.error("please enter  name",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(c){var s,l;ir.error(null===c||void 0===c||null===(s=c.result)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{n(!1)}},children:"Update role "})})]})},BO=()=>{var e;const{currentUser:t}=(0,r.useContext)(pr),n=(null===t||void 0===t||null===(e=t.roles[0])||void 0===e||e.name,null===t||void 0===t?void 0:t.permissions),[i,a]=(0,r.useState)([]),[o,s]=(0,r.useState)(!1),l=async()=>{try{var e;const i=await ki.getRoles();if(200==(null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.status)){var t,n;const e=null===i||void 0===i||null===(t=i.data)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.map((e=>({id:e.guid,name:e.name})));a(e)}}catch(o){var i,r;ir.error(null===o||void 0===o||null===(i=o.result)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{s(!1)}};(0,r.useEffect)((()=>{l()}),[]);const c=[{name:"Role",selector:e=>e.name,sortable:!0},{name:"Action",cell:e=>(0,hr.jsx)("div",{className:"icons__parent",children:(null===n||void 0===n?void 0:n.includes("roles-detail"))&&(0,hr.jsx)(Lt,{className:"button-icon",to:"/role-detail/".concat(e.id),children:(0,hr.jsx)(SO,{})})}),ignoreRowClick:!0,allowOverflow:!0,button:!0}];return(0,hr.jsxs)("div",{className:"users-wrapper",children:[o&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)(dr,{}),(0,hr.jsx)("div",{className:"d-flex justify-content-end mb-3",children:(null===n||void 0===n?void 0:n.includes("roles-store"))&&(0,hr.jsx)(Lt,{to:"/add-role",className:"button",children:"Create New Role "})}),(0,hr.jsx)(EO.Ay,{columns:c,data:i,pagination:!0,paginationPerPage:10,paginationRowsPerPageOptions:[5,10,20]})]})},HO=()=>{const[e,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)(""),a=tt();return(0,hr.jsxs)("div",{className:"form-wrapper",children:[(0,hr.jsx)(dr,{}),e&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)("div",{className:"title",children:"Create role"}),(0,hr.jsx)("div",{className:"row",children:(0,hr.jsxs)("div",{className:"col-12 col-md-12 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Enter Role"}),(0,hr.jsx)("input",{type:"text",className:"input",value:n,onChange:e=>i(e.target.value)})]})}),(0,hr.jsx)("div",{className:"d-flex justify-content-center my-3",children:(0,hr.jsx)("button",{className:"button",onClick:async()=>{try{const o=new FormData;if(n){var e;t(!0),n&&o.append("name",n);const s=await ki.addRole(o);var i,r;if(200==(null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.status))ir.success(null===s||void 0===s||null===(i=s.data)||void 0===i?void 0:i.message,{autoClose:1e3,pauseOnHover:!0,draggable:!0}),setTimeout((()=>{a("/roles")}),1300);else ir.error(null===s||void 0===s||null===(r=s.data)||void 0===r?void 0:r.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}else ir.error("please enter  name",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(l){var o,s;ir.error(null===l||void 0===l||null===(o=l.result)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{t(!1)}},children:"Create role "})})]})},VO=()=>{const{id:e}=it(),[t,n]=(0,r.useState)(!1),[i,a]=(0,r.useState)({});return(0,r.useEffect)((()=>{(async e=>{try{var t;const n=await ki.getRoleDetail(e);var i,r;200==(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.status)?a(null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.data):ir.error(null===n||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(l){var o,s;ir.error(null===l||void 0===l||null===(o=l.result)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{n(!1)}})(e)}),[e]),(0,hr.jsxs)("div",{className:"users-wrapper",children:[t&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)(dr,{}),(0,hr.jsx)("div",{className:"user-details",children:(0,hr.jsxs)("div",{className:"text",children:[(0,hr.jsx)(jO,{}),"  ",null===i||void 0===i?void 0:i.name]})})]})},WO=()=>{const{id:e}=it(),[t,n]=(0,r.useState)(!1),[i,a]=(0,r.useState)(""),o=tt();(0,r.useEffect)((()=>{(async e=>{try{var t;const n=await ki.getRoleDetail(e);var i,r,o;200==(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.status)?a(null===n||void 0===n||null===(i=n.data)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.name):ir.error(null===n||void 0===n||null===(o=n.data)||void 0===o?void 0:o.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(c){var s,l;ir.error(null===c||void 0===c||null===(s=c.result)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{n(!1)}})(e)}),[e]);return(0,hr.jsxs)("div",{className:"form-wrapper",children:[(0,hr.jsx)(dr,{}),t&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)("div",{className:"title",children:"Update role"}),(0,hr.jsx)("div",{className:"row",children:(0,hr.jsxs)("div",{className:"col-12 col-md-12 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Enter Role"}),(0,hr.jsx)("input",{type:"text",className:"input",value:i,onChange:e=>a(e.target.value)})]})}),(0,hr.jsx)("div",{className:"d-flex justify-content-center my-3",children:(0,hr.jsx)("button",{className:"button",onClick:async()=>{try{const s=new FormData;if(i){var t;n(!0),i&&s.append("name",i);const l=await ki.updateRole(e,s);var r,a;if(200==(null===l||void 0===l||null===(t=l.data)||void 0===t?void 0:t.status))ir.success(null===l||void 0===l||null===(r=l.data)||void 0===r?void 0:r.message,{autoClose:1e3,pauseOnHover:!0,draggable:!0}),setTimeout((()=>{o("/roles")}),1300);else ir.error(null===l||void 0===l||null===(a=l.data)||void 0===a?void 0:a.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}else ir.error("please enter  name",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(c){var s,l;ir.error(null===c||void 0===c||null===(s=c.result)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{n(!1)}},children:"Update role "})})]})};Ai.defaults.baseURL="".concat("http://localhost:8000","/api"),Ai.defaults.headers.post["Content-Type"]="application/json";const GO={createSoftware:async function(e){try{var t={method:"post",url:"/softwares/store",headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+window.localStorage.getItem("token")},data:e};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}},updateSoftware:async function(e,t){try{let i=window.localStorage.getItem("token");var n={method:"post",url:"/softwares/update/".concat(e),headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+i},data:t};return await Ai(n).then((function(e){return e})).catch((function(e){return e.response}))}catch(i){return i}},getSoftwares:async function(){try{var e={method:"get",url:"/softwares",headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+window.localStorage.getItem("token")},data:""};return await Ai(e).then((function(e){return e})).catch((function(e){return e.response}))}catch(t){return t}},getSoftwareDetail:async function(e){try{let n=window.localStorage.getItem("token");var t={method:"get",url:"/softwares/".concat(e),headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+n},data:""};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}},deleteSoftware:async function(e){try{let n=window.localStorage.getItem("token");var t={method:"delete",url:"/softwares/".concat(e),headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+n},data:""};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}}};var qO=n(2823),YO=n.n(qO);const XO=()=>{const{currentUser:e,updateUser:t,isReadNot:n,updateIsReadNot:i}=(0,r.useContext)(pr),a=null===e||void 0===e?void 0:e.id,o=null===e||void 0===e?void 0:e.is_8_hours_enabled,[s,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(""),[p,f]=(0,r.useState)(""),[m,v]=(0,r.useState)(""),[g,y]=(0,r.useState)(""),[b,x]=(0,r.useState)(""),[_,w]=(0,r.useState)(""),[S,M]=(0,r.useState)(""),[E,C]=(0,r.useState)(""),[T,N]=(0,r.useState)(""),[A,k]=(0,r.useState)(""),[O,P]=(0,r.useState)(""),[R,j]=(0,r.useState)(""),[L,I]=(0,r.useState)(""),[D,F]=(0,r.useState)(!1),[U,z]=(0,r.useState)([]),[B,H]=(0,r.useState)("None"),[V,W]=(0,r.useState)(""),[G,q]=(0,r.useState)(null),[Y,X]=(0,r.useState)(null),[Z,K]=(0,r.useState)(null),[J,$]=(0,r.useState)(0),[Q,ee]=(0,r.useState)(!1),[te,ne]=(0,r.useState)([]),[ie,re]=(0,r.useState)([]);(0,r.useEffect)((()=>{(async()=>{try{var e,t;const n=await GO.getSoftwares();console.log(n.data.data),(null===n||void 0===n||null===(e=n.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.length)>0?z(n.data.data):ir.error("No software data found!",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(n){ir.error("Unable to load software data!",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}})()}),[]),(0,r.useEffect)((()=>{const e=te.map((e=>URL.createObjectURL(e)));return re(e),()=>{e.forEach((e=>URL.revokeObjectURL(e)))}}),[te]);const[ae,oe]=(0,r.useState)([]),[se,le]=(0,r.useState)([]);(0,r.useEffect)((()=>{const e=ae.map((e=>URL.createObjectURL(e)));return le(e),()=>{e.forEach((e=>URL.revokeObjectURL(e)))}}),[ae]);const ce=tt(),ue={width:"100%",height:"100%"},de=async t=>{try{var r;const s=new FormData;s.append("title","Case created"),s.append("body","Case created by ".concat(null===e||void 0===e?void 0:e.username)),s.append("url_action",t),a&&s.append("user_id",a);const l=await ea.addNotification(s);var o;if(200==(null===l||void 0===l||null===(r=l.data)||void 0===r?void 0:r.status))i(!n),setTimeout((()=>{ce("/cases")}),1300);else ir.error(null===l||void 0===l||null===(o=l.data)||void 0===o?void 0:o.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(c){var s,l;ir.error(null===c||void 0===c||null===(s=c.result)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{u(!1)}};return(0,r.useEffect)((()=>{(async()=>{try{var e;const n=await Ah.isCaseAvailble(d);var t;0==(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.data)?(ee(!0),ir.error(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})):ee(!1)}catch(n){console.log(n)}finally{u(!1)}})()}),[d]),(0,hr.jsxs)("div",{className:"form-wrapper",children:[(0,hr.jsx)(dr,{}),c&&(0,hr.jsxs)("div",{className:"loader-parent",children:[(0,hr.jsx)("div",{className:"porgress-bar-custom-container",children:(0,hr.jsx)("div",{className:"porgress-bar-custom-bar",style:{width:"".concat(J,"%")}})}),(0,hr.jsxs)("div",{className:"textt",children:[J,"%"]})]}),(0,hr.jsx)("div",{className:"title",children:"Create Case "}),(0,hr.jsxs)("div",{className:"row",children:[(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Case Id ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsx)("input",{type:"text",className:"input",value:d,onChange:e=>h(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Patient Name ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsx)("input",{type:"text",className:"input",value:p,onChange:e=>f(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Patient Email "}),(0,hr.jsx)("input",{type:"text",className:"input",value:m,onChange:e=>v(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Patient Gender ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsxs)("select",{name:"",className:"input",value:A,onChange:e=>k(e.target.value),children:[(0,hr.jsx)("option",{value:"",children:"Select"}),(0,hr.jsx)("option",{value:"male",children:"Male"}),(0,hr.jsx)("option",{value:"female",children:"Female"}),(0,hr.jsx)("option",{value:"other",children:"Other"})]})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Patient Age ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsx)("input",{type:"text",className:"input",value:g,onChange:e=>y(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Patient Location "}),(0,hr.jsxs)("select",{name:"",className:"input",value:b,onChange:e=>x(e.target.value),children:[(0,hr.jsx)("option",{value:"",children:"Select"}),(0,hr.jsx)("option",{value:"overseas",children:"Overseas(No IPR, No Attachments, No Extraction)"}),(0,hr.jsx)("option",{value:"travelling",children:"Travelling (IPR/Attachments/Extraction at early steps)"}),(0,hr.jsx)("option",{value:"local",children:"Local (Customized)"})]})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Case type "}),(0,hr.jsxs)("select",{name:"",className:"input",value:_,onChange:e=>w(e.target.value),children:[(0,hr.jsx)("option",{value:"",children:"Select"}),(0,hr.jsx)("option",{value:"(3-3)",children:"(3-3)"}),(0,hr.jsx)("option",{value:"(5-5)",children:"(5-5)"}),(0,hr.jsx)("option",{value:"Full arch correction",children:"Full arch correction "})]})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Arch "}),(0,hr.jsxs)("select",{name:"",className:"input",value:S,onChange:e=>M(e.target.value),children:[(0,hr.jsx)("option",{value:"",children:"Select"}),(0,hr.jsx)("option",{value:"Upper only",children:"Upper only"}),(0,hr.jsx)("option",{value:"Lower only",children:"Lower only"}),(0,hr.jsx)("option",{value:"Both Arch",children:"Both Arch"})]})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Expected Time  ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsxs)("select",{name:"",className:"input",value:E,onChange:e=>C(e.target.value),children:[(0,hr.jsx)("option",{value:"",children:"Select"}),"1"==o?(0,hr.jsx)("option",{value:"8",children:"Express setup delivery: 8 hrs"}):(0,hr.jsx)("option",{disabled:!0,children:"Express setup delivery: 8 hrs (This option is paid)"}),(0,hr.jsxs)("option",{value:"24",children:["Super Setup Delivery: 24 hrs ",(0,hr.jsx)(zr,{})]}),(0,hr.jsx)("option",{value:"48",children:"Normal Setup Delivery: 48 hrs"})]})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Tooth Label Format ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsxs)("select",{name:"",className:"input",value:T,onChange:e=>N(e.target.value),children:[(0,hr.jsx)("option",{value:"",children:"Select"}),(0,hr.jsx)("option",{value:"Universal notation",children:"Universal notation"}),(0,hr.jsx)("option",{value:"Fdi Notation",children:"FDI Notation"}),(0,hr.jsx)("option",{value:"Parlmer Notation",children:"Parlmer Notation"})]})]}),(0,hr.jsx)("div",{className:"col-12 col-md-6 mb-4",children:(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Attachments ","local"==b&&(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsxs)("select",{className:"input",value:L,onChange:e=>I(e.target.value),children:[(0,hr.jsx)("option",{value:"",children:"Select"}),(0,hr.jsx)("option",{value:"Yes",children:"Yes"}),(0,hr.jsx)("option",{value:"No",children:"No"})]})]})}),(0,hr.jsx)("div",{className:"col-12 col-md-6 mb-4",children:(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Software",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsxs)("select",{className:"input",value:D,onChange:e=>F(e.target.value),required:!0,children:[(0,hr.jsx)("option",{value:"",children:"Select"}),U.map(((e,t)=>(0,hr.jsx)("option",{value:e.id,children:e.name},t)))]})]})})]}),(0,hr.jsxs)("div",{className:"row",children:[(0,hr.jsx)("div",{className:"col-12 col-md-6 mb-4",children:(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["IPR ","local"==b&&(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsxs)("select",{className:"input",value:O,onChange:e=>P(e.target.value),children:[(0,hr.jsx)("option",{value:"",children:"Select"}),(0,hr.jsx)("option",{value:"Yes",children:"Yes"}),(0,hr.jsx)("option",{value:"No",children:"No"})]})]})}),(0,hr.jsx)("div",{className:"col-12 col-md-6 mb-4",children:(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Extraction ","local"==b&&(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsxs)("select",{className:"input",value:R,onChange:e=>j(e.target.value),children:[(0,hr.jsx)("option",{value:"",children:"Select"}),(0,hr.jsx)("option",{value:"Yes",children:"Yes"}),(0,hr.jsx)("option",{value:"No",children:"No"})]})]})}),(0,hr.jsx)("div",{className:"col-12 col-md-6 mb-4",children:(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Chief Complaint ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsx)(YO(),{value:B,onChange:(e,t,n,i)=>{H(e)},placeholder:"None"})]})}),(0,hr.jsx)("div",{className:"col-12 col-md-6 mb-4",children:(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Treatment Plan ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsx)(YO(),{value:V,onChange:(e,t,n,i)=>{W(e)}})]})})]}),(0,hr.jsxs)("div",{className:"row",children:[(0,hr.jsxs)("div",{className:"col-12 col-md-4 mb-4",children:[(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Upper stl file ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsxs)("div",{className:"file-wrapper",children:[(0,hr.jsx)("span",{children:"Upload File here"}),(0,hr.jsx)(Qr,{}),(0,hr.jsx)("input",{type:"file",accept:".stl",className:"input",onChange:e=>{const t=e.target.files[0];q(t)}})]})]}),G&&(0,hr.jsx)("div",{className:"stl-viewer mt-5",children:(0,hr.jsx)(gO,{style:ue,orbitControls:!0,shadows:!0,url:URL.createObjectURL(G)})})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-4 mb-4",children:[(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Lower stl file ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsxs)("div",{className:"file-wrapper",children:[(0,hr.jsx)("span",{children:"Upload File here"}),(0,hr.jsx)(Qr,{}),(0,hr.jsx)("input",{type:"file",className:"input",accept:".stl",onChange:e=>{const t=e.target.files[0];X(t)}})]})]}),Y&&(0,hr.jsx)("div",{className:"stl-viewer mt-5",children:(0,hr.jsx)(gO,{style:ue,orbitControls:!0,shadows:!0,url:URL.createObjectURL(Y)})})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-4 mb-4",children:[(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Stl Bite Scan file "}),(0,hr.jsxs)("div",{className:"file-wrapper",children:[(0,hr.jsx)("span",{children:"Upload File here"}),(0,hr.jsx)(Qr,{}),(0,hr.jsx)("input",{type:"file",className:"input",accept:".stl",onChange:e=>{const t=e.target.files[0];K(t)}})]})]}),Z&&(0,hr.jsx)("div",{className:"stl-viewer mt-5",children:(0,hr.jsx)(gO,{style:ue,orbitControls:!0,shadows:!0,url:URL.createObjectURL(Z)})})]})]}),(0,hr.jsxs)("div",{className:"row",children:[(0,hr.jsxs)("div",{className:"col-12 col-md-12 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Xray images"}),(0,hr.jsxs)("div",{className:"file-wrapper",children:[(0,hr.jsx)("span",{children:"Upload Files here"}),(0,hr.jsx)(Qr,{}),(0,hr.jsx)("input",{type:"file",className:"input",accept:".jpg, .jpeg, .png",multiple:!0,onChange:e=>{const t=Array.from(e.target.files);ne(t)}})]})]}),(0,hr.jsx)("div",{className:"col-12",children:(0,hr.jsx)("div",{className:"images-preview",children:ie.map(((e,t)=>(0,hr.jsxs)("div",{className:"image",children:[(0,hr.jsx)("div",{className:"close",onClick:()=>(e=>{const t=te.filter(((t,n)=>n!==e));ne(t)})(t),children:(0,hr.jsx)(Ar,{})}),(0,hr.jsx)("img",{src:e,alt:"preview ".concat(t)})]},t)))})})]}),(0,hr.jsxs)("div",{className:"row",children:[(0,hr.jsxs)("div",{className:"col-12 col-md-12 mb-4",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Patient images ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsxs)("div",{className:"file-wrapper",children:[(0,hr.jsx)("span",{children:"Upload Files here"}),(0,hr.jsx)(Qr,{}),(0,hr.jsx)("input",{type:"file",className:"input",multiple:!0,accept:".jpg, .jpeg, .png",onChange:e=>{const t=Array.from(e.target.files);oe(t)}})]})]}),(0,hr.jsx)("div",{className:"col-12",children:(0,hr.jsx)("div",{className:"images-preview",children:se.map(((e,t)=>(0,hr.jsxs)("div",{className:"image",children:[(0,hr.jsx)("div",{className:"close",onClick:()=>(e=>{const t=ae.filter(((t,n)=>n!==e));oe(t)})(t),children:(0,hr.jsx)(Ar,{})}),(0,hr.jsx)("img",{src:e,alt:"preview ".concat(t)})]},t)))})})]}),(0,hr.jsx)("div",{className:"d-flex justify-content-center my-3",children:Q?(0,hr.jsx)("button",{className:"button disabled",children:"Create Case"}):(0,hr.jsx)("button",{className:"button",onClick:async()=>{try{const c=new FormData;if(d)if(p)if(g)if("local"!=b||R)if("local"!=b||O)if("local"!=b||L)if(V)if(G)if(Y){var e;u(!0),d&&c.append("case_id",d),p&&c.append("name",p),m&&c.append("email",m),g&&c.append("age",g),E&&c.append("expected_time",E),T&&c.append("tooth_label_format",T),A&&c.append("gender",A),b&&c.append("patient_location",b),_&&c.append("case_type",_),S&&c.append("arch",S),R&&c.append("extraction",R),L&&c.append("attachments",L),O&&c.append("ipr",O),B&&c.append("chief_complaint",B),V&&c.append("treatment_plan",V),G&&c.append("stl_upper_file",G),Y&&c.append("stl_lower_file",Y),Z&&c.append("stl_byte_scan_file",Z),te&&te.forEach(((e,t)=>{c.append("xrays_files[]",e)})),ae&&ae.forEach(((e,t)=>{c.append("image_files[]",e)})),D&&c.append("software_id",D);const h=await Ah.createCase(c,(e=>{const t=Math.round(100*e.loaded/e.total);$(t)}));var t,n,i,r,a,o,s;if(200==(null===h||void 0===h||null===(e=h.data)||void 0===e?void 0:e.status))l(null===h||void 0===h||null===(t=h.data)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.guid),ir.success(null===h||void 0===h||null===(i=h.data)||void 0===i?void 0:i.message,{autoClose:1e3,pauseOnHover:!0,draggable:!0}),await de(null===h||void 0===h||null===(r=h.data)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.guid);else"Unauthenticated."==(null===h||void 0===h||null===(o=h.data)||void 0===o?void 0:o.message)&&ce("/login"),ir.error(null===h||void 0===h||null===(s=h.data)||void 0===s?void 0:s.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}else ir.error("please upload upper lower file",{autoClose:2e3,pauseOnHover:!0,draggable:!0});else ir.error("please upload upper stl file",{autoClose:2e3,pauseOnHover:!0,draggable:!0});else ir.error("please enter select  treatmentPlan",{autoClose:2e3,pauseOnHover:!0,draggable:!0});else ir.error("please  select  attachments",{autoClose:2e3,pauseOnHover:!0,draggable:!0});else ir.error("please select ipr",{autoClose:2e3,pauseOnHover:!0,draggable:!0});else ir.error("please select extraction",{autoClose:2e3,pauseOnHover:!0,draggable:!0});else ir.error("please enter patient  age",{autoClose:2e3,pauseOnHover:!0,draggable:!0});else ir.error("please enter patient  name",{autoClose:2e3,pauseOnHover:!0,draggable:!0});else ir.error("please enter  case id",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(f){var c,h;ir.error(null===f||void 0===f||null===(c=f.result)||void 0===c||null===(h=c.data)||void 0===h?void 0:h.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{u(!1)}},children:"Create Case"})})]})},ZO=e=>{var t;let{caseId:n=0}=e;const[i,a]=(0,r.useState)({}),{currentUser:o}=(0,r.useContext)(pr),s=(null===o||void 0===o||null===(t=o.roles[0])||void 0===t||t.name,null===o||void 0===o?void 0:o.permissions),[l,c]=(0,r.useState)("plans"),u=tt(),[d,h]=(0,r.useState)(!1),[p,f]=(0,r.useState)([]),[m,v]=(0,r.useState)([]),[g,y]=(0,r.useState)(""),[b,x]=(0,r.useState)({}),[_,w]=(0,r.useState)([]),[S,M]=(0,r.useState)([{ipr_chart:null,simulation_link_url:"",text_notes:""}]),E=async e=>{try{var t;const c=await Ah.getCaseDetail(e);if(200==(null===c||void 0===c||null===(t=c.data)||void 0===t?void 0:t.status)){var n,i,r,o;a(null===c||void 0===c||null===(n=c.data)||void 0===n?void 0:n.data);const e=null===c||void 0===c||null===(i=c.data)||void 0===i||null===(r=i.data)||void 0===r||null===(o=r.case_plans)||void 0===o?void 0:o.map(((e,t)=>{var n,i;return{id:null===e||void 0===e?void 0:e.guid,planId:t+1,caseId:null===c||void 0===c||null===(n=c.data)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.case_id,iprChart:null===e||void 0===e?void 0:e.ipr_chart,textNotes:null===e||void 0===e?void 0:e.text_notes,simulationLink:null===e||void 0===e?void 0:e.simulation_link_url}}));v(e)}else{var s,l;"Unauthenticated."==(null===c||void 0===c||null===(s=c.data)||void 0===s?void 0:s.message)&&u("/login"),ir.error(null===c||void 0===c||null===(l=c.data)||void 0===l?void 0:l.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}}catch(p){var c,d;ir.error(null===p||void 0===p||null===(c=p.result)||void 0===c||null===(d=c.data)||void 0===d?void 0:d.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{h(!1)}},C=async e=>{try{var t;const h=await Ah.getCasePlan(e);var n,i,r,a,o,s,l,c,d;if(200==(null===h||void 0===h||null===(t=h.data)||void 0===t?void 0:t.status))w(null===h||void 0===h||null===(n=h.data)||void 0===n?void 0:n.data),M([{ipr_chart:null===h||void 0===h||null===(i=h.data)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.ipr_chart,simulation_link_url:null===h||void 0===h||null===(a=h.data)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.simulation_link_url,text_notes:null===h||void 0===h||null===(s=h.data)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.text_notes}]);else"Unauthenticated."==(null===h||void 0===h||null===(c=h.data)||void 0===c?void 0:c.message)&&u("/login"),ir.error(null===h||void 0===h||null===(d=h.data)||void 0===d?void 0:d.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(m){var p,f;ir.error(null===m||void 0===m||null===(p=m.result)||void 0===p||null===(f=p.data)||void 0===f?void 0:f.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{h(!1)}};(0,r.useEffect)((()=>{C(g)}),[g]);const T=(e,t,n)=>{const i=[...S];i[e][t]=n,M(i)},N=(e,t,n)=>{const i=[...S];i[e][t]=n,M(i)},A=(e,t)=>{const n=[...S];n[e].text_notes=t,M(n)};(0,r.useEffect)((()=>{n&&E(n)}),[n]);const k=[{name:"Case plans",selector:e=>e.planId,sortable:!0},{name:"Case Id",selector:e=>e.caseId,sortable:!0},{name:"Ipr Chart",selector:e=>e.iprChart,sortable:!0},{name:"Smulation Link",selector:e=>(0,hr.jsx)("a",{className:"custom-link",target:"_blank",href:e.simulationLink,children:e.simulationLink}),sortable:!0},{name:"Action",cell:e=>(0,hr.jsxs)(hr.Fragment,{children:[(null===s||void 0===s?void 0:s.includes("case-plans-update"))&&(0,hr.jsx)("div",{className:"button-icon",onClick:()=>(e=>{y(e.id),M([{ipr_chart:e.iprChart,simulation_link_url:e.simulationLink,text_notes:e.textNotes}]),c("edit")})(e),children:(0,hr.jsx)(AO,{})}),(null===s||void 0===s?void 0:s.includes("case-plans-detail"))&&(0,hr.jsx)("div",{className:"button-icon",onClick:()=>(e=>{y(e),c("view"),C(e)})(e.id),children:(0,hr.jsx)(SO,{})}),(null===s||void 0===s?void 0:s.includes("case-plans-delete"))&&(0,hr.jsx)("div",{className:"button-icon",onClick:()=>O(e.id),children:(0,hr.jsx)(Gr,{})})]}),ignoreRowClick:!0,allowOverflow:!0,button:!0}],O=async e=>{if(window.confirm("Are you sure you want to delete this plan?"))try{var t;h(!0);const a=await Ah.deleteCasePlan(e);var i,r;if(200==(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.status))ir.success(null===a||void 0===a||null===(i=a.data)||void 0===i?void 0:i.message,{autoClose:1e3,pauseOnHover:!0,draggable:!0}),c("plans"),n&&E(n);else ir.error(null===a||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(s){var a,o;ir.error(null===s||void 0===s||null===(a=s.result)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{h(!1)}};return(0,hr.jsxs)("div",{className:"users-wrapper patinet-info mb-4",children:[d&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)(dr,{}),(0,hr.jsxs)("div",{className:"user-details",children:[(0,hr.jsxs)("div",{className:"tabs",children:[(null===s||void 0===s?void 0:s.includes("case-plans-list"))&&(0,hr.jsx)("div",{className:"tab",children:(0,hr.jsx)("button",{className:"button ".concat("plans"==l?"active":""),onClick:()=>c("plans"),children:"All plans"})}),(null===s||void 0===s?void 0:s.includes("case-plans-store"))&&(0,hr.jsx)("div",{className:"tab",children:(0,hr.jsx)("button",{className:"button ".concat("create"==l?"active":""),onClick:()=>c("create"),children:"Create Plan"})})]}),"plans"==l&&(null===s||void 0===s?void 0:s.includes("case-plans-list"))&&(0,hr.jsx)("div",{children:(0,hr.jsx)("div",{children:(0,hr.jsx)(EO.Ay,{columns:k,data:m,pagination:!0,paginationPerPage:10,paginationRowsPerPageOptions:[5,10,20]})})}),"create"==l&&(null===s||void 0===s?void 0:s.includes("case-plans-store"))&&(0,hr.jsxs)("div",{children:[null===S||void 0===S?void 0:S.map(((e,t)=>(0,hr.jsxs)("div",{className:"single-simulation",children:[S.length>1&&(0,hr.jsx)("div",{className:"close",onClick:()=>(e=>{const t=S.filter(((t,n)=>n!==e));M(t)})(t),children:(0,hr.jsx)(kr,{})}),(0,hr.jsx)("input",{type:"file",className:"input",onChange:e=>N(t,"ipr_chart",e.target.files[0])}),(0,hr.jsx)("input",{type:"text",className:"input",value:e.simulation_link_url,onChange:e=>T(t,"simulation_link_url",e.target.value),placeholder:"Simulation Link URL"}),(0,hr.jsx)(YO(),{value:e.text_notes,onChange:(e,n,i,r)=>A(t,e),placeholder:"Text Notes"})]},t))),(0,hr.jsx)("div",{className:"mb-4",children:(null===S||void 0===S?void 0:S.length)>0&&(0,hr.jsx)("button",{className:"button",onClick:async()=>{const e=null===S||void 0===S?void 0:S.map((e=>({text_notes:e.text_notes,simulation_link_url:e.simulation_link_url})));try{var t,i=new FormData;if(!n)return void ir.error("Case not found",{autoClose:2e3,pauseOnHover:!0,draggable:!0});h(!0),i.append("p_case_id",n),i.append("case_plans",JSON.stringify(e)),S&&(null===S||void 0===S||S.map(((e,t)=>i.append("ipr_chart_files[".concat(t,"]"),e.ipr_chart))));const o=await Ah.createCasePlan(i);var r,a;if(200===(null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.status))ir.success(null===o||void 0===o||null===(r=o.data)||void 0===r?void 0:r.message,{autoClose:1e3,pauseOnHover:!0,draggable:!0}),M([{ipr_chart:null,simulation_link_url:"",text_notes:""}]),c("plans"),n&&E(n);else ir.error(null===o||void 0===o||null===(a=o.data)||void 0===a?void 0:a.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(u){var o,s,l;ir.error((null===u||void 0===u||null===(o=u.response)||void 0===o||null===(s=o.data)||void 0===s||null===(l=s.errors)||void 0===l?void 0:l[0])||"An error occurred",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{h(!1)}},children:"Submit Plan"})}),(0,hr.jsx)("div",{children:(0,hr.jsx)("button",{className:"button",onClick:()=>{M([...S,{ipr_chart:"",simulation_link_url:"",text_notes:""}])},children:"Add More Plan"})})]}),"edit"==l&&(null===s||void 0===s?void 0:s.includes("case-plans-update"))&&(0,hr.jsxs)("div",{children:[null===S||void 0===S?void 0:S.map(((e,t)=>(0,hr.jsxs)("div",{className:"single-simulation",children:[(0,hr.jsx)("input",{type:"file",className:"input",onChange:e=>N(t,"ipr_chart",e.target.files[0])}),(0,hr.jsx)("input",{type:"text",className:"input",value:e.simulation_link_url,onChange:e=>T(t,"simulation_link_url",e.target.value),placeholder:"Simulation Link URL"}),(0,hr.jsx)(YO(),{value:e.text_notes,onChange:(e,n,i,r)=>A(t,e),placeholder:"Text Notes"})]},t))),(0,hr.jsx)("div",{className:"mb-4",children:(null===S||void 0===S?void 0:S.length)>0&&(0,hr.jsx)("button",{className:"button",onClick:async()=>{null===S||void 0===S||S.map((e=>({text_notes:e.text_notes,simulation_link_url:e.simulation_link_url})));try{var e,t,i,r,a=new FormData;if(!n)return void ir.error("Case not found",{autoClose:2e3,pauseOnHover:!0,draggable:!0});h(!0),a.append("p_case_id",n),a.append("ipr_chart",null===(e=S[0])||void 0===e?void 0:e.ipr_chart),a.append("simulation_link_url",null===(t=S[0])||void 0===t?void 0:t.simulation_link_url),a.append("text_notes",null===(i=S[0])||void 0===i?void 0:i.text_notes);const l=await Ah.updateCasePlan(g,a);var o,s;if(200===(null===l||void 0===l||null===(r=l.data)||void 0===r?void 0:r.status))ir.success(null===l||void 0===l||null===(o=l.data)||void 0===o?void 0:o.message,{autoClose:1e3,pauseOnHover:!0,draggable:!0}),M([{ipr_chart:null,simulation_link_url:"",text_notes:""}]),c("plans"),n&&E(n);else ir.error(null===l||void 0===l||null===(s=l.data)||void 0===s?void 0:s.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(p){var l,u,d;ir.error((null===p||void 0===p||null===(l=p.response)||void 0===l||null===(u=l.data)||void 0===u||null===(d=u.errors)||void 0===d?void 0:d[0])||"An error occurred",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{h(!1)}},children:"Update Plan"})})]}),"view"==l&&(0,hr.jsxs)("div",{children:[(0,hr.jsxs)("div",{className:"view-box",children:[(0,hr.jsxs)("div",{className:"title mb-3",children:["Simulation link",(0,hr.jsx)("span",{children:(0,hr.jsx)("a",{href:null===_||void 0===_?void 0:_.simulation_link_url,target:"_blank",children:null===_||void 0===_?void 0:_.simulation_link_url})})]}),(0,hr.jsx)("div",{className:"title mb-2",children:"Text notes :"}),(0,hr.jsx)("div",{className:"custom-text",dangerouslySetInnerHTML:{__html:null===_||void 0===_?void 0:_.text_notes}})]}),(0,hr.jsx)("iframe",{src:"".concat("http://localhost:8000","/uploads/pdf/").concat(null===_||void 0===_?void 0:_.ipr_chart),width:"100%",height:"700px"})]})]})]})};Ai.defaults.baseURL="".concat("http://localhost:8000","/api"),Ai.defaults.headers.post["Content-Type"]="application/json";const KO={createTeam:async function(e){try{var t={method:"post",url:"/teams/store",headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+window.localStorage.getItem("token")},data:e};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}},updateTeam:async function(e,t){try{let i=window.localStorage.getItem("token");var n={method:"post",url:"/teams/update/".concat(e),headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+i},data:t};return await Ai(n).then((function(e){return e})).catch((function(e){return e.response}))}catch(i){return i}},getTeams:async function(){try{var e={method:"get",url:"/teams",headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+window.localStorage.getItem("token")},data:""};return await Ai(e).then((function(e){return e})).catch((function(e){return e.response}))}catch(t){return t}},getTeamDetail:async function(e){try{let n=window.localStorage.getItem("token");var t={method:"get",url:"/teams/".concat(e),headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+n},data:""};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}},deleteTeam:async function(e){try{let n=window.localStorage.getItem("token");var t={method:"delete",url:"/teams/".concat(e),headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+n},data:""};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}},getPlannersandQc:async function(){try{var e={method:"get",url:"/user/treatment-planners-quality-check",headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+window.localStorage.getItem("token")},data:""};return await Ai(e).then((function(e){return e})).catch((function(e){return e.response}))}catch(t){return t}},assignPlannerTOTeam:async function(e){try{var t={method:"post",url:"/team/assign-teams",headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+window.localStorage.getItem("token")},data:e};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}},getPlanners:async function(){try{var e={method:"get",url:"/user/treatment-planners",headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+window.localStorage.getItem("token")},data:""};return await Ai(e).then((function(e){return e})).catch((function(e){return e.response}))}catch(t){return t}},getTeamUsers:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;try{let n=window.localStorage.getItem("token");var t={method:"get",url:"/team/get-teams-detail/".concat(e),headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+n},data:""};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}},removeMember:async function(e){try{var t={method:"post",url:"/team/remove-teams",headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+window.localStorage.getItem("token")},data:e};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}},assignTeamApi:async function(e){try{var t={method:"post",url:"/team/assign-teams",headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+window.localStorage.getItem("token")},data:e};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}}},JO=e=>{var t;let{id:n}=e;const[i,a]=(0,r.useState)(""),[o,s]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(0),[h,p]=(0,r.useState)(null),[f,m]=(0,r.useState)(""),[v,g]=(0,r.useState)(""),[y,b]=(0,r.useState)({}),[x,_]=(0,r.useState)(""),[w,S]=(0,r.useState)(""),[M,E]=(0,r.useState)(""),[C,T]=(0,r.useState)(""),[N,A]=(0,r.useState)(""),[k,O]=(0,r.useState)(""),[P,R]=(0,r.useState)(null),[j,L]=(0,r.useState)(null),[I,D]=(0,r.useState)(""),[F,U]=(0,r.useState)(""),{currentUser:z,isReadNot:B,updateIsReadNot:H}=(0,r.useContext)(pr),V=null===z||void 0===z||null===(t=z.roles[0])||void 0===t?void 0:t.name,W=null===z||void 0===z?void 0:z.permissions,[G,q]=(0,r.useState)("plans"),[Y,X]=(0,r.useState)({}),Z=tt(),K=(e,t,n,i)=>{A(e)};(0,r.useEffect)((()=>{(async e=>{try{var t;const s=await Ah.getCaseDetail(e);var n,i,r,a,o,l,c,u,d,h,p,f,m,v,g;200==(null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.status)?(console.log("here"),b(null===s||void 0===s||null===(n=s.data)||void 0===n?void 0:n.data),S(null===s||void 0===s||null===(i=s.data)||void 0===i||null===(r=i.data)||void 0===r||null===(a=r.users)||void 0===a?void 0:a.team_id),_(null===s||void 0===s||null===(o=s.data)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.id),O(null===s||void 0===s||null===(c=s.data)||void 0===c||null===(u=c.data)||void 0===u?void 0:u.planner_id),D(null===s||void 0===s||null===(d=s.data)||void 0===d||null===(h=d.data)||void 0===h?void 0:h.post_processing_id),T(null===s||void 0===s||null===(p=s.data)||void 0===p||null===(f=p.data)||void 0===f||null===(m=f.created_user)||void 0===m?void 0:m.id)):("Unauthenticated."==(null===s||void 0===s||null===(v=s.data)||void 0===v?void 0:v.message)&&Z("/login"),ir.error(null===s||void 0===s||null===(g=s.data)||void 0===g?void 0:g.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0}))}catch(w){var y,x;ir.error(null===w||void 0===w||null===(y=w.result)||void 0===y||null===(x=y.data)||void 0===x?void 0:x.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{s(!1)}})(n)}),[n]),(0,r.useEffect)((()=>{(async e=>{var t;if((null===e||void 0===e||null===(t=e.case_status_users)||void 0===t?void 0:t.length)>0){const t=e.case_status_users.filter((t=>t.case_status===e.status)).reduce(((e,t)=>!e||new Date(t.created_at)>new Date(e.created_at)?t:e),null);t&&X(t),null!==t&&void 0!==t&&t.work_start_datetime&&R(t.work_start_datetime),null!==t&&void 0!==t&&t.work_end_datetime&&L(t.work_end_datetime),console.log("now here"),console.log(j),console.log(P)}})(y)}),[y]);(0,r.useEffect)((()=>{w&&(async e=>{try{var t;const o=await KO.getTeamUsers(e);if(200==(null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.status)){var n,i;const e=null===o||void 0===o||null===(n=o.data)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.users.find((e=>"quality_check"===e.role_name)),t=e?e.id:null;E(t)}else{var r,a;"Unauthenticated."==(null===o||void 0===o||null===(r=o.data)||void 0===r?void 0:r.message)&&Z("/login"),ir.error(null===o||void 0===o||null===(a=o.data)||void 0===a?void 0:a.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}}catch(c){var o,l;ir.error(null===c||void 0===c||null===(o=c.result)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{s(!1)}})(w)}),[w]);const[J,$]=(0,r.useState)(0),[Q,ee]=(0,r.useState)(null),te=async e=>{const t=(new Date).toISOString().slice(0,19).replace("T"," "),n=y.case_status_users.filter((e=>e.case_status===y.status)).reduce(((e,t)=>!e||new Date(t.created_at)>new Date(e.created_at)?t:e),null);if(n){var i;const o=n;"start"==e?o.work_start_datetime=t:o.work_end_datetime=t;var r,a=await Ah.updateCaseWorkload(o);if(console.log(null===a||void 0===a?void 0:a.data),200==(null===a||void 0===a||null===(i=a.data)||void 0===i?void 0:i.status))ee(null===a||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message),"start"==e?R(t):L(t);else ee("Staus Workload Not Updated!")}},ne=async(e,t,i)=>{try{const a=new FormData;a.append("title",e),a.append("body",t),a.append("url_action",n),i&&a.append("user_id",i);const o=await ea.addNotification(a);var r;if(o)H(!B),setTimeout((()=>{Z("/cases")}),1300);else ir.error(null===o||void 0===o||null===(r=o.data)||void 0===r?void 0:r.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(l){var a,o;ir.error(null===l||void 0===l||null===(a=l.result)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{s(!1)}};return(0,hr.jsxs)("div",{className:"users-wrapper patinet-info",children:[(0,hr.jsx)(dr,{}),l&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsxs)("div",{className:"porgress-bar-custom-container",children:[(0,hr.jsx)("div",{className:"porgress-bar-custom-bar",style:{width:"".concat(J,"%")}}),(0,hr.jsxs)("div",{className:"textt",children:[J,"%"]})]})}),o&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsxs)("div",{className:"porgress-bar-custom-container",children:[(0,hr.jsx)("div",{className:"porgress-bar-custom-bar",style:{width:"".concat(u,"%")}}),(0,hr.jsxs)("div",{className:"textt",children:[u,"%"]})]})}),(0,hr.jsxs)("div",{className:"change-status-wrapper",children:["9"!=(null===y||void 0===y?void 0:y.status)&&"10"!=(null===y||void 0===y?void 0:y.status)&&"11"!=(null===y||void 0===y?void 0:y.status)&&"12"!=(null===y||void 0===y?void 0:y.status)&&"13"!=(null===y||void 0===y?void 0:y.status)&&"14"!=(null===y||void 0===y?void 0:y.status)&&"15"!=(null===y||void 0===y?void 0:y.status)&&"16"!=(null===y||void 0===y?void 0:y.status)&&"17"!=(null===y||void 0===y?void 0:y.status)||"post_processing"!=(null===z||void 0===z?void 0:z.role_name)&&"super_admin"!=(null===z||void 0===z?void 0:z.role_name)?"1"!==(null===y||void 0===y?void 0:y.status)&&"18"!==(null===y||void 0===y?void 0:y.status)&&(0,hr.jsx)("div",{className:"row",children:(0,hr.jsxs)("div",{className:"col-12 col-md-8",children:[(0,hr.jsxs)("div",{className:"case-status-main",children:["Case Status :   ","1"==(null===y||void 0===y?void 0:y.status)?"New Case":"2"==(null===y||void 0===y?void 0:y.status)?"In Planning":"3"==(null===y||void 0===y?void 0:y.status)?"Ready for QA":"4"==(null===y||void 0===y?void 0:y.status)?"Need More Info":"5"==(null===y||void 0===y?void 0:y.status)?"Case updated by ortho":"6"==(null===y||void 0===y?void 0:y.status)?"Rejected By QA":"7"==(null===y||void 0===y?void 0:y.status)?"Pending Ortho Check":"8"==(null===y||void 0===y?void 0:y.status)?"Need Modifications":"9"==(null===y||void 0===y?void 0:y.status)?"Pending Step Files":"10"==(null===y||void 0===y?void 0:y.status)?"Pending Container files":"11"==(null===y||void 0===y?void 0:y.status)?"Stl files ready":"12"==(null===y||void 0===y?void 0:y.status)?"Container files ready":"13"==(null===y||void 0===y?void 0:y.status)?"Need Stl File Modifications":"14"==(null===y||void 0===y?void 0:y.status)?"Need Container File Modifications":"15"==(null===y||void 0===y?void 0:y.status)?"Pending direct printing files":"16"==(null===y||void 0===y?void 0:y.status)?"Direct printing files ready":"17"==(null===y||void 0===y?void 0:y.status)?"Need direct printing files Modifications":"18"==(null===y||void 0===y?void 0:y.status)?"Case completed":""]}),"18"==(null===y||void 0===y?void 0:y.status)?(0,hr.jsx)("div",{className:"message-div",children:"Case is completed"}):(0,hr.jsxs)("div",{className:"form-group  mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Select case status "}),null!==y&&void 0!==y&&y.planner?(0,hr.jsxs)("select",{className:"input",value:F,onChange:e=>U(e.target.value),children:[(0,hr.jsx)("option",{value:"",children:"Select"}),"3"!=(null===y||void 0===y?void 0:y.status)&&"4"!=(null===y||void 0===y?void 0:y.status)&&"18"!=(null===y||void 0===y?void 0:y.status)&&(null===W||void 0===W?void 0:W.includes("ready-for-qa"))&&(0,hr.jsx)("option",{value:"3",children:"Ready For QA"}),"3"!=(null===y||void 0===y?void 0:y.status)&&"4"!=(null===y||void 0===y?void 0:y.status)&&"18"!=(null===y||void 0===y?void 0:y.status)&&(null===W||void 0===W?void 0:W.includes("need-more-case-info"))&&(0,hr.jsx)("option",{value:"4",children:"Need More Info"}),"5"!=(null===y||void 0===y?void 0:y.status)&&"4"==(null===y||void 0===y?void 0:y.status)&&(null===W||void 0===W?void 0:W.includes("update-case-info"))&&(0,hr.jsx)("option",{value:"5",children:"Update case"}),"6"!=(null===y||void 0===y?void 0:y.status)&&"3"==(null===y||void 0===y?void 0:y.status)&&(null===W||void 0===W?void 0:W.includes("reject-planner-case"))&&(0,hr.jsx)("option",{value:"6",children:"Reject Planner Case"}),"7"!=(null===y||void 0===y?void 0:y.status)&&"3"==(null===y||void 0===y?void 0:y.status)&&(null===W||void 0===W?void 0:W.includes("approve-planner-case"))&&(0,hr.jsx)("option",{value:"7",children:"Approve Treatement plan"}),"8"!=(null===y||void 0===y?void 0:y.status)&&"7"==(null===y||void 0===y?void 0:y.status)&&(null===W||void 0===W?void 0:W.includes("need-case-modification"))&&(0,hr.jsx)("option",{value:"8",children:"Need Modifications"}),"9"!=(null===y||void 0===y?void 0:y.status)&&"7"==(null===y||void 0===y?void 0:y.status)&&(null===W||void 0===W?void 0:W.includes("approve-case-by-ortho"))&&(0,hr.jsx)("option",{value:"9",children:" Need Step Files"}),"10"!=(null===y||void 0===y?void 0:y.status)&&"7"==(null===y||void 0===y?void 0:y.status)&&(null===W||void 0===W?void 0:W.includes("approve-case-by-ortho"))&&(0,hr.jsx)("option",{value:"10",children:"Need Container Files"}),"15"!=(null===y||void 0===y?void 0:y.status)&&"7"==(null===y||void 0===y?void 0:y.status)&&(null===W||void 0===W?void 0:W.includes("approve-case-by-ortho"))&&(0,hr.jsx)("option",{value:"15",children:"Need direct printing files"}),"13"!=(null===y||void 0===y?void 0:y.status)&&"11"==(null===y||void 0===y?void 0:y.status)&&(null===W||void 0===W?void 0:W.includes("case-step-files-modification"))&&(0,hr.jsx)("option",{value:"13",children:"Need Stl Files Modification "}),"14"!=(null===y||void 0===y?void 0:y.status)&&"12"==(null===y||void 0===y?void 0:y.status)&&(null===W||void 0===W?void 0:W.includes("case-container-files-modification"))&&(0,hr.jsx)("option",{value:"14",children:" Need Continer Files Modification"}),"17"!=(null===y||void 0===y?void 0:y.status)&&"16"==(null===y||void 0===y?void 0:y.status)&&(null===W||void 0===W?void 0:W.includes("case-step-files-modification"))&&(0,hr.jsx)("option",{value:"17",children:" Need direct printing files Modification"}),"18"!=(null===y||void 0===y?void 0:y.status)&&("11"==(null===y||void 0===y?void 0:y.status)||"12"==(null===y||void 0===y?void 0:y.status)||"16"==(null===y||void 0===y?void 0:y.status))&&(null===W||void 0===W?void 0:W.includes("case-complete"))&&(0,hr.jsx)("option",{value:"18",children:"Complete Case"})]}):(0,hr.jsx)("div",{className:"message-div",children:"Case is not assigned yet to any planner"}),"client"!=V&&"sub_client"!=V||"3"!=(null===y||void 0===y?void 0:y.status)&&"5"!=(null===y||void 0===y?void 0:y.status)&&"6"!=(null===y||void 0===y?void 0:y.status)&&"8"!=(null===y||void 0===y?void 0:y.status)&&"9"!=(null===y||void 0===y?void 0:y.status)&&"10"!=(null===y||void 0===y?void 0:y.status)&&"15"!=(null===y||void 0===y?void 0:y.status)&&"13"!=(null===y||void 0===y?void 0:y.status)&&"14"!=(null===y||void 0===y?void 0:y.status)&&"17"!=(null===y||void 0===y?void 0:y.status)?"":(0,hr.jsx)("div",{className:"message-div",children:"Case is under process"}),"treatment_planner"==V&&(0,hr.jsxs)("div",{children:[" ","3"==(null===y||void 0===y?void 0:y.status)?(0,hr.jsx)("div",{className:"message-div",children:" Case QC Department "}):"4"==(null===y||void 0===y?void 0:y.status)?(0,hr.jsx)("div",{className:"message-div",children:"Case pending for need more info from client"}):""," "]}),F&&(0,hr.jsx)("div",{className:" mb-4",children:(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Comments "}),(0,hr.jsx)(YO(),{value:N,onChange:K})]})}),(0,hr.jsx)("div",{className:"d-flex my-3",children:F&&(0,hr.jsx)("button",{className:"button",onClick:async()=>{if("3"!=F||M){s(!0);try{var e;const i=new FormData;x&&i.append("p_case_id",x),F&&i.append("case_status",F),"3"==F&&i.append("user_id",M),"4"==F&&i.append("user_id",k),"5"==F&&i.append("user_id",k),"6"==F&&i.append("user_id",k),"7"==F&&i.append("user_id",C),"8"==F&&i.append("user_id",k),"9"==F&&i.append("user_id",C),"10"==F&&i.append("user_id",C),"11"==F&&i.append("user_id",C),"12"==F&&i.append("user_id",C),"15"==F&&(i.append("user_id",C),a(C)),"13"==F&&(i.append("user_id",I),a(I)),"14"==F&&(i.append("user_id",I),a(I)),"16"==F&&(i.append("user_id",C),a(C)),"17"==F&&(i.append("user_id",I),a(I)),"18"==F&&(i.append("user_id",C),a(C)),N&&i.append("comments",N);const r=await Ah.updateCaseStatus(i,(e=>{const t=Math.round(100*e.loaded/e.total);d(t)}));var t,n;if(200==(null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.status))ir.success(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.message,{autoClose:1500,pauseOnHover:!0,draggable:!0}),U(""),A(""),"5"==F&&ne("Case updated","Case Updated by Ortho",k),"8"==F&&ne("Need Modifications","Need Case Modifications by Client",k),"9"==F&&ne("Pending Step files","Client Asked for Step files",C),"10"==F&&ne("Pending Container files","Client Asked for Container files",C),"13"==F&&ne("Need Stl files modifications","Client Asked for Stl files modifications",I),"14"==F&&ne("Need Container Files modifications","Client Asked for Container Files modifications",I),"15"==F&&ne("Pending Direct Printing Files","Client Asked for Direct Printing Files",C),"17"==F&&ne("Need Direct Printing files modifications","Client Asked for Direct Printing files modifications",I),"18"==F&&ne("Case completed","Case completed By Client",C);else ir.error(null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message,{autoClose:1500,pauseOnHover:!0,draggable:!0})}catch(o){var i,r;ir.error(null===o||void 0===o||null===(i=o.result)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.errors[0],{autoClose:2e3})}finally{s(!1)}}else ir.error("Qa not found in this team",{autoClose:1500,pauseOnHover:!0,draggable:!0})},children:"Change Status"})})]})]})}):(0,hr.jsx)("div",{className:"row",children:(0,hr.jsxs)("div",{className:"col-12 col-md-8",children:[(0,hr.jsxs)("div",{className:"case-status-main",children:["Case Status :   ","1"==(null===y||void 0===y?void 0:y.status)?"New Case":"2"==(null===y||void 0===y?void 0:y.status)?"In Planning":"3"==(null===y||void 0===y?void 0:y.status)?"Ready for QA":"4"==(null===y||void 0===y?void 0:y.status)?"Need More Info":"5"==(null===y||void 0===y?void 0:y.status)?"Case updated by ortho":"6"==(null===y||void 0===y?void 0:y.status)?"Rejected By QA":"7"==(null===y||void 0===y?void 0:y.status)?"Pending Ortho Check":"8"==(null===y||void 0===y?void 0:y.status)?"Need Modifications":"9"==(null===y||void 0===y?void 0:y.status)?"Pending Step Files":"10"==(null===y||void 0===y?void 0:y.status)?"Pending Container files":"11"==(null===y||void 0===y?void 0:y.status)?"Stl files ready":"12"==(null===y||void 0===y?void 0:y.status)?"Container files ready":"13"==(null===y||void 0===y?void 0:y.status)?"Need Stl File Modifications":"14"==(null===y||void 0===y?void 0:y.status)?"Need Container File Modifications":"15"==(null===y||void 0===y?void 0:y.status)?"Pending direct printing files":"16"==(null===y||void 0===y?void 0:y.status)?"Direct printing files ready":"17"==(null===y||void 0===y?void 0:y.status)?"Need direct printing files Modifications":"18"==(null===y||void 0===y?void 0:y.status)?"Case completed":""]}),null!==y&&void 0!==y&&y.planner?(0,hr.jsx)("div",{children:"11"==(null===y||void 0===y?void 0:y.status)||"12"==(null===y||void 0===y?void 0:y.status)||"16"==(null===y||void 0===y?void 0:y.status)?(0,hr.jsx)("div",{className:"message-div",children:"Files are uploaded for Client check"}):(0,hr.jsxs)("div",{className:"form-group  mb-4",children:[(0,hr.jsxs)("div",{className:"form-group mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Upload Files "}),(0,hr.jsxs)("div",{className:"file-wrapper",children:[(0,hr.jsx)("span",{children:f||"Upload File here"}),(0,hr.jsx)(Qr,{}),(0,hr.jsx)("input",{type:"file",name:"",className:"input",onChange:e=>{const t=e.target.files[0];m(t.name),p(t)}})]})]}),(0,hr.jsxs)("div",{className:"form-group mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Paste share link here "}),(0,hr.jsx)("input",{type:"text",value:v,className:"input",onChange:e=>g(e.target.value)})]}),(0,hr.jsxs)("div",{className:"form-group mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Select case status   "}),(0,hr.jsxs)("select",{className:"input",value:F,onChange:e=>U(e.target.value),children:[(0,hr.jsx)("option",{value:"",children:"Select"}),(null===W||void 0===W?void 0:W.includes("upload-stl-file"))&&("9"==(null===y||void 0===y?void 0:y.status)||"13"==(null===y||void 0===y?void 0:y.status))&&(0,hr.jsx)("option",{value:"11",children:"Ready Stl Files"}),(null===W||void 0===W?void 0:W.includes("upload-container-file"))&&("10"==(null===y||void 0===y?void 0:y.status)||"14"==(null===y||void 0===y?void 0:y.status))&&(0,hr.jsx)("option",{value:"12",children:"Ready Container Files"}),(null===W||void 0===W?void 0:W.includes("upload-stl-file"))&&("15"==(null===y||void 0===y?void 0:y.status)||"17"==(null===y||void 0===y?void 0:y.status))&&(0,hr.jsx)("option",{value:"16",children:"Ready direct printing files"})]})]}),(0,hr.jsx)("div",{className:" mb-4",children:(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Comments "}),(0,hr.jsx)(YO(),{value:N,onChange:K})]})}),(0,hr.jsx)("div",{className:"d-flex my-3",children:(0,hr.jsx)("button",{className:"button",onClick:async()=>{if(F){s(!0);try{var e;const i=new FormData;x&&i.append("p_case_id",x),v&&i.append("stl_file_by_post_processing_we_transfer_link",v),C&&i.append("user_id",C),F&&i.append("case_status",F),N&&i.append("comments",N),h&&i.append("stl_file_by_post_processing",h);const r=await Ah.updateCaseStatus(i,(e=>{const t=Math.round(100*e.loaded/e.total);d(t)}));var t,n;if(200==(null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.status))ir.success(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.message,{autoClose:1500,pauseOnHover:!0,draggable:!0}),"11"==F&&ne("STL FIles Ready","STL Files Ready by Post processing department",C),"12"==F&&ne("Container Files Ready","Container Files Ready by Post processing department",C),"16"==F&&ne("Direct Priniting Files Ready","Direct Priniting Files Ready by Post processing department",C),setTimeout((()=>{Z("/cases")}),1500);else ir.error(null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message,{autoClose:1500,pauseOnHover:!0,draggable:!0})}catch(a){var i,r;ir.error(null===a||void 0===a||null===(i=a.result)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{s(!1)}}else ir.error("Please Select status",{autoClose:1500,pauseOnHover:!0,draggable:!0})},children:"9"==(null===y||void 0===y?void 0:y.status)||"13"==(null===y||void 0===y?void 0:y.status)?"Upload Stl Files":"10"==(null===y||void 0===y?void 0:y.status)||"14"==(null===y||void 0===y?void 0:y.status)?"Upload Container Files":"15"==(null===y||void 0===y?void 0:y.status)||"17"==(null===y||void 0===y?void 0:y.status)?"Upload direct printing files":""})})]})}):(0,hr.jsx)("div",{className:"message-div",children:"Case is not assigned yet to any planner"})]})}),"1"!=(null===y||void 0===y?void 0:y.status)&&!P&&(0,hr.jsx)("button",{onClick:()=>te("start"),className:"button",children:"Start Work"}),"1"!=(null===y||void 0===y?void 0:y.status)&&P&&!j&&(0,hr.jsx)("button",{onClick:()=>te("end"),className:"button ms-4",children:"Complete Work"}),Q&&P&&j&&(0,hr.jsx)("p",{children:Q})]})]})},$O="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwgHBgkIBwgKCgkLDRYPDQwMDRsUFRAWIB0iIiAdHx8kKDQsJCYxJx8fLT0tMTU3Ojo6Iys/RD84QzQ5OjcBCgoKDQwNGg8PGjclHyU3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3N//AABEIAKoAtQMBIgACEQEDEQH/xAAcAAABBQEBAQAAAAAAAAAAAAAAAQQFBgcDAgj/xABCEAABAgQEAwQGCAUDBAMAAAABAgMABBEhBRIxQQYUIhNRYXEkMkOBkaEHIzNCcrHB0TRSYuHwRMLxY5Si0hWj4v/EABoBAAEFAQAAAAAAAAAAAAAAAAACAwQFBgH/xAAqEQACAgEDAwQBBAMAAAAAAAAAAQIDBBESMQUTISJBUWEyI0JxgTOhwf/aAAwDAQACEQMRAD8A2ZaxNDIgEEX6oAoJRy18+ldoFhAHotM++Xug6clVfxHzrAAIVylUuXzX6YRCDLK7VdwbUEKihrzWu2aERmKvSPs9q98AAUFa+ZHqa03t/wAQLHN3btl1zQHNnoj7D5U3gXUU5TT72WABVLD6exTUKG50tAFhtHLmuY2qNLwKyhNWPtd6a+MQHF/FElwvhgmJtPbT7tRLy4NFLUNz3JFqn8zaA6lqTT0wxhLC3555tpmlVOLWEpTTvJpFNnvpP4ckJhSpdUzPKqf4dqg+KymvurGS8Q8RYpxHN9vikypwA1bZTZtr8Kf118YioQ5DqrXuapO/S+2p7PKYGtVD7WaCfySYjMR+lrGpoJEtIyMvTdQU4fdcD5Rn0Ec3MVsiT7nGGMzWJS07ic25Ocq4HGZdSuzaCxdJKUUBoaHvtrrE5hn0pYxISM2l9KZybfcKkOPUS2wmmgQkAm9dxtrFEgjmrO7UfTGAuzaMHkn8UCObeYQp1LQsFEVI+cPQgoXzJ9TWm94xDgj6QJnAi3I4qFzmFA0ArVyXH9Pen+n4dx2mTmmp1hqZl3UvSLqczbiTVKk7XhxPUYlFpnZaDMntUWAtQwq1c2Mrdim/VCLzBXo32e9O+FXlA9F9bfL3R0SGcFHLD16UrtAhYlRkWCSb9MHTkqP4j51gQEEelUz7Zu6ABEJMp1uXBt0wZTn5n7mtN4EZj/Fertm74OrPT/T/ACpAALSZs50WAt1QQLzA+i+rvl74SAD0pAlB2iTmJtQwZQpPM16tabQiEqljndNQbWvBlJXzA+z1pvAAqQJuql9OW1oRK+ZPZKFAL1ECwZo1asBY5rQqliYSG26hQvUwAIV5FcsB06V3vAo8pZHVm74UKCEcur19K7XiNxTGpfA0KQ8Q9MLFUNIPzPcIVCEpvbFeRMpKK1kP5hbUhLuTrrgS2hJWtStEp1Jj5w4mxyY4ixqYxKZzDtDRptXsmx6qf38SYuPHGOTk7hb3buZUuKCUtJNEipvbe1YpnD+Dv45iSJRk5UAZnXKWbR3+ewEGVX2WlJ/YvFmrU5JfR14c4fmsemlNskNMN/avqTUI7gBuT3RZD9Gy9sZT/wBn/wDuLthmHSuFSSJSSbyNI77lR3JO5MO4qpXyb9JZRqWnkz0/Rs7tjCP+0P8A7wo+jZ3fGEDylD/7xoMEc79nyd7cfgobf0boH2uLKV+CWCf9xjljH0fol8OW9hkxMPzTfUWnMtFjcJoK1+NdI0GCOd6evJ3txMDjS/oax5aZx/h6Zd9HfSXpap9RYupI8xen9KjvHbi3hFnFUuTmHoDeIUqUiyX/AAPcrx+PeM4wt1UvicssgpKXQCCKEXoYnUzVjREui4xZ9NqXyx7JIqDephVJEoMyOrNa8UjA+K5iTozP5phg/f1Wn9/fFxkZhlTCZlp1LzLg6VINfz0iddjzpfq4K+q+Fq8HbKEp5n72tNoEoE0O0VVJFqCEykL5g/Z603gWlUyc7RoBa9oYHgSvm+hQygXtBn6uWp06V3hVqE0MrViL9VoM4ycv7TSu0ACKXyhyJGat7wQqFCVBS7cm9rwQAIgqWaTVcm2a14Kqz5E/w/yp5wBfNnsyMtOqogz5Ty1LaZvOAAXVB9FuN8t4VQShNZenab0NbQhVynSOrNe8RPEWKJwSWqyvNNvAhtJHqjdR/wA/WFwhKclGPImc1CO5jbiPH04ensJcBWIEVUo6Nd1R302958aM44t1xTjq1LWo1UpRqSYRa1OLUtaipaiSpSjUk95hIvqKI0x0XJS3XStlq+Cv8Yq9Cl097tfgD+8Wf6OsOEpgfNrTR2cXnqf5BZI/M++KtxkCZWWCQSrtDQDvpGmycsmTk2JVHqsNpbHuFP0jO9Yl+s0X/Sl+imdoIbTk/KSKQqcmWmQdM6gCfIbxHDivAyvLz4r39kunxpFQot8ItNUiagjwy62+0h1laXG1jMlSTUER7hJ0IIZ4hikjhoSZ6ZQznrlBqSaeAvDNjijBH1ZUYg2k/wDUSpA+KgBClGT86HNUTEZTx9JDD+JC+0KImUh8WtmrRXzFffGqIWlxCVtqSpChVKkmoI8DFF+lGXLpwpadVKcar4nLT9Ydx21Yhu1JwHcPsJxR/DJgONdbZP1jSj0r/Y+MMYI3UoqS0fBjIycXqjUMNxBrEmEusKJljZSTqg9x8YdLKkGkrXJvlveM0wbFHcLmu0QVFldA62PvD9xt/eNHl5toMNuSyg606kLSrTWKLKx3TLxwy4x71bHzydVhKBWV9bfLe0FE5M3+o8718oCjlBnBzVteDJbma31yxFJAICVis1622a1oIAkTfWrppa0EAAtSXxkZFFC52tAFAI7Ej63Sv94FhDYrLXXocpraCiSjOr7furevlABzdfbw+XcdnD0pSVE62EZjiM65iE45MvVqs2TWuUbCLJxviCylmRJ6j9Y5alvuj41PuEVKLjAp2w3vllXm27pbFwggghIsCCeJ/B1TjUi++sNMInGTcElYKgmgHv1i2YiZvknzh4QZrL9XnNqxG8Xq7HAHXEizTjSgB4OJpE4qyiPGMRl5MsizuNGxxsdUV7Eyv4dwxKt1mMVAn55y7jj3UkHuAO3n8tIljISRRkMnLFH8pZTT8obcQzr+H4NMzUqkKdQkZaioTUgV91a+6K5wZjmIzuJrlZt4vtKaK6qSKoIIvUDQ1pTyhnSUk5aj2qT0Lk22hptLbSEoQkUSlIoAO4CPcEENCzi/Ky0wpCpiXZdUiuUuNhRT5V00jjMYXh8ynLMSMsseLQqPI7RyxfEjIhpqXl1zU4/XsWEGlQKVUTskVF/ERGJmOLWyHXJGQdRqWEOZVU7gSoivxhaT51Eto9y2CTOEYk05gztJB1fpMq6skJH8yfH5+JGnvjCQTPYfLEuBtTM4ytJI1qsII/8AKvuiYk5gTUsh4NONZtW3U5VJINCCPMRGcULIlpBA9riDCP8Ayr+kdjOW9P3RxxTi17EZNSzsq5keTQm4I0PlHKJ7HwDKNq3DlvgYgY2WDkvIoU5cmTzcdUXOEeAi08FYwJd44fM3adJU0T91W49/5+cVaFSpSFJWglKkkFJGxiRbWrYOLGKrHXJSRrKEmX6n7g2G94Mpz9t7LWnh5Q1wieGKSDUw8RlUm+wChYj84dVVnyew76Wp5xnJRcW0y9TTWqBaTMHMxYCx2hIVZU2aSt0nXKM14I4dFKOU+srmr000gCM3pNab5f7wiEqZOaYuk2G94ZY48uXwubmm1UQGyEX0JsLeZhUY7mkjkntTZn2MThn8TmZomoWs5fwiw+QEM4II0sUopJGfbberCEhYI6cJTjg04YnCL3bP/wBiYnVGqiRoTFMx6fW7w3MSjiSo9GVY7gtJv8ItGFTAm8MlJge0aST50v8AOsYfKxp40tkzZY+RDIjvgOlAKSUqAKSKEEWIjhKSMpJBQk5VlgK9bsmwmvwhxDTEMSk8NbDk7MIaB9UG6leQFzEZa8EgdwRU5rjDDlKBZVN2t6gAPzjmviuSSlJD0wonYJNvjCu3ITuLhBFdkuLsIcytuPPNnTO8i3xBNPfFgQtDiErbUlaFCqVJNQR4GONNcnUz1EFxURlwgd+KMf7onYq3GM2lvEMGY1KZpLygNaBQA/3fCO1pykkjkmktWS2Pn0NA/wCoPyMQMOp+dXOOAkZUJ9VNfnDWNj0/Hlj0KE+TJ518b73KPAQQQROIZbeBHy7zOHqVQWeR+Sv9sW7P/pqeGb+0Zvwy8pnG5bKrL2hLZ8cwoPnSNIqnJ2XtqUr4+cUmfDbbr8lvhz3VafAmflOimfNeukEKgpZGWYuTcb2giESxEKU8cswKJFxUUvEHxm6pvBHGU/ZKcQkHvvXX3RO5+b+rpkp1V1/zWK7xwoowhpgCuWYTU9/SqH8Za3R/kZyP8UijQQQRoSjCCCCADjONF+VdaGq0EDz2htwjxG3hqDJT+YS5VmQ4BXsydQR3fkfOz+KxjcoZeaLiR9W6ajwO4im6vj74Kz4LjpN6jJ1v34NTTMMKljMpeQqXCSoupUCmg1NYzVxD2MqxTGplLhYlkFwoSqhI+6gE1oANTQ07rxDAkAgEgHUA6xfOAlsP4NNSi0pUe1V2qD95KkgX+BHujPbe2tS/11O+B8OcHYthcvODFmmVrQO0YdmAFtLpdKuoXHz1GsSbnB/B60JSMVkkZRSqZkVPn1xRpvgVUq+6XX1rlc31Sm09WX+onQ/t7g3RwpLrUUh59RJ6QkCv5XiQu2/P/WLrwcqyO6PH9Fg4gwHhqVnZDDsLxAzM5OOFP1DoWGUhJOZVzW4Fqg0qa2oU4JmHpHEZrBZs0IJUhNbBQ9anmL+6OvB/CSsInHJ6bWFLy5WEUoUg6k+O3lXvoK9xa+29xFNrYNklKCobqSkA/MU90MycZNxjwNqMoflyaDiuLyWEtZ5x0BdOlpN1q8h+ptFBRNu41xBzjwyhIqEA2QkWA+J/OIQ3JJ1OpO8WXA5Tl5btFijjt/IbRN6djb719eSH1C/t0P5fgkoIII1ZlQggggA7SbhZnJd0GhQ6lQPkQY1XKnL2nttaePlGSX+7rtGtlF+Zr45f7xVdSXmL/kssB/l/QICXhmmLEWG1oITJzfXXJltTWCKwsBVlDgpLWXqcopaILjJKTgKgqnatuJUonXWmvvidWlLAzsmqjYjW0MMelRN4HOV+1LRVl7ym4/KHaJbbYv7G7lrXJfRmcEEEaMoQggggAI5TUu3NMqadFUnfcHvEdYI5KKktHwKjJxeq5KhPST0k5lcFUn1VjQ/3j3heIzGFziZmVVRQspJ0WncGLUtCXEFC0hSTqCKgw3RwvLTbKnWnXGFZynTMnQHTXfvjO52CqI70/SaHCz++9kl6hxNcdJMp6HKLRNHdwgoT5UufgIiZLi/FmJgLfeTMNE9Tam0pqPAgA1ge4Sn0H6pxh0fiKT+X6xwTwxipNCyhPiXU/oYqUqy01ZMYtxt20sWsMZdZWsULrlKp/CBW/jFO84ssvwhMqI5maabH9AKz86Q6/wDhZTD5pSUpU4pGWinLkWB003iViY/fn24P7I2VkrHhvkvoiMJwpS1Jfmk0bF0oOqvE+EWCCCNRj48KIbYmZyMid890ggggh8jhBBBAB1lUdpNMt263Epv4mNVorPn9h3VtTyjOOGZfmcdlEH1Urzk92UV/QRo+Y5+x9lpXw84qeoy9UUWeAvS2Cwpw1lbJ3ynLeEhVqMucrFwbneEitJ4oRyh7QnNXpoLQFsLrMGmXUpIgQFINZquTbNe8FFZ86a8v8qeUAGWT8tyc6/L7NrIHlt8qRwi2cdSKO0ZxCXT0K+qdoKUOx+FR7hFTjR0WdytSKK6vtzcQggjhNzbMo3nfVQbAXJ8hDjkorVjaTb0R3jm6+yz9s6hv8SgIrc5jMy+Slo9i3/T6x9/7RGkkkkmpOpMQbM1LxBEuGK/3Mu0g8ziMyZeTcS46E5imhFu+um4iz4TLOSsstDwAKllVAa2oP2jN+F8RbwvGWX3rMqBbcP8AKk7+4gGNVBCkhSSCkioINQRFL1LMumu3JLay46fi1RfcTeqPBYbOqB7rR5Eu1/L847QRTlseEtoR6qQPGIfEMNmX5111pKSlVKdXgBE3DPFsRZwqRcm3yKJHQndatgIk4mTZj2bq+X4I2Vj13w22cLyVAYjJ51I5lAUkkHPVNx50hykhQqkgjvEUda1OLUtZqpRJJ7yY9sPuy6szLikHwMaaGdL9yM7LEj+1l2giEkMcCiG50ZToHEi3vETSSFAKSQQbgjeJ1dsLFrEiTrlB+RYIIACTQAknQDeHBstPAsiX35mZJplSG0277n9PjFyz25al9M0MMFkhI4SxLM/bgZnSLXOt/l7of1Tkyf6jyvXzjPZNnctckXlFfbrSAK5ToIzZr2tCQqClApNettmvaCGB4RClTJyOigF7WgzEL5cD6vSu8KpYmx2aRlIvUwZsqeWp1aV2gAbYnKNvSjsmoZm3k3JuQdiPLWMznJV2SmnJaYTRxs0P7jwjVUq5TpV1Zr2iA4qwJU3KiaZvMN6JAutOtPPu/vE3CyO3LbLhkTLo7kdy5RnGJTqJFjOoZlqshPeYqkw+5Mul15RUo/LwEdMQmlTk0t1QKRolJ+6BtDeF5F7tl9DdNSrX2EEEERx4ImcF4ln8JSGkEPyw9i4fV/Cdvy8IhoITKEZrSSFRnKD1izQ5XjjDHE+kNTDCvwhY+Iv8ocnjDBAK8ys+AZX+0ZnBEZ4VT+SSs21fBe57juXSkpkJRxxey3iEp+AqT8oqGJ4nOYo/2066VkWSkWSgdwEM4Idrorr/ABQ1ZfOz8mEEEEPDIRIYXia5NYQ4Spg6p/l8R+0R8EKhNweqOSipLRl5SQpIUkgpUKgjcRYOEcPL86J1xFWpc9NRZS9vhr8Ip/A7Mxis4MLaBP3w4bhtNb1/TxjZ5JlrCZZEo2noSKin6+MTMjMTq0jy/wDRHoxX3NXwjqtIlRmauTa94Mgycx7TWm0IlHKdauoG1oMnVzNenWm8VJZCoSJoZnagiwpaCEUjmznSctLXggAVeQj0WmffL3QdOSiv4j51gWgSozoJJNuqAJCkczfPrTaAARQA81rtmhEZgr0j7PavfCoSJuqnLZbdMIhZmT2S7AXqIAM/4/4HM8t3F8CYq6ep5hHte9Sf6u8b6665WQQSCKEGhB2MfShWUL5YeppU63io8a8DSeLEzMmoS+IKFS4fUd/EBv8A1C/nDkZezG5Q90YzBD3F8Jn8GmzK4lLLYc1STdKx3pOhHlDKHBoIIIIACCCCAAggggAIIIIACH+CYPPY5Ppk8OZLjhuo6JbT/Mo7D/BEtwzwZiOOFt9xJlJFVD27ibrH9Cd/PTz0jYsJwaR4akky+GNZUq9dS7qcPeo7n/BSEyloLjDUbcM8PyPDuG8rJ9c2uheeIopxX6AXoNvMkmXRkA9Kpn2zd0BSEo5n79K02gQgTQzrJBFumGR4RGYH0r1ds3fB1Z635f5UgQszfQ5YC/TBnOflvuaV3gAF5ifRfV3y98EC1cociLg36oIABCDKntF0INumDIVL5n7mtN49O9QAN77wexI2ppAB5WnmzmRbLbqhVLEynskChF6mFa6QctvKEbAC6gUNNoAALCEcsa5tKjS//MCDylQu+bTLAQC7Wl6i8DvUoZr23gAbT2HSs3LrbxKXamZZzVtaa32PgfGKJjX0XMvIXM4DNdimhIl5klQ9yhce+saKu6ADcQI+yI2vaOptHGkzAcS4WxzDcypnDnlNp9qyO0TTvqmtPfSIYEHQiPpdrprlt5Qyn8Lw6dbcVOyErMKAqC8ylZB94hamIdZ87QRbuL5KUlkumXlWGqLoOzbCe7uiqy4BfbBFQVCxhxeRtrQ5x7l2XZp0NSrTj7h0Q0grV8BGqcJYNhcw4kTGGyboqPXl0q+74iL6wy1LtFuXbQ0j+VCQkfAQhzFqsxfBvo8x7E1Vdabkmt1zCuqngkX+NIvmA8A4LhbiS6lU9OpNnJgDIkjuRp8amLa10qOW1toAAHa0vU3hDk2LUEgSsSwLa6lRvUQiE8pVS75rdMK4AV1Iqabwr3Vlre+8JFHnIUr5n7utN4FoM0c6KAC3VHr2IG1NIGukEC19oAEWoTYyIFCL9UGYZOW+9pXaBkZTa1toT2td66wAKhQlBkXcm/TBA6ApQzCtt4IAP//Z";function QO(e){return Er({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"circle",attr:{cx:"6",cy:"4",r:"2"},child:[]},{tag:"path",attr:{d:"M9 7H3a1 1 0 0 0-1 1v7h2v7h4v-7h2V8a1 1 0 0 0-1-1z"},child:[]},{tag:"circle",attr:{cx:"17",cy:"4",r:"2"},child:[]},{tag:"path",attr:{d:"M20.21 7.73a1 1 0 0 0-1-.73h-4.5a1 1 0 0 0-1 .73L12 14h2l-1 4h2v4h4v-4h2l-1-4h2z"},child:[]}]})(e)}const eP="carousel",tP="controller",nP="portal",iP="toolbar",rP="loading",aP="error",oP="complete",sP="placeholder",lP=e=>"active-slide-".concat(e),cP=(lP(rP),lP("playing"),lP(aP),lP(oP),"flex_center"),uP="no_scroll_padding",dP="slide_wrapper",hP="prev",pP="next",fP="swipe",mP="close",vP="onPointerDown",gP="onPointerMove",yP="onPointerUp",bP="onPointerLeave",xP="onPointerCancel",_P="onKeyDown",wP="onKeyUp",SP="onWheel",MP="Escape",EP="ArrowLeft",CP="ArrowRight",TP="icon",NP="contain",AP="cover",kP="Unknown action type",OP="yarl__";function PP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return[...t].filter(Boolean).join(" ")}function RP(e){return"".concat(OP).concat(e)}function jP(e){return"--".concat(OP).concat(e)}function LP(e,t){return"".concat(e).concat(t?"_".concat(t):"")}function IP(e){return t=>LP(e,t)}function DP(e,t){var n;return null!==(n=null===e||void 0===e?void 0:e[t])&&void 0!==n?n:t}function FP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return()=>{t.forEach((e=>{e()}))}}function UP(e,t,n){return()=>{const i=r.useContext(n);if(!i)throw new Error("".concat(e," must be used within a ").concat(t,".Provider"));return i}}function zP(){return"undefined"!==typeof window}function BP(e){return void 0===e.type||"image"===e.type}function HP(e){return"string"===typeof e?Number.parseInt(e,10):e}function VP(e){if("number"===typeof e)return{pixel:e};if("string"===typeof e){const t=HP(e);return e.endsWith("%")?{percent:t}:{pixel:t}}return{pixel:0}}function WP(e,t){const n=VP(t),i=void 0!==n.percent?e.width/100*n.percent:n.pixel;return{width:Math.max(e.width-2*i,0),height:Math.max(e.height-2*i,0)}}function GP(e,t){return t>0?(e%t+t)%t:0}function qP(e){return e.length>0}function YP(e,t){return e[GP(t,e.length)]}function XP(e,t){return qP(e)?YP(e,t):void 0}function ZP(e){return BP(e)?e.src:void 0}const KP={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[mP]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:NP,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function JP(e,t){return{name:e,component:t}}function $P(e,t){return{module:e,children:t}}function QP(e,t,n){return e.module.name===t?n(e):e.children?[$P(e.module,e.children.flatMap((e=>{var i;return null!==(i=QP(e,t,n))&&void 0!==i?i:[]})))]:[e]}function eR(e,t,n){return e.flatMap((e=>{var i;return null!==(i=QP(e,t,n))&&void 0!==i?i:[]}))}const tR=r.createContext(null),nR=UP("useEvents","EventsContext",tR);function iR(e){let{children:t}=e;const[n]=r.useState({});r.useEffect((()=>()=>{Object.keys(n).forEach((e=>delete n[e]))}),[n]);const i=r.useMemo((()=>{const e=(e,t)=>{var i;null===(i=n[e])||void 0===i||i.splice(0,n[e].length,...n[e].filter((e=>e!==t)))};return{publish:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];let[r,a]=t;var o;null===(o=n[r])||void 0===o||o.forEach((e=>e(a)))},subscribe:(t,i)=>(n[t]||(n[t]=[]),n[t].push(i),()=>e(t,i)),unsubscribe:e}}),[n]);return r.createElement(tR.Provider,{value:i},t)}const rR=r.createContext(null),aR=UP("useLightboxProps","LightboxPropsContext",rR);function oR(e){let{children:t,...n}=e;return r.createElement(rR.Provider,{value:n},t)}const sR=r.createContext(null),lR=UP("useLightboxState","LightboxStateContext",sR),cR=r.createContext(null),uR=UP("useLightboxDispatch","LightboxDispatchContext",cR);function dR(e,t){switch(t.type){case"swipe":{const{slides:n}=e,i=(null===t||void 0===t?void 0:t.increment)||0,r=e.globalIndex+i,a=GP(r,n.length);return{slides:n,currentIndex:a,globalIndex:r,currentSlide:XP(n,a),animation:i||t.duration?{increment:i,duration:t.duration,easing:t.easing}:void 0}}case"update":return t.slides!==e.slides||t.index!==e.currentIndex?{slides:t.slides,currentIndex:t.index,globalIndex:t.index,currentSlide:XP(t.slides,t.index)}:e;default:throw new Error(kP)}}function hR(e){let{slides:t,index:n,children:i}=e;const[a,o]=r.useReducer(dR,{slides:t,currentIndex:n,globalIndex:n,currentSlide:XP(t,n)});r.useEffect((()=>{o({type:"update",slides:t,index:n})}),[t,n]);const s=r.useMemo((()=>({...a,state:a,dispatch:o})),[a,o]);return r.createElement(cR.Provider,{value:o},r.createElement(sR.Provider,{value:s},i))}const pR=r.createContext(null),fR=UP("useTimeouts","TimeoutsContext",pR);function mR(e){let{children:t}=e;const[n]=r.useState([]);r.useEffect((()=>()=>{n.forEach((e=>window.clearTimeout(e))),n.splice(0,n.length)}),[n]);const i=r.useMemo((()=>{const e=e=>{n.splice(0,n.length,...n.filter((t=>t!==e)))};return{setTimeout:(t,i)=>{const r=window.setTimeout((()=>{e(r),t()}),i);return n.push(r),r},clearTimeout:t=>{void 0!==t&&(e(t),window.clearTimeout(t))}}}),[n]);return r.createElement(pR.Provider,{value:i},t)}const vR=r.forwardRef((function(e,t){let{label:n,className:i,icon:a,renderIcon:o,onClick:s,style:l,...c}=e;const{styles:u,labels:d}=aR();return r.createElement("button",{ref:t,type:"button","aria-label":DP(d,n),className:PP(RP("button"),i),onClick:s,style:{...l,...u.button},...c},o?o():r.createElement(a,{className:RP(TP),style:u.icon}))}));function gR(e,t){const n=e=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...e},t);return n.displayName=e,n}function yR(e,t){return gR(e,r.createElement("g",{fill:"currentColor"},r.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t))}const bR=yR("Close",r.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),xR=yR("Previous",r.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),_R=yR("Next",r.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),wR=yR("Loading",r.createElement(r.Fragment,null,Array.from({length:8}).map(((e,t,n)=>r.createElement("line",{key:t,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/n.length*(t+1),transform:"rotate(".concat(360/n.length*t,", 12, 12)")}))))),SR=yR("Error",r.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),MR=zP()?r.useLayoutEffect:r.useEffect;function ER(){const[e,t]=r.useState(!1);return r.useEffect((()=>{var e,n;const i=null===(e=window.matchMedia)||void 0===e?void 0:e.call(window,"(prefers-reduced-motion: reduce)");t(null===i||void 0===i?void 0:i.matches);const r=e=>t(e.matches);return null===(n=null===i||void 0===i?void 0:i.addEventListener)||void 0===n||n.call(i,"change",r),()=>{var e;return null===(e=null===i||void 0===i?void 0:i.removeEventListener)||void 0===e?void 0:e.call(i,"change",r)}}),[]),e}function CR(e,t){const n=r.useRef(),i=r.useRef(),a=ER();return MR((()=>{var r,o,s;if(e.current&&void 0!==n.current&&!a){const{keyframes:a,duration:c,easing:u,onfinish:d}=t(n.current,e.current.getBoundingClientRect(),function(e){let t=0,n=0,i=0;const r=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(r){const e=r[1].split(",").map(HP);6===e.length?(t=e[4],n=e[5]):16===e.length&&(t=e[12],n=e[13],i=e[14])}return{x:t,y:n,z:i}}(e.current))||{};if(a&&c){null===(r=i.current)||void 0===r||r.cancel(),i.current=void 0;try{i.current=null===(s=(o=e.current).animate)||void 0===s?void 0:s.call(o,a,{duration:c,easing:u})}catch(l){console.error(l)}i.current&&(i.current.onfinish=()=>{i.current=void 0,null===d||void 0===d||d()})}}n.current=void 0})),{prepareAnimation:e=>{n.current=e},isAnimationPlaying:()=>{var e;return"running"===(null===(e=i.current)||void 0===e?void 0:e.playState)}}}function TR(){const e=r.useRef(null),t=r.useRef(),[n,i]=r.useState(),a=r.useCallback((n=>{e.current=n,t.current&&(t.current.disconnect(),t.current=void 0);const r=()=>{if(n){const e=window.getComputedStyle(n),t=e=>parseFloat(e)||0;i({width:Math.round(n.clientWidth-t(e.paddingLeft)-t(e.paddingRight)),height:Math.round(n.clientHeight-t(e.paddingTop)-t(e.paddingBottom))})}else i(void 0)};r(),n&&"undefined"!==typeof ResizeObserver&&(t.current=new ResizeObserver(r),t.current.observe(n))}),[]);return{setContainerRef:a,containerRef:e,containerRect:n}}function NR(){const e=r.useRef(),{setTimeout:t,clearTimeout:n}=fR();return r.useCallback(((i,r)=>{n(e.current),e.current=t(i,r>0?r:0)}),[t,n])}function AR(e){const t=r.useRef(e);return MR((()=>{t.current=e})),r.useCallback((function(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return null===(e=t.current)||void 0===e?void 0:e.call(t,...i)}),[])}function kR(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function OR(e,t){return r.useMemo((()=>null==e&&null==t?null:n=>{kR(e,n),kR(t,n)}),[e,t])}function PR(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=r.useRef();MR((()=>{t&&n.current&&(n.current=!1,e())}),[t,e]);return{onFocus:r.useCallback((()=>{n.current=!0}),[]),onBlur:r.useCallback((()=>{n.current=!1}),[])}}function RR(){const[e,t]=r.useState(!1);return MR((()=>{t("rtl"===window.getComputedStyle(window.document.documentElement).direction)}),[]),e}function jR(e,t){const n=r.useRef(0),i=NR(),a=AR((function(){n.current=Date.now();for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];e(i)}));return r.useCallback((function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];i((()=>{a(r)}),t-(Date.now()-n.current))}),[t,a,i])}const LR=IP("slide"),IR=IP("slide_image");function DR(e){let{slide:t,offset:n,render:i,rect:a,imageFit:o,imageProps:s,onClick:l,onLoad:c,style:u}=e;var d,h,p,f,m,v,g;const[y,b]=r.useState(rP),{publish:x}=nR(),{setTimeout:_}=fR(),w=r.useRef(null);r.useEffect((()=>{0===n&&x(lP(y))}),[n,y,x]);const S=AR((e=>{("decode"in e?e.decode():Promise.resolve()).catch((()=>{})).then((()=>{e.parentNode&&(b(oP),_((()=>{null===c||void 0===c||c(e)}),0))}))})),M=r.useCallback((e=>{w.current=e,(null===e||void 0===e?void 0:e.complete)&&S(e)}),[S]),E=r.useCallback((e=>{S(e.currentTarget)}),[S]),C=r.useCallback((()=>{b(aP)}),[]),T=function(e,t){return e.imageFit===AP||e.imageFit!==NP&&t===AP}(t,o),N=(e,t)=>Number.isFinite(e)?e:t,A=N(Math.max(...(null!==(h=null===(d=t.srcSet)||void 0===d?void 0:d.map((e=>e.width)))&&void 0!==h?h:[]).concat(t.width?[t.width]:[]).filter(Boolean)),(null===(p=w.current)||void 0===p?void 0:p.naturalWidth)||0),k=N(Math.max(...(null!==(m=null===(f=t.srcSet)||void 0===f?void 0:f.map((e=>e.height)))&&void 0!==m?m:[]).concat(t.height?[t.height]:[]).filter(Boolean)),(null===(v=w.current)||void 0===v?void 0:v.naturalHeight)||0),O=A&&k?{maxWidth:"min(".concat(A,"px, 100%)"),maxHeight:"min(".concat(k,"px, 100%)")}:{maxWidth:"100%",maxHeight:"100%"},P=null===(g=t.srcSet)||void 0===g?void 0:g.sort(((e,t)=>e.width-t.width)).map((e=>"".concat(e.src," ").concat(e.width,"w"))).join(", "),R=P&&a&&zP()?"".concat(Math.round(Math.min(a&&!T&&t.width&&t.height?a.height/t.height*t.width:Number.MAX_VALUE,a.width)),"px"):void 0,{style:j,className:L,...I}=s||{};return r.createElement(r.Fragment,null,r.createElement("img",{ref:M,onLoad:E,onError:C,onClick:l,draggable:!1,className:PP(RP(IR()),T&&RP(IR("cover")),y!==oP&&RP(IR("loading")),L),style:{...O,...u,...j},...I,alt:t.alt,sizes:R,srcSet:P,src:t.src}),y!==oP&&r.createElement("div",{className:RP(LR(sP))},y===rP&&((null===i||void 0===i?void 0:i.iconLoading)?i.iconLoading():r.createElement(wR,{className:PP(RP(TP),RP(LR(rP)))})),y===aP&&((null===i||void 0===i?void 0:i.iconError)?i.iconError():r.createElement(SR,{className:PP(RP(TP),RP(LR(aP)))}))))}var FR,UR;!function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL",e[e.ANIMATION=3]="ANIMATION"}(FR||(FR={})),function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL"}(UR||(UR={}));const zR=30;function BR(e,t,n,i,a,o,s,l,c,u,d,h,p,f){const m=r.useRef(0),v=r.useRef([]),g=r.useRef(),y=r.useRef(0),b=r.useRef(UR.NONE),x=r.useCallback((e=>{g.current===e.pointerId&&(g.current=void 0,b.current=UR.NONE);const t=v.current;t.splice(0,t.length,...t.filter((t=>t.pointerId!==e.pointerId)))}),[]),_=r.useCallback((e=>{x(e),e.persist(),v.current.push(e)}),[x]),w=AR((e=>{_(e)})),S=(e,t)=>u&&e>t||c&&e<-t,M=AR((e=>{if(v.current.find((t=>t.pointerId===e.pointerId))&&g.current===e.pointerId){const e=Date.now()-y.current,t=m.current;b.current===UR.SWIPE?Math.abs(t)>.3*n||Math.abs(t)>5&&e<i?s(t,e):l(t):b.current===UR.PULL&&(S(t,2*zR)?p(t,e):f(t)),m.current=0,b.current=UR.NONE}x(e)})),E=AR((e=>{const n=v.current.find((t=>t.pointerId===e.pointerId));if(n){const i=g.current===e.pointerId;if(0===e.buttons)return void(i&&0!==m.current?M(e):x(n));const r=e.clientX-n.clientX,s=e.clientY-n.clientY;if(void 0===g.current){const n=t=>{_(e),g.current=e.pointerId,y.current=Date.now(),b.current=t};Math.abs(r)>Math.abs(s)&&Math.abs(r)>zR&&t(r)?(n(UR.SWIPE),a()):Math.abs(s)>Math.abs(r)&&S(s,zR)&&(n(UR.PULL),d())}else i&&(b.current===UR.SWIPE?(m.current=r,o(r)):b.current===UR.PULL&&(m.current=s,h(s)))}}));!function(e,t,n,i,a){r.useEffect((()=>a?()=>{}:FP(e(vP,t),e(gP,n),e(yP,i),e(bP,i),e(xP,i))),[e,t,n,i,a])}(e,w,E,M)}const HR=IP("container"),VR=r.createContext(null),WR=UP("useController","ControllerContext",VR);const GR=JP(tP,(function(e){let{children:t,...n}=e;var i;const{carousel:a,animation:o,controller:s,on:l,styles:c,render:u}=n,{closeOnPullUp:d,closeOnPullDown:h,preventDefaultWheelX:p,preventDefaultWheelY:f}=s,[m,v]=r.useState(),g=lR(),y=uR(),[b,x]=r.useState(FR.NONE),_=r.useRef(0),w=r.useRef(0),S=r.useRef(1),{registerSensors:M,subscribeSensors:E}=function(){const[e]=r.useState({}),t=r.useCallback(((t,n)=>{var i;null===(i=e[t])||void 0===i||i.forEach((e=>{n.isPropagationStopped()||e(n)}))}),[e]),n=r.useMemo((()=>({onPointerDown:e=>t(vP,e),onPointerMove:e=>t(gP,e),onPointerUp:e=>t(yP,e),onPointerLeave:e=>t(bP,e),onPointerCancel:e=>t(xP,e),onKeyDown:e=>t(_P,e),onKeyUp:e=>t(wP,e),onWheel:e=>t(SP,e)})),[t]),i=r.useCallback(((t,n)=>(e[t]||(e[t]=[]),e[t].unshift(n),()=>{const i=e[t];i&&i.splice(0,i.length,...i.filter((e=>e!==n)))})),[e]);return{registerSensors:n,subscribeSensors:i}}(),{subscribe:C,publish:T}=nR(),N=NR(),A=NR(),k=NR(),{containerRef:O,setContainerRef:P,containerRect:R}=TR(),j=OR(function(e){let{preventDefaultWheelX:t,preventDefaultWheelY:n}=e;const i=r.useRef(null),a=AR((e=>{const i=Math.abs(e.deltaX)>Math.abs(e.deltaY);(i&&t||!i&&n||e.ctrlKey)&&e.preventDefault()}));return r.useCallback((e=>{var t;e?e.addEventListener("wheel",a,{passive:!1}):null===(t=i.current)||void 0===t||t.removeEventListener("wheel",a),i.current=e}),[a])}({preventDefaultWheelX:p,preventDefaultWheelY:f}),P),L=r.useRef(null),I=OR(L,void 0),D=RR(),F=e=>(D?-1:1)*("number"===typeof e?e:1),U=AR((()=>{var e;return null===(e=O.current)||void 0===e?void 0:e.focus()})),z=AR((()=>n)),B=AR((()=>g)),H=r.useCallback((e=>T(hP,e)),[T]),V=r.useCallback((e=>T(pP,e)),[T]),W=r.useCallback((()=>T(mP)),[T]),G=e=>!(a.finite&&(F(e)>0&&0===g.currentIndex||F(e)<0&&g.currentIndex===g.slides.length-1)),q=e=>{var t;_.current=e,null===(t=O.current)||void 0===t||t.style.setProperty(jP("swipe_offset"),"".concat(Math.round(e),"px"))},Y=e=>{var t,n;w.current=e,S.current=(()=>{const t=h&&e>0?e:d&&e<0?-e:0;return Math.min(Math.max(function(e){const t=10**(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0);return Math.round((e+Number.EPSILON)*t)/t}(1-t/60*.5,2),.5),1)})(),null===(t=O.current)||void 0===t||t.style.setProperty(jP("pull_offset"),"".concat(Math.round(e),"px")),null===(n=O.current)||void 0===n||n.style.setProperty(jP("pull_opacity"),"".concat(S.current))},{prepareAnimation:X}=CR(L,((e,t,n)=>{if(L.current&&R)return{keyframes:[{transform:"translate(0, ".concat(e.rect.y-t.y+n.y,"px)"),opacity:e.opacity},{transform:"translate(0, 0)",opacity:1}],duration:e.duration,easing:o.easing.fade}})),Z=(e,t)=>{if(d||h){Y(e);let n=0;L.current&&(n=o.fade*(t?2:1),X({rect:L.current.getBoundingClientRect(),opacity:S.current,duration:n})),k((()=>{Y(0),x(FR.NONE)}),n),x(FR.ANIMATION),t||W()}},{prepareAnimation:K,isAnimationPlaying:J}=CR(L,((e,t,n)=>{var i;if(L.current&&R&&(null===(i=g.animation)||void 0===i?void 0:i.duration)){const i=VP(a.spacing),r=(i.percent?i.percent*R.width/100:i.pixel)||0;return{keyframes:[{transform:"translate(".concat(F(g.globalIndex-e.index)*(R.width+r)+e.rect.x-t.x+n.x,"px, 0)")},{transform:"translate(0, 0)"}],duration:g.animation.duration,easing:g.animation.easing}}})),$=AR((e=>{var t,n;const i=e.offset||0,r=i?o.swipe:null!==(t=o.navigation)&&void 0!==t?t:o.swipe,a=i||J()?o.easing.swipe:o.easing.navigation;let{direction:s}=e;const l=null!==(n=e.count)&&void 0!==n?n:1;let c=FR.ANIMATION,u=r*l;if(!s){const t=null===R||void 0===R?void 0:R.width,n=e.duration||0,a=t?r/t*Math.abs(i):r;0!==l?(n<a?u=u/a*Math.max(n,a/5):t&&(u=r/t*(t-Math.abs(i))),s=F(i)>0?hP:pP):u=r/2}let d=0;s===hP?G(F(1))?d=-l:(c=FR.NONE,u=r):s===pP&&(G(F(-1))?d=l:(c=FR.NONE,u=r)),u=Math.round(u),A((()=>{q(0),x(FR.NONE)}),u),L.current&&K({rect:L.current.getBoundingClientRect(),index:g.globalIndex}),x(c),T(fP,{type:"swipe",increment:d,duration:u,easing:a})}));r.useEffect((()=>{var e,t;(null===(e=g.animation)||void 0===e?void 0:e.increment)&&(null===(t=g.animation)||void 0===t?void 0:t.duration)&&N((()=>y({type:"swipe",increment:0})),g.animation.duration)}),[g.animation,y,N]);const Q=[E,G,(null===R||void 0===R?void 0:R.width)||0,o.swipe,()=>x(FR.SWIPE),e=>q(e),(e,t)=>$({offset:e,duration:t,count:1}),e=>$({offset:e,count:0})],ee=[()=>{h&&x(FR.PULL)},e=>Y(e),e=>Z(e),e=>Z(e,!0)];BR(...Q,d,h,...ee),function(e,t,n,i,a,o,s,l,c){const u=r.useRef(0),d=r.useRef(0),h=r.useRef(),p=r.useRef(),f=r.useRef(0),m=r.useRef(0),{setTimeout:v,clearTimeout:g}=fR(),y=r.useCallback((()=>{h.current&&(g(h.current),h.current=void 0)}),[g]),b=r.useCallback((()=>{p.current&&(g(p.current),p.current=void 0)}),[g]),x=AR((()=>{e!==FR.SWIPE&&(u.current=0,m.current=0,y(),b())}));r.useEffect(x,[e,x]);const _=AR((e=>{p.current=void 0,u.current===e&&c(u.current)})),w=AR((t=>{if(!t.ctrlKey&&!(Math.abs(t.deltaY)>Math.abs(t.deltaX)))if(e===FR.NONE){if(Math.abs(t.deltaX)<=1.2*Math.abs(f.current))return void(f.current=t.deltaX);if(!n(-t.deltaX))return;if(d.current+=t.deltaX,y(),Math.abs(d.current)>30)d.current=0,f.current=0,m.current=Date.now(),o();else{const e=d.current;h.current=v((()=>{h.current=void 0,e===d.current&&(d.current=0)}),a)}}else if(e===FR.SWIPE){let e=u.current-t.deltaX;if(e=Math.min(Math.abs(e),i)*Math.sign(e),u.current=e,s(e),b(),Math.abs(e)>.2*i)return f.current=t.deltaX,void l(e,Date.now()-m.current);p.current=v((()=>_(e)),2*a)}else f.current=t.deltaX}));r.useEffect((()=>t(SP,w)),[t,w])}(b,...Q);const te=AR((()=>{s.focus&&document.querySelector(".".concat(RP(nP)," .").concat(RP(HR())))&&U()}));r.useEffect(te,[te]);const ne=AR((()=>{var e;null===(e=l.view)||void 0===e||e.call(l,{index:g.currentIndex})}));r.useEffect(ne,[g.globalIndex,ne]),r.useEffect((()=>FP(C(hP,(e=>$({direction:hP,...e}))),C(pP,(e=>$({direction:pP,...e}))),C(fP,(e=>y(e))))),[C,$,y]);const ie=r.useMemo((()=>({prev:H,next:V,close:W,focus:U,slideRect:R?WP(R,a.padding):{width:0,height:0},containerRect:R||{width:0,height:0},subscribeSensors:E,containerRef:O,setCarouselRef:I,toolbarWidth:m,setToolbarWidth:v})),[H,V,W,U,E,R,O,I,m,v,a.padding]);return r.useImperativeHandle(s.ref,(()=>({prev:H,next:V,close:W,focus:U,getLightboxProps:z,getLightboxState:B})),[H,V,W,U,z,B]),r.createElement("div",{ref:j,className:PP(RP(HR()),RP(cP)),style:{...b===FR.SWIPE?{[jP("swipe_offset")]:"".concat(Math.round(_.current),"px")}:null,...b===FR.PULL?{[jP("pull_offset")]:"".concat(Math.round(w.current),"px"),[jP("pull_opacity")]:"".concat(S.current)}:null,..."none"!==s.touchAction?{[jP("controller_touch_action")]:s.touchAction}:null,...c.container},...s.aria?{role:"presentation","aria-live":"polite"}:null,tabIndex:-1,...M},R&&r.createElement(VR.Provider,{value:ie},t,null===(i=u.controls)||void 0===i?void 0:i.call(u)))}));function qR(e){return LP(eP,e)}function YR(e){return LP("slide",e)}function XR(e){let{slide:t,offset:n}=e;const i=r.useRef(null),{currentIndex:a}=lR(),{slideRect:o,close:s}=WR(),{render:l,carousel:{imageFit:c,imageProps:u},on:{click:d},controller:{closeOnBackdropClick:h},styles:{slide:p}}=aR();return r.createElement("div",{ref:i,className:PP(RP(YR()),0===n&&RP(YR("current")),RP(cP)),onClick:e=>{const t=i.current,n=e.target instanceof HTMLElement?e.target:void 0;h&&n&&t&&(n===t||Array.from(t.children).find((e=>e===n))&&n.classList.contains(RP(dP)))&&s()},style:p},(()=>{var e,i,s,h;let p=null===(e=l.slide)||void 0===e?void 0:e.call(l,{slide:t,offset:n,rect:o});return!p&&BP(t)&&(p=r.createElement(DR,{slide:t,offset:n,render:l,rect:o,imageFit:c,imageProps:u,onClick:0===n?()=>null===d||void 0===d?void 0:d({index:a}):void 0})),p?r.createElement(r.Fragment,null,null===(i=l.slideHeader)||void 0===i?void 0:i.call(l,{slide:t}),(null!==(s=l.slideContainer)&&void 0!==s?s:e=>{let{children:t}=e;return t})({slide:t,children:p}),null===(h=l.slideFooter)||void 0===h?void 0:h.call(l,{slide:t})):null})())}function ZR(){const e=aR().styles.slide;return r.createElement("div",{className:RP("slide"),style:e})}const KR=JP(eP,(function(e){let{carousel:t}=e;const{slides:n,currentIndex:i,globalIndex:a}=lR(),{setCarouselRef:o}=WR(),s=VP(t.spacing),l=VP(t.padding),c=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Math.min(e.preload,Math.max(e.finite?t.length-1:Math.floor(t.length/2),n))}(t,n,1),u=[];if(qP(n))for(let r=i-c;r<=i+c;r+=1){const e=YP(n,r),o=a-i+r,s=t.finite&&(r<0||r>n.length-1);u.push(s?{key:o}:{key:["".concat(o),ZP(e)].filter(Boolean).join("|"),offset:r-i,slide:e})}return r.createElement("div",{ref:o,className:PP(RP(qR()),u.length>0&&RP(qR("with_slides"))),style:{["".concat(jP(qR("slides_count")))]:u.length,["".concat(jP(qR("spacing_px")))]:s.pixel||0,["".concat(jP(qR("spacing_percent")))]:s.percent||0,["".concat(jP(qR("padding_px")))]:l.pixel||0,["".concat(jP(qR("padding_percent")))]:l.percent||0}},u.map((e=>{let{key:t,slide:n,offset:i}=e;return n?r.createElement(XR,{key:t,slide:n,offset:i}):r.createElement(ZR,{key:t})})))}));function JR(){const{carousel:e}=aR(),{slides:t,currentIndex:n}=lR();return{prevDisabled:0===t.length||e.finite&&0===n,nextDisabled:0===t.length||e.finite&&n===t.length-1}}function $R(e){let{label:t,icon:n,renderIcon:i,action:a,onClick:o,disabled:s,style:l}=e;return r.createElement(vR,{label:t,icon:n,renderIcon:i,className:RP("navigation_".concat(a)),disabled:s,onClick:o,style:l,...PR(WR().focus,s)})}const QR=JP("navigation",(function(e){let{render:{buttonPrev:t,buttonNext:n,iconPrev:i,iconNext:a},styles:o}=e;const{prev:s,next:l,subscribeSensors:c}=WR(),{prevDisabled:u,nextDisabled:d}=JR();return function(e){var t;const n=RR(),{publish:i}=nR(),{animation:a}=aR(),{prevDisabled:o,nextDisabled:s}=JR(),l=(null!==(t=a.navigation)&&void 0!==t?t:a.swipe)/2,c=jR((()=>i(hP)),l),u=jR((()=>i(pP)),l),d=AR((e=>{switch(e.key){case MP:i(mP);break;case EP:(n?s:o)||(n?u:c)();break;case CP:(n?o:s)||(n?c:u)()}}));r.useEffect((()=>e(_P,d)),[e,d])}(c),r.createElement(r.Fragment,null,t?t():r.createElement($R,{label:"Previous",action:hP,icon:xR,renderIcon:i,style:o.navigationPrev,disabled:u,onClick:s}),n?n():r.createElement($R,{label:"Next",action:pP,icon:_R,renderIcon:a,style:o.navigationNext,disabled:d,onClick:l}))})),ej=RP("no_scroll"),tj=RP(uP);function nj(e){return"style"in e}function ij(e,t,n){const i=window.getComputedStyle(e),r=n?"padding-left":"padding-right",a=n?i.paddingLeft:i.paddingRight,o=e.style.getPropertyValue(r);return e.style.setProperty(r,"".concat((HP(a)||0)+t,"px")),()=>{o?e.style.setProperty(r,o):e.style.removeProperty(r)}}const rj=JP("no-scroll",(function(e){let{noScroll:{disabled:t},children:n}=e;const i=RR();return MR((()=>{if(t)return()=>{};const e=[],{body:n,documentElement:r}=document,a=Math.round(window.innerWidth-r.clientWidth);if(a>0){e.push(ij(n,a,i));const t=n.getElementsByTagName("*");for(let n=0;n<t.length;n+=1){const r=t[n];nj(r)&&"fixed"===window.getComputedStyle(r).getPropertyValue("position")&&!r.classList.contains(tj)&&e.push(ij(r,a,i))}}return n.classList.add(ej),()=>{n.classList.remove(ej),e.forEach((e=>e()))}}),[i,t]),r.createElement(r.Fragment,null,n)}));function aj(e){return LP(nP,e)}function oj(e,t,n){const i=e.getAttribute(t);return e.setAttribute(t,n),()=>{i?e.setAttribute(t,i):e.removeAttribute(t)}}const sj=JP(nP,(function(e){let{children:t,animation:n,styles:i,className:a,on:o,portal:l,close:c}=e;const[u,d]=r.useState(!1),[h,p]=r.useState(!1),f=r.useRef([]),m=r.useRef(null),{setTimeout:v}=fR(),{subscribe:g}=nR(),y=ER()?0:n.fade;r.useEffect((()=>(d(!0),()=>{d(!1),p(!1)})),[]);const b=AR((()=>{f.current.forEach((e=>e())),f.current=[]})),x=AR((()=>{var e;p(!1),b(),null===(e=o.exiting)||void 0===e||e.call(o),v((()=>{var e;null===(e=o.exited)||void 0===e||e.call(o),c()}),y)}));r.useEffect((()=>g(mP,x)),[g,x]);const _=AR((e=>{var t,n,i;e.scrollTop,p(!0),null===(t=o.entering)||void 0===t||t.call(o);const r=null!==(i=null===(n=e.parentNode)||void 0===n?void 0:n.children)&&void 0!==i?i:[];for(let a=0;a<r.length;a+=1){const t=r[a];-1===["TEMPLATE","SCRIPT","STYLE"].indexOf(t.tagName)&&t!==e&&(f.current.push(oj(t,"inert","true")),f.current.push(oj(t,"aria-hidden","true")))}f.current.push((()=>{var e,t;null===(t=null===(e=m.current)||void 0===e?void 0:e.focus)||void 0===t||t.call(e)})),v((()=>{var e;null===(e=o.entered)||void 0===e||e.call(o)}),y)})),w=r.useCallback((e=>{e?_(e):b()}),[_,b]);return u?(0,s.createPortal)(r.createElement("div",{ref:w,className:PP(a,RP("root"),RP(aj()),RP(uP),h&&RP(aj("open"))),role:"presentation","aria-live":"polite",style:{...n.fade!==KP.animation.fade?{[jP("fade_animation_duration")]:"".concat(y,"ms")}:null,...n.easing.fade!==KP.animation.easing.fade?{[jP("fade_animation_timing_function")]:n.easing.fade}:null,...i.root},onFocus:e=>{m.current||(m.current=e.relatedTarget)}},t),l.root||document.body):null}));const lj=JP("root",(function(e){let{children:t}=e;return r.createElement(r.Fragment,null,t)}));const cj=JP(iP,(function(e){let{toolbar:{buttons:t},render:{buttonClose:n,iconClose:i},styles:a}=e;const{close:o,setToolbarWidth:s}=WR(),{setContainerRef:l,containerRect:c}=TR();return MR((()=>{s(null===c||void 0===c?void 0:c.width)}),[s,null===c||void 0===c?void 0:c.width]),r.createElement("div",{ref:l,style:a.toolbar,className:RP(LP(iP,u))},null===t||void 0===t?void 0:t.map((e=>e===mP?n?n():r.createElement(vR,{key:mP,label:"Close",icon:bR,renderIcon:i,onClick:o}):e)));var u}));function uj(e,t){var n;return r.createElement(e.module.component,{key:e.module.name,...t},null===(n=e.children)||void 0===n?void 0:n.map((e=>uj(e,t))))}function dj(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{easing:n,...i}=e,{easing:r,...a}=t;return{easing:{...n,...r},...i,...a}}function hj(e){let{carousel:t,animation:n,render:i,toolbar:a,controller:o,noScroll:s,on:l,plugins:c,slides:u,index:d,...h}=e;const{animation:p,carousel:f,render:m,toolbar:v,controller:g,noScroll:y,on:b,slides:x,index:_,plugins:w,...S}=KP,{config:M,augmentation:E}=function(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=e;const i=e=>{const t=[...n];for(;t.length>0;){const n=t.pop();if((null===n||void 0===n?void 0:n.module.name)===e)return!0;(null===n||void 0===n?void 0:n.children)&&t.push(...n.children)}return!1},r=(e,t)=>{n=""!==e?eR(n,e,(e=>[$P(t,[e])])):[$P(t,n)]},a=(e,t)=>{n=eR(n,e,(e=>[$P(e.module,[$P(t,e.children)])]))},o=(e,t,i)=>{n=eR(n,e,(e=>{var n;return[$P(e.module,[...i?[$P(t)]:[],...null!==(n=e.children)&&void 0!==n?n:[],...i?[]:[$P(t)]])]}))},s=(e,t,i)=>{n=eR(n,e,(e=>[...i?[$P(t)]:[],e,...i?[]:[$P(t)]]))},l=e=>{a(tP,e)},c=(e,t)=>{n=eR(n,e,(e=>[$P(t,e.children)]))},u=e=>{n=eR(n,e,(e=>e.children))},d=e=>{t.push(e)};return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach((e=>{e({contains:i,addParent:r,append:a,addChild:o,addSibling:s,addModule:l,replace:c,remove:u,augment:d})})),{config:n,augmentation:e=>t.reduce(((e,t)=>t(e)),e)}}([$P(sj,[$P(rj,[$P(GR,[$P(KR),$P(cj),$P(QR)])])])],c||w),C=E({animation:dj(p,n),carousel:{...f,...t},render:{...m,...i},toolbar:{...v,...a},controller:{...g,...o},noScroll:{...y,...s},on:{...b,...l},...S,...h});return C.open?r.createElement(oR,{...C},r.createElement(hR,{slides:u||x,index:HP(d||_)},r.createElement(mR,null,r.createElement(iR,null,uj($P(lj,M),C))))):null}function pj(e){return Er({tag:"svg",attr:{t:"1569682881658",viewBox:"0 0 1024 1024",version:"1.1"},child:[{tag:"defs",attr:{},child:[]},{tag:"path",attr:{d:"M573 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40zM293 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40z"},child:[]},{tag:"path",attr:{d:"M894 345c-48.1-66-115.3-110.1-189-130v0.1c-17.1-19-36.4-36.5-58-52.1-163.7-119-393.5-82.7-513 81-96.3 133-92.2 311.9 6 439l0.8 132.6c0 3.2 0.5 6.4 1.5 9.4 5.3 16.9 23.3 26.2 40.1 20.9L309 806c33.5 11.9 68.1 18.7 102.5 20.6l-0.5 0.4c89.1 64.9 205.9 84.4 313 49l127.1 41.4c3.2 1 6.5 1.6 9.9 1.6 17.7 0 32-14.3 32-32V753c88.1-119.6 90.4-284.9 1-408zM323 735l-12-5-99 31-1-104-8-9c-84.6-103.2-90.2-251.9-11-361 96.4-132.2 281.2-161.4 413-66 132.2 96.1 161.5 280.6 66 412-80.1 109.9-223.5 150.5-348 102z m505-17l-8 10 1 104-98-33-12 5c-56 20.8-115.7 22.5-171 7l-0.2-0.1C613.7 788.2 680.7 742.2 729 676c76.4-105.3 88.8-237.6 44.4-350.4l0.6 0.4c23 16.5 44.1 37.1 62 62 72.6 99.6 68.5 235.2-8 330z"},child:[]},{tag:"path",attr:{d:"M433 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40z"},child:[]}]})(e)}const fj=n.p+"static/media/lowerstl.ed60589ea43a31bd43bc.png",mj=n.p+"static/media/upperstl.d15b1d381f61e2052fe3.png",vj=n.p+"static/media/bitescan.80d2bc879f17e4e3f389.jpg";var gj=n(6159),yj=n.n(gj),bj=n(2450);const xj=()=>{var e,t,n,i,a,o,s,l,c,u,d,h,p,f,m,v,g,y,b,x,_,w;const S=tt(),[M,E]=(0,r.useState)("patient-info"),[C,T]=(0,r.useState)(!1),[N,A]=(0,r.useState)([]),[k,O]=(0,r.useState)(!1),[P,R]=(0,r.useState)([]),{id:j}=it(),[L,I]=(0,r.useState)(0),[D,F]=(0,r.useState)(""),[U,z]=(0,r.useState)([]),[B,H]=(0,r.useState)(!1),[V,W]=(0,r.useState)({}),[G,q]=(0,r.useState)(""),[Y,X]=(0,r.useState)(""),[Z,K]=(0,r.useState)(""),[J,$]=(0,r.useState)(""),[Q,ee]=(0,r.useState)(""),[te,ne]=(0,r.useState)("None"),[ie,re]=(0,r.useState)(""),[ae,oe]=(0,r.useState)(""),{currentUser:se,isReadNot:le,updateIsReadNot:ce}=(0,r.useContext)(pr),ue=(null===se||void 0===se||se.role_name,null===se||void 0===se||se.id,null===se||void 0===se?void 0:se.permissions),de="http://localhost:8000",he=(e,t)=>{const n=document.createElement("a");n.href=e,n.download="".concat(t,".stl"),document.body.appendChild(n),n.click(),document.body.removeChild(n)},pe=e=>e.split("_").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ");(0,r.useEffect)((()=>{(async e=>{try{var t;const e=await KO.getPlanners();var n,i;200==(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.status)?z(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data):ir.error(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(o){var r,a;ir.error(null===o||void 0===o||null===(r=o.result)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{H(!1)}})()}),[]);const fe=async(e,t,n)=>{try{var i;const a=new FormData;a.append("title",e),a.append("body",t),a.append("url_action",j),j&&a.append("user_id",n);const o=await ea.addNotification(a);var r;if(200==(null===o||void 0===o||null===(i=o.data)||void 0===i?void 0:i.status))ce(!le),setTimeout((()=>{S("/cases")}),1300);else ir.error(null===o||void 0===o||null===(r=o.data)||void 0===r?void 0:r.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(s){var a,o;ir.error(null===s||void 0===s||null===(a=s.result)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{H(!1)}},me=async e=>{try{var t;const E=await Ah.getCaseDetail(e);var n,i,r,a,o,s,l,c,u,d,h,p,f,m,v,g,y,b,x,_,w,M;if(200==(null===E||void 0===E||null===(t=E.data)||void 0===t?void 0:t.status))console.log(null===E||void 0===E||null===(n=E.data)||void 0===n?void 0:n.data),re(null===E||void 0===E||null===(i=E.data)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.software_id),W(null===E||void 0===E||null===(a=E.data)||void 0===a?void 0:a.data),$(null===E||void 0===E||null===(o=E.data)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.guid),ee(null===E||void 0===E||null===(l=E.data)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.id),X("".concat(de,"/uploads/stl/").concat(null===E||void 0===E||null===(u=E.data)||void 0===u||null===(d=u.data)||void 0===d?void 0:d.stl_upper_file)),q("".concat(de,"/uploads/stl/").concat(null===E||void 0===E||null===(h=E.data)||void 0===h||null===(p=h.data)||void 0===p?void 0:p.stl_lower_file)),K("".concat(de,"/uploads/stl/").concat(null===E||void 0===E||null===(f=E.data)||void 0===f||null===(m=f.data)||void 0===m?void 0:m.stl_byte_scan_file)),A(null===E||void 0===E||null===(v=E.data)||void 0===v||null===(g=v.data)||void 0===g||null===(y=g.images)||void 0===y?void 0:y.map((e=>({src:"".concat(de,"/uploads/images/").concat(null===e||void 0===e?void 0:e.file_name)})))),R(null===E||void 0===E||null===(b=E.data)||void 0===b||null===(x=b.data)||void 0===x||null===(_=x.xrays)||void 0===_?void 0:_.map((e=>({src:"".concat(de,"/uploads/xrays/").concat(null===e||void 0===e?void 0:e.file_name)})))),await(async e=>{try{var t;const r=await GO.getSoftwareDetail(e);var n,i;null!==r&&void 0!==r&&null!==(t=r.data)&&void 0!==t&&t.data?null!==r&&void 0!==r&&null!==(n=r.data)&&void 0!==n&&n.data.name&&ne(null===r||void 0===r||null===(i=r.data)||void 0===i?void 0:i.data.name):ir.error("No software data found!",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(r){ir.error("Unable to load software data!",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}})(ie);else"Unauthenticated."==(null===E||void 0===E||null===(w=E.data)||void 0===w?void 0:w.message)&&S("/login"),ir.error(null===E||void 0===E||null===(M=E.data)||void 0===M?void 0:M.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(T){var E,C;ir.error(null===T||void 0===T||null===(E=T.result)||void 0===E||null===(C=E.data)||void 0===C?void 0:C.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{H(!1)}};(0,r.useEffect)((()=>{me(j)}),[j]);const ve=new Date(new Date(null===V||void 0===V?void 0:V.start_date_time).getTime()+3600*parseInt(null===V||void 0===V?void 0:V.expected_time)*1e3).getTime(),ge=()=>{const e=(new Date).getTime();return Math.max((ve-e)/1e3,0)},[ye,be]=(0,r.useState)(ge());(0,r.useEffect)((()=>{const e=()=>{be(ge())};e();const t=setInterval(e,1e3);return()=>clearInterval(t)}),[ve]);const xe=e=>{const t=Math.floor(e/3600),n=Math.floor(e%3600/60),i=Math.floor(e%60);return{hrs:t.toString().padStart(2,"0"),mins:n.toString().padStart(2,"0"),secs:i.toString().padStart(2,"0")}};return(0,hr.jsxs)("div",{className:"users-wrapper",children:[B&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)(dr,{}),(0,hr.jsx)("div",{className:"user-details",children:(0,hr.jsxs)("div",{className:"patinet-info",children:[(0,hr.jsx)("div",{className:"top-sticky-main",children:(0,hr.jsxs)("div",{className:"textt",children:[(0,hr.jsxs)("div",{className:"info",children:["Time left  ",(0,hr.jsx)("span",{className:"userr"}),(0,hr.jsxs)("div",{className:"time-left",children:[(0,hr.jsx)("span",{children:xe(ye).hrs})," : ",(0,hr.jsx)("span",{children:xe(ye).mins})," : ",(0,hr.jsx)("span",{children:xe(ye).secs})]})]}),"1"==(null===V||void 0===V?void 0:V.status)?(0,hr.jsxs)("div",{className:"info",children:["Case is created by ",(0,hr.jsx)("span",{className:"userr",children:null===V||void 0===V||null===(e=V.created_user)||void 0===e?void 0:e.username})]}):"2"==(null===V||void 0===V?void 0:V.status)?(0,hr.jsxs)("div",{className:"info",children:["Case is assigned to ",(0,hr.jsx)("span",{className:"userr",children:null===V||void 0===V||null===(t=V.planner)||void 0===t?void 0:t.username})]}):"3"==(null===V||void 0===V?void 0:V.status)?(0,hr.jsxs)("div",{className:"info",children:["Case is assigned to ",(0,hr.jsx)("span",{className:"userr",children:null===V||void 0===V||null===(n=V.qa)||void 0===n?void 0:n.username})," for QC"]}):"4"==(null===V||void 0===V?void 0:V.status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsx)("span",{className:"userr",children:null===V||void 0===V||null===(i=V.planner)||void 0===i?void 0:i.username})," Holds case"]}):"5"==(null===V||void 0===V?void 0:V.status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsx)("span",{className:"userr",children:null===V||void 0===V||null===(a=V.created_user)||void 0===a?void 0:a.username})," Updated the case"]}):"6"==(null===V||void 0===V?void 0:V.status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsx)("span",{className:"userr",children:null===V||void 0===V||null===(o=V.qa)||void 0===o?void 0:o.username})," Rejected the case"]}):"7"==(null===V||void 0===V?void 0:V.status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsx)("span",{className:"userr",children:null===V||void 0===V||null===(s=V.qa)||void 0===s?void 0:s.username})," Submitted case for ortho check"]}):"8"==(null===V||void 0===V?void 0:V.status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsx)("span",{className:"userr",children:null===V||void 0===V||null===(l=V.created_user)||void 0===l?void 0:l.username})," Asked modifications"]}):"9"==(null===V||void 0===V?void 0:V.status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsx)("span",{className:"userr",children:null===V||void 0===V||null===(c=V.created_user)||void 0===c?void 0:c.username})," Required stl files"]}):"10"==(null===V||void 0===V?void 0:V.status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsx)("span",{className:"userr",children:null===V||void 0===V||null===(u=V.created_user)||void 0===u?void 0:u.username})," Required container files"]}):"11"==(null===V||void 0===V?void 0:V.status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsx)("span",{className:"userr",children:null===V||void 0===V||null===(d=V.post_processing)||void 0===d?void 0:d.username})," uploaded stl files"]}):"12"==(null===V||void 0===V?void 0:V.status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsx)("span",{className:"userr",children:null===V||void 0===V||null===(h=V.post_processing)||void 0===h?void 0:h.username})," uploaded container files"]}):"13"==(null===V||void 0===V?void 0:V.status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsx)("span",{className:"userr",children:null===V||void 0===V||null===(p=V.created_user)||void 0===p?void 0:p.username})," Need stl files modifications"]}):"14"==(null===V||void 0===V?void 0:V.status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsx)("span",{className:"userr",children:null===V||void 0===V||null===(f=V.created_user)||void 0===f?void 0:f.username})," Need container files modifications"]}):"15"==(null===V||void 0===V?void 0:V.status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsx)("span",{className:"userr",children:null===V||void 0===V||null===(m=V.created_user)||void 0===m?void 0:m.username})," Marked case as completed"]}):""]})}),(0,hr.jsxs)("div",{className:"top-sticky mb-3",children:[(null===ue||void 0===ue?void 0:ue.includes("patient-cases-case-assign-to"))&&(0,hr.jsxs)("div",{children:[(null===V||void 0===V||null===(v=V.planner)||void 0===v?void 0:v.username)&&(0,hr.jsxs)("div",{className:"title mb-3",children:["This case is assigned to ",(0,hr.jsx)("span",{children:null===V||void 0===V||null===(g=V.planner)||void 0===g?void 0:g.username})]}),(0,hr.jsx)("div",{className:"title",children:"Assign cases"}),(0,hr.jsx)("div",{className:"row ",children:(0,hr.jsx)("div",{className:"col-12",children:(0,hr.jsxs)("div",{className:"form-group form-wrapper",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Select Planner ",null===V||void 0===V?void 0:V.status]}),(0,hr.jsxs)("select",{className:"input",value:D,onChange:e=>F(e.target.value),children:[(0,hr.jsx)("option",{value:"",children:"Select planner"}),null===U||void 0===U?void 0:U.map((e=>(0,hr.jsxs)("option",{value:null===e||void 0===e?void 0:e.id,children:[null===e||void 0===e?void 0:e.first_name," ",null===e||void 0===e?void 0:e.last_name]})))]}),(0,hr.jsx)("div",{className:"d-flex my-3",children:D&&(0,hr.jsx)("button",{className:"button",onClick:()=>(async()=>{H(!0);try{var e;const i=new FormData;Q&&i.append("p_case_id",Q),D&&i.append("user_id",D),null!==V&&void 0!==V&&V.status&&i.append("p_case_status","1"==(null===V||void 0===V?void 0:V.status)?"2":null===V||void 0===V?void 0:V.status);const r=await Ah.assignCase(i);var t,n;200==(null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.status)?(me(j),fe("Case is Assigned","Case is Assigned to Planner",D),ir.success(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.message,{autoClose:1500,pauseOnHover:!0,draggable:!0}),setTimeout((()=>{S("/cases")}),1500)):ir.error(null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message,{autoClose:1500,pauseOnHover:!0,draggable:!0})}catch(a){var i,r;ir.error(null===a||void 0===a||null===(i=a.result)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{H(!1)}})(),children:"Assign now"})})]})})})]}),(0,hr.jsx)(JO,{id:j})]}),("11"==(null===V||void 0===V?void 0:V.status)||"12"==(null===V||void 0===V?void 0:V.status)||"16"==(null===V||void 0===V?void 0:V.status))&&(0,hr.jsxs)("div",{className:"check-stl-files",children:[(null===V||void 0===V?void 0:V.stl_file_by_post_processing)&&(0,hr.jsxs)("a",{className:"button",href:"".concat(de,"/uploads/stl/").concat(null===V||void 0===V?void 0:V.stl_file_by_post_processing),download:"".concat(de,"/uploads/stl/").concat(null===V||void 0===V?void 0:V.stl_file_by_post_processing),children:["Download ","11"==(null===V||void 0===V?void 0:V.status)?" Stl Files":"12"==(null===V||void 0===V?void 0:V.status)?" Container Files":"16"==(null===V||void 0===V?void 0:V.status)?"Direct printing files":""]}),(null===V||void 0===V?void 0:V.stl_file_by_post_processing_we_transfer_link)&&(0,hr.jsxs)(hr.Fragment,{children:[(0,hr.jsx)("p",{children:"If you are facing problem downloadin file click  below button to get download link "}),(0,hr.jsx)("p",{children:(0,hr.jsx)("a",{className:"button",target:"_link",href:null===V||void 0===V?void 0:V.stl_file_by_post_processing_we_transfer_link,children:"Download File by clicking this link"})})]})]}),(0,hr.jsxs)("div",{children:[(0,hr.jsx)("div",{className:"title",children:"Patient info"}),(0,hr.jsxs)("div",{className:"row mb-4",children:[(0,hr.jsx)("div",{className:"col-12 col-md-6 col-lg-4 mb-3",children:(0,hr.jsxs)("div",{className:"item_flex",children:[(0,hr.jsx)(Br,{})," ",(0,hr.jsx)("span",{children:null===V||void 0===V?void 0:V.case_id})]})}),(0,hr.jsx)("div",{className:"col-12 col-md-6 col-lg-4 mb-3",children:(0,hr.jsxs)("div",{className:"item_flex",children:[(0,hr.jsx)(LO,{})," ",(0,hr.jsx)("span",{children:null===V||void 0===V?void 0:V.name})]})}),(0,hr.jsx)("div",{className:"col-12 col-md-6 col-lg-4 mb-3",children:(0,hr.jsxs)("div",{className:"item_flex",children:[(0,hr.jsx)($r,{})," ",(0,hr.jsx)("span",{children:null===V||void 0===V?void 0:V.email})]})}),(0,hr.jsx)("div",{className:"col-12 col-md-6 col-lg-4 mb-3",children:(0,hr.jsxs)("div",{className:"item_flex",children:[(0,hr.jsx)(QO,{})," ",(0,hr.jsx)("span",{children:null===V||void 0===V?void 0:V.gender})]})}),(0,hr.jsx)("div",{className:"col-12 col-md-6 col-lg-4 mb-3",children:(0,hr.jsxs)("div",{className:"item_flex",children:[(0,hr.jsx)(Xr,{})," ",(0,hr.jsxs)("span",{children:[null===V||void 0===V?void 0:V.age," years old"]})]})})]})]}),(0,hr.jsxs)("div",{className:"row mb-4",children:[(0,hr.jsx)("div",{className:"col-12 col-md-6 col-lg-4 mb-3",children:(0,hr.jsxs)("div",{className:"item_flex",children:[(0,hr.jsx)("strong",{children:"Case version "}),": ",(0,hr.jsx)("span",{children:null===V||void 0===V?void 0:V.case_version})]})}),(0,hr.jsx)("div",{className:"col-12 col-md-6 col-lg-4 mb-3",children:(0,hr.jsxs)("div",{className:"item_flex",children:[(0,hr.jsx)("strong",{children:"Scan version "}),": ",(0,hr.jsx)("span",{children:null===V||void 0===V?void 0:V.scan_version})]})}),(0,hr.jsx)("div",{className:"col-12 col-md-6 col-lg-4 mb-3",children:(0,hr.jsxs)("div",{className:"item_flex",children:[(0,hr.jsx)("strong",{children:"Expected time "}),": ",(0,hr.jsx)("span",{children:"8"==(null===V||void 0===V?void 0:V.expected_time)?"Express setup delivery: 8 hrs":"24"==(null===V||void 0===V?void 0:V.expected_time)?"Super Setup Delivery: 24 hrs":"48"==(null===V||void 0===V?void 0:V.expected_time)?"Normal Setup Delivery: 48 hrs":""})]})}),(0,hr.jsx)("div",{className:"col-12 col-md-6 col-lg-4 mb-3",children:(0,hr.jsxs)("div",{className:"item_flex",children:[(0,hr.jsx)("strong",{children:"Tooth label format "}),": ",(0,hr.jsx)("span",{children:null===V||void 0===V?void 0:V.tooth_label_format})]})}),(null===V||void 0===V?void 0:V.case_type)&&(0,hr.jsx)("div",{className:"col-12 col-md-6 col-lg-4 mb-3",children:(0,hr.jsxs)("div",{className:"item_flex",children:[(0,hr.jsx)("strong",{children:"Case type: "})," ",(0,hr.jsx)("span",{children:null===V||void 0===V?void 0:V.case_type})]})}),(null===V||void 0===V?void 0:V.arch)&&(0,hr.jsx)("div",{className:"col-12 col-md-6 col-lg-4 mb-3",children:(0,hr.jsxs)("div",{className:"item_flex",children:[(0,hr.jsx)("strong",{children:"Arch: "})," ",(0,hr.jsx)("span",{children:null===V||void 0===V?void 0:V.arch})]})}),(null===V||void 0===V?void 0:V.patient_location)&&(0,hr.jsx)("div",{className:"col-12 col-md-6 col-lg-4 mb-3",children:(0,hr.jsxs)("div",{className:"item_flex",children:[(0,hr.jsx)("strong",{children:"Patient location: "})," ",(0,hr.jsx)("span",{children:null===V||void 0===V?void 0:V.patient_location})]})}),(null===V||void 0===V?void 0:V.ipr)&&(0,hr.jsx)("div",{className:"col-12 col-md-6 col-lg-4 mb-3",children:(0,hr.jsxs)("div",{className:"item_flex",children:[(0,hr.jsx)("strong",{children:"IPR: "})," ",(0,hr.jsx)("span",{children:null===V||void 0===V?void 0:V.ipr})]})}),(null===V||void 0===V?void 0:V.extraction)&&(0,hr.jsx)("div",{className:"col-12 col-md-6 col-lg-4 mb-3",children:(0,hr.jsxs)("div",{className:"item_flex",children:[(0,hr.jsx)("strong",{children:"Extraction: "})," ",(0,hr.jsx)("span",{children:null===V||void 0===V?void 0:V.extraction})]})}),(null===V||void 0===V?void 0:V.attachments)&&(0,hr.jsx)("div",{className:"col-12 col-md-6 col-lg-4 mb-3",children:(0,hr.jsxs)("div",{className:"item_flex",children:[(0,hr.jsx)("strong",{children:"Attachments: "})," ",(0,hr.jsx)("span",{children:null===V||void 0===V?void 0:V.attachments})]})}),(0,hr.jsx)("div",{className:"col-12 col-md-6 col-lg-4 mb-3",children:(0,hr.jsxs)("div",{className:"item_flex",children:[(0,hr.jsx)("strong",{children:"Software: "})," ",(0,hr.jsx)("span",{children:te})]})})]}),(0,hr.jsxs)("div",{children:[(0,hr.jsx)("div",{className:"title",children:"Cheif complaint"}),(0,hr.jsx)("div",{className:"custom-text",dangerouslySetInnerHTML:{__html:null===V||void 0===V?void 0:V.chief_complaint}}),(0,hr.jsx)("div",{className:"title",children:"Treatment Plan"}),(0,hr.jsx)("div",{className:"custom-text",dangerouslySetInnerHTML:{__html:null===V||void 0===V?void 0:V.treatment_plan}})]}),(0,hr.jsxs)("div",{children:[(0,hr.jsx)(hj,{open:C,close:()=>T(!1),slides:N}),(0,hr.jsx)("div",{className:"title",children:"Patient Images"}),(null===V||void 0===V||null===(y=V.images)||void 0===y?void 0:y.length)>0&&(0,hr.jsxs)("div",{className:"buttons",children:[(0,hr.jsx)("button",{className:"button",onClick:()=>T(!0),children:"View  images"}),(0,hr.jsxs)("button",{className:"button",onClick:async()=>{var e;const t=new(yj());await Promise.all(null===V||void 0===V||null===(e=V.images)||void 0===e?void 0:e.map((async e=>{const n=await fetch("".concat(de,"/uploads/images/").concat(null===e||void 0===e?void 0:e.file_name)),i=await n.blob();t.file(null===e||void 0===e?void 0:e.file_name,i)}))),t.generateAsync({type:"blob"}).then((e=>{(0,bj.saveAs)(e,"images.zip")})).catch((e=>{console.error("Error while generating zip file:",e)}))},children:["Download zip for case ",null===V||void 0===V?void 0:V.name]})]}),(0,hr.jsx)("div",{className:"files-wrapper mb-4",children:null===V||void 0===V||null===(b=V.images)||void 0===b?void 0:b.map((e=>(0,hr.jsx)("div",{className:"image",children:(0,hr.jsx)("img",{src:"".concat(de,"/uploads/images/").concat(null===e||void 0===e?void 0:e.file_name)})},null===e||void 0===e?void 0:e.id)))})]}),(0,hr.jsxs)("div",{children:[(0,hr.jsx)(hj,{open:k,close:()=>O(!1),slides:P}),(0,hr.jsx)("div",{className:"title",children:"X-Ray Files"}),(null===V||void 0===V||null===(x=V.xrays)||void 0===x?void 0:x.length)>0&&(0,hr.jsxs)("div",{className:"buttons",children:[(0,hr.jsx)("button",{className:"button",onClick:()=>O(!0),children:"View  images"}),(0,hr.jsxs)("button",{className:"button",onClick:async()=>{var e;const t=new(yj());await Promise.all(null===V||void 0===V||null===(e=V.xrays)||void 0===e?void 0:e.map((async e=>{const n=await fetch("".concat(de,"/uploads/xrays/").concat(null===e||void 0===e?void 0:e.file_name)),i=await n.blob();t.file(null===e||void 0===e?void 0:e.file_name,i)}))),t.generateAsync({type:"blob"}).then((e=>{(0,bj.saveAs)(e,"xrays.zip")})).catch((e=>{console.error("Error while generating zip file:",e)}))},children:["Download zip for case ",null===V||void 0===V?void 0:V.name]})]}),(0,hr.jsx)("div",{className:"files-wrapper mb-4",children:null===V||void 0===V||null===(_=V.xrays)||void 0===_?void 0:_.map((e=>(0,hr.jsx)("div",{className:"image",children:(0,hr.jsx)("img",{src:"".concat(de,"/uploads/xrays/").concat(null===e||void 0===e?void 0:e.file_name)})},null===e||void 0===e?void 0:e.id)))})]}),(0,hr.jsx)("div",{className:"mb-4",children:(0,hr.jsxs)("div",{className:"row",children:[(0,hr.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[(0,hr.jsx)("div",{className:"title mb-3",children:"Stl Upper File"}),Y&&(0,hr.jsxs)("div",{className:"stl-main-viewr mb-5",children:[(0,hr.jsx)("img",{src:mj,alt:""}),(null===V||void 0===V?void 0:V.stl_upper_file)&&(0,hr.jsxs)("button",{className:"button",onClick:()=>he(Y,"upperstl"),children:["Download upper stl for case ",null===V||void 0===V?void 0:V.name]})]})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[(0,hr.jsx)("div",{className:"title mb-3",children:"Stl Lower File"}),G&&(0,hr.jsxs)("div",{className:"stl-main-viewr mb-5",children:[(0,hr.jsx)("img",{src:fj,alt:""}),(null===V||void 0===V?void 0:V.stl_lower_file)&&(0,hr.jsxs)("button",{className:"button",onClick:()=>he(G,"lowerstl"),children:["Download lower stl for case ",null===V||void 0===V?void 0:V.name]})]})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[(0,hr.jsx)("div",{className:"title mb-3",children:"Stl BIte Scan File"}),Z&&(0,hr.jsxs)("div",{className:"stl-main-viewr mb-5",children:[(0,hr.jsx)("img",{src:vj,alt:""}),(null===V||void 0===V?void 0:V.stl_byte_scan_file)&&(0,hr.jsxs)("button",{className:"button",onClick:()=>he(Z,"bitescanstl"),children:["Download bite scan stl for case ",null===V||void 0===V?void 0:V.name]})]})]})]})}),(0,hr.jsx)(ZO,{caseId:J}),(0,hr.jsx)("div",{className:"title",children:"Case history"}),(0,hr.jsx)("div",{className:"history-wrapper",children:null===V||void 0===V||null===(w=V.case_status_users)||void 0===w?void 0:w.map((e=>{var t,n,i,r,a,o,s,l,c,u,d,h,p,f,m,v,g,y,b,x,_,w,S,M,E,C,T,N,A,k,O,P,R,j,L,I,D,F,U,z,B,H,W,G,q,Y,X,Z,K,J,$,Q,ee,te,ne,ie,re,ae,oe,le,ce,ue,he,fe,me,ve,ge,ye,be,xe,_e,we,Se,Me,Ee,Ce,Te,Ne,Ae,ke,Oe,Pe,Re,je,Le,Ie,De,Fe,Ue,ze,Be,He,Ve,We,Ge,qe,Ye,Xe,Ze,Ke,Je,$e,Qe;return"client"==(null===se||void 0===se?void 0:se.role_name)||"sub_client"==(null===se||void 0===se?void 0:se.role_name)?(0,hr.jsxs)("div",{className:"single-case",children:[2!=(null===e||void 0===e?void 0:e.case_status)&&6!=(null===e||void 0===e?void 0:e.case_status)&&3!=(null===e||void 0===e?void 0:e.case_status)&&(0,hr.jsx)("div",{className:"image",children:(0,hr.jsx)(aa,{})}),2!=(null===e||void 0===e?void 0:e.case_status)&&6!=(null===e||void 0===e?void 0:e.case_status)&&3!=(null===e||void 0===e?void 0:e.case_status)&&(0,hr.jsxs)("div",{children:["  ",(0,hr.jsxs)("div",{className:"header",children:[(0,hr.jsx)("div",{className:"tit",children:"1"==(null===e||void 0===e?void 0:e.case_status)?"New Case":"2"==(null===e||void 0===e?void 0:e.case_status)?"In Planning":"3"==(null===e||void 0===e?void 0:e.case_status)?"Ready for QA":"4"==(null===e||void 0===e?void 0:e.case_status)?"Need More Info":"5"==(null===e||void 0===e?void 0:e.case_status)?"Case updated by ortho":"6"==(null===e||void 0===e?void 0:e.case_status)?"Rejected By QA":"7"==(null===e||void 0===e?void 0:e.case_status)?"Pending Ortho Check":"8"==(null===e||void 0===e?void 0:e.case_status)?"Need Modifications":"9"==(null===e||void 0===e?void 0:e.case_status)?"Pending Step Files":"10"==(null===e||void 0===e?void 0:e.case_status)?"Pending Container files":"11"==(null===e||void 0===e?void 0:e.case_status)?"Stl files ready":"12"==(null===e||void 0===e?void 0:e.case_status)?"Container files ready":"13"==(null===e||void 0===e?void 0:e.case_status)?"Need Stl File Modifications":"14"==(null===e||void 0===e?void 0:e.case_status)?"Need Container File Modifications":"15"==(null===e||void 0===e?void 0:e.case_status)?"Pending direct printing files":"16"==(null===e||void 0===e?void 0:e.case_status)?"Direct printing files ready":"17"==(null===e||void 0===e?void 0:e.case_status)?"Need direct printing files Modifications":"18"==(null===e||void 0===e?void 0:e.case_status)?"Case completed":""}),(0,hr.jsxs)("div",{className:"sub_header",children:[(0,hr.jsxs)("div",{className:"inner",children:[(0,hr.jsx)("span",{className:"label",children:"Name:"}),(0,hr.jsxs)("span",{className:"value",children:["(",null===(t=e.user_detail)||void 0===t?void 0:t.first_name," ",null===(n=e.user_detail)||void 0===n?void 0:n.first_name,")"]})]}),(0,hr.jsxs)("div",{className:"inner",children:[(0,hr.jsx)("span",{className:"label",children:"Role:"}),(0,hr.jsxs)("span",{className:"value",children:["(",pe(null===(i=e.user_detail)||void 0===i?void 0:i.role_name),")"]})]})]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]})]}),(0,hr.jsx)("div",{className:"bodyy",children:(0,hr.jsxs)("div",{className:"profile mb-3",children:[2!=(null===e||void 0===e?void 0:e.case_status)&&6!=(null===e||void 0===e?void 0:e.case_status)&&3!=(null===e||void 0===e?void 0:e.case_status)&&(0,hr.jsx)("img",{src:"".concat(de,"/uploads/").concat(null===e||void 0===e||null===(r=e.user_detail)||void 0===r?void 0:r.profile_pic)}),(0,hr.jsx)("div",{className:"textt",children:"1"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:["Case is created by ",(0,hr.jsxs)("span",{className:"userr",children:[null===e||void 0===e||null===(a=e.user_detail)||void 0===a?void 0:a.first_name," ",null===e||void 0===e||null===(o=e.user_detail)||void 0===o?void 0:o.last_name," "]})]}):"4"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[" ",null===V||void 0===V||null===(s=V.planner)||void 0===s?void 0:s.first_name," ",null===V||void 0===V||null===(l=V.planner)||void 0===l?void 0:l.lastt_name," "]})," Holds case",null===e||void 0===e||null===(c=e.cases_status_users_comments)||void 0===c?void 0:c.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"5"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===V||void 0===V||null===(u=V.created_user)||void 0===u?void 0:u.first_name," ",null===V||void 0===V||null===(d=V.created_user)||void 0===d?void 0:d.last_name]})," Updated the case",null===e||void 0===e||null===(h=e.cases_status_users_comments)||void 0===h?void 0:h.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"7"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===V||void 0===V||null===(p=V.qa)||void 0===p?void 0:p.first_name," ",null===V||void 0===V||null===(f=V.qa)||void 0===f?void 0:f.last_name]})," Submitted case for ortho check",null===e||void 0===e||null===(m=e.cases_status_users_comments)||void 0===m?void 0:m.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"8"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===V||void 0===V||null===(v=V.created_user)||void 0===v?void 0:v.first_name," ",null===V||void 0===V||null===(g=V.created_user)||void 0===g?void 0:g.last_name]})," Asked modifications",null===e||void 0===e||null===(y=e.cases_status_users_comments)||void 0===y?void 0:y.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"9"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===V||void 0===V||null===(b=V.created_user)||void 0===b?void 0:b.first_name," ",null===V||void 0===V||null===(x=V.created_user)||void 0===x?void 0:x.last_name]})," Required stl files",null===e||void 0===e||null===(_=e.cases_status_users_comments)||void 0===_?void 0:_.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"10"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:["                    ",(0,hr.jsxs)("span",{className:"userr",children:[null===V||void 0===V||null===(w=V.created_user)||void 0===w?void 0:w.first_name," ",null===V||void 0===V||null===(S=V.created_user)||void 0===S?void 0:S.last_name]})," Required container files"]})," Required container files",null===e||void 0===e||null===(M=e.cases_status_users_comments)||void 0===M?void 0:M.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"11"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===V||void 0===V||null===(E=V.post_processing)||void 0===E?void 0:E.first_name," ",null===V||void 0===V||null===(C=V.post_processing)||void 0===C?void 0:C.last_name]})," uploaded stl files",null===e||void 0===e||null===(T=e.cases_status_users_comments)||void 0===T?void 0:T.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"12"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===V||void 0===V||null===(N=V.post_processing)||void 0===N?void 0:N.first_name," ",null===V||void 0===V||null===(A=V.post_processing)||void 0===A?void 0:A.last]})," uploaded container files",null===e||void 0===e||null===(k=e.cases_status_users_comments)||void 0===k?void 0:k.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"13"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===V||void 0===V||null===(O=V.created_user)||void 0===O?void 0:O.first_name," ",null===V||void 0===V||null===(P=V.created_user)||void 0===P?void 0:P.lastt_name]})," Need stl files modifications",null===e||void 0===e||null===(R=e.cases_status_users_comments)||void 0===R?void 0:R.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"14"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===V||void 0===V||null===(j=V.created_user)||void 0===j?void 0:j.first_name," ",null===V||void 0===V||null===(L=V.created_user)||void 0===L?void 0:L.lastt_name]})," Need container files modifications",null===e||void 0===e||null===(I=e.cases_status_users_comments)||void 0===I?void 0:I.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"15"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===V||void 0===V||null===(D=V.created_user)||void 0===D?void 0:D.first_name," ",null===V||void 0===V||null===(F=V.created_user)||void 0===F?void 0:F.lastt_name]})," Required direct printing files",null===e||void 0===e||null===(U=e.cases_status_users_comments)||void 0===U?void 0:U.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"16"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===V||void 0===V||null===(z=V.post_processing)||void 0===z?void 0:z.first_name," ",null===V||void 0===V||null===(B=V.post_processing)||void 0===B?void 0:B.last]})," Uploaded Direct Printing files",null===e||void 0===e||null===(H=e.cases_status_users_comments)||void 0===H?void 0:H.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"17"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===V||void 0===V||null===(W=V.created_user)||void 0===W?void 0:W.first_name," ",null===V||void 0===V||null===(G=V.created_user)||void 0===G?void 0:G.lastt_name]})," Required Direct Printing files",null===e||void 0===e||null===(q=e.cases_status_users_comments)||void 0===q?void 0:q.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"18"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsx)("span",{className:"userr",children:null===V||void 0===V||null===(Y=V.created_user)||void 0===Y?void 0:Y.username})," Marked case as completed",null===e||void 0===e||null===(X=e.cases_status_users_comments)||void 0===X?void 0:X.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):""})]})})]}):(0,hr.jsxs)("div",{className:"single-case",children:[(0,hr.jsx)("div",{className:"image",children:(0,hr.jsx)(aa,{})}),(0,hr.jsxs)("div",{className:"header",children:[(0,hr.jsx)("div",{className:"tit",children:"1"==(null===e||void 0===e?void 0:e.case_status)?"New Case":"2"==(null===e||void 0===e?void 0:e.case_status)?"In Planning":"3"==(null===e||void 0===e?void 0:e.case_status)?"Ready for QA":"4"==(null===e||void 0===e?void 0:e.case_status)?"Need More Info":"5"==(null===e||void 0===e?void 0:e.case_status)?"Case updated by ortho":"6"==(null===e||void 0===e?void 0:e.case_status)?"Rejected By QA":"7"==(null===e||void 0===e?void 0:e.case_status)?"Pending Ortho Check":"8"==(null===e||void 0===e?void 0:e.case_status)?"Need Modifications":"9"==(null===e||void 0===e?void 0:e.case_status)?"Pending Step Files":"10"==(null===e||void 0===e?void 0:e.case_status)?"Pending Container files":"11"==(null===e||void 0===e?void 0:e.case_status)?"Stl files ready":"12"==(null===e||void 0===e?void 0:e.case_status)?"Container files ready":"13"==(null===e||void 0===e?void 0:e.case_status)?"Need Stl File Modifications":"14"==(null===e||void 0===e?void 0:e.case_status)?"Need Container File Modifications":"15"==(null===e||void 0===e?void 0:e.case_status)?"Pending direct printing files":"16"==(null===e||void 0===e?void 0:e.case_status)?"Direct printing files ready":"17"==(null===e||void 0===e?void 0:e.case_status)?"Need direct printing files Modifications":"18"==(null===e||void 0===e?void 0:e.case_status)?"Case completed":""}),(0,hr.jsxs)("div",{className:"sub_header",children:[(0,hr.jsxs)("div",{className:"inner",children:[(0,hr.jsx)("span",{className:"label",children:"Name:"}),(0,hr.jsxs)("span",{className:"value",children:["(",null===(Z=e.user_detail)||void 0===Z?void 0:Z.first_name," ",null===(K=e.user_detail)||void 0===K?void 0:K.first_name,")"]})]}),(0,hr.jsxs)("div",{className:"inner",children:[(0,hr.jsx)("span",{className:"label",children:"Role:"}),(0,hr.jsxs)("span",{className:"value",children:["(",pe(null===(J=e.user_detail)||void 0===J?void 0:J.role_name),")"]})]})]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"bodyy",children:(0,hr.jsxs)("div",{className:"profile mb-3",children:[null!==e&&void 0!==e&&e.user_detail?(0,hr.jsx)("img",{src:"".concat(de,"/uploads/").concat(null===e||void 0===e||null===($=e.user_detail)||void 0===$?void 0:$.profile_pic)}):(0,hr.jsx)("img",{src:$O}),(0,hr.jsx)("div",{className:"textt",children:"1"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:["Case is created by ",(0,hr.jsxs)("span",{className:"userr",children:[null===e||void 0===e||null===(Q=e.user_detail)||void 0===Q?void 0:Q.first_name," ",null===e||void 0===e||null===(ee=e.user_detail)||void 0===ee?void 0:ee.last_name," "]})]}):"2"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:["Case is assigned to ",(0,hr.jsxs)("span",{className:"userr",children:[null===V||void 0===V||null===(te=V.planner)||void 0===te?void 0:te.first_name," ",null===V||void 0===V||null===(ne=V.planner)||void 0===ne?void 0:ne.last_name]}),null===e||void 0===e||null===(ie=e.cases_status_users_comments)||void 0===ie?void 0:ie.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"3"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:["Case is assigned to ",(0,hr.jsxs)("span",{className:"userr",children:[null===V||void 0===V||null===(re=V.qa)||void 0===re?void 0:re.first_name," ",null===V||void 0===V||null===(ae=V.qa)||void 0===ae?void 0:ae.last_name]})," for QC",null===e||void 0===e||null===(oe=e.cases_status_users_comments)||void 0===oe?void 0:oe.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"4"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[" ",null===V||void 0===V||null===(le=V.planner)||void 0===le?void 0:le.first_name," ",null===V||void 0===V||null===(ce=V.planner)||void 0===ce?void 0:ce.last_name," "]})," Holds case",null===e||void 0===e||null===(ue=e.cases_status_users_comments)||void 0===ue?void 0:ue.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"5"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===V||void 0===V||null===(he=V.created_user)||void 0===he?void 0:he.first_name," ",null===V||void 0===V||null===(fe=V.created_user)||void 0===fe?void 0:fe.last_name]})," Updated the case",null===e||void 0===e||null===(me=e.cases_status_users_comments)||void 0===me?void 0:me.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"6"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===V||void 0===V||null===(ve=V.qa)||void 0===ve?void 0:ve.first_name," ",null===V||void 0===V||null===(ge=V.qa)||void 0===ge?void 0:ge.last_name]})," Rejected the case",null===e||void 0===e||null===(ye=e.cases_status_users_comments)||void 0===ye?void 0:ye.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"7"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===V||void 0===V||null===(be=V.qa)||void 0===be?void 0:be.first_name," ",null===V||void 0===V||null===(xe=V.qa)||void 0===xe?void 0:xe.last_name]})," Submitted case for ortho check",null===e||void 0===e||null===(_e=e.cases_status_users_comments)||void 0===_e?void 0:_e.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"8"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===V||void 0===V||null===(we=V.created_user)||void 0===we?void 0:we.first_name," ",null===V||void 0===V||null===(Se=V.created_user)||void 0===Se?void 0:Se.last_name]})," Asked modifications",null===e||void 0===e||null===(Me=e.cases_status_users_comments)||void 0===Me?void 0:Me.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"9"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===V||void 0===V||null===(Ee=V.created_user)||void 0===Ee?void 0:Ee.first_name," ",null===V||void 0===V||null===(Ce=V.created_user)||void 0===Ce?void 0:Ce.last_name]})," Required stl files",null===e||void 0===e||null===(Te=e.cases_status_users_comments)||void 0===Te?void 0:Te.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"10"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===V||void 0===V||null===(Ne=V.created_user)||void 0===Ne?void 0:Ne.first_name," ",null===V||void 0===V||null===(Ae=V.created_user)||void 0===Ae?void 0:Ae.last_name]})," Required container files",null===e||void 0===e||null===(ke=e.cases_status_users_comments)||void 0===ke?void 0:ke.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"11"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===V||void 0===V||null===(Oe=V.post_processing)||void 0===Oe?void 0:Oe.first_name," ",null===V||void 0===V||null===(Pe=V.post_processing)||void 0===Pe?void 0:Pe.last_name]})," uploaded stl files",null===e||void 0===e||null===(Re=e.cases_status_users_comments)||void 0===Re?void 0:Re.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"12"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===V||void 0===V||null===(je=V.post_processing)||void 0===je?void 0:je.first_name," ",null===V||void 0===V||null===(Le=V.post_processing)||void 0===Le?void 0:Le.last_name]})," uploaded container files",null===e||void 0===e||null===(Ie=e.cases_status_users_comments)||void 0===Ie?void 0:Ie.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"13"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===V||void 0===V||null===(De=V.created_user)||void 0===De?void 0:De.first_name," ",null===V||void 0===V||null===(Fe=V.created_user)||void 0===Fe?void 0:Fe.last_name]})," Need stl files modifications",null===e||void 0===e||null===(Ue=e.cases_status_users_comments)||void 0===Ue?void 0:Ue.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"14"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===V||void 0===V||null===(ze=V.created_user)||void 0===ze?void 0:ze.first_name," ",null===V||void 0===V||null===(Be=V.created_user)||void 0===Be?void 0:Be.last_name]})," Need container files modifications",null===e||void 0===e||null===(He=e.cases_status_users_comments)||void 0===He?void 0:He.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"15"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===V||void 0===V||null===(Ve=V.created_user)||void 0===Ve?void 0:Ve.first_name," ",null===V||void 0===V||null===(We=V.created_user)||void 0===We?void 0:We.lastt_name]})," Required direct printing files",null===e||void 0===e||null===(Ge=e.cases_status_users_comments)||void 0===Ge?void 0:Ge.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"16"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===V||void 0===V||null===(qe=V.post_processing)||void 0===qe?void 0:qe.first_name," ",null===V||void 0===V||null===(Ye=V.post_processing)||void 0===Ye?void 0:Ye.last]})," Uploaded Direct Printing files",null===e||void 0===e||null===(Xe=e.cases_status_users_comments)||void 0===Xe?void 0:Xe.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"17"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===V||void 0===V||null===(Ze=V.created_user)||void 0===Ze?void 0:Ze.first_name," ",null===V||void 0===V||null===(Ke=V.created_user)||void 0===Ke?void 0:Ke.lastt_name]})," Required Direct Printing files",null===e||void 0===e||null===(Je=e.cases_status_users_comments)||void 0===Je?void 0:Je.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"18"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsx)("span",{className:"userr",children:null===V||void 0===V||null===($e=V.created_user)||void 0===$e?void 0:$e.username})," Marked case as completed",null===e||void 0===e||null===(Qe=e.cases_status_users_comments)||void 0===Qe?void 0:Qe.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):""})]})})]})}))})]})})]})},_j=()=>{var e;const{casestatus:t}=it(),{currentUser:n}=(0,r.useContext)(pr),i=(null===n||void 0===n||null===(e=n.roles[0])||void 0===e||e.name,null===n||void 0===n?void 0:n.permissions),a=tt(),[o,s]=(0,r.useState)([]),[l,c]=(0,r.useState)([]),[u,d]=(0,r.useState)(!1),[h,p]=(0,r.useState)(""),[f,m]=(0,r.useState)(""),[v,g]=(0,r.useState)(""),[y,b]=(0,r.useState)(""),[x,_]=(0,r.useState)(""),[w,S]=(0,r.useState)(""),[M,E]=(0,r.useState)(""),[C,T]=(0,r.useState)(0),[N,A]=(0,r.useState)(0),k=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",p=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",m=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"",g=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"",b=arguments.length>10&&void 0!==arguments[10]?arguments[10]:"";d(!0),c([]),h&&(n=h),t&&(i=t),f&&(r=f),v&&(o=v),y&&(l=y),x&&(u=x),w&&(p=w),M&&(m=M);try{var _;let t=1;e&&e.page&&(t=e.page);const d=await Ah.getCases(t,n,i,r,o,l,u,p,m,g,b);if(200===(null===d||void 0===d||null===(_=d.data)||void 0===_?void 0:_.status)){var S,E,C;s(d.data.data);const e=null===d||void 0===d||null===(S=d.data)||void 0===S||null===(E=S.data)||void 0===E||null===(C=E.data)||void 0===C?void 0:C.map((e=>{var t,n,i,r;const a=new Date(null===e||void 0===e?void 0:e.start_date_time),o=new Date(a.getTime()+(null!=(null===e||void 0===e?void 0:e.expected_time)?60*parseInt(null===e||void 0===e?void 0:e.expected_time)*60*1e3:0)),s=Math.max(0,o-(new Date).getTime());return{id:null===e||void 0===e?void 0:e.guid,caseId:null===e||void 0===e?void 0:e.case_id,status:e.status,name:null===e||void 0===e?void 0:e.name,email:null===e||void 0===e?void 0:e.email,gender:null===e||void 0===e?void 0:e.gender,created:"".concat(Hh()(null===e||void 0===e?void 0:e.created_at).format("ddd, MMM DD YYYY")," : ").concat(Hh()(null===e||void 0===e?void 0:e.created_at).format("HH:mm:ss")),clinic:(null===e||void 0===e||null===(t=e.created_user)||void 0===t?void 0:t.username)||"null",planner:null!==e&&void 0!==e&&null!==(n=e.planner)&&void 0!==n&&n.username?"".concat(null===e||void 0===e||null===(i=e.planner)||void 0===i?void 0:i.first_name," ").concat(null===e||void 0===e||null===(r=e.planner)||void 0===r?void 0:r.last_name):"null",remainingTimeMs:s}}));c(e)}else{var T,N;"Unauthenticated."===(null===d||void 0===d||null===(T=d.data)||void 0===T?void 0:T.message)&&a("/login"),ir.error(null===d||void 0===d||null===(N=d.data)||void 0===N?void 0:N.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}}catch(O){var A,k;ir.error(null===O||void 0===O||null===(A=O.result)||void 0===A||null===(k=A.data)||void 0===k?void 0:k.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{d(!1)}};(0,r.useEffect)((()=>{k(1)}),[]),(0,r.useEffect)((()=>{const e=setInterval((()=>{c((e=>e.map((e=>{let t=e.remainingTimeMs-1e3;t=Math.max(0,t);const n=Math.floor(t/36e5),i=Math.floor(t%36e5/6e4),r=Math.floor(t%6e4/1e3),a="".concat(n,"h ").concat(i,"m ").concat(r,"s");return{...e,remainingTimeMs:t,remainingTime:a}}))))}),1e3);return()=>clearInterval(e)}),[l]);const O=[{name:"Case Id",selector:e=>e.caseId,sortable:!0},{name:"Case Status",selector:e=>(0,hr.jsx)("span",{className:"case-status-tag",children:"1"==(null===e||void 0===e?void 0:e.status)?"New Case":"2"==(null===e||void 0===e?void 0:e.status)?"In Planning":"3"==(null===e||void 0===e?void 0:e.status)?"Ready for QA":"4"==(null===e||void 0===e?void 0:e.status)?"Need More Info":"5"==(null===e||void 0===e?void 0:e.status)?"Case updated by ortho":"6"==(null===e||void 0===e?void 0:e.status)?"Rejected By QA":"7"==(null===e||void 0===e?void 0:e.status)?"Pending Ortho Check":"8"==(null===e||void 0===e?void 0:e.status)?"Need Modifications":"9"==(null===e||void 0===e?void 0:e.status)?"Pending Step Files":"10"==(null===e||void 0===e?void 0:e.status)?"Pending Container files":"11"==(null===e||void 0===e?void 0:e.status)?"Stl files ready":"12"==(null===e||void 0===e?void 0:e.status)?"Container files ready":"13"==(null===e||void 0===e?void 0:e.status)?"Need Stl File Modifications":"14"==(null===e||void 0===e?void 0:e.status)?"Need Container File Modifications":"15"==(null===e||void 0===e?void 0:e.status)?"Pending direct printing files":"16"==(null===e||void 0===e?void 0:e.status)?"Direct printing files ready":"17"==(null===e||void 0===e?void 0:e.status)?"Need direct printing files Modifications":"18"==(null===e||void 0===e?void 0:e.status)?"Case completed":""}),sortable:!0},{name:"Remaining Time",selector:e=>(0,hr.jsx)("span",{className:"".concat(e.remainingTimeMs<=288e5?"red-time":e.remainingTimeMs<=576e5?"yellow-time":"green-time"),children:e.remainingTime}),sortable:!0},{name:"Patient Name",selector:e=>e.name,sortable:!0},{name:"Patient Email",selector:e=>e.email,sortable:!0},{name:"Gender",selector:e=>e.gender,sortable:!0},{name:"Case Created",selector:e=>e.created,sortable:!0},{name:"Clinic",selector:e=>e.clinic,sortable:!0},{name:"Planner",selector:e=>e.planner,sortable:!0},{name:"Action",cell:e=>(0,hr.jsxs)("div",{className:"icons__parent",children:[(null===i||void 0===i?void 0:i.includes("patient-cases-update"))&&("4"==(null===e||void 0===e?void 0:e.status)||"1"==(null===e||void 0===e?void 0:e.status))&&(0,hr.jsx)(Lt,{title:"Edit Case",className:"button-icon",to:"/update-case/".concat(e.id),children:(0,hr.jsx)(AO,{})}),(null===i||void 0===i?void 0:i.includes("patient-cases-detail"))&&(0,hr.jsx)("a",{title:"View Case",className:"button-icon",target:"_blank",href:"/case-detail/".concat(e.id),children:(0,hr.jsx)(SO,{})}),(null===i||void 0===i?void 0:i.includes("patient-cases-delete"))&&(0,hr.jsx)("div",{title:"Delete Case",className:"button-icon",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this case?")){d(!0);try{var n;const s=await Ah.deleteCase(e);var i,r,o;200==(null===s||void 0===s||null===(n=s.data)||void 0===n?void 0:n.status)?(ir.error(null===s||void 0===s||null===(i=s.data)||void 0===i?void 0:i.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0}),k(1,h,t,f,v,y,x,w,M,C,N)):("Unauthenticated."==(null===s||void 0===s||null===(r=s.data)||void 0===r?void 0:r.message)&&a("/login"),ir.error(null===s||void 0===s||null===(o=s.data)||void 0===o?void 0:o.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0}))}catch(c){var s,l;ir.error(null===c||void 0===c||null===(s=c.result)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{d(!1)}}})(e.id),children:(0,hr.jsx)(Gr,{})})]}),ignoreRowClick:!0,allowOverflow:!0,button:!0}],P=e=>{"Enter"===e.key&&(e.preventDefault(),k())};return(0,hr.jsxs)("div",{className:"users-wrapper",children:[u&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)(dr,{}),(0,hr.jsx)("div",{className:"search-filer-wrapper",children:(0,hr.jsxs)("div",{className:"row",children:[(0,hr.jsxs)("div",{className:"col-12 col-md-6 col-lg-3 mb-3",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Case id"}),(0,hr.jsx)("input",{className:"input",type:"text",placeholder:"Search case by case id",value:h,onChange:e=>p(e.target.value),onKeyDown:P})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 col-lg-3 mb-3",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Patient name"}),(0,hr.jsx)("input",{className:"input",type:"text",placeholder:"Search  by patien name",value:f,onChange:e=>m(e.target.value),onKeyDown:P})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 col-lg-3 mb-3",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Clinic name"}),(0,hr.jsx)("input",{className:"input",type:"text",placeholder:"Search clinic name",value:v,onChange:e=>g(e.target.value),onKeyDown:P})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 col-lg-3 mb-3",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Date From"}),(0,hr.jsx)("input",{className:"input",type:"date",value:y,onChange:e=>b(e.target.value),onKeyDown:P})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 col-lg-3 mb-3",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Date To"}),(0,hr.jsx)("input",{className:"input",type:"date",value:x,onChange:e=>_(e.target.value),onKeyDown:P})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 col-lg-3 mb-3",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Case type"}),(0,hr.jsxs)("select",{value:w,onChange:e=>S(e.target.value),className:"input",onKeyDown:P,children:[(0,hr.jsx)("option",{value:"",children:"Select case type"}),(0,hr.jsx)("option",{value:"(3-3)",children:"(3-3)"}),(0,hr.jsx)("option",{value:"(5-5)",children:"(5-5)"}),(0,hr.jsx)("option",{value:"Full arch correction",children:"Full arch correction "})]})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 col-lg-3 mb-3",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Case status"}),(0,hr.jsxs)("select",{value:M,onChange:e=>E(e.target.value),className:"input",onKeyDown:P,children:[(0,hr.jsx)("option",{value:"",children:"Select "}),(0,hr.jsx)("option",{value:"1",children:"New Case"}),(0,hr.jsx)("option",{value:"2",children:"In Planning"}),(0,hr.jsx)("option",{value:"3",children:"Ready for QA"}),(0,hr.jsx)("option",{value:"4",children:"Need More Info"}),(0,hr.jsx)("option",{value:"5",children:"Case updated by ortho"}),(0,hr.jsx)("option",{value:"6",children:"Rejected By QA"}),(0,hr.jsx)("option",{value:"7",children:"Pending Ortho Check"}),(0,hr.jsx)("option",{value:"8",children:"Need Modifications"}),(0,hr.jsx)("option",{value:"9",children:"Pending Step Files"}),(0,hr.jsx)("option",{value:"10",children:"Pending Container files"}),(0,hr.jsx)("option",{value:"11",children:"Stl files ready"}),(0,hr.jsx)("option",{value:"12",children:"Container files ready"}),(0,hr.jsx)("option",{value:"13",children:"Need Stl File Modifications"}),(0,hr.jsx)("option",{value:"14",children:"Need Container File Modifications"}),(0,hr.jsx)("option",{value:"15",children:"Pending direct printing files"}),(0,hr.jsx)("option",{value:"16",children:"Direct printing files ready"}),(0,hr.jsx)("option",{value:"17",children:"Need direct printing files Modifications"}),(0,hr.jsx)("option",{value:"18",children:"Case completed"})]})]}),(0,hr.jsx)("button",{className:"button",onClick:k,children:"Filter"})]})}),(0,hr.jsxs)("div",{className:"d-flex justify-content-between my-3",children:[(0,hr.jsxs)("div",{className:"case-tabs",children:[(0,hr.jsx)("button",{className:"".concat("0"==C&&"0"==N?"active":""),onClick:()=>(async()=>{await A(0),await T(0),await k(1)})(),children:"All cases"}),(0,hr.jsx)("button",{className:"".concat("1"==C?"active":""),onClick:()=>(async()=>{await T(1),await A(0),await k(1,"","","","","","","","",1,"")})(),children:"Urgent cases"}),(0,hr.jsx)("button",{className:"".concat("1"==N?"active":""),onClick:()=>(async()=>{await A(1),await T(0),await k(1,"","","","","","","","","",1)})(),children:"Cases Modifications"})]}),(null===i||void 0===i?void 0:i.includes("patient-cases-store"))&&(0,hr.jsx)(Lt,{to:"/create-case",className:"button",children:"Create New Case "})]}),(0,hr.jsx)(EO.Ay,{columns:O,data:l}),(0,hr.jsx)(TO.d,{changePage:k,data:o})]})},wj=()=>{var e;const{currentUser:t}=(0,r.useContext)(pr),n=null===t||void 0===t||null===(e=t.roles[0])||void 0===e?void 0:e.name,i=null===t||void 0===t?void 0:t.is_8_hours_enabled,{id:a}=it(),[o,s]=(0,r.useState)(!1),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),[h,p]=(0,r.useState)(""),[f,m]=(0,r.useState)(""),[v,g]=(0,r.useState)(""),[y,b]=(0,r.useState)(""),[x,_]=(0,r.useState)(""),[w,S]=(0,r.useState)(""),[M,E]=(0,r.useState)(""),[C,T]=(0,r.useState)(""),[N,A]=(0,r.useState)({}),[k,O]=(0,r.useState)(""),[P,R]=(0,r.useState)(""),[j,L]=(0,r.useState)(""),[I,D]=(0,r.useState)(""),[F,U]=(0,r.useState)(""),[z,B]=(0,r.useState)(null),[H,V]=(0,r.useState)(null),[W,G]=(0,r.useState)(null),[q,Y]=(0,r.useState)(0),[X,Z]=(0,r.useState)(!1),[K,J]=(0,r.useState)([]),[$,Q]=(0,r.useState)([]),[ee,te]=(0,r.useState)([]);(0,r.useEffect)((()=>{(async()=>{try{var e,t;const n=await GO.getSoftwares();console.log(n.data.data),(null===n||void 0===n||null===(e=n.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.length)>0?J(n.data.data):ir.error("No software data found!",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(n){ir.error("Unable to load software data!",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}})()}),[]),(0,r.useEffect)((()=>{(async e=>{try{var t;const s=await Ah.getCaseDetail(e);var n,i,r,a,o,l,u,h,f,v,y,x,w,S,M,E,C,T,N,k,P,j,I,F,z,B,H,V,W;200==(null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.status)?(A(null===s||void 0===s||null===(n=s.data)||void 0===n?void 0:n.data),c(null===s||void 0===s||null===(i=s.data)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.case_id),d(null===s||void 0===s||null===(a=s.data)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.name),p(null===s||void 0===s||null===(l=s.data)||void 0===l||null===(u=l.data)||void 0===u?void 0:u.email),_(null===s||void 0===s||null===(h=s.data)||void 0===h||null===(f=h.data)||void 0===f?void 0:f.gender),m(null===s||void 0===s||null===(v=s.data)||void 0===v||null===(y=v.data)||void 0===y?void 0:y.age),g(null===s||void 0===s||null===(x=s.data)||void 0===x||null===(w=x.data)||void 0===w?void 0:w.expected_time),b(null===s||void 0===s||null===(S=s.data)||void 0===S||null===(M=S.data)||void 0===M?void 0:M.tooth_label_format),O(null===s||void 0===s||null===(E=s.data)||void 0===E||null===(C=E.data)||void 0===C?void 0:C.ipr),R(null===s||void 0===s||null===(T=s.data)||void 0===T||null===(N=T.data)||void 0===N?void 0:N.extraction),L(null===s||void 0===s||null===(k=s.data)||void 0===k||null===(P=k.data)||void 0===P?void 0:P.attachments),D(null===s||void 0===s||null===(j=s.data)||void 0===j||null===(I=j.data)||void 0===I?void 0:I.chief_complaint),U(null===s||void 0===s||null===(F=s.data)||void 0===F||null===(z=F.data)||void 0===z?void 0:z.treatment_plan),Z(null===s||void 0===s||null===(B=s.data)||void 0===B||null===(H=B.data)||void 0===H?void 0:H.software_id)):("Unauthenticated."==(null===s||void 0===s||null===(V=s.data)||void 0===V?void 0:V.message)&&oe("/login"),ir.error(null===s||void 0===s||null===(W=s.data)||void 0===W?void 0:W.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0}))}catch(Y){var G,q;ir.error(null===Y||void 0===Y||null===(G=Y.result)||void 0===G||null===(q=G.data)||void 0===q?void 0:q.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{s(!1)}})(a)}),[a]);(0,r.useEffect)((()=>{const e=$.map((e=>URL.createObjectURL(e)));return te(e),()=>{e.forEach((e=>URL.revokeObjectURL(e)))}}),[$]);const[ne,ie]=(0,r.useState)([]),[re,ae]=(0,r.useState)([]);(0,r.useEffect)((()=>{const e=ne.map((e=>URL.createObjectURL(e)));return ae(e),()=>{e.forEach((e=>URL.revokeObjectURL(e)))}}),[ne]);const oe=tt(),se={width:"100%",height:"100%"};return(0,hr.jsxs)("div",{className:"form-wrapper",children:[(0,hr.jsx)(dr,{}),o&&(0,hr.jsxs)("div",{className:"loader-parent",children:[(0,hr.jsx)("div",{className:"porgress-bar-custom-container",children:(0,hr.jsx)("div",{className:"porgress-bar-custom-bar",style:{width:"".concat(q,"%")}})}),(0,hr.jsxs)("div",{className:"textt",children:[q,"%"]})]}),(0,hr.jsx)("div",{className:"title",children:"Update Case"}),(0,hr.jsxs)("div",{className:"row",children:[(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Case Id ",n,(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsx)("input",{type:"text",className:"input",value:l,readOnly:"super_admin"!==n,onChange:e=>c(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Patient Name ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsx)("input",{type:"text",className:"input",value:u,readOnly:"super_admin"!==n,onChange:e=>d(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Patient Email"}),(0,hr.jsx)("input",{type:"text",className:"input",value:h,readOnly:"super_admin"!==n,onChange:e=>p(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Patient Gender ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsxs)("select",{name:"",className:"input",value:x,disabled:"super_admin"!==n,onChange:e=>_(e.target.value),children:[(0,hr.jsx)("option",{value:"",children:"Select"}),(0,hr.jsx)("option",{value:"male",children:"Male"}),(0,hr.jsx)("option",{value:"female",children:"Female"}),(0,hr.jsx)("option",{value:"other",children:"Other"})]})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Patient Age ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsx)("input",{readOnly:"super_admin"!==n,type:"text",className:"input",value:f,onChange:e=>m(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Patient Location "}),(0,hr.jsxs)("select",{name:"",className:"input",value:w,onChange:e=>S(e.target.value),children:[(0,hr.jsx)("option",{value:"",children:"Select"}),(0,hr.jsx)("option",{value:"overseas",children:"Overseas(No IPR, No Attachments, No Extraction)"}),(0,hr.jsx)("option",{value:"travelling",children:"Travelling (IPR/Attachments/Extraction at early steps)"}),(0,hr.jsx)("option",{value:"local",children:"Local (Customized)"})]})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Case type "}),(0,hr.jsxs)("select",{name:"",className:"input",value:M,onChange:e=>E(e.target.value),children:[(0,hr.jsx)("option",{value:"",children:"Select"}),(0,hr.jsx)("option",{value:"(3-3)",children:"(3-3)"}),(0,hr.jsx)("option",{value:"(5-5)",children:"(5-5)"}),(0,hr.jsx)("option",{value:"Full arch correction",children:"Full arch correction "})]})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Arch "}),(0,hr.jsxs)("select",{name:"",className:"input",value:C,onChange:e=>T(e.target.value),children:[(0,hr.jsx)("option",{value:"",children:"Select"}),(0,hr.jsx)("option",{value:"Upper only",children:"Upper only"}),(0,hr.jsx)("option",{value:"Lower only",children:"Lower only"}),(0,hr.jsx)("option",{value:"Both Arch",children:"Both Arch"})]})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Expected Time ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsxs)("select",{name:"",disabled:"super_admin"!==n,className:"input",value:v,onChange:e=>g(e.target.value),children:[(0,hr.jsx)("option",{value:"",children:"Select"}),"1"==i?(0,hr.jsx)("option",{value:"8",children:"Express setup delivery: 8 hrs"}):(0,hr.jsx)("option",{disabled:!0,children:"Express setup delivery: 8 hrs (This option is paid)"}),(0,hr.jsx)("option",{value:"24",children:"Super Setup Delivery: 24 hrs"}),(0,hr.jsx)("option",{value:"48",children:"Normal Setup Delivery: 48 hrs"})]})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Tooth Label Format ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsxs)("select",{name:"",disabled:"super_admin"!==n,className:"input",value:y,onChange:e=>b(e.target.value),children:[(0,hr.jsx)("option",{value:"",children:"Select"}),(0,hr.jsx)("option",{value:"Universal notation",children:"Universal notation"}),(0,hr.jsx)("option",{value:"Fdi Notation",children:"FDI Notation"}),(0,hr.jsx)("option",{value:"Parlmer Notation",children:"Parlmer Notation"})]})]}),(0,hr.jsx)("div",{className:"col-12 col-md-6 mb-4",children:(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Attachments ","local"==w&&(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsxs)("select",{className:"input",disabled:"super_admin"!==n,value:j,onChange:e=>L(e.target.value),children:[(0,hr.jsx)("option",{value:"",children:"Select"}),(0,hr.jsx)("option",{value:"Yes",children:"Yes"}),(0,hr.jsx)("option",{value:"No",children:"No"})]})]})}),(0,hr.jsx)("div",{className:"col-12 col-md-6 mb-4",children:(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Software",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsxs)("select",{className:"input",value:X,onChange:e=>Z(e.target.value),disabled:"super_admin"!==n,required:!0,children:[(0,hr.jsx)("option",{value:"",children:"Select"}),K.map(((e,t)=>(0,hr.jsx)("option",{value:e.id,children:e.name},t)))]})]})})]}),(0,hr.jsxs)("div",{className:"row",children:[(0,hr.jsx)("div",{className:"col-12 col-md-6 mb-4",children:(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["IPR ","local"==w&&(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsxs)("select",{className:"input",disabled:"super_admin"!==n,value:k,onChange:e=>O(e.target.value),children:[(0,hr.jsx)("option",{value:"",children:"Select"}),(0,hr.jsx)("option",{value:"Yes",children:"Yes"}),(0,hr.jsx)("option",{value:"No",children:"No"})]})]})}),(0,hr.jsx)("div",{className:"col-12 col-md-6 mb-4",children:(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Extraction ","local"==w&&(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsxs)("select",{className:"input",disabled:"super_admin"!==n,value:P,onChange:e=>R(e.target.value),children:[(0,hr.jsx)("option",{value:"",children:"Select"}),(0,hr.jsx)("option",{value:"Yes",children:"Yes"}),(0,hr.jsx)("option",{value:"No",children:"No"})]})]})}),(0,hr.jsx)("div",{className:"col-12 col-md-6 mb-4",children:(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Chief Complaint ",(0,hr.jsx)("span",{children:"*"})," "]}),(0,hr.jsx)(YO(),{value:I,readOnly:"super_admin"!==n,onChange:(e,t,n,i)=>{D(e)}})]})}),(0,hr.jsx)("div",{className:"col-12 col-md-6 mb-4",children:(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Treatment Plan "}),(0,hr.jsx)(YO(),{readOnly:"super_admin"!==n,value:F,onChange:(e,t,n,i)=>{U(e)}})]})})]}),(0,hr.jsxs)("div",{className:"row",children:[(0,hr.jsxs)("div",{className:"col-12 col-md-4 mb-4",children:[(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Upper stl file ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsxs)("div",{className:"file-wrapper",children:[(0,hr.jsx)("span",{children:"Upload File here"}),(0,hr.jsx)(Qr,{}),(0,hr.jsx)("input",{type:"file",className:"input",accept:".stl",onChange:e=>{const t=e.target.files[0];B(t)}})]})]}),z&&(0,hr.jsx)("div",{className:"stl-viewer mt-5",children:(0,hr.jsx)(gO,{style:se,orbitControls:!0,shadows:!0,url:URL.createObjectURL(z)})})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-4 mb-4",children:[(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Lower stl file ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsxs)("div",{className:"file-wrapper",children:[(0,hr.jsx)("span",{children:"Upload File here"}),(0,hr.jsx)(Qr,{}),(0,hr.jsx)("input",{type:"file",className:"input",accept:".stl",onChange:e=>{const t=e.target.files[0];V(t)}})]})]}),H&&(0,hr.jsx)("div",{className:"stl-viewer mt-5",children:(0,hr.jsx)(gO,{style:se,orbitControls:!0,shadows:!0,url:URL.createObjectURL(H)})})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-4 mb-4",children:[(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Stl Bite Scan file"}),(0,hr.jsxs)("div",{className:"file-wrapper",children:[(0,hr.jsx)("span",{children:"Upload File here"}),(0,hr.jsx)(Qr,{}),(0,hr.jsx)("input",{type:"file",className:"input",accept:".stl",onChange:e=>{const t=e.target.files[0];G(t)}})]})]}),W&&(0,hr.jsx)("div",{className:"stl-viewer mt-5",children:(0,hr.jsx)(gO,{style:se,orbitControls:!0,shadows:!0,url:URL.createObjectURL(W)})})]})]}),(0,hr.jsxs)("div",{className:"row",children:[(0,hr.jsxs)("div",{className:"col-12 col-md-12 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Xray images"}),(0,hr.jsxs)("div",{className:"file-wrapper",children:[(0,hr.jsx)("span",{children:"Upload Files here"}),(0,hr.jsx)(Qr,{}),(0,hr.jsx)("input",{type:"file",className:"input",multiple:!0,accept:".jpg, .jpeg, .png",onChange:e=>{const t=Array.from(e.target.files);Q(t)}})]})]}),(0,hr.jsx)("div",{className:"col-12",children:(0,hr.jsx)("div",{className:"images-preview",children:ee.map(((e,t)=>(0,hr.jsxs)("div",{className:"image",children:[(0,hr.jsx)("div",{className:"close",onClick:()=>(e=>{const t=$.filter(((t,n)=>n!==e));Q(t)})(t),children:(0,hr.jsx)(Ar,{})}),(0,hr.jsx)("img",{src:e,alt:"preview ".concat(t)})]},t)))})})]}),(0,hr.jsxs)("div",{className:"row",children:[(0,hr.jsxs)("div",{className:"col-12 col-md-12 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Patient images"}),(0,hr.jsxs)("div",{className:"file-wrapper",children:[(0,hr.jsx)("span",{children:"Upload Files here"}),(0,hr.jsx)(Qr,{}),(0,hr.jsx)("input",{accept:".jpg, .jpeg, .png",type:"file",className:"input",multiple:!0,onChange:e=>{const t=Array.from(e.target.files);ie(t)}})]})]}),(0,hr.jsx)("div",{className:"col-12",children:(0,hr.jsx)("div",{className:"images-preview",children:re.map(((e,t)=>(0,hr.jsxs)("div",{className:"image",children:[(0,hr.jsx)("div",{className:"close",onClick:()=>(e=>{const t=ne.filter(((t,n)=>n!==e));ie(t)})(t),children:(0,hr.jsx)(Ar,{})}),(0,hr.jsx)("img",{src:e,alt:"preview ".concat(t)})]},t)))})})]}),(0,hr.jsx)("div",{className:"d-flex justify-content-center my-3",children:(0,hr.jsx)("button",{className:"button",onClick:async()=>{try{const i=new FormData;if(l)if(u)if(X){var e;s(!0),l&&i.append("case_id",l),u&&i.append("name",u),h&&i.append("email",h),f&&i.append("age",f),v&&i.append("expected_time",v),y&&i.append("tooth_label_format",y),x&&i.append("gender",x),w&&i.append("patient_location",w),M&&i.append("case_type",M),C&&i.append("arch",C),P&&i.append("extraction",P),j&&i.append("attachments",j),k&&i.append("ipr",k),I&&i.append("chief_complaint",I),F&&i.append("treatment_plan",F),z&&i.append("stl_upper_file",z),H&&i.append("stl_lower_file",H),W&&i.append("stl_byte_scan_file",W),$&&$.forEach(((e,t)=>{i.append("xrays_files[]",e)})),ne&&ne.forEach(((e,t)=>{i.append("image_files[]",e)})),X&&i.append("software_id",X);const r=await Ah.updateCase(a,i,(e=>{const t=Math.round(100*e.loaded/e.total);Y(t)}));var t,n;if(200==(null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.status))ir.success(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.message,{autoClose:1e3,pauseOnHover:!0,draggable:!0}),setTimeout((()=>{oe("/cases")}),1300);else ir.error(null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}else ir.error("Please select software!",{autoClose:2e3,pauseOnHover:!0,draggable:!0});else ir.error("please enter patient  name",{autoClose:2e3,pauseOnHover:!0,draggable:!0});else ir.error("please enter  name",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(o){var i,r;ir.error(null===o||void 0===o||null===(i=o.result)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{s(!1)}},children:"Update Case"})})]})},Sj=()=>{var e;const{currentUser:t}=(0,r.useContext)(pr),n=(null===t||void 0===t||null===(e=t.roles[0])||void 0===e||e.name,null===t||void 0===t?void 0:t.permissions),i=tt(),[a,o]=(0,r.useState)([]),[s,l]=(0,r.useState)(!1),c=async()=>{l(!0);try{var e;const s=await Ah.getCompletedCases();if(200==(null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.status)){var t,n;const e=null===s||void 0===s||null===(t=s.data)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.map((e=>{var t,n,i,r;return{id:null===e||void 0===e?void 0:e.guid,caseId:null===e||void 0===e?void 0:e.case_id,status:e.status,name:null===e||void 0===e?void 0:e.name,email:null===e||void 0===e?void 0:e.email,gender:null===e||void 0===e?void 0:e.gender,clinic:null!==e&&void 0!==e&&null!==(t=e.created_user)&&void 0!==t&&t.username?null===e||void 0===e||null===(n=e.created_user)||void 0===n?void 0:n.username:"null",planner:null!==e&&void 0!==e&&null!==(i=e.planner)&&void 0!==i&&i.username?null===e||void 0===e||null===(r=e.planner)||void 0===r?void 0:r.username:"null"}}));o(e)}else{var r,a;"Unauthenticated."==(null===s||void 0===s||null===(r=s.data)||void 0===r?void 0:r.message)&&i("/login"),ir.error(null===s||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}}catch(u){var s,c;ir.error(null===u||void 0===u||null===(s=u.result)||void 0===s||null===(c=s.data)||void 0===c?void 0:c.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{l(!1)}};(0,r.useEffect)((()=>{c()}),[]);const u=[{name:"Case Id",selector:e=>e.caseId,sortable:!0},{name:"Case Status",selector:e=>(0,hr.jsx)("span",{className:"case-status-tag",children:"Completed"}),sortable:!0},{name:"Patient Name",selector:e=>e.name,sortable:!0},{name:"Patient Email",selector:e=>e.email,sortable:!0},{name:"Gender",selector:e=>e.gender,sortable:!0},{name:"Clinic",selector:e=>e.clinic,sortable:!0},{name:"Planner",selector:e=>e.planner,sortable:!0},{name:"Action",cell:e=>(0,hr.jsxs)(hr.Fragment,{children:[(null===n||void 0===n?void 0:n.includes("patient-cases-detail"))&&(0,hr.jsx)(Lt,{className:"button-icon",to:"/case-detail/".concat(e.id),children:(0,hr.jsx)(SO,{})}),(null===n||void 0===n?void 0:n.includes("patient-cases-delete"))&&(0,hr.jsx)("div",{className:"button-icon",onClick:()=>(async e=>{l(!0);try{var t;const o=await Ah.deleteCase(e);var n,r,a;200==(null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.status)?(ir.error(null===o||void 0===o||null===(n=o.data)||void 0===n?void 0:n.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0}),c()):("Unauthenticated."==(null===o||void 0===o||null===(r=o.data)||void 0===r?void 0:r.message)&&i("/login"),ir.error(null===o||void 0===o||null===(a=o.data)||void 0===a?void 0:a.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0}))}catch(u){var o,s;ir.error(null===u||void 0===u||null===(o=u.result)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{l(!1)}})(e.id),children:(0,hr.jsx)(Gr,{})})]}),ignoreRowClick:!0,allowOverflow:!0,button:!0}];return(0,hr.jsxs)("div",{className:"users-wrapper",children:[s&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)(dr,{}),(0,hr.jsx)(EO.Ay,{columns:u,data:a,pagination:!0,paginationPerPage:10,paginationRowsPerPageOptions:[5,10,20]})]})},Mj=()=>{var e;const{casestatus:t}=it(),{currentUser:n}=(0,r.useContext)(pr),i=(null===n||void 0===n||null===(e=n.roles[0])||void 0===e||e.name,null===n||void 0===n||n.permissions,tt()),[a,o]=(0,r.useState)([]),[s,l]=(0,r.useState)({}),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(!1),[p,f]=(0,r.useState)([]),[m,v]=(0,r.useState)(""),[g,y]=(0,r.useState)(""),[b,x]=(0,r.useState)(""),[_,w]=(0,r.useState)(""),[S,M]=(0,r.useState)(""),[E,C]=(0,r.useState)(""),[T,N]=(0,r.useState)(""),A=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;f([]),o([]),u(!0);try{var a;let u=1;e&&e.page&&(u=e.page);const p=await Ah.getHistoryList(u,t,n,r);if(200==(null===p||void 0===p||null===(a=p.data)||void 0===a?void 0:a.status)){var s,l,c;f(p.data.data);const e=null===p||void 0===p||null===(s=p.data)||void 0===s||null===(l=s.data)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.map((e=>{const t=new Date(null===e||void 0===e?void 0:e.start_date_time);let n=new Date(t.getTime()+(null!=(null===e||void 0===e?void 0:e.expected_time)?60*parseInt(null===e||void 0===e?void 0:e.expected_time)*60*1e3:0))-(new Date).getTime();n<0&&(n=0);const i=Math.floor(n/36e5),r=Math.floor(n%36e5/6e4),a=Math.floor(n%6e4/1e3);"".concat(i,"h ").concat(r,"m ").concat(a,"s");return{id:null===e||void 0===e?void 0:e.guid,caseId:null===e||void 0===e?void 0:e.case_id,status:null===e||void 0===e?void 0:e.status,name:null===e||void 0===e?void 0:e.name,gender:null===e||void 0===e?void 0:e.gender,created:"".concat(Hh()(null===e||void 0===e?void 0:e.created_at).format("ddd, MMM DD YYYY")," :  ").concat(Hh()(null===e||void 0===e?void 0:e.created_at).format("HH:mm:ss"))}}));o(e)}else{var d,h;"Unauthenticated."==(null===p||void 0===p||null===(d=p.data)||void 0===d?void 0:d.message)&&i("/login"),ir.error(null===p||void 0===p||null===(h=p.data)||void 0===h?void 0:h.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}}catch(v){var p,m;ir.error(null===v||void 0===v||null===(p=v.result)||void 0===p||null===(m=p.data)||void 0===m?void 0:m.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{u(!1)}};(0,r.useEffect)((()=>{A(1,m,T,g)}),[m,T,g]);const k=[{name:"Case Id",selector:e=>e.caseId,sortable:!0},{name:"Case Status",selector:e=>(0,hr.jsx)("span",{className:"case-status-tag",children:"1"==(null===e||void 0===e?void 0:e.status)?"New Case":"2"==(null===e||void 0===e?void 0:e.status)?"In Planning":"3"==(null===e||void 0===e?void 0:e.status)?"Ready for QA":"4"==(null===e||void 0===e?void 0:e.status)?"Need More Info":"5"==(null===e||void 0===e?void 0:e.status)?"Case updated by ortho":"6"==(null===e||void 0===e?void 0:e.status)?"Rejected By QA":"7"==(null===e||void 0===e?void 0:e.status)?"Pending Ortho Check":"8"==(null===e||void 0===e?void 0:e.status)?"Need Modifications":"9"==(null===e||void 0===e?void 0:e.status)?"Pending Step Files":"10"==(null===e||void 0===e?void 0:e.status)?"Pending Container files":"11"==(null===e||void 0===e?void 0:e.status)?"Stl files ready":"12"==(null===e||void 0===e?void 0:e.status)?"Container files ready":"13"==(null===e||void 0===e?void 0:e.status)?"Need Stl File Modifications":"14"==(null===e||void 0===e?void 0:e.status)?"Need Container File Modifications":"15"==(null===e||void 0===e?void 0:e.status)?"Pending direct printing files":"16"==(null===e||void 0===e?void 0:e.status)?"Direct printing files ready":"17"==(null===e||void 0===e?void 0:e.status)?"Need direct printing files Modifications":"18"==(null===e||void 0===e?void 0:e.status)?"Case completed":""}),sortable:!0},{name:"Patient Name",selector:e=>e.name,sortable:!0},{name:"Case Created",selector:e=>e.created,sortable:!0},{name:"View History",cell:e=>(0,hr.jsx)("div",{className:"icons__parent",children:(0,hr.jsx)("a",{title:"View Case",className:"button-icon",target:"_blank",href:"/history-detail/".concat(e.id),children:(0,hr.jsx)(SO,{})})}),ignoreRowClick:!0,allowOverflow:!0,button:!0}];return(0,hr.jsxs)("div",{className:"users-wrapper",children:[c&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)(dr,{}),(0,hr.jsx)("div",{className:"search-filer-wrapper",children:(0,hr.jsxs)("div",{className:"row",children:[(0,hr.jsxs)("div",{className:"col-12 col-md-6 col-lg-3 mb-3",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Case id"}),(0,hr.jsx)("input",{className:"input",type:"text",placeholder:"Search case by case id",value:m,onChange:e=>v(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 col-lg-3 mb-3",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Patient name"}),(0,hr.jsx)("input",{className:"input",type:"text",placeholder:"Search  by patien name",value:g,onChange:e=>y(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 col-lg-3 mb-3",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Case status"}),(0,hr.jsxs)("select",{value:T,onChange:e=>N(e.target.value),className:"input",children:[(0,hr.jsx)("option",{value:"",children:"Select "}),(0,hr.jsx)("option",{value:"1",children:"New Case"}),(0,hr.jsx)("option",{value:"2",children:"In Planning"}),(0,hr.jsx)("option",{value:"3",children:"Ready for QA"}),(0,hr.jsx)("option",{value:"4",children:"Need More Info"}),(0,hr.jsx)("option",{value:"5",children:"Case updated by ortho"}),(0,hr.jsx)("option",{value:"6",children:"Rejected By QA"}),(0,hr.jsx)("option",{value:"7",children:"Pending Ortho Check"}),(0,hr.jsx)("option",{value:"8",children:"Need Modifications"}),(0,hr.jsx)("option",{value:"9",children:"Pending Step Files"}),(0,hr.jsx)("option",{value:"10",children:"Pending Container files"}),(0,hr.jsx)("option",{value:"11",children:"Stl files ready"}),(0,hr.jsx)("option",{value:"12",children:"Container files ready"}),(0,hr.jsx)("option",{value:"13",children:"Need Stl File Modifications"}),(0,hr.jsx)("option",{value:"14",children:"Need Container File Modifications"}),(0,hr.jsx)("option",{value:"15",children:"Pending direct printing files"}),(0,hr.jsx)("option",{value:"16",children:"Direct printing files ready"}),(0,hr.jsx)("option",{value:"17",children:"Need direct printing files Modifications"}),(0,hr.jsx)("option",{value:"18",children:"Case completed"})]})]})]})}),(0,hr.jsx)("div",{className:"d-flex my-3",children:(0,hr.jsx)("div",{className:"main-title mb-0",children:"Case History"})}),(0,hr.jsx)(EO.Ay,{columns:k,data:a}),(0,hr.jsx)(TO.d,{changePage:A,data:p})]})},Ej=e=>{var t;let{caseId:n}=e;const[i,a]=(0,r.useState)({}),{currentUser:o}=(0,r.useContext)(pr),s=(null===o||void 0===o||null===(t=o.roles[0])||void 0===t||t.name,null===o||void 0===o?void 0:o.permissions),[l,c]=(0,r.useState)("plans"),u=tt(),[d,h]=(0,r.useState)(!1),[p,f]=(0,r.useState)([]),[m,v]=(0,r.useState)([]),[g,y]=(0,r.useState)(""),[b,x]=(0,r.useState)({}),[_,w]=(0,r.useState)([]),[S,M]=(0,r.useState)([{ipr_chart:null,simulation_link_url:"",text_notes:""}]),E=async e=>{try{var t;const c=await Ah.getCaseDetail(e);if(200==(null===c||void 0===c||null===(t=c.data)||void 0===t?void 0:t.status)){var n,i,r,o;a(null===c||void 0===c||null===(n=c.data)||void 0===n?void 0:n.data);const e=null===c||void 0===c||null===(i=c.data)||void 0===i||null===(r=i.data)||void 0===r||null===(o=r.case_plans)||void 0===o?void 0:o.map(((e,t)=>({id:null===e||void 0===e?void 0:e.guid,planId:t+1,caseId:null===e||void 0===e?void 0:e.p_case_id,iprChart:null===e||void 0===e?void 0:e.ipr_chart,textNotes:null===e||void 0===e?void 0:e.text_notes,simulationLink:null===e||void 0===e?void 0:e.simulation_link_url})));v(e)}else{var s,l;"Unauthenticated."==(null===c||void 0===c||null===(s=c.data)||void 0===s?void 0:s.message)&&u("/login"),ir.error(null===c||void 0===c||null===(l=c.data)||void 0===l?void 0:l.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}}catch(p){var c,d;ir.error(null===p||void 0===p||null===(c=p.result)||void 0===c||null===(d=c.data)||void 0===d?void 0:d.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{h(!1)}},C=async e=>{try{var t;const h=await Ah.getCasePlan(e);var n,i,r,a,o,s,l,c,d;if(200==(null===h||void 0===h||null===(t=h.data)||void 0===t?void 0:t.status))w(null===h||void 0===h||null===(n=h.data)||void 0===n?void 0:n.data),M([{ipr_chart:null===h||void 0===h||null===(i=h.data)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.ipr_chart,simulation_link_url:null===h||void 0===h||null===(a=h.data)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.simulation_link_url,text_notes:null===h||void 0===h||null===(s=h.data)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.text_notes}]);else"Unauthenticated."==(null===h||void 0===h||null===(c=h.data)||void 0===c?void 0:c.message)&&u("/login"),ir.error(null===h||void 0===h||null===(d=h.data)||void 0===d?void 0:d.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(m){var p,f;ir.error(null===m||void 0===m||null===(p=m.result)||void 0===p||null===(f=p.data)||void 0===f?void 0:f.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{h(!1)}};(0,r.useEffect)((()=>{C(g)}),[g]);const T=(e,t,n)=>{const i=[...S];i[e][t]=n,M(i)},N=(e,t,n)=>{const i=[...S];i[e][t]=n,M(i)},A=(e,t)=>{const n=[...S];n[e].text_notes=t,M(n)};(0,r.useEffect)((()=>{E(n)}),[n]);const k=[{name:"Case plans",selector:e=>e.planId,sortable:!0},{name:"Case Id",selector:e=>e.caseId,sortable:!0},{name:"Ipr Chart",selector:e=>e.iprChart,sortable:!0},{name:"Smulation Link",selector:e=>(0,hr.jsx)("a",{className:"custom-link",target:"_blank",href:e.simulationLink,children:e.simulationLink}),sortable:!0},{name:"Action",cell:e=>(0,hr.jsxs)(hr.Fragment,{children:[(null===s||void 0===s?void 0:s.includes("case-plans-update"))&&(0,hr.jsx)("div",{className:"button-icon",onClick:()=>(e=>{y(e.id),M([{ipr_chart:e.iprChart,simulation_link_url:e.simulationLink,text_notes:e.textNotes}]),c("edit")})(e),children:(0,hr.jsx)(AO,{})}),(null===s||void 0===s?void 0:s.includes("case-plans-detail"))&&(0,hr.jsx)("div",{className:"button-icon",onClick:()=>(e=>{y(e),c("view"),C(e)})(e.id),children:(0,hr.jsx)(SO,{})}),(null===s||void 0===s?void 0:s.includes("case-plans-delete"))&&(0,hr.jsx)("div",{className:"button-icon",onClick:()=>O(e.id),children:(0,hr.jsx)(Gr,{})})]}),ignoreRowClick:!0,allowOverflow:!0,button:!0}],O=async e=>{if(window.confirm("Are you sure you want to delete this plan?"))try{var t;h(!0);const a=await Ah.deleteCasePlan(e);var i,r;if(200==(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.status))ir.success(null===a||void 0===a||null===(i=a.data)||void 0===i?void 0:i.message,{autoClose:1e3,pauseOnHover:!0,draggable:!0}),c("plans"),E(n);else ir.error(null===a||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(s){var a,o;ir.error(null===s||void 0===s||null===(a=s.result)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{h(!1)}};return(0,hr.jsxs)("div",{className:"users-wrapper patinet-info mb-4",children:[d&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)(dr,{}),(0,hr.jsxs)("div",{className:"user-details",children:[(0,hr.jsxs)("div",{className:"tabs",children:[(null===s||void 0===s?void 0:s.includes("case-plans-list"))&&(0,hr.jsx)("div",{className:"tab",children:(0,hr.jsx)("button",{className:"button ".concat("plans"==l?"active":""),onClick:()=>c("plans"),children:"All plans"})}),(null===s||void 0===s?void 0:s.includes("case-plans-store"))&&(0,hr.jsx)("div",{className:"tab",children:(0,hr.jsx)("button",{className:"button ".concat("create"==l?"active":""),onClick:()=>c("create"),children:"Create Plan"})})]}),"plans"==l&&(null===s||void 0===s?void 0:s.includes("case-plans-list"))&&(0,hr.jsx)("div",{children:(0,hr.jsx)("div",{children:(0,hr.jsx)(EO.Ay,{columns:k,data:m,pagination:!0,paginationPerPage:10,paginationRowsPerPageOptions:[5,10,20]})})}),"create"==l&&(null===s||void 0===s?void 0:s.includes("case-plans-store"))&&(0,hr.jsxs)("div",{children:[null===S||void 0===S?void 0:S.map(((e,t)=>(0,hr.jsxs)("div",{className:"single-simulation",children:[S.length>1&&(0,hr.jsx)("div",{className:"close",onClick:()=>(e=>{const t=S.filter(((t,n)=>n!==e));M(t)})(t),children:(0,hr.jsx)(kr,{})}),(0,hr.jsx)("input",{type:"file",className:"input",onChange:e=>N(t,"ipr_chart",e.target.files[0])}),(0,hr.jsx)("input",{type:"text",className:"input",value:e.simulation_link_url,onChange:e=>T(t,"simulation_link_url",e.target.value),placeholder:"Simulation Link URL"}),(0,hr.jsx)(YO(),{value:e.text_notes,onChange:(e,n,i,r)=>A(t,e),placeholder:"Text Notes"})]},t))),(0,hr.jsx)("div",{className:"mb-4",children:(null===S||void 0===S?void 0:S.length)>0&&(0,hr.jsx)("button",{className:"button",onClick:async()=>{const e=null===S||void 0===S?void 0:S.map((e=>({text_notes:e.text_notes,simulation_link_url:e.simulation_link_url})));try{var t,i=new FormData;if(!n)return void ir.error("Case not found",{autoClose:2e3,pauseOnHover:!0,draggable:!0});h(!0),i.append("p_case_id",n),i.append("case_plans",JSON.stringify(e)),S&&(null===S||void 0===S||S.map(((e,t)=>i.append("ipr_chart_files[".concat(t,"]"),e.ipr_chart))));const o=await Ah.createCasePlan(i);var r,a;if(200===(null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.status))ir.success(null===o||void 0===o||null===(r=o.data)||void 0===r?void 0:r.message,{autoClose:1e3,pauseOnHover:!0,draggable:!0}),M([{ipr_chart:null,simulation_link_url:"",text_notes:""}]),c("plans"),E(n);else ir.error(null===o||void 0===o||null===(a=o.data)||void 0===a?void 0:a.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(u){var o,s,l;ir.error((null===u||void 0===u||null===(o=u.response)||void 0===o||null===(s=o.data)||void 0===s||null===(l=s.errors)||void 0===l?void 0:l[0])||"An error occurred",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{h(!1)}},children:"Submit Plan"})}),(0,hr.jsx)("div",{children:(0,hr.jsx)("button",{className:"button",onClick:()=>{M([...S,{ipr_chart:"",simulation_link_url:"",text_notes:""}])},children:"Add More Plan"})})]}),"edit"==l&&(null===s||void 0===s?void 0:s.includes("case-plans-update"))&&(0,hr.jsxs)("div",{children:[null===S||void 0===S?void 0:S.map(((e,t)=>(0,hr.jsxs)("div",{className:"single-simulation",children:[(0,hr.jsx)("input",{type:"file",className:"input",onChange:e=>N(t,"ipr_chart",e.target.files[0])}),(0,hr.jsx)("input",{type:"text",className:"input",value:e.simulation_link_url,onChange:e=>T(t,"simulation_link_url",e.target.value),placeholder:"Simulation Link URL"}),(0,hr.jsx)(YO(),{value:e.text_notes,onChange:(e,n,i,r)=>A(t,e),placeholder:"Text Notes"})]},t))),(0,hr.jsx)("div",{className:"mb-4",children:(null===S||void 0===S?void 0:S.length)>0&&(0,hr.jsx)("button",{className:"button",onClick:async()=>{null===S||void 0===S||S.map((e=>({text_notes:e.text_notes,simulation_link_url:e.simulation_link_url})));try{var e,t,i,r,a=new FormData;if(!n)return void ir.error("Case not found",{autoClose:2e3,pauseOnHover:!0,draggable:!0});h(!0),a.append("p_case_id",n),a.append("ipr_chart",null===(e=S[0])||void 0===e?void 0:e.ipr_chart),a.append("simulation_link_url",null===(t=S[0])||void 0===t?void 0:t.simulation_link_url),a.append("text_notes",null===(i=S[0])||void 0===i?void 0:i.text_notes);const l=await Ah.updateCasePlan(g,a);var o,s;if(200===(null===l||void 0===l||null===(r=l.data)||void 0===r?void 0:r.status))ir.success(null===l||void 0===l||null===(o=l.data)||void 0===o?void 0:o.message,{autoClose:1e3,pauseOnHover:!0,draggable:!0}),M([{ipr_chart:null,simulation_link_url:"",text_notes:""}]),c("plans"),E(n);else ir.error(null===l||void 0===l||null===(s=l.data)||void 0===s?void 0:s.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(p){var l,u,d;ir.error((null===p||void 0===p||null===(l=p.response)||void 0===l||null===(u=l.data)||void 0===u||null===(d=u.errors)||void 0===d?void 0:d[0])||"An error occurred",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{h(!1)}},children:"Update Plan"})})]}),"view"==l&&(0,hr.jsxs)("div",{children:[(0,hr.jsxs)("div",{className:"view-box",children:[(0,hr.jsxs)("div",{className:"title mb-3",children:["Simulation link",(0,hr.jsx)("span",{children:(0,hr.jsx)("a",{href:null===_||void 0===_?void 0:_.simulation_link_url,target:"_blank",children:null===_||void 0===_?void 0:_.simulation_link_url})})]}),(0,hr.jsx)("div",{className:"title mb-2",children:"Text notes :"}),(0,hr.jsx)("div",{className:"custom-text",dangerouslySetInnerHTML:{__html:null===_||void 0===_?void 0:_.text_notes}})]}),(0,hr.jsx)("iframe",{src:"".concat("http://localhost:8000","/uploads/pdf/").concat(null===_||void 0===_?void 0:_.ipr_chart),width:"100%",height:"700px"})]})]})]})},Cj=e=>e.split("_").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" "),Tj=()=>{var e,t,n,i;const a=tt(),[o,s]=(0,r.useState)("patient-info"),[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)([]),[h,p]=(0,r.useState)(!1),[f,m]=(0,r.useState)([]),{id:v}=it(),[g,y]=(0,r.useState)(0),[b,x]=(0,r.useState)(""),[_,w]=(0,r.useState)([]),[S,M]=(0,r.useState)(!1),[E,C]=(0,r.useState)({}),[T,N]=(0,r.useState)(""),[A,k]=(0,r.useState)(""),[O,P]=(0,r.useState)(""),[R,j]=(0,r.useState)(""),[L,I]=(0,r.useState)(""),[D,F]=(0,r.useState)(""),{currentUser:U}=(0,r.useContext)(pr),z=(null===U||void 0===U||null===(e=U.roles[0])||void 0===e||e.name,null===U||void 0===U||U.permissions,"http://localhost:8000");(0,r.useEffect)((()=>{(async e=>{try{var t;const e=await KO.getPlanners();var n,i;200==(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.status)?w(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data):ir.error(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(o){var r,a;ir.error(null===o||void 0===o||null===(r=o.result)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{M(!1)}})()}),[]);(0,r.useEffect)((()=>{(async e=>{try{var t;const M=await Ah.getCaseDetail(e);var n,i,r,o,s,l,c,u,h,p,f,v,g,y,b,x,_,w,S;200==(null===M||void 0===M||null===(t=M.data)||void 0===t?void 0:t.status)?(C(null===M||void 0===M||null===(n=M.data)||void 0===n?void 0:n.data),j(null===M||void 0===M||null===(i=M.data)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.guid),I(null===M||void 0===M||null===(o=M.data)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.id),k("".concat(z,"/uploads/stl/").concat(null===M||void 0===M||null===(l=M.data)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.stl_upper_file)),N("".concat(z,"/uploads/stl/").concat(null===M||void 0===M||null===(u=M.data)||void 0===u||null===(h=u.data)||void 0===h?void 0:h.stl_lower_file)),P("".concat(z,"/uploads/stl/").concat(null===M||void 0===M||null===(p=M.data)||void 0===p||null===(f=p.data)||void 0===f?void 0:f.stl_byte_scan_file)),d(null===M||void 0===M||null===(v=M.data)||void 0===v||null===(g=v.data)||void 0===g||null===(y=g.images)||void 0===y?void 0:y.map((e=>({src:"".concat(z,"/uploads/images/").concat(null===e||void 0===e?void 0:e.file_name)})))),m(null===M||void 0===M||null===(b=M.data)||void 0===b||null===(x=b.data)||void 0===x||null===(_=x.xrays)||void 0===_?void 0:_.map((e=>({src:"".concat(z,"/uploads/xrays/").concat(null===e||void 0===e?void 0:e.file_name)}))))):("Unauthenticated."==(null===M||void 0===M||null===(w=M.data)||void 0===w?void 0:w.message)&&a("/login"),ir.error(null===M||void 0===M||null===(S=M.data)||void 0===S?void 0:S.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0}))}catch(A){var E,T;ir.error(null===A||void 0===A||null===(E=A.result)||void 0===E||null===(T=E.data)||void 0===T?void 0:T.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{M(!1)}})(v)}),[v]);const B=new Date(new Date(null===E||void 0===E?void 0:E.start_date_time).getTime()+3600*parseInt(null===E||void 0===E?void 0:E.expected_time)*1e3).getTime(),H=()=>{const e=(new Date).getTime();return Math.max((B-e)/1e3,0)},[V,W]=(0,r.useState)(H());(0,r.useEffect)((()=>{const e=()=>{W(H())};e();const t=setInterval(e,1e3);return()=>clearInterval(t)}),[B]);return(0,hr.jsxs)("div",{className:"users-wrapper",children:[S&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)(dr,{}),(0,hr.jsx)("div",{className:"user-details",children:(0,hr.jsxs)("div",{className:"patinet-info",children:[(0,hr.jsxs)("div",{className:"case-id-main",children:[(0,hr.jsx)(Br,{})," ",(0,hr.jsx)("span",{className:"case",children:"Case"})," ",(0,hr.jsxs)("span",{children:[" ",null===E||void 0===E?void 0:E.case_id]})]}),(0,hr.jsxs)("div",{children:[(0,hr.jsx)("div",{className:"title",children:"Patient info"}),(0,hr.jsxs)("div",{className:"row mb-4",children:[(0,hr.jsx)("div",{className:"col-12 col-md-6 col-lg-4 mb-3",children:(0,hr.jsxs)("div",{className:"item_flex",children:[(0,hr.jsx)(Br,{})," ",(0,hr.jsx)("span",{children:null===E||void 0===E?void 0:E.case_id})]})}),(0,hr.jsx)("div",{className:"col-12 col-md-6 col-lg-4 mb-3",children:(0,hr.jsxs)("div",{className:"item_flex",children:[(0,hr.jsx)(LO,{})," ",(0,hr.jsx)("span",{children:null===E||void 0===E?void 0:E.name})]})}),(0,hr.jsx)("div",{className:"col-12 col-md-6 col-lg-4 mb-3",children:(0,hr.jsxs)("div",{className:"item_flex",children:[(0,hr.jsx)($r,{})," ",(0,hr.jsx)("span",{children:null===E||void 0===E?void 0:E.email})]})}),(0,hr.jsx)("div",{className:"col-12 col-md-6 col-lg-4 mb-3",children:(0,hr.jsxs)("div",{className:"item_flex",children:[(0,hr.jsx)(QO,{})," ",(0,hr.jsx)("span",{children:null===E||void 0===E?void 0:E.gender})]})}),(0,hr.jsx)("div",{className:"col-12 col-md-6 col-lg-4 mb-3",children:(0,hr.jsxs)("div",{className:"item_flex",children:[(0,hr.jsx)(Xr,{})," ",(0,hr.jsxs)("span",{children:[null===E||void 0===E?void 0:E.age," years old"]})]})})]})]}),(0,hr.jsxs)("div",{className:"row mb-4",children:[(0,hr.jsx)("div",{className:"col-12 col-md-6 col-lg-4 mb-3",children:(0,hr.jsxs)("div",{className:"item_flex",children:[(0,hr.jsx)("strong",{children:"Case version "}),": ",(0,hr.jsx)("span",{children:null===E||void 0===E?void 0:E.case_version})]})}),(0,hr.jsx)("div",{className:"col-12 col-md-6 col-lg-4 mb-3",children:(0,hr.jsxs)("div",{className:"item_flex",children:[(0,hr.jsx)("strong",{children:"Scan version "}),": ",(0,hr.jsx)("span",{children:null===E||void 0===E?void 0:E.scan_version})]})}),(0,hr.jsx)("div",{className:"col-12 col-md-6 col-lg-4 mb-3",children:(0,hr.jsxs)("div",{className:"item_flex",children:[(0,hr.jsx)("strong",{children:"Expected time "}),": ",(0,hr.jsx)("span",{children:"8"==(null===E||void 0===E?void 0:E.expected_time)?"Express setup delivery: 8 hrs":"24"==(null===E||void 0===E?void 0:E.expected_time)?"Super Setup Delivery: 24 hrs":"48"==(null===E||void 0===E?void 0:E.expected_time)?"Normal Setup Delivery: 48 hrs":""})]})}),(0,hr.jsx)("div",{className:"col-12 col-md-6 col-lg-4 mb-3",children:(0,hr.jsxs)("div",{className:"item_flex",children:[(0,hr.jsx)("strong",{children:"Tooth label format "}),": ",(0,hr.jsx)("span",{children:null===E||void 0===E?void 0:E.tooth_label_format})]})}),(null===E||void 0===E?void 0:E.patient_location)&&(0,hr.jsx)("div",{className:"col-12 col-md-6 col-lg-4 mb-3",children:(0,hr.jsxs)("div",{className:"item_flex",children:[(0,hr.jsx)("strong",{children:"Patient location: "})," ",(0,hr.jsx)("span",{children:null===E||void 0===E?void 0:E.patient_location})]})}),(null===E||void 0===E?void 0:E.case_type)&&(0,hr.jsx)("div",{className:"col-12 col-md-6 col-lg-4 mb-3",children:(0,hr.jsxs)("div",{className:"item_flex",children:[(0,hr.jsx)("strong",{children:"Case type: "})," ",(0,hr.jsx)("span",{children:null===E||void 0===E?void 0:E.case_type})]})}),(null===E||void 0===E?void 0:E.arch)&&(0,hr.jsx)("div",{className:"col-12 col-md-6 col-lg-4 mb-3",children:(0,hr.jsxs)("div",{className:"item_flex",children:[(0,hr.jsx)("strong",{children:"Arch: "})," ",(0,hr.jsx)("span",{children:null===E||void 0===E?void 0:E.arch})]})}),(null===E||void 0===E?void 0:E.patient_location)&&(0,hr.jsx)("div",{className:"col-12 col-md-6 col-lg-4 mb-3",children:(0,hr.jsxs)("div",{className:"item_flex",children:[(0,hr.jsx)("strong",{children:"Patient location: "})," ",(0,hr.jsx)("span",{children:null===E||void 0===E?void 0:E.patient_location})]})}),(null===E||void 0===E?void 0:E.ipr)&&(0,hr.jsx)("div",{className:"col-12 col-md-6 col-lg-4 mb-3",children:(0,hr.jsxs)("div",{className:"item_flex",children:[(0,hr.jsx)("strong",{children:"Extraction: "})," ",(0,hr.jsx)("span",{children:null===E||void 0===E?void 0:E.ipr})]})}),(null===E||void 0===E?void 0:E.extraction)&&(0,hr.jsx)("div",{className:"col-12 col-md-6 col-lg-4 mb-3",children:(0,hr.jsxs)("div",{className:"item_flex",children:[(0,hr.jsx)("strong",{children:"Extraction: "})," ",(0,hr.jsx)("span",{children:null===E||void 0===E?void 0:E.extraction})]})}),(null===E||void 0===E?void 0:E.attachments)&&(0,hr.jsx)("div",{className:"col-12 col-md-6 col-lg-4 mb-3",children:(0,hr.jsxs)("div",{className:"item_flex",children:[(0,hr.jsx)("strong",{children:"Attachments: "})," ",(0,hr.jsx)("span",{children:null===E||void 0===E?void 0:E.attachments})]})})]}),(0,hr.jsxs)("div",{children:[(0,hr.jsx)("div",{className:"title",children:"Cheif complaint"}),(0,hr.jsx)("div",{className:"custom-text",dangerouslySetInnerHTML:{__html:null===E||void 0===E?void 0:E.chief_complaint}}),(0,hr.jsx)("div",{className:"title",children:"Treatment Plan"}),(0,hr.jsx)("div",{className:"custom-text",dangerouslySetInnerHTML:{__html:null===E||void 0===E?void 0:E.treatment_plan}})]}),(0,hr.jsxs)("div",{children:[(0,hr.jsx)(hj,{open:l,close:()=>c(!1),slides:u}),(0,hr.jsx)("div",{className:"title",children:"Patient Images"}),(0,hr.jsx)("div",{className:"files-wrapper mb-4",children:null===E||void 0===E||null===(t=E.images)||void 0===t?void 0:t.map((e=>(0,hr.jsx)("div",{className:"image",children:(0,hr.jsx)("img",{src:"".concat(z,"/uploads/images/").concat(null===e||void 0===e?void 0:e.file_name)})},null===e||void 0===e?void 0:e.id)))})]}),(0,hr.jsxs)("div",{children:[(0,hr.jsx)(hj,{open:h,close:()=>p(!1),slides:f}),(0,hr.jsx)("div",{className:"title",children:"X-Ray Files"}),(0,hr.jsx)("div",{className:"files-wrapper mb-4",children:null===E||void 0===E||null===(n=E.xrays)||void 0===n?void 0:n.map((e=>(0,hr.jsx)("div",{className:"image",children:(0,hr.jsx)("img",{src:"".concat(z,"/uploads/xrays/").concat(null===e||void 0===e?void 0:e.file_name)})},null===e||void 0===e?void 0:e.id)))})]}),(0,hr.jsx)("div",{className:"mb-4",children:(0,hr.jsxs)("div",{className:"row",children:[(0,hr.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[(0,hr.jsx)("div",{className:"title mb-3",children:"Stl Upper File"}),A&&(0,hr.jsx)("div",{className:"stl-main-viewr mb-5",children:(0,hr.jsx)("img",{src:mj,alt:""})})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[(0,hr.jsx)("div",{className:"title mb-3",children:"Stl Lower File"}),T&&(0,hr.jsx)("div",{className:"stl-main-viewr mb-5",children:(0,hr.jsx)("img",{src:fj,alt:""})})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[(0,hr.jsx)("div",{className:"title mb-3",children:"Stl BIte Scan File"}),O&&(0,hr.jsx)("div",{className:"stl-main-viewr mb-5",children:(0,hr.jsx)("img",{src:vj,alt:""})})]})]})}),(0,hr.jsx)(Ej,{caseId:R}),(0,hr.jsx)("div",{className:"title",children:"Case history"}),(0,hr.jsx)("div",{className:"history-wrapper",children:null===E||void 0===E||null===(i=E.case_status_users)||void 0===i?void 0:i.map((e=>{var t,n,i,r,a,o,s,l,c,u,d,h,p,f,m,v,g,y,b,x,_,w,S,M,C,T,N,A,k,O,P,R,j,L,I,D,F,B,H,V,W,G,q,Y,X,Z,K,J,$,Q,ee,te,ne,ie,re,ae,oe,se,le,ce,ue,de,he,pe,fe,me,ve,ge,ye,be,xe,_e,we,Se,Me,Ee,Ce,Te,Ne,Ae,ke,Oe,Pe,Re,je,Le,Ie,De,Fe,Ue,ze,Be,He,Ve,We,Ge,qe,Ye,Xe,Ze,Ke,Je,$e;return"client"==(null===U||void 0===U?void 0:U.role_name)||"sub_client"==(null===U||void 0===U?void 0:U.role_name)?(0,hr.jsxs)("div",{className:"single-case",children:[2!=(null===e||void 0===e?void 0:e.case_status)&&6!=(null===e||void 0===e?void 0:e.case_status)&&3!=(null===e||void 0===e?void 0:e.case_status)&&(0,hr.jsx)("div",{className:"image",children:(0,hr.jsx)(aa,{})}),2!=(null===e||void 0===e?void 0:e.case_status)&&6!=(null===e||void 0===e?void 0:e.case_status)&&3!=(null===e||void 0===e?void 0:e.case_status)&&(0,hr.jsxs)("div",{children:["  ",(0,hr.jsxs)("div",{className:"header",children:[(0,hr.jsx)("div",{className:"tit",children:"1"==(null===e||void 0===e?void 0:e.case_status)?"New Case":"2"==(null===e||void 0===e?void 0:e.case_status)?"In Planning":"3"==(null===e||void 0===e?void 0:e.case_status)?"Ready for QA":"4"==(null===e||void 0===e?void 0:e.case_status)?"Need More Info":"5"==(null===e||void 0===e?void 0:e.case_status)?"Case updated by ortho":"6"==(null===e||void 0===e?void 0:e.case_status)?"Rejected By QA":"7"==(null===e||void 0===e?void 0:e.case_status)?"Pending Ortho Check":"8"==(null===e||void 0===e?void 0:e.case_status)?"Need Modifications":"9"==(null===e||void 0===e?void 0:e.case_status)?"Pending Step Files":"10"==(null===e||void 0===e?void 0:e.case_status)?"Pending Container files":"11"==(null===e||void 0===e?void 0:e.case_status)?"Stl files ready":"12"==(null===e||void 0===e?void 0:e.case_status)?"Container files ready":"13"==(null===e||void 0===e?void 0:e.case_status)?"Need Stl File Modifications":"14"==(null===e||void 0===e?void 0:e.case_status)?"Need Container File Modifications":"15"==(null===e||void 0===e?void 0:e.case_status)?"Pending direct printing files":"16"==(null===e||void 0===e?void 0:e.case_status)?"Direct printing files ready":"17"==(null===e||void 0===e?void 0:e.case_status)?"Need direct printing files Modifications":"18"==(null===e||void 0===e?void 0:e.case_status)?"Case completed":""}),(0,hr.jsxs)("div",{className:"sub_header",children:[(0,hr.jsxs)("div",{className:"inner",children:[(0,hr.jsx)("span",{className:"label",children:"Name:"}),(0,hr.jsxs)("span",{className:"value",children:["(",null===(t=e.user_detail)||void 0===t?void 0:t.first_name," ",null===(n=e.user_detail)||void 0===n?void 0:n.first_name,")"]})]}),(0,hr.jsxs)("div",{className:"inner",children:[(0,hr.jsx)("span",{className:"label",children:"Role:"}),(0,hr.jsxs)("span",{className:"value",children:["(",Cj(null===(i=e.user_detail)||void 0===i?void 0:i.role_name),")"]})]})]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]})]}),(0,hr.jsx)("div",{className:"bodyy",children:(0,hr.jsxs)("div",{className:"profile mb-3",children:[2!=(null===e||void 0===e?void 0:e.case_status)&&6!=(null===e||void 0===e?void 0:e.case_status)&&3!=(null===e||void 0===e?void 0:e.case_status)&&(0,hr.jsx)("img",{src:"".concat(z,"/uploads/").concat(null===e||void 0===e||null===(r=e.user_detail)||void 0===r?void 0:r.profile_pic)}),(0,hr.jsx)("div",{className:"textt",children:"1"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:["Case is created by ",(0,hr.jsxs)("span",{className:"userr",children:[null===e||void 0===e||null===(a=e.user_detail)||void 0===a?void 0:a.first_name," ",null===e||void 0===e||null===(o=e.user_detail)||void 0===o?void 0:o.last_name," "]})]}):"4"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[" ",null===E||void 0===E||null===(s=E.planner)||void 0===s?void 0:s.first_name," ",null===E||void 0===E||null===(l=E.planner)||void 0===l?void 0:l.lastt_name," "]})," Holds case",null===e||void 0===e||null===(c=e.cases_status_users_comments)||void 0===c?void 0:c.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"5"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===E||void 0===E||null===(u=E.created_user)||void 0===u?void 0:u.first_name," ",null===E||void 0===E||null===(d=E.created_user)||void 0===d?void 0:d.last_name]})," Updated the case",null===e||void 0===e||null===(h=e.cases_status_users_comments)||void 0===h?void 0:h.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"7"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===E||void 0===E||null===(p=E.qa)||void 0===p?void 0:p.first_name," ",null===E||void 0===E||null===(f=E.qa)||void 0===f?void 0:f.last_name]})," Submitted case for ortho check",null===e||void 0===e||null===(m=e.cases_status_users_comments)||void 0===m?void 0:m.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"8"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===E||void 0===E||null===(v=E.created_user)||void 0===v?void 0:v.first_name," ",null===E||void 0===E||null===(g=E.created_user)||void 0===g?void 0:g.last_name]})," Asked modifications",null===e||void 0===e||null===(y=e.cases_status_users_comments)||void 0===y?void 0:y.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"9"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===E||void 0===E||null===(b=E.created_user)||void 0===b?void 0:b.first_name," ",null===E||void 0===E||null===(x=E.created_user)||void 0===x?void 0:x.last_name]})," Required stl files",null===e||void 0===e||null===(_=e.cases_status_users_comments)||void 0===_?void 0:_.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"10"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:["                    ",(0,hr.jsxs)("span",{className:"userr",children:[null===E||void 0===E||null===(w=E.created_user)||void 0===w?void 0:w.first_name," ",null===E||void 0===E||null===(S=E.created_user)||void 0===S?void 0:S.last_name]})," Required container files"]})," Required container files",null===e||void 0===e||null===(M=e.cases_status_users_comments)||void 0===M?void 0:M.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"11"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===E||void 0===E||null===(C=E.post_processing)||void 0===C?void 0:C.first_name," ",null===E||void 0===E||null===(T=E.post_processing)||void 0===T?void 0:T.last_name]})," uploaded stl files",null===e||void 0===e||null===(N=e.cases_status_users_comments)||void 0===N?void 0:N.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"12"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===E||void 0===E||null===(A=E.post_processing)||void 0===A?void 0:A.first_name," ",null===E||void 0===E||null===(k=E.post_processing)||void 0===k?void 0:k.last]})," uploaded container files",null===e||void 0===e||null===(O=e.cases_status_users_comments)||void 0===O?void 0:O.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"13"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===E||void 0===E||null===(P=E.created_user)||void 0===P?void 0:P.first_name," ",null===E||void 0===E||null===(R=E.created_user)||void 0===R?void 0:R.lastt_name]})," Need stl files modifications",null===e||void 0===e||null===(j=e.cases_status_users_comments)||void 0===j?void 0:j.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"14"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===E||void 0===E||null===(L=E.created_user)||void 0===L?void 0:L.first_name," ",null===E||void 0===E||null===(I=E.created_user)||void 0===I?void 0:I.lastt_name]})," Need container files modifications",null===e||void 0===e||null===(D=e.cases_status_users_comments)||void 0===D?void 0:D.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"15"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===E||void 0===E||null===(F=E.created_user)||void 0===F?void 0:F.first_name," ",null===E||void 0===E||null===(B=E.created_user)||void 0===B?void 0:B.lastt_name]})," Required direct printing files",null===e||void 0===e||null===(H=e.cases_status_users_comments)||void 0===H?void 0:H.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"16"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===E||void 0===E||null===(V=E.post_processing)||void 0===V?void 0:V.first_name," ",null===E||void 0===E||null===(W=E.post_processing)||void 0===W?void 0:W.last]})," Uploaded Direct Printing files",null===e||void 0===e||null===(G=e.cases_status_users_comments)||void 0===G?void 0:G.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"17"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===E||void 0===E||null===(q=E.created_user)||void 0===q?void 0:q.first_name," ",null===E||void 0===E||null===(Y=E.created_user)||void 0===Y?void 0:Y.lastt_name]})," Required Direct Printing files",null===e||void 0===e||null===(X=e.cases_status_users_comments)||void 0===X?void 0:X.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"18"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsx)("span",{className:"userr",children:null===E||void 0===E||null===(Z=E.created_user)||void 0===Z?void 0:Z.username})," Marked case as completed",null===e||void 0===e||null===(K=e.cases_status_users_comments)||void 0===K?void 0:K.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):""})]})})]}):(0,hr.jsxs)("div",{className:"single-case",children:[(0,hr.jsx)("div",{className:"image",children:(0,hr.jsx)(aa,{})}),(0,hr.jsxs)("div",{className:"header",children:[(0,hr.jsx)("div",{className:"tit",children:"1"==(null===e||void 0===e?void 0:e.case_status)?"New Case":"2"==(null===e||void 0===e?void 0:e.case_status)?"In Planning":"3"==(null===e||void 0===e?void 0:e.case_status)?"Ready for QA":"4"==(null===e||void 0===e?void 0:e.case_status)?"Need More Info":"5"==(null===e||void 0===e?void 0:e.case_status)?"Case updated by ortho":"6"==(null===e||void 0===e?void 0:e.case_status)?"Rejected By QA":"7"==(null===e||void 0===e?void 0:e.case_status)?"Pending Ortho Check":"8"==(null===e||void 0===e?void 0:e.case_status)?"Need Modifications":"9"==(null===e||void 0===e?void 0:e.case_status)?"Pending Step Files":"10"==(null===e||void 0===e?void 0:e.case_status)?"Pending Container files":"11"==(null===e||void 0===e?void 0:e.case_status)?"Stl files ready":"12"==(null===e||void 0===e?void 0:e.case_status)?"Container files ready":"13"==(null===e||void 0===e?void 0:e.case_status)?"Need Stl File Modifications":"14"==(null===e||void 0===e?void 0:e.case_status)?"Need Container File Modifications":"15"==(null===e||void 0===e?void 0:e.case_status)?"Pending direct printing files":"16"==(null===e||void 0===e?void 0:e.case_status)?"Direct printing files ready":"17"==(null===e||void 0===e?void 0:e.case_status)?"Need direct printing files Modifications":"18"==(null===e||void 0===e?void 0:e.case_status)?"Case completed":""}),(0,hr.jsxs)("div",{className:"sub_header",children:[(0,hr.jsxs)("div",{className:"inner",children:[(0,hr.jsx)("span",{className:"label",children:"Name:"}),(0,hr.jsxs)("span",{className:"value",children:["(",null===(J=e.user_detail)||void 0===J?void 0:J.first_name," ",null===($=e.user_detail)||void 0===$?void 0:$.first_name,")"]})]}),(0,hr.jsxs)("div",{className:"inner",children:[(0,hr.jsx)("span",{className:"label",children:"Role:"}),(0,hr.jsxs)("span",{className:"value",children:["(",Cj(null===(Q=e.user_detail)||void 0===Q?void 0:Q.role_name),")"]})]})]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"bodyy",children:(0,hr.jsxs)("div",{className:"profile mb-3",children:[null!==e&&void 0!==e&&e.user_detail?(0,hr.jsx)("img",{src:"".concat(z,"/uploads/").concat(null===e||void 0===e||null===(ee=e.user_detail)||void 0===ee?void 0:ee.profile_pic)}):(0,hr.jsx)("img",{src:$O}),(0,hr.jsx)("div",{className:"textt",children:"1"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:["Case is created by ",(0,hr.jsxs)("span",{className:"userr",children:[null===e||void 0===e||null===(te=e.user_detail)||void 0===te?void 0:te.first_name," ",null===e||void 0===e||null===(ne=e.user_detail)||void 0===ne?void 0:ne.last_name," "]})]}):"2"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:["Case is assigned to ",(0,hr.jsxs)("span",{className:"userr",children:[null===E||void 0===E||null===(ie=E.planner)||void 0===ie?void 0:ie.first_name," ",null===E||void 0===E||null===(re=E.planner)||void 0===re?void 0:re.last_name]}),null===e||void 0===e||null===(ae=e.cases_status_users_comments)||void 0===ae?void 0:ae.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"3"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:["Case is assigned to ",(0,hr.jsxs)("span",{className:"userr",children:[null===E||void 0===E||null===(oe=E.qa)||void 0===oe?void 0:oe.first_name," ",null===E||void 0===E||null===(se=E.qa)||void 0===se?void 0:se.last_name]})," for QC",null===e||void 0===e||null===(le=e.cases_status_users_comments)||void 0===le?void 0:le.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"4"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[" ",null===E||void 0===E||null===(ce=E.planner)||void 0===ce?void 0:ce.first_name," ",null===E||void 0===E||null===(ue=E.planner)||void 0===ue?void 0:ue.last_name," "]})," Holds case",null===e||void 0===e||null===(de=e.cases_status_users_comments)||void 0===de?void 0:de.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"5"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===E||void 0===E||null===(he=E.created_user)||void 0===he?void 0:he.first_name," ",null===E||void 0===E||null===(pe=E.created_user)||void 0===pe?void 0:pe.last_name]})," Updated the case",null===e||void 0===e||null===(fe=e.cases_status_users_comments)||void 0===fe?void 0:fe.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"6"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===E||void 0===E||null===(me=E.qa)||void 0===me?void 0:me.first_name," ",null===E||void 0===E||null===(ve=E.qa)||void 0===ve?void 0:ve.last_name]})," Rejected the case",null===e||void 0===e||null===(ge=e.cases_status_users_comments)||void 0===ge?void 0:ge.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"7"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===E||void 0===E||null===(ye=E.qa)||void 0===ye?void 0:ye.first_name," ",null===E||void 0===E||null===(be=E.qa)||void 0===be?void 0:be.last_name]})," Submitted case for ortho check",null===e||void 0===e||null===(xe=e.cases_status_users_comments)||void 0===xe?void 0:xe.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"8"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===E||void 0===E||null===(_e=E.created_user)||void 0===_e?void 0:_e.first_name," ",null===E||void 0===E||null===(we=E.created_user)||void 0===we?void 0:we.last_name]})," Asked modifications",null===e||void 0===e||null===(Se=e.cases_status_users_comments)||void 0===Se?void 0:Se.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"9"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===E||void 0===E||null===(Me=E.created_user)||void 0===Me?void 0:Me.first_name," ",null===E||void 0===E||null===(Ee=E.created_user)||void 0===Ee?void 0:Ee.last_name]})," Required stl files",null===e||void 0===e||null===(Ce=e.cases_status_users_comments)||void 0===Ce?void 0:Ce.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"10"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===E||void 0===E||null===(Te=E.created_user)||void 0===Te?void 0:Te.first_name," ",null===E||void 0===E||null===(Ne=E.created_user)||void 0===Ne?void 0:Ne.last_name]})," Required container files",null===e||void 0===e||null===(Ae=e.cases_status_users_comments)||void 0===Ae?void 0:Ae.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"11"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===E||void 0===E||null===(ke=E.post_processing)||void 0===ke?void 0:ke.first_name," ",null===E||void 0===E||null===(Oe=E.post_processing)||void 0===Oe?void 0:Oe.last_name]})," uploaded stl files",null===e||void 0===e||null===(Pe=e.cases_status_users_comments)||void 0===Pe?void 0:Pe.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"12"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===E||void 0===E||null===(Re=E.post_processing)||void 0===Re?void 0:Re.first_name," ",null===E||void 0===E||null===(je=E.post_processing)||void 0===je?void 0:je.last_name]})," uploaded container files",null===e||void 0===e||null===(Le=e.cases_status_users_comments)||void 0===Le?void 0:Le.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"13"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===E||void 0===E||null===(Ie=E.created_user)||void 0===Ie?void 0:Ie.first_name," ",null===E||void 0===E||null===(De=E.created_user)||void 0===De?void 0:De.last_name]})," Need stl files modifications",null===e||void 0===e||null===(Fe=e.cases_status_users_comments)||void 0===Fe?void 0:Fe.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"14"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===E||void 0===E||null===(Ue=E.created_user)||void 0===Ue?void 0:Ue.first_name," ",null===E||void 0===E||null===(ze=E.created_user)||void 0===ze?void 0:ze.last_name]})," Need container files modifications",null===e||void 0===e||null===(Be=e.cases_status_users_comments)||void 0===Be?void 0:Be.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"15"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===E||void 0===E||null===(He=E.created_user)||void 0===He?void 0:He.first_name," ",null===E||void 0===E||null===(Ve=E.created_user)||void 0===Ve?void 0:Ve.lastt_name]})," Required direct printing files",null===e||void 0===e||null===(We=e.cases_status_users_comments)||void 0===We?void 0:We.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"16"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===E||void 0===E||null===(Ge=E.post_processing)||void 0===Ge?void 0:Ge.first_name," ",null===E||void 0===E||null===(qe=E.post_processing)||void 0===qe?void 0:qe.last]})," Uploaded Direct Printing files",null===e||void 0===e||null===(Ye=e.cases_status_users_comments)||void 0===Ye?void 0:Ye.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"17"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsxs)("span",{className:"userr",children:[null===E||void 0===E||null===(Xe=E.created_user)||void 0===Xe?void 0:Xe.first_name," ",null===E||void 0===E||null===(Ze=E.created_user)||void 0===Ze?void 0:Ze.lastt_name]})," Required Direct Printing files",null===e||void 0===e||null===(Ke=e.cases_status_users_comments)||void 0===Ke?void 0:Ke.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):"18"==(null===e||void 0===e?void 0:e.case_status)?(0,hr.jsxs)("div",{className:"info",children:[(0,hr.jsx)("span",{className:"userr",children:null===E||void 0===E||null===(Je=E.created_user)||void 0===Je?void 0:Je.username})," Marked case as completed",null===e||void 0===e||null===($e=e.cases_status_users_comments)||void 0===$e?void 0:$e.map((e=>(0,hr.jsxs)("div",{className:"comment",children:[(0,hr.jsxs)("div",{className:"top",children:[(0,hr.jsxs)("div",{className:"icon",children:[(0,hr.jsx)(pj,{}),"  "]}),(0,hr.jsxs)("div",{className:"date",children:[Hh()(e.created_at).format("ddd, MMM DD YYYY")," :  ",Hh()(e.created_at).format("HH:mm:ss")]})]}),(0,hr.jsx)("div",{className:"custom-text comment-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.comments}})]})))]}):""})]})})]})}))})]})})]})},Nj=()=>{const[e,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)([]),[a,o]=(0,r.useState)(""),[s,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(null),[d,h]=(0,r.useState)(""),[p,f]=(0,r.useState)(""),m=tt();(0,r.useEffect)((()=>{(async()=>{try{var e;const t=await Ah.getCases();var n,r;200==(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.status)&&i(null===t||void 0===t||null===(n=t.data)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.data)}catch(s){var a,o;ir.error(null===s||void 0===s||null===(a=s.result)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{t(!1)}})()}),[]);return(0,hr.jsxs)("div",{className:"form-wrapper",children:[(0,hr.jsx)(dr,{}),e&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)("div",{className:"title",children:"Pending Approval"}),(0,hr.jsxs)("div",{className:"row",children:[(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Case Id"}),(0,hr.jsxs)("select",{className:"input",value:a,onChange:e=>o(e.target.value),children:[(0,hr.jsx)("option",{value:"",children:"Select case"}),null===n||void 0===n?void 0:n.map((e=>(0,hr.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.case_id})))]})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Simulation Link"}),(0,hr.jsx)("input",{type:"text",className:"input",value:s,onChange:e=>l(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Status"}),(0,hr.jsxs)("select",{name:"",id:"",className:"input",value:p,onChange:e=>f(e.target.value),children:[(0,hr.jsx)("option",{value:"",children:"Select Status"}),(0,hr.jsx)("option",{value:"1",children:"Approve"}),(0,hr.jsx)("option",{value:"0",children:"Cancel"})]})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"IPR Chart"}),(0,hr.jsx)("input",{type:"file",className:"input",onChange:e=>{const t=e.target.files[0];u(t)}})]}),(0,hr.jsx)("div",{className:"col-12 col-md-12 mb-4",children:(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Comments "}),(0,hr.jsx)(YO(),{value:d,onChange:(e,t,n,i)=>{h(e)}})]})})]}),(0,hr.jsx)("div",{className:"d-flex justify-content-center my-3",children:(0,hr.jsx)("button",{className:"button",onClick:async()=>{try{const r=new FormData;if(a){var e;t(!0),a&&r.append("p_case_id",a),s&&r.append("simulation_link_url",s),c&&r.append("ipr_chart",c),d&&r.append("comments",d),p&&r.append("status",p);const o=await Ah.createPendingApproval(r);var n,i;if(200==(null===o||void 0===o||null===(e=o.data)||void 0===e?void 0:e.status))ir.success(null===o||void 0===o||null===(n=o.data)||void 0===n?void 0:n.message,{autoClose:1e3,pauseOnHover:!0,draggable:!0}),setTimeout((()=>{m("/approvals")}),1300);else ir.error(null===o||void 0===o||null===(i=o.data)||void 0===i?void 0:i.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}else ir.error("please select case first",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(l){var r,o;ir.error(null===l||void 0===l||null===(r=l.result)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{t(!1)}},children:"Create Approval "})})]})},Aj=()=>{const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(!1),a=async()=>{try{var e;const i=await Ah.getPendingApprovals();if(200==(null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.status)){var n,r,a;const e=null===i||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.data)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.map((e=>({id:e.id,caseId:e.p_case_id,simulationlink:e.simulation_link_url,comments:e.status})));t(e)}}catch(l){var o,s;ir.error(null===l||void 0===l||null===(o=l.result)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{i(!1)}};(0,r.useEffect)((()=>{a()}),[]);const{currentUser:o}=(0,r.useContext)(pr),s=[{name:"Case Id",selector:e=>e.caseId,sortable:!0},{name:"Simulation link",selector:e=>(0,hr.jsx)("a",{href:e.simulationlink,target:"_blank",children:"Simulation link"}),sortable:!0},{name:"Status",selector:e=>(0,hr.jsx)("div",{children:"1"==(null===e||void 0===e?void 0:e.status)?"Approved":"Cancelled"}),sortable:!0},{name:"Action",cell:e=>(0,hr.jsxs)(hr.Fragment,{children:[(0,hr.jsx)(Lt,{className:"button-icon",to:"/update-approval/".concat(e.id),children:(0,hr.jsx)(AO,{})}),(0,hr.jsx)(Lt,{className:"button-icon",to:"/approval-detail/".concat(e.id),children:(0,hr.jsx)(SO,{})}),(0,hr.jsx)("div",{className:"button-icon",onClick:()=>(async e=>{i(!0);try{var t;const i=await Ah.deletePendingApproval(e);var n,r;200==(null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.status)?(ir.error(null===i||void 0===i||null===(n=i.data)||void 0===n?void 0:n.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0}),a()):ir.error(null===i||void 0===i||null===(r=i.data)||void 0===r?void 0:r.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(l){var o,s;ir.error(null===l||void 0===l||null===(o=l.result)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{i(!1)}})(e.id),children:(0,hr.jsx)(Gr,{})})]}),ignoreRowClick:!0,allowOverflow:!0,button:!0}];return(0,hr.jsxs)("div",{className:"users-wrapper",children:[n&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)(dr,{}),(0,hr.jsx)("div",{className:"d-flex justify-content-end mb-3",children:(0,hr.jsx)(Lt,{to:"/create-approval",className:"button",children:"Create New Approval "})}),(0,hr.jsx)(EO.Ay,{columns:s,data:e,pagination:!0,paginationPerPage:10,paginationRowsPerPageOptions:[5,10,20]})]})},kj=()=>{const{id:e}=it(),[t,n]=(0,r.useState)(!1),[i,a]=(0,r.useState)({}),o="http://localhost:8000";return(0,r.useEffect)((()=>{(async e=>{try{var t;const n=await Ah.getPendingApprovalDetail(e);var i,r;200==(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.status)?a(null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.data):ir.error(null===n||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(l){var o,s;ir.error(null===l||void 0===l||null===(o=l.result)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{n(!1)}})(e)}),[e]),(0,hr.jsxs)("div",{className:"users-wrapper",children:[t&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)(dr,{}),(0,hr.jsxs)("div",{className:"user-details",children:[(0,hr.jsxs)("div",{className:"row",children:[(0,hr.jsx)("div",{className:"col-6",children:(0,hr.jsxs)("div",{className:"text",children:[(0,hr.jsx)(Yr,{}),"1"==(null===i||void 0===i?void 0:i.status)?"Approved":"Cancelled"]})}),(0,hr.jsx)("div",{className:"col-6",children:(0,hr.jsxs)("div",{className:"text",children:[(0,hr.jsx)(Lr,{}),(0,hr.jsx)("a",{href:null===i||void 0===i?void 0:i.simulation_link_url,target:"_blank",children:" Simulation Link "})]})})]}),(0,hr.jsxs)("div",{className:"text",children:[(0,hr.jsx)(Yr,{}),"  ",(0,hr.jsx)("a",{href:"".concat(o,"/uploads/images/").concat(null===i||void 0===i?void 0:i.ipr_chart),target:"_blank",rel:"noopener noreferrer",children:"".concat(o,"/uploads/images/").concat(null===i||void 0===i?void 0:i.ipr_chart)})]}),(0,hr.jsx)("div",{className:"comments_detaisl custom-text",dangerouslySetInnerHTML:{__html:null===i||void 0===i?void 0:i.comments}}),(0,hr.jsx)("div",{style:{height:"750px"}})]})]})},Oj=()=>{const{id:e}=it(),[t,n]=(0,r.useState)(!1),[i,a]=(0,r.useState)([]),[o,s]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(null),[h,p]=(0,r.useState)(""),[f,m]=(0,r.useState)(""),v=tt();(0,r.useEffect)((()=>{(async e=>{try{var t;const n=await Ah.getPendingApprovalDetail(e);var i,r,a,o,l,u,h,f,v,g,y;200==(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.status)?(s(null===n||void 0===n||null===(i=n.data)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.p_case_id),d(null===n||void 0===n||null===(a=n.data)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.ipr_chart),p(null===n||void 0===n||null===(l=n.data)||void 0===l||null===(u=l.data)||void 0===u?void 0:u.comments),c(null===n||void 0===n||null===(h=n.data)||void 0===h||null===(f=h.data)||void 0===f?void 0:f.simulation_link_url),m(null===n||void 0===n||null===(v=n.data)||void 0===v||null===(g=v.data)||void 0===g?void 0:g.status)):ir.error(null===n||void 0===n||null===(y=n.data)||void 0===y?void 0:y.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(_){var b,x;ir.error(null===_||void 0===_||null===(b=_.result)||void 0===b||null===(x=b.data)||void 0===x?void 0:x.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{n(!1)}})(e)}),[e]);(0,r.useEffect)((()=>{(async()=>{try{var e;const n=await Ah.getCases();var t,i;200==(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.status)&&a(null===n||void 0===n||null===(t=n.data)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.data)}catch(s){var r,o;ir.error(null===s||void 0===s||null===(r=s.result)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{n(!1)}})()}),[]);return(0,hr.jsxs)("div",{className:"form-wrapper",children:[(0,hr.jsx)(dr,{}),t&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)("div",{className:"title",children:"Pending Approval"}),(0,hr.jsxs)("div",{className:"row",children:[(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Case Id"}),(0,hr.jsxs)("select",{className:"input",value:o,onChange:e=>s(e.target.value),children:[(0,hr.jsx)("option",{value:"",children:"Select case"}),null===i||void 0===i?void 0:i.map((e=>(0,hr.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.case_id})))]})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Simulation Link"}),(0,hr.jsx)("input",{type:"text",className:"input",value:l,onChange:e=>c(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Status"}),(0,hr.jsxs)("select",{name:"",id:"",className:"input",value:f,onChange:e=>m(e.target.value),children:[(0,hr.jsx)("option",{value:"",children:"Select Status"}),(0,hr.jsx)("option",{value:"1",children:"Approve"}),(0,hr.jsx)("option",{value:"0",children:"Cancel"})]})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"IPR Chart"}),(0,hr.jsx)("input",{type:"file",className:"input",onChange:e=>{const t=e.target.files[0];d(t)}})]}),(0,hr.jsx)("div",{className:"col-12 col-md-12 mb-4",children:(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Comments "}),(0,hr.jsx)(YO(),{value:h,onChange:(e,t,n,i)=>{p(e)}})]})})]}),(0,hr.jsx)("div",{className:"d-flex justify-content-center my-3",children:(0,hr.jsx)("button",{className:"button",onClick:async()=>{try{const a=new FormData;if(o){var t;n(!0),o&&a.append("p_case_id",o),l&&a.append("simulation_link_url",l),u&&a.append("ipr_chart",u),h&&a.append("comments",h),f&&a.append("status",f);const s=await Ah.updatePendingApproval(e,a);var i,r;if(200==(null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.status))ir.success(null===s||void 0===s||null===(i=s.data)||void 0===i?void 0:i.message,{autoClose:1e3,pauseOnHover:!0,draggable:!0}),setTimeout((()=>{v("/approvals")}),1300);else ir.error(null===s||void 0===s||null===(r=s.data)||void 0===r?void 0:r.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}else ir.error("please select case first",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(c){var a,s;ir.error(null===c||void 0===c||null===(a=c.result)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{n(!1)}},children:"Create Approval "})})]})};Ai.defaults.baseURL="".concat("http://localhost:8000","/api"),Ai.defaults.headers.post["Content-Type"]="application/json";const Pj={addSubClient:async function(e){try{var t={method:"post",url:"/sub_clients/store",headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+window.localStorage.getItem("token")},data:e};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}},updateSubClient:async function(e,t){try{let i=window.localStorage.getItem("token");var n={method:"post",url:"/sub_clients/update/".concat(e),headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+i},data:t};return await Ai(n).then((function(e){return e})).catch((function(e){return e.response}))}catch(i){return i}},deleteSubClient:async function(e){try{let n=window.localStorage.getItem("token");var t={method:"delete",url:"/sub_clients/".concat(e),headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+n},data:""};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}},getSubClientDetail:async function(e){try{let n=window.localStorage.getItem("token");var t={method:"get",url:"/sub_clients/".concat(e),headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+n},data:""};return await Ai(t).then((function(e){return e})).catch((function(e){return e.response}))}catch(n){return n}},getSubClients:async function(){try{var e={method:"get",url:"/sub_clients",headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+window.localStorage.getItem("token")},data:""};return await Ai(e).then((function(e){return e})).catch((function(e){return e.response}))}catch(t){return t}}},Rj=()=>{var e;const{currentUser:t}=(0,r.useContext)(pr),n=(null===t||void 0===t||null===(e=t.roles[0])||void 0===e||e.name,null===t||void 0===t?void 0:t.permissions),[i,a]=(0,r.useState)([]),[o,s]=(0,r.useState)(!1),l=async()=>{try{var e;const i=await Pj.getSubClients();if(200==(null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.status)){var t,n;const e=null===i||void 0===i||null===(t=i.data)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.map((e=>({id:null===e||void 0===e?void 0:e.guid,firstname:null===e||void 0===e?void 0:e.first_name,lastname:null===e||void 0===e?void 0:e.last_name,email:null===e||void 0===e?void 0:e.email,mobilenumber:null===e||void 0===e?void 0:e.mobile_number,image:"".concat("http://localhost:8000","/uploads/").concat(null===e||void 0===e?void 0:e.profile_pic)})));a(e)}}catch(o){var i,r;ir.error(null===o||void 0===o||null===(i=o.result)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{s(!1)}};(0,r.useEffect)((()=>{l()}),[]);const c=[{name:"First Name",selector:e=>e.firstname,sortable:!0},{name:"Last Name",selector:e=>e.lastname,sortable:!0},{name:"Email",selector:e=>e.email,sortable:!0},{name:"Mobile number",selector:e=>e.mobilenumber,sortable:!0},{name:"Profile",selector:e=>(0,hr.jsx)("img",{src:e.image,height:40,borderRadius:"10px"}),sortable:!0},{name:"Action",cell:e=>(0,hr.jsxs)("div",{className:"icons__parent",children:[(null===n||void 0===n?void 0:n.includes("sub-client-update"))&&(0,hr.jsx)(Lt,{className:"button-icon",to:"/update-sub-client/".concat(e.id),children:(0,hr.jsx)(AO,{})}),(null===n||void 0===n?void 0:n.includes("sub-client-detail"))&&(0,hr.jsx)(Lt,{className:"button-icon",to:"/sub-client-detail/".concat(e.id),children:(0,hr.jsx)(SO,{})}),(null===n||void 0===n?void 0:n.includes("sub-client-delete"))&&(0,hr.jsx)("div",{className:"button-icon",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this user?")){s(!0);try{var t;const r=await Pj.deleteSubClient(e);var n,i;200==(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.status)?(ir.error(null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0}),l()):ir.error(null===r||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(o){var r,a;ir.error(null===o||void 0===o||null===(r=o.result)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{s(!1)}}})(e.id),children:(0,hr.jsx)(Gr,{})})]}),ignoreRowClick:!0,allowOverflow:!0,button:!0}];return(0,hr.jsxs)("div",{className:"users-wrapper",children:[o&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)(dr,{}),(0,hr.jsx)("div",{className:"d-flex justify-content-end mb-3",children:(null===n||void 0===n?void 0:n.includes("sub-client-store"))&&(0,hr.jsx)(Lt,{to:"/create-sub-client",className:"button",children:"Create Sub client "})}),(0,hr.jsx)(EO.Ay,{columns:c,data:i,pagination:!0,paginationPerPage:10,paginationRowsPerPageOptions:[5,10,20]})]})},jj=()=>{var e;const t=tt(),{id:n}=it(),[i,a]=(0,r.useState)(!1),[o,s]=(0,r.useState)({});(0,r.useEffect)((()=>{(async e=>{try{var n;const a=await Pj.getSubClientDetail(e);var i,r,o;200==(null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.status)?s(null===a||void 0===a||null===(i=a.data)||void 0===i?void 0:i.data):("Unauthenticated."==(null===a||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message)&&t("/login"),ir.error(null===a||void 0===a||null===(o=a.data)||void 0===o?void 0:o.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0}))}catch(u){var l,c;ir.error(null===u||void 0===u||null===(l=u.result)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{a(!1)}})(n)}),[n]);return(0,hr.jsxs)("div",{className:"users-wrapper",children:[i&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)(dr,{}),(0,hr.jsxs)("div",{className:"user-details",children:[(0,hr.jsx)("div",{className:"profile",children:null!==o&&void 0!==o&&o.profile_pic?(0,hr.jsx)("img",{src:"".concat("http://localhost:8000","/uploads/").concat(o.profile_pic)}):(0,hr.jsx)("img",{src:MO})}),(0,hr.jsxs)("div",{className:"text",children:[(0,hr.jsx)(jO,{}),"  ",null===o||void 0===o?void 0:o.username]}),(0,hr.jsxs)("div",{className:"text",children:[(0,hr.jsx)(Jr,{}),"  ",null===o||void 0===o?void 0:o.email]}),(0,hr.jsxs)("div",{className:"text",children:[(0,hr.jsx)(Hr,{}),"  ",null===o||void 0===o?void 0:o.mobile_number]}),(0,hr.jsxs)("div",{className:"text",children:[(0,hr.jsx)(Zr,{}),"Role :  ",null===o||void 0===o?void 0:o.role_name]}),(0,hr.jsxs)("div",{className:"text",children:[(0,hr.jsx)(wO,{}),"  Permissions"]}),(0,hr.jsx)("div",{className:"permissons-allowed",children:(0,hr.jsx)("ul",{children:null===o||void 0===o||null===(e=o.permissions)||void 0===e?void 0:e.map(((e,t)=>(0,hr.jsxs)("li",{children:[t+1,". ",e]})))})})]})]})},Lj=()=>{const[e,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)(""),[a,o]=(0,r.useState)(""),[s,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[d,h]=(0,r.useState)(""),[p,f]=(0,r.useState)(""),[m,v]=(0,r.useState)(""),[g,y]=(0,r.useState)(null),b=tt();return(0,hr.jsxs)("div",{className:"form-wrapper",children:[(0,hr.jsx)(dr,{}),e&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)("div",{className:"title",children:"Create Sub client"}),(0,hr.jsxs)("div",{className:"row",children:[(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["First Name ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsx)("input",{type:"text",className:"input",value:n,onChange:e=>i(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Last Name ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsx)("input",{type:"text",className:"input",value:a,onChange:e=>o(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["User id ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsx)("input",{type:"text",className:"input",value:s,onChange:e=>l(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Email ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsx)("input",{type:"text",className:"input",value:c,onChange:e=>u(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Mobile Number"}),(0,hr.jsx)("input",{type:"text",className:"input",value:d,onChange:e=>h(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Password ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsx)("input",{type:"text",className:"input",value:p,onChange:e=>f(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["Retype Password ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsx)("input",{type:"text",className:"input",value:m,onChange:e=>v(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Profile Image"}),(0,hr.jsx)("input",{type:"file",className:"input",onChange:e=>{const t=e.target.files[0];y(t)}})]})]}),(0,hr.jsx)("div",{className:"d-flex justify-content-center my-3",children:(0,hr.jsx)("button",{className:"button",onClick:async()=>{try{const l=new FormData;if(n)if(a)if(c)if(d)if(p)if(m){var e;t(!0),n&&l.append("first_name",n),a&&l.append("last_name",a),s&&l.append("username",s),c&&l.append("email",c),p&&l.append("password",p),m&&l.append("password_confirmation",m);const u=await Pj.addSubClient(l);var i,r,o;if(200==(null===u||void 0===u||null===(e=u.data)||void 0===e?void 0:e.status))ir.success(null===u||void 0===u||null===(i=u.data)||void 0===i?void 0:i.message,{autoClose:1e3,pauseOnHover:!0,draggable:!0}),setTimeout((()=>{b("/sub-clients")}),1300);else"Unauthenticated."==(null===u||void 0===u||null===(r=u.data)||void 0===r?void 0:r.success)&&b("/login"),ir.error(null===u||void 0===u||null===(o=u.data)||void 0===o?void 0:o.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}else ir.error("please re-enter password",{autoClose:2e3,pauseOnHover:!0,draggable:!0});else ir.error("please enter password",{autoClose:2e3,pauseOnHover:!0,draggable:!0});else ir.error("please enter mobile number",{autoClose:2e3,pauseOnHover:!0,draggable:!0});else ir.error("please enter email",{autoClose:2e3,pauseOnHover:!0,draggable:!0});else ir.error("please enter last name",{autoClose:2e3,pauseOnHover:!0,draggable:!0});else ir.error("please enter first name",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(h){var l,u;ir.error(null===h||void 0===h||null===(l=h.result)||void 0===l||null===(u=l.data)||void 0===u?void 0:u.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{t(!1)}},children:"Create now "})})]})},Ij=()=>{var e,t;const{id:n}=it(),[i,a]=(0,r.useState)(!1),[o,s]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),[h,p]=(0,r.useState)(""),[f,m]=(0,r.useState)(""),[v,g]=(0,r.useState)(""),[y,b]=(0,r.useState)(""),[x,_]=(0,r.useState)(null),[w,S]=(0,r.useState)([]),[M,E]=(0,r.useState)(""),[C,T]=(0,r.useState)([]),{currentUser:N}=(0,r.useContext)(pr),A=(null===N||void 0===N||null===(e=N.roles[0])||void 0===e||e.name,null===N||void 0===N||null===(t=N.roles[0])||void 0===t?void 0:t.permissions),k=tt(),O=e=>{const{id:t,checked:n}=e.target,i=parseInt(t,10);T((e=>n?[...e,i]:e.filter((e=>e!==i))))};(0,r.useEffect)((()=>{(async e=>{try{var t;const a=await Pj.getSubClientDetail(e);var n,i,r,o,l,u,h,f,v,y,x,_,w,S,M,C,N,A,O,P,R,j,L;200==(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.status)?(s(null===a||void 0===a||null===(n=a.data)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.first_name),c(null===a||void 0===a||null===(r=a.data)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.last_name),d(null===a||void 0===a||null===(l=a.data)||void 0===l||null===(u=l.data)||void 0===u?void 0:u.username),p(null===a||void 0===a||null===(h=a.data)||void 0===h||null===(f=h.data)||void 0===f?void 0:f.email),m(null===a||void 0===a||null===(v=a.data)||void 0===v||null===(y=v.data)||void 0===y?void 0:y.mobile_number),g(null===a||void 0===a||null===(x=a.data)||void 0===x||null===(_=x.data)||void 0===_?void 0:_.password),b(null===a||void 0===a||null===(w=a.data)||void 0===w||null===(S=w.data)||void 0===S?void 0:S.password_confirmation),E(null===a||void 0===a||null===(M=a.data)||void 0===M||null===(C=M.data)||void 0===C||null===(N=C.roles[0])||void 0===N?void 0:N.id),null===a||void 0===a||null===(A=a.data)||void 0===A||null===(O=A.data)||void 0===O||null===(P=O.roles[0])||void 0===P||null===(R=P.permissions)||void 0===R||R.forEach((e=>{T((t=>{const n=new Set(t);return n.add(parseInt(e.id)),Array.from(n)}))}))):("Unauthenticated."==(null===a||void 0===a||null===(j=a.data)||void 0===j?void 0:j.message)&&k("/login"),ir.error(null===a||void 0===a||null===(L=a.data)||void 0===L?void 0:L.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0}))}catch(F){var I,D;ir.error(null===F||void 0===F||null===(I=F.result)||void 0===I||null===(D=I.data)||void 0===D?void 0:D.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{a(!1)}})(n)}),[]);(0,r.useEffect)((()=>{(async()=>{try{var e;const n=await ki.getRoles();var t;200==(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.status)&&S(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.data)}catch(r){var n,i;ir.error(null===r||void 0===r||null===(n=r.result)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{a(!1)}})()}),[]);return(0,hr.jsxs)("div",{className:"form-wrapper",children:[(0,hr.jsx)(dr,{}),i&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)("div",{className:"title",children:"Update user"}),(0,hr.jsxs)("div",{className:"row",children:[(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"First Name"}),(0,hr.jsx)("input",{type:"text",className:"input",value:o,onChange:e=>s(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Last Name"}),(0,hr.jsx)("input",{type:"text",className:"input",value:l,onChange:e=>c(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsxs)("label",{htmlFor:"",children:["User id ",(0,hr.jsx)("span",{children:"*"})]}),(0,hr.jsx)("input",{type:"text",className:"input",value:u,onChange:e=>d(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Email"}),(0,hr.jsx)("input",{type:"text",className:"input",value:h,onChange:e=>p(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Mobile Number"}),(0,hr.jsx)("input",{type:"text",className:"input",value:f,onChange:e=>m(e.target.value)})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Profile Image"}),(0,hr.jsx)("input",{type:"file",className:"input",onChange:e=>{const t=e.target.files[0];_(t)}})]}),(0,hr.jsxs)("div",{className:"col-12 col-md-6 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"User role"}),(0,hr.jsxs)("select",{className:"input",value:M,onChange:e=>E(e.target.value),children:[(0,hr.jsx)("option",{value:"",children:"Please select role"}),null===w||void 0===w?void 0:w.map((e=>(0,hr.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name})))]})]})]}),(0,hr.jsx)("div",{className:"title",children:"Permissions"}),(0,hr.jsx)("div",{className:"permissions-wrapper",children:null===A||void 0===A?void 0:A.map((e=>(0,hr.jsxs)("div",{className:"checkboxx",children:[(0,hr.jsx)("input",{type:"checkbox",id:parseInt(e.id),onChange:O,checked:null===C||void 0===C?void 0:C.includes(parseInt(e.id))}),(0,hr.jsx)("label",{htmlFor:parseInt(e.id),children:e.name})]},null===e||void 0===e?void 0:e.id)))}),(0,hr.jsx)("div",{className:"d-flex justify-content-center my-3",children:(0,hr.jsx)("button",{className:"button",onClick:async()=>{try{const r=new FormData;if(o)if(l)if(h){var e;a(!0),o&&r.append("first_name",o),l&&r.append("last_name",l),u&&r.append("username",u),h&&r.append("email",h),f&&r.append("mobile_number",f),x&&r.append("profile_pic",x),v&&r.append("password",v),y&&r.append("password_confirmation",y),M&&r.append("role_id",M),C&&(null===C||void 0===C||C.map(((e,t)=>{r.append("permissions[".concat(t,"]"),e)})));const s=await Pj.updateSubClient(n,r);var t,i;if(200==(null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.status))ir.success(null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.message,{autoClose:1e3,pauseOnHover:!0,draggable:!0}),setTimeout((()=>{k("/sub-clients")}),1300);else ir.error(null===s||void 0===s||null===(i=s.data)||void 0===i?void 0:i.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}else ir.error("please enter email",{autoClose:2e3,pauseOnHover:!0,draggable:!0});else ir.error("please enter last name",{autoClose:2e3,pauseOnHover:!0,draggable:!0});else ir.error("please enter first name",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(c){var r,s;ir.error(null===c||void 0===c||null===(r=c.result)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{a(!1)}},children:"Update now "})})]})},Dj=n.p+"static/media/bio.7ae560a33319cba1b624.png",Fj=()=>{(0,r.useRef)(null);const{updateUser:e}=(0,r.useContext)(pr),[t,n]=(0,r.useState)(""),[i,a]=(0,r.useState)(!1),[o,s]=(0,r.useState)(""),l=tt(),c=async n=>{try{const n=new FormData;if(t)if(o){var i;a(!0),t&&n.append("email",t),o&&n.append("password",o);const f=await ki.login(n);var r,s,c,u,d,h,p;if(1==(null===f||void 0===f||null===(i=f.data)||void 0===i?void 0:i.success))localStorage.setItem("token",null===f||void 0===f||null===(r=f.data)||void 0===r||null===(s=r.data)||void 0===s||null===(c=s.user)||void 0===c?void 0:c.token),e(null===f||void 0===f||null===(u=f.data)||void 0===u||null===(d=u.data)||void 0===d?void 0:d.user),l("/dashboard"),ir.success(null===f||void 0===f||null===(h=f.data)||void 0===h?void 0:h.message,{autoClose:1e3,pauseOnHover:!0,draggable:!0});else ir.error(null===f||void 0===f||null===(p=f.data)||void 0===p?void 0:p.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}else ir.error("please enter password",{autoClose:2e3,pauseOnHover:!0,draggable:!0});else ir.error("please enter email",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(v){var f,m;ir.error(null===v||void 0===v||null===(f=v.result)||void 0===f||null===(m=f.data)||void 0===m?void 0:m.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{a(!1)}};return(0,r.useEffect)((()=>{const e=e=>{"Enter"===e.key&&c()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[c]),(0,hr.jsxs)(hr.Fragment,{children:[i&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsxs)("div",{className:"login-wrapper login-main bio",children:[(0,hr.jsx)("video",{autoPlay:!0,loop:!0,muted:!0,className:"background-video",children:(0,hr.jsx)("source",{src:qh,type:"video/mp4"})}),(0,hr.jsxs)("div",{className:"form-wrapper",children:[(0,hr.jsx)(dr,{}),(0,hr.jsxs)("div",{className:"left-section",children:[(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsx)("label",{htmlFor:"",children:"User Id"}),(0,hr.jsx)("input",{type:"text",className:"input",value:t,onChange:e=>n(e.target.value)})]}),(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Password"}),(0,hr.jsx)("input",{type:"password",className:"input",value:o,onChange:e=>s(e.target.value)})]}),(0,hr.jsx)("div",{className:"d-flex justify-content-center my-3",children:(0,hr.jsx)("button",{className:"button",onClick:c,children:"Login  "})}),(0,hr.jsx)("div",{className:"copy-text mt-4",children:"Powered by Clear Care Tech | Copyright \xa9 2024 | All Rights Reserved"})]}),(0,hr.jsx)("div",{className:"right-section",children:(0,hr.jsx)("div",{className:"image",children:(0,hr.jsx)("img",{src:Dj,alt:"",srcset:""})})})]})]})]})},Uj=n.p+"static/media/logo-color.4c04e206a35a053827bd.png",zj=()=>{(0,r.useRef)(null);const{updateUser:e}=(0,r.useContext)(pr),[t,n]=(0,r.useState)(""),[i,a]=(0,r.useState)(!1),[o,s]=(0,r.useState)(""),l=tt(),c=async n=>{try{const n=new FormData;if(t)if(o){var i;a(!0),t&&n.append("email",t),o&&n.append("password",o);const f=await ki.login(n);var r,s,c,u,d,h,p;if(1==(null===f||void 0===f||null===(i=f.data)||void 0===i?void 0:i.success))localStorage.setItem("token",null===f||void 0===f||null===(r=f.data)||void 0===r||null===(s=r.data)||void 0===s||null===(c=s.user)||void 0===c?void 0:c.token),e(null===f||void 0===f||null===(u=f.data)||void 0===u||null===(d=u.data)||void 0===d?void 0:d.user),l("/dashboard"),ir.success(null===f||void 0===f||null===(h=f.data)||void 0===h?void 0:h.message,{autoClose:1e3,pauseOnHover:!0,draggable:!0});else ir.error(null===f||void 0===f||null===(p=f.data)||void 0===p?void 0:p.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}else ir.error("please enter password",{autoClose:2e3,pauseOnHover:!0,draggable:!0});else ir.error("please enter email",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(v){var f,m;ir.error(null===v||void 0===v||null===(f=v.result)||void 0===f||null===(m=f.data)||void 0===m?void 0:m.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{a(!1)}};return(0,r.useEffect)((()=>{const e=e=>{"Enter"===e.key&&c()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[c]),(0,hr.jsxs)(hr.Fragment,{children:[i&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsxs)("div",{className:"login-wrapper login-main bio",children:[(0,hr.jsx)("video",{autoPlay:!0,loop:!0,muted:!0,className:"background-video",children:(0,hr.jsx)("source",{src:qh,type:"video/mp4"})}),(0,hr.jsxs)("div",{className:"form-wrapper",children:[(0,hr.jsx)(dr,{}),(0,hr.jsxs)("div",{className:"left-section",children:[(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsx)("label",{htmlFor:"",children:"User Id"}),(0,hr.jsx)("input",{type:"text",className:"input",value:t,onChange:e=>n(e.target.value)})]}),(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Password"}),(0,hr.jsx)("input",{type:"password",className:"input",value:o,onChange:e=>s(e.target.value)})]}),(0,hr.jsx)("div",{className:"d-flex justify-content-center my-3",children:(0,hr.jsx)("button",{className:"button",onClick:c,children:"Login  "})}),(0,hr.jsx)("div",{className:"copy-text mt-4",children:"Powered by Clear Care Tech | Copyright \xa9 2024 | All Rights Reserved"})]}),(0,hr.jsx)("div",{className:"right-section",style:{backgroundImage:"url("+Uj+")"},children:(0,hr.jsx)("div",{className:"image",children:(0,hr.jsx)("img",{src:Uj,alt:"",srcset:""})})})]})]})]})},Bj=()=>{var e;const[t,n]=(0,r.useState)([]),[i,a]=(0,r.useState)(!1),{currentUser:o}=(0,r.useContext)(pr),s=(null===o||void 0===o||null===(e=o.roles[0])||void 0===e||e.name,null===o||void 0===o?void 0:o.permissions),l=async()=>{try{var e;const r=await KO.getTeams();if(200==(null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.status)){var t,i;const e=null===r||void 0===r||null===(t=r.data)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.map((e=>({id:e.guid,name:e.name})));n(e)}}catch(s){var r,o;ir.error(null===s||void 0===s||null===(r=s.result)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{a(!1)}};(0,r.useEffect)((()=>{l()}),[]);const c=[{name:"Permission",selector:e=>e.name,sortable:!0},{name:"Action",cell:e=>(0,hr.jsxs)("div",{className:"icons__parent",children:[(null===s||void 0===s?void 0:s.includes("teams-update"))&&(0,hr.jsx)(Lt,{title:"Update Team",className:"button-icon",to:"/update-team/".concat(e.id),children:(0,hr.jsx)(AO,{})}),(null===s||void 0===s?void 0:s.includes("teams-detail"))&&(0,hr.jsx)(Lt,{title:"View Team",className:"button-icon",to:"/team-detail/".concat(e.id),children:(0,hr.jsx)(SO,{})}),(null===s||void 0===s?void 0:s.includes("teams-assings-to-users"))&&(0,hr.jsx)(Lt,{title:"Assign Team",className:"button-icon",to:"/team-detail/".concat(e.id),children:(0,hr.jsx)(Kr,{})}),(null===s||void 0===s?void 0:s.includes("teams-delete"))&&(0,hr.jsx)("div",{title:"Delete Team",className:"button-icon",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this team?")){a(!0);try{var t;const r=await KO.deleteTeam(e);var n,i;200==(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.status)?(ir.error(null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0}),l()):ir.error(null===r||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(s){var r,o;ir.error(null===s||void 0===s||null===(r=s.result)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{a(!1)}}})(e.id),children:(0,hr.jsx)(Gr,{})})]}),ignoreRowClick:!0,allowOverflow:!0,button:!0}];return(0,hr.jsxs)("div",{className:"users-wrapper",children:[i&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)(dr,{}),(null===s||void 0===s?void 0:s.includes("teams-store"))&&(0,hr.jsx)("div",{className:"d-flex justify-content-end mb-3",children:(0,hr.jsx)(Lt,{to:"/create-team",className:"button",children:"Create New Team "})}),(0,hr.jsx)(EO.Ay,{columns:c,data:t,pagination:!0,paginationPerPage:10,paginationRowsPerPageOptions:[5,10,20]})]})},Hj=()=>{const[e,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)(""),a=tt();return(0,hr.jsxs)("div",{className:"form-wrapper",children:[(0,hr.jsx)(dr,{}),e&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)("div",{className:"title",children:"Create Team"}),(0,hr.jsx)("div",{className:"row",children:(0,hr.jsxs)("div",{className:"col-12 col-md-12 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Enter name"}),(0,hr.jsx)("input",{type:"text",className:"input",value:n,onChange:e=>i(e.target.value)})]})}),(0,hr.jsx)("div",{className:"d-flex justify-content-center my-3",children:(0,hr.jsx)("button",{className:"button",onClick:async()=>{try{const o=new FormData;if(n){var e;t(!0),n&&o.append("name",n);const s=await KO.createTeam(o);var i,r;if(200==(null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.status))ir.success(null===s||void 0===s||null===(i=s.data)||void 0===i?void 0:i.message,{autoClose:1e3,pauseOnHover:!0,draggable:!0}),setTimeout((()=>{a("/teams")}),1300);else ir.error(null===s||void 0===s||null===(r=s.data)||void 0===r?void 0:r.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}else ir.error("please enter  name",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(l){var o,s;ir.error(null===l||void 0===l||null===(o=l.result)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{t(!1)}},children:"Create Team "})})]})},Vj=()=>{const{id:e}=it(),[t,n]=(0,r.useState)(!1),[i,a]=(0,r.useState)(""),o=tt();(0,r.useEffect)((()=>{(async e=>{try{var t;const n=await KO.getTeamDetail(e);var i,r,o;200==(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.status)?a(null===n||void 0===n||null===(i=n.data)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.name):ir.error(null===n||void 0===n||null===(o=n.data)||void 0===o?void 0:o.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(c){var s,l;ir.error(null===c||void 0===c||null===(s=c.result)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{n(!1)}})(e)}),[e]);return(0,hr.jsxs)("div",{className:"form-wrapper",children:[(0,hr.jsx)(dr,{}),t&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)("div",{className:"title",children:"Update Team"}),(0,hr.jsx)("div",{className:"row",children:(0,hr.jsxs)("div",{className:"col-12 col-md-12 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Enter name"}),(0,hr.jsx)("input",{type:"text",className:"input",value:i,onChange:e=>a(e.target.value)})]})}),(0,hr.jsx)("div",{className:"d-flex justify-content-center my-3",children:(0,hr.jsx)("button",{className:"button",onClick:async()=>{try{const s=new FormData;if(i){var t;n(!0),i&&s.append("name",i);const l=await KO.updateTeam(e,s);var r,a;if(200==(null===l||void 0===l||null===(t=l.data)||void 0===t?void 0:t.status))ir.success(null===l||void 0===l||null===(r=l.data)||void 0===r?void 0:r.message,{autoClose:1e3,pauseOnHover:!0,draggable:!0}),setTimeout((()=>{o("/teams")}),1300);else ir.error(null===l||void 0===l||null===(a=l.data)||void 0===a?void 0:a.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}else ir.error("please enter  name",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(c){var s,l;ir.error(null===c||void 0===c||null===(s=c.result)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{n(!1)}},children:"Update now "})})]})};function Wj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Gj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wj(Object(n),!0).forEach((function(t){ua(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Yj(e,t){if(e){if("string"===typeof e)return qj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qj(e,t):void 0}}function Xj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(e,t)||Yj(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zj(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Kj=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Jj(){return Jj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Jj.apply(this,arguments)}function $j(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ca(i.key),i)}}function Qj(e,t){return Qj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qj(e,t)}function eL(e){return eL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},eL(e)}function tL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(tL=function(){return!!e})()}function nL(e,t){if(t&&("object"===la(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function iL(e){return function(e){if(Array.isArray(e))return qj(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Yj(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var rL=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(fU){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),aL=Math.abs,oL=String.fromCharCode,sL=Object.assign;function lL(e){return e.trim()}function cL(e,t,n){return e.replace(t,n)}function uL(e,t){return e.indexOf(t)}function dL(e,t){return 0|e.charCodeAt(t)}function hL(e,t,n){return e.slice(t,n)}function pL(e){return e.length}function fL(e){return e.length}function mL(e,t){return t.push(e),e}var vL=1,gL=1,yL=0,bL=0,xL=0,_L="";function wL(e,t,n,i,r,a,o){return{value:e,root:t,parent:n,type:i,props:r,children:a,line:vL,column:gL,length:o,return:""}}function SL(e,t){return sL(wL("",null,null,"",null,null,0),e,{length:-e.length},t)}function ML(){return xL=bL>0?dL(_L,--bL):0,gL--,10===xL&&(gL=1,vL--),xL}function EL(){return xL=bL<yL?dL(_L,bL++):0,gL++,10===xL&&(gL=1,vL++),xL}function CL(){return dL(_L,bL)}function TL(){return bL}function NL(e,t){return hL(_L,e,t)}function AL(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function kL(e){return vL=gL=1,yL=pL(_L=e),bL=0,[]}function OL(e){return _L="",e}function PL(e){return lL(NL(bL-1,LL(91===e?e+2:40===e?e+1:e)))}function RL(e){for(;(xL=CL())&&xL<33;)EL();return AL(e)>2||AL(xL)>3?"":" "}function jL(e,t){for(;--t&&EL()&&!(xL<48||xL>102||xL>57&&xL<65||xL>70&&xL<97););return NL(e,TL()+(t<6&&32==CL()&&32==EL()))}function LL(e){for(;EL();)switch(xL){case e:return bL;case 34:case 39:34!==e&&39!==e&&LL(xL);break;case 40:41===e&&LL(e);break;case 92:EL()}return bL}function IL(e,t){for(;EL()&&e+xL!==57&&(e+xL!==84||47!==CL()););return"/*"+NL(t,bL-1)+"*"+oL(47===e?e:EL())}function DL(e){for(;!AL(CL());)EL();return NL(e,bL)}var FL="-ms-",UL="-moz-",zL="-webkit-",BL="comm",HL="rule",VL="decl",WL="@keyframes";function GL(e,t){for(var n="",i=fL(e),r=0;r<i;r++)n+=t(e[r],r,e,t)||"";return n}function qL(e,t,n,i){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case VL:return e.return=e.return||e.value;case BL:return"";case WL:return e.return=e.value+"{"+GL(e.children,i)+"}";case HL:e.value=e.props.join(",")}return pL(n=GL(e.children,i))?e.return=e.value+"{"+n+"}":""}function YL(e){return function(t){t.root||(t=t.return)&&e(t)}}function XL(e){return OL(ZL("",null,null,null,[""],e=kL(e),0,[0],e))}function ZL(e,t,n,i,r,a,o,s,l){for(var c=0,u=0,d=o,h=0,p=0,f=0,m=1,v=1,g=1,y=0,b="",x=r,_=a,w=i,S=b;v;)switch(f=y,y=EL()){case 40:if(108!=f&&58==dL(S,d-1)){-1!=uL(S+=cL(PL(y),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:S+=PL(y);break;case 9:case 10:case 13:case 32:S+=RL(f);break;case 92:S+=jL(TL()-1,7);continue;case 47:switch(CL()){case 42:case 47:mL(JL(IL(EL(),TL()),t,n),l);break;default:S+="/"}break;case 123*m:s[c++]=pL(S)*g;case 125*m:case 59:case 0:switch(y){case 0:case 125:v=0;case 59+u:-1==g&&(S=cL(S,/\f/g,"")),p>0&&pL(S)-d&&mL(p>32?$L(S+";",i,n,d-1):$L(cL(S," ","")+";",i,n,d-2),l);break;case 59:S+=";";default:if(mL(w=KL(S,t,n,c,u,r,s,b,x=[],_=[],d),a),123===y)if(0===u)ZL(S,t,w,w,x,a,d,s,_);else switch(99===h&&110===dL(S,3)?100:h){case 100:case 108:case 109:case 115:ZL(e,w,w,i&&mL(KL(e,w,w,0,0,r,s,b,r,x=[],d),_),r,_,d,s,i?x:_);break;default:ZL(S,w,w,w,[""],_,0,s,_)}}c=u=p=0,m=g=1,b=S="",d=o;break;case 58:d=1+pL(S),p=f;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==ML())continue;switch(S+=oL(y),y*m){case 38:g=u>0?1:(S+="\f",-1);break;case 44:s[c++]=(pL(S)-1)*g,g=1;break;case 64:45===CL()&&(S+=PL(EL())),h=CL(),u=d=pL(b=S+=DL(TL())),y++;break;case 45:45===f&&2==pL(S)&&(m=0)}}return a}function KL(e,t,n,i,r,a,o,s,l,c,u){for(var d=r-1,h=0===r?a:[""],p=fL(h),f=0,m=0,v=0;f<i;++f)for(var g=0,y=hL(e,d+1,d=aL(m=o[f])),b=e;g<p;++g)(b=lL(m>0?h[g]+" "+y:cL(y,/&\f/g,h[g])))&&(l[v++]=b);return wL(e,t,n,0===r?HL:s,l,c,u)}function JL(e,t,n){return wL(e,t,n,BL,oL(xL),hL(e,2,-2),0)}function $L(e,t,n,i){return wL(e,t,n,VL,hL(e,0,i),hL(e,i+1,-1),i)}var QL=function(e,t,n){for(var i=0,r=0;i=r,r=CL(),38===i&&12===r&&(t[n]=1),!AL(r);)EL();return NL(e,bL)},eI=function(e,t){return OL(function(e,t){var n=-1,i=44;do{switch(AL(i)){case 0:38===i&&12===CL()&&(t[n]=1),e[n]+=QL(bL-1,t,n);break;case 2:e[n]+=PL(i);break;case 4:if(44===i){e[++n]=58===CL()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=oL(i)}}while(i=EL());return e}(kL(e),t))},tI=new WeakMap,nI=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||tI.get(n))&&!i){tI.set(e,!0);for(var r=[],a=eI(t,r),o=n.props,s=0,l=0;s<a.length;s++)for(var c=0;c<o.length;c++,l++)e.props[l]=r[s]?a[s].replace(/&\f/g,o[c]):o[c]+" "+a[s]}}},iI=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function rI(e,t){switch(function(e,t){return 45^dL(e,0)?(((t<<2^dL(e,0))<<2^dL(e,1))<<2^dL(e,2))<<2^dL(e,3):0}(e,t)){case 5103:return zL+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return zL+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return zL+e+UL+e+FL+e+e;case 6828:case 4268:return zL+e+FL+e+e;case 6165:return zL+e+FL+"flex-"+e+e;case 5187:return zL+e+cL(e,/(\w+).+(:[^]+)/,zL+"box-$1$2"+FL+"flex-$1$2")+e;case 5443:return zL+e+FL+"flex-item-"+cL(e,/flex-|-self/,"")+e;case 4675:return zL+e+FL+"flex-line-pack"+cL(e,/align-content|flex-|-self/,"")+e;case 5548:return zL+e+FL+cL(e,"shrink","negative")+e;case 5292:return zL+e+FL+cL(e,"basis","preferred-size")+e;case 6060:return zL+"box-"+cL(e,"-grow","")+zL+e+FL+cL(e,"grow","positive")+e;case 4554:return zL+cL(e,/([^-])(transform)/g,"$1"+zL+"$2")+e;case 6187:return cL(cL(cL(e,/(zoom-|grab)/,zL+"$1"),/(image-set)/,zL+"$1"),e,"")+e;case 5495:case 3959:return cL(e,/(image-set\([^]*)/,zL+"$1$`$1");case 4968:return cL(cL(e,/(.+:)(flex-)?(.*)/,zL+"box-pack:$3"+FL+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+zL+e+e;case 4095:case 3583:case 4068:case 2532:return cL(e,/(.+)-inline(.+)/,zL+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(pL(e)-1-t>6)switch(dL(e,t+1)){case 109:if(45!==dL(e,t+4))break;case 102:return cL(e,/(.+:)(.+)-([^]+)/,"$1"+zL+"$2-$3$1"+UL+(108==dL(e,t+3)?"$3":"$2-$3"))+e;case 115:return~uL(e,"stretch")?rI(cL(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==dL(e,t+1))break;case 6444:switch(dL(e,pL(e)-3-(~uL(e,"!important")&&10))){case 107:return cL(e,":",":"+zL)+e;case 101:return cL(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+zL+(45===dL(e,14)?"inline-":"")+"box$3$1"+zL+"$2$3$1"+FL+"$2box$3")+e}break;case 5936:switch(dL(e,t+11)){case 114:return zL+e+FL+cL(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return zL+e+FL+cL(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return zL+e+FL+cL(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return zL+e+FL+e+e}return e}var aI=[function(e,t,n,i){if(e.length>-1&&!e.return)switch(e.type){case VL:e.return=rI(e.value,e.length);break;case WL:return GL([SL(e,{value:cL(e.value,"@","@"+zL)})],i);case HL:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return GL([SL(e,{props:[cL(t,/:(read-\w+)/,":-moz-$1")]})],i);case"::placeholder":return GL([SL(e,{props:[cL(t,/:(plac\w+)/,":"+zL+"input-$1")]}),SL(e,{props:[cL(t,/:(plac\w+)/,":-moz-$1")]}),SL(e,{props:[cL(t,/:(plac\w+)/,FL+"input-$1")]})],i)}return""}))}}],oI=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||aI;var r,a,o={},s=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;s.push(e)}));var l=[nI,iI];var c,u=[qL,YL((function(e){c.insert(e)}))],d=function(e){var t=fL(e);return function(n,i,r,a){for(var o="",s=0;s<t;s++)o+=e[s](n,i,r,a)||"";return o}}(l.concat(i,u));a=function(e,t,n,i){c=n,function(e){GL(XL(e),d)}(e?e+"{"+t.styles+"}":t.styles),i&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new rL({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(s),h};var sI=function(e,t,n){var i=e.key+"-"+t.name;!1===n&&void 0===e.registered[i]&&(e.registered[i]=t.styles)};var lI=n(3342);function cI(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var uI=/[A-Z]|^ms/g,dI=/_EMO_([^_]+?)_([^]*?)_EMO_/g,hI=function(e){return 45===e.charCodeAt(1)},pI=function(e){return null!=e&&"boolean"!==typeof e},fI=cI((function(e){return hI(e)?e:e.replace(uI,"-$&").toLowerCase()})),mI=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(dI,(function(e,t,n){return gI={name:t,styles:n,next:gI},t}))}return 1===lI.A[e]||hI(e)||"number"!==typeof t||0===t?t:t+"px"};function vI(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return gI={name:n.name,styles:n.styles,next:gI},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)gI={name:i.name,styles:i.styles,next:gI},i=i.next;return n.styles+";"}return function(e,t,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=vI(e,t,n[r])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?i+=a+"{"+t[o]+"}":pI(o)&&(i+=fI(a)+":"+mI(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=vI(e,t,o);switch(a){case"animation":case"animationName":i+=fI(a)+":"+s+";";break;default:i+=a+"{"+s+"}"}}else for(var l=0;l<o.length;l++)pI(o[l])&&(i+=fI(a)+":"+mI(a,o[l])+";")}return i}(e,t,n);case"function":if(void 0!==e){var r=gI,a=n(e);return gI=r,vI(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var gI,yI=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var bI=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,r="";gI=void 0;var a=e[0];null==a||void 0===a.raw?(i=!1,r+=vI(n,t,a)):r+=a[0];for(var o=1;o<e.length;o++)r+=vI(n,t,e[o]),i&&(r+=a[o]);yI.lastIndex=0;for(var s,l="";null!==(s=yI.exec(r));)l+="-"+s[1];var c=function(e){for(var t,n=0,i=0,r=e.length;r>=4;++i,r-=4)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(r){case 3:n^=(255&e.charCodeAt(i+2))<<16;case 2:n^=(255&e.charCodeAt(i+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(i)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(r)+l;return{name:c,styles:r,next:gI}},xI=!!a.useInsertionEffect&&a.useInsertionEffect,_I=xI||function(e){return e()},wI=(xI||r.useLayoutEffect,{}.hasOwnProperty),SI=r.createContext("undefined"!==typeof HTMLElement?oI({key:"css"}):null);SI.Provider;var MI=function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(SI);return e(t,i,n)}))};var EI=r.createContext({});var CI="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",TI=function(e){var t=e.cache,n=e.serialized,i=e.isStringTag;return sI(t,n,i),_I((function(){return function(e,t,n){sI(e,t,n);var i=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var r=t;do{e.insert(t===r?"."+i:"",r,e.sheet,!0),r=r.next}while(void 0!==r)}}(t,n,i)})),null},NI=MI((function(e,t,n){var i=e.css;"string"===typeof i&&void 0!==t.registered[i]&&(i=t.registered[i]);var a=e[CI],o=[i],s="";"string"===typeof e.className?s=function(e,t,n){var i="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):i+=n+" "})),i}(t.registered,o,e.className):null!=e.className&&(s=e.className+" ");var l=bI(o,void 0,r.useContext(EI));s+=t.key+"-"+l.name;var c={};for(var u in e)wI.call(e,u)&&"css"!==u&&u!==CI&&(c[u]=e[u]);return c.ref=n,c.className=s,r.createElement(r.Fragment,null,r.createElement(TI,{cache:t,serialized:l,isStringTag:"string"===typeof a}),r.createElement(a,c))}));var AI=NI,kI=(n(219),function(e,t){var n=arguments;if(null==t||!wI.call(t,"css"))return r.createElement.apply(void 0,n);var i=n.length,a=new Array(i);a[0]=AI,a[1]=function(e,t){var n={};for(var i in t)wI.call(t,i)&&(n[i]=t[i]);return n[CI]=e,n}(e,t);for(var o=2;o<i;o++)a[o]=n[o];return r.createElement.apply(null,a)});function OI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return bI(t)}const PI=Math.min,RI=Math.max,jI=Math.round,LI=Math.floor,II=e=>({x:e,y:e});function DI(e){const{x:t,y:n,width:i,height:r}=e;return{width:i,height:r,top:n,left:t,right:t+i,bottom:n+r,x:t,y:n}}function FI(e){return BI(e)?(e.nodeName||"").toLowerCase():"#document"}function UI(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function zI(e){var t;return null==(t=(BI(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function BI(e){return e instanceof Node||e instanceof UI(e).Node}function HI(e){return e instanceof Element||e instanceof UI(e).Element}function VI(e){return e instanceof HTMLElement||e instanceof UI(e).HTMLElement}function WI(e){return"undefined"!==typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof UI(e).ShadowRoot)}function GI(e){const{overflow:t,overflowX:n,overflowY:i,display:r}=XI(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(r)}function qI(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function YI(e){return["html","body","#document"].includes(FI(e))}function XI(e){return UI(e).getComputedStyle(e)}function ZI(e){if("html"===FI(e))return e;const t=e.assignedSlot||e.parentNode||WI(e)&&e.host||zI(e);return WI(t)?t.host:t}function KI(e){const t=ZI(e);return YI(t)?e.ownerDocument?e.ownerDocument.body:e.body:VI(t)&&GI(t)?t:KI(t)}function JI(e,t,n){var i;void 0===t&&(t=[]),void 0===n&&(n=!0);const r=KI(e),a=r===(null==(i=e.ownerDocument)?void 0:i.body),o=UI(r);return a?t.concat(o,o.visualViewport||[],GI(r)?r:[],o.frameElement&&n?JI(o.frameElement):[]):t.concat(r,JI(r,[],n))}function $I(e){const t=XI(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const r=VI(e),a=r?e.offsetWidth:n,o=r?e.offsetHeight:i,s=jI(n)!==a||jI(i)!==o;return s&&(n=a,i=o),{width:n,height:i,$:s}}function QI(e){return HI(e)?e:e.contextElement}function eD(e){const t=QI(e);if(!VI(t))return II(1);const n=t.getBoundingClientRect(),{width:i,height:r,$:a}=$I(t);let o=(a?jI(n.width):n.width)/i,s=(a?jI(n.height):n.height)/r;return o&&Number.isFinite(o)||(o=1),s&&Number.isFinite(s)||(s=1),{x:o,y:s}}const tD=II(0);function nD(e){const t=UI(e);return qI()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:tD}function iD(e,t,n,i){void 0===t&&(t=!1),void 0===n&&(n=!1);const r=e.getBoundingClientRect(),a=QI(e);let o=II(1);t&&(i?HI(i)&&(o=eD(i)):o=eD(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==UI(e))&&t}(a,n,i)?nD(a):II(0);let l=(r.left+s.x)/o.x,c=(r.top+s.y)/o.y,u=r.width/o.x,d=r.height/o.y;if(a){const e=UI(a),t=i&&HI(i)?UI(i):i;let n=e,r=n.frameElement;for(;r&&i&&t!==n;){const e=eD(r),t=r.getBoundingClientRect(),i=XI(r),a=t.left+(r.clientLeft+parseFloat(i.paddingLeft))*e.x,o=t.top+(r.clientTop+parseFloat(i.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=a,c+=o,n=UI(r),r=n.frameElement}}return DI({width:u,height:d,x:l,y:c})}function rD(e,t,n,i){void 0===i&&(i={});const{ancestorScroll:r=!0,ancestorResize:a=!0,elementResize:o="function"===typeof ResizeObserver,layoutShift:s="function"===typeof IntersectionObserver,animationFrame:l=!1}=i,c=QI(e),u=r||a?[...c?JI(c):[],...JI(t)]:[];u.forEach((e=>{r&&e.addEventListener("scroll",n,{passive:!0}),a&&e.addEventListener("resize",n)}));const d=c&&s?function(e,t){let n,i=null;const r=zI(e);function a(){var e;clearTimeout(n),null==(e=i)||e.disconnect(),i=null}return function o(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),a();const{left:c,top:u,width:d,height:h}=e.getBoundingClientRect();if(s||t(),!d||!h)return;const p={rootMargin:-LI(u)+"px "+-LI(r.clientWidth-(c+d))+"px "+-LI(r.clientHeight-(u+h))+"px "+-LI(c)+"px",threshold:RI(0,PI(1,l))||1};let f=!0;function m(e){const t=e[0].intersectionRatio;if(t!==l){if(!f)return o();t?o(!1,t):n=setTimeout((()=>{o(!1,1e-7)}),1e3)}f=!1}try{i=new IntersectionObserver(m,{...p,root:r.ownerDocument})}catch(fU){i=new IntersectionObserver(m,p)}i.observe(e)}(!0),a}(c,n):null;let h,p=-1,f=null;o&&(f=new ResizeObserver((e=>{let[i]=e;i&&i.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame((()=>{var e;null==(e=f)||e.observe(t)}))),n()})),c&&!l&&f.observe(c),f.observe(t));let m=l?iD(e):null;return l&&function t(){const i=iD(e);!m||i.x===m.x&&i.y===m.y&&i.width===m.width&&i.height===m.height||n();m=i,h=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach((e=>{r&&e.removeEventListener("scroll",n),a&&e.removeEventListener("resize",n)})),null==d||d(),null==(e=f)||e.disconnect(),f=null,l&&cancelAnimationFrame(h)}}const aD=r.useLayoutEffect;var oD=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],sD=function(){};function lD(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function cD(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var a=[].concat(i);if(t&&e)for(var o in t)t.hasOwnProperty(o)&&t[o]&&a.push("".concat(lD(e,o)));return a.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var uD=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):"object"===la(e)&&null!==e?[e]:[];var t},dD=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,Gj({},Zj(e,oD))},hD=function(e,t,n){var i=e.cx,r=e.getStyles,a=e.getClassNames,o=e.className;return{css:r(t,e),className:i(null!==n&&void 0!==n?n:{},a(t,e),o)}};function pD(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function fD(e){return pD(e)?window.pageYOffset:e.scrollTop}function mD(e,t){pD(e)?window.scrollTo(0,t):e.scrollTop=t}function vD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:sD,r=fD(e),a=t-r,o=0;!function t(){var s=function(e,t,n,i){return n*((e=e/i-1)*e*e+1)+t}(o+=10,r,a,n);mD(e,s),o<n?window.requestAnimationFrame(t):i(e)}()}function gD(e,t){var n=e.getBoundingClientRect(),i=t.getBoundingClientRect(),r=t.offsetHeight/3;i.bottom+r>n.bottom?mD(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+r,e.scrollHeight)):i.top-r<n.top&&mD(e,Math.max(t.offsetTop-r,0))}function yD(){try{return document.createEvent("TouchEvent"),!0}catch(fU){return!1}}var bD=!1,xD={get passive(){return bD=!0}},_D="undefined"!==typeof window?window:{};_D.addEventListener&&_D.removeEventListener&&(_D.addEventListener("p",sD,xD),_D.removeEventListener("p",sD,!1));var wD=bD;function SD(e){return null!=e}function MD(e,t,n){return e?t:n}var ED=["children","innerProps"],CD=["children","innerProps"];function TD(e){var t=e.maxHeight,n=e.menuEl,i=e.minHeight,r=e.placement,a=e.shouldScroll,o=e.isFixedPosition,s=e.controlHeight,l=function(e){var t=getComputedStyle(e),n="absolute"===t.position,i=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var r=e;r=r.parentElement;)if(t=getComputedStyle(r),(!n||"static"!==t.position)&&i.test(t.overflow+t.overflowY+t.overflowX))return r;return document.documentElement}(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var u,d=l.getBoundingClientRect().height,h=n.getBoundingClientRect(),p=h.bottom,f=h.height,m=h.top,v=n.offsetParent.getBoundingClientRect().top,g=o?window.innerHeight:pD(u=l)?window.innerHeight:u.clientHeight,y=fD(l),b=parseInt(getComputedStyle(n).marginBottom,10),x=parseInt(getComputedStyle(n).marginTop,10),_=v-x,w=g-m,S=_+y,M=d-y-m,E=p-g+y+b,C=y+m-x,T=160;switch(r){case"auto":case"bottom":if(w>=f)return{placement:"bottom",maxHeight:t};if(M>=f&&!o)return a&&vD(l,E,T),{placement:"bottom",maxHeight:t};if(!o&&M>=i||o&&w>=i)return a&&vD(l,E,T),{placement:"bottom",maxHeight:o?w-b:M-b};if("auto"===r||o){var N=t,A=o?_:S;return A>=i&&(N=Math.min(A-b-s,t)),{placement:"top",maxHeight:N}}if("bottom"===r)return a&&mD(l,E),{placement:"bottom",maxHeight:t};break;case"top":if(_>=f)return{placement:"top",maxHeight:t};if(S>=f&&!o)return a&&vD(l,C,T),{placement:"top",maxHeight:t};if(!o&&S>=i||o&&_>=i){var k=t;return(!o&&S>=i||o&&_>=i)&&(k=o?_-x:S-x),a&&vD(l,C,T),{placement:"top",maxHeight:k}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(r,'".'))}return c}var ND,AD=function(e){return"auto"===e?"bottom":e},kD=(0,r.createContext)(null),OD=function(e){var t=e.children,n=e.minMenuHeight,i=e.maxMenuHeight,a=e.menuPlacement,o=e.menuPosition,s=e.menuShouldScrollIntoView,l=e.theme,c=((0,r.useContext)(kD)||{}).setPortalPlacement,u=(0,r.useRef)(null),d=Xj((0,r.useState)(i),2),h=d[0],p=d[1],f=Xj((0,r.useState)(null),2),m=f[0],v=f[1],g=l.spacing.controlHeight;return aD((function(){var e=u.current;if(e){var t="fixed"===o,r=TD({maxHeight:i,menuEl:e,minHeight:n,placement:a,shouldScroll:s&&!t,isFixedPosition:t,controlHeight:g});p(r.maxHeight),v(r.placement),null===c||void 0===c||c(r.placement)}}),[i,a,o,s,n,c,g]),t({ref:u,placerProps:Gj(Gj({},e),{},{placement:m||AD(a),maxHeight:h})})},PD=function(e){var t=e.children,n=e.innerRef,i=e.innerProps;return kI("div",Jj({},hD(e,"menu",{menu:!0}),{ref:n},i),t)},RD=function(e,t){var n=e.theme,i=n.spacing.baseUnit,r=n.colors;return Gj({textAlign:"center"},t?{}:{color:r.neutral40,padding:"".concat(2*i,"px ").concat(3*i,"px")})},jD=RD,LD=RD,ID=["size"],DD=["innerProps","isRtl","size"];var FD,UD,zD={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},BD=function(e){var t=e.size,n=Zj(e,ID);return kI("svg",Jj({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:zD},n))},HD=function(e){return kI(BD,Jj({size:20},e),kI("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},VD=function(e){return kI(BD,Jj({size:20},e),kI("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},WD=function(e,t){var n=e.isFocused,i=e.theme,r=i.spacing.baseUnit,a=i.colors;return Gj({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:n?a.neutral60:a.neutral20,padding:2*r,":hover":{color:n?a.neutral80:a.neutral40}})},GD=WD,qD=WD,YD=function(){var e=OI.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(ND||(FD=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],UD||(UD=FD.slice(0)),ND=Object.freeze(Object.defineProperties(FD,{raw:{value:Object.freeze(UD)}})))),XD=function(e){var t=e.delay,n=e.offset;return kI("span",{css:OI({animation:"".concat(YD," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},ZD=function(e){var t=e.children,n=e.isDisabled,i=e.isFocused,r=e.innerRef,a=e.innerProps,o=e.menuIsOpen;return kI("div",Jj({ref:r},hD(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":i,"control--menu-is-open":o}),a,{"aria-disabled":n||void 0}),t)},KD=["data"],JD=function(e){var t=e.children,n=e.cx,i=e.getStyles,r=e.getClassNames,a=e.Heading,o=e.headingProps,s=e.innerProps,l=e.label,c=e.theme,u=e.selectProps;return kI("div",Jj({},hD(e,"group",{group:!0}),s),kI(a,Jj({},o,{selectProps:u,theme:c,getStyles:i,getClassNames:r,cx:n}),l),kI("div",null,t))},$D=["innerRef","isDisabled","isHidden","inputClassName"],QD={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},eF={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Gj({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},QD)},tF=function(e){return Gj({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},QD)},nF=function(e){var t=e.children,n=e.innerProps;return kI("div",n,t)};var iF=function(e){var t=e.children,n=e.components,i=e.data,r=e.innerProps,a=e.isDisabled,o=e.removeProps,s=e.selectProps,l=n.Container,c=n.Label,u=n.Remove;return kI(l,{data:i,innerProps:Gj(Gj({},hD(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),r),selectProps:s},kI(c,{data:i,innerProps:Gj({},hD(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:s},t),kI(u,{data:i,innerProps:Gj(Gj({},hD(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},o),selectProps:s}))},rF={ClearIndicator:function(e){var t=e.children,n=e.innerProps;return kI("div",Jj({},hD(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),t||kI(HD,null))},Control:ZD,DropdownIndicator:function(e){var t=e.children,n=e.innerProps;return kI("div",Jj({},hD(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),t||kI(VD,null))},DownChevron:VD,CrossIcon:HD,Group:JD,GroupHeading:function(e){var t=dD(e);t.data;var n=Zj(t,KD);return kI("div",Jj({},hD(e,"groupHeading",{"group-heading":!0}),n))},IndicatorsContainer:function(e){var t=e.children,n=e.innerProps;return kI("div",Jj({},hD(e,"indicatorsContainer",{indicators:!0}),n),t)},IndicatorSeparator:function(e){var t=e.innerProps;return kI("span",Jj({},t,hD(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,n=e.value,i=dD(e),r=i.innerRef,a=i.isDisabled,o=i.isHidden,s=i.inputClassName,l=Zj(i,$D);return kI("div",Jj({},hD(e,"input",{"input-container":!0}),{"data-value":n||""}),kI("input",Jj({className:t({input:!0},s),ref:r,style:tF(o),disabled:a},l)))},LoadingIndicator:function(e){var t=e.innerProps,n=e.isRtl,i=e.size,r=void 0===i?4:i,a=Zj(e,DD);return kI("div",Jj({},hD(Gj(Gj({},a),{},{innerProps:t,isRtl:n,size:r}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),kI(XD,{delay:0,offset:n}),kI(XD,{delay:160,offset:!0}),kI(XD,{delay:320,offset:!n}))},Menu:PD,MenuList:function(e){var t=e.children,n=e.innerProps,i=e.innerRef,r=e.isMulti;return kI("div",Jj({},hD(e,"menuList",{"menu-list":!0,"menu-list--is-multi":r}),{ref:i},n),t)},MenuPortal:function(e){var t=e.appendTo,n=e.children,i=e.controlElement,a=e.innerProps,o=e.menuPlacement,l=e.menuPosition,c=(0,r.useRef)(null),u=(0,r.useRef)(null),d=Xj((0,r.useState)(AD(o)),2),h=d[0],p=d[1],f=(0,r.useMemo)((function(){return{setPortalPlacement:p}}),[]),m=Xj((0,r.useState)(null),2),v=m[0],g=m[1],y=(0,r.useCallback)((function(){if(i){var e=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(i),t="fixed"===l?0:window.pageYOffset,n=e[h]+t;n===(null===v||void 0===v?void 0:v.offset)&&e.left===(null===v||void 0===v?void 0:v.rect.left)&&e.width===(null===v||void 0===v?void 0:v.rect.width)||g({offset:n,rect:e})}}),[i,l,h,null===v||void 0===v?void 0:v.offset,null===v||void 0===v?void 0:v.rect.left,null===v||void 0===v?void 0:v.rect.width]);aD((function(){y()}),[y]);var b=(0,r.useCallback)((function(){"function"===typeof u.current&&(u.current(),u.current=null),i&&c.current&&(u.current=rD(i,c.current,y,{elementResize:"ResizeObserver"in window}))}),[i,y]);aD((function(){b()}),[b]);var x=(0,r.useCallback)((function(e){c.current=e,b()}),[b]);if(!t&&"fixed"!==l||!v)return null;var _=kI("div",Jj({ref:x},hD(Gj(Gj({},e),{},{offset:v.offset,position:l,rect:v.rect}),"menuPortal",{"menu-portal":!0}),a),n);return kI(kD.Provider,{value:f},t?(0,s.createPortal)(_,t):_)},LoadingMessage:function(e){var t=e.children,n=void 0===t?"Loading...":t,i=e.innerProps,r=Zj(e,CD);return kI("div",Jj({},hD(Gj(Gj({},r),{},{children:n,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),n)},NoOptionsMessage:function(e){var t=e.children,n=void 0===t?"No options":t,i=e.innerProps,r=Zj(e,ED);return kI("div",Jj({},hD(Gj(Gj({},r),{},{children:n,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),n)},MultiValue:iF,MultiValueContainer:nF,MultiValueLabel:nF,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return kI("div",Jj({role:"button"},n),t||kI(HD,{size:14}))},Option:function(e){var t=e.children,n=e.isDisabled,i=e.isFocused,r=e.isSelected,a=e.innerRef,o=e.innerProps;return kI("div",Jj({},hD(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":i,"option--is-selected":r}),{ref:a,"aria-disabled":n},o),t)},Placeholder:function(e){var t=e.children,n=e.innerProps;return kI("div",Jj({},hD(e,"placeholder",{placeholder:!0}),n),t)},SelectContainer:function(e){var t=e.children,n=e.innerProps,i=e.isDisabled,r=e.isRtl;return kI("div",Jj({},hD(e,"container",{"--is-disabled":i,"--is-rtl":r}),n),t)},SingleValue:function(e){var t=e.children,n=e.isDisabled,i=e.innerProps;return kI("div",Jj({},hD(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),i),t)},ValueContainer:function(e){var t=e.children,n=e.innerProps,i=e.isMulti,r=e.hasValue;return kI("div",Jj({},hD(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":r}),n),t)}},aF=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function oF(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(i=e[n],r=t[n],!(i===r||aF(i)&&aF(r)))return!1;var i,r;return!0}for(var sF={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},lF=function(e){return kI("span",Jj({css:sF},e))},cF={guidance:function(e){var t=e.isSearchable,n=e.isMulti,i=e.tabSelectsValue,r=e.context,a=e.isInitialFocus;switch(r){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return a?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,i=void 0===n?"":n,r=e.labels,a=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(r.length>1?"s":""," ").concat(r.join(","),", selected.");case"select-option":return"option ".concat(i,a?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,i=e.options,r=e.label,a=void 0===r?"":r,o=e.selectValue,s=e.isDisabled,l=e.isSelected,c=e.isAppleDevice,u=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&o)return"value ".concat(a," focused, ").concat(u(o,n),".");if("menu"===t&&c){var d=s?" disabled":"",h="".concat(l?" selected":"").concat(d);return"".concat(a).concat(h,", ").concat(u(i,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},uF=function(e){var t=e.ariaSelection,n=e.focusedOption,i=e.focusedValue,a=e.focusableOptions,o=e.isFocused,s=e.selectValue,l=e.selectProps,c=e.id,u=e.isAppleDevice,d=l.ariaLiveMessages,h=l.getOptionLabel,p=l.inputValue,f=l.isMulti,m=l.isOptionDisabled,v=l.isSearchable,g=l.menuIsOpen,y=l.options,b=l.screenReaderStatus,x=l.tabSelectsValue,_=l.isLoading,w=l["aria-label"],S=l["aria-live"],M=(0,r.useMemo)((function(){return Gj(Gj({},cF),d||{})}),[d]),E=(0,r.useMemo)((function(){var e,n="";if(t&&M.onChange){var i=t.option,r=t.options,a=t.removedValue,o=t.removedValues,l=t.value,c=a||i||(e=l,Array.isArray(e)?null:e),u=c?h(c):"",d=r||o||void 0,p=d?d.map(h):[],f=Gj({isDisabled:c&&m(c,s),label:u,labels:p},t);n=M.onChange(f)}return n}),[t,M,m,s,h]),C=(0,r.useMemo)((function(){var e="",t=n||i,r=!!(n&&s&&s.includes(n));if(t&&M.onFocus){var o={focused:t,label:h(t),isDisabled:m(t,s),isSelected:r,options:a,context:t===n?"menu":"value",selectValue:s,isAppleDevice:u};e=M.onFocus(o)}return e}),[n,i,h,m,M,a,s,u]),T=(0,r.useMemo)((function(){var e="";if(g&&y.length&&!_&&M.onFilter){var t=b({count:a.length});e=M.onFilter({inputValue:p,resultsMessage:t})}return e}),[a,p,g,M,y,b,_]),N="initial-input-focus"===(null===t||void 0===t?void 0:t.action),A=(0,r.useMemo)((function(){var e="";if(M.guidance){var t=i?"value":g?"menu":"input";e=M.guidance({"aria-label":w,context:t,isDisabled:n&&m(n,s),isMulti:f,isSearchable:v,tabSelectsValue:x,isInitialFocus:N})}return e}),[w,n,i,f,m,v,g,M,s,x,N]),k=kI(r.Fragment,null,kI("span",{id:"aria-selection"},E),kI("span",{id:"aria-focused"},C),kI("span",{id:"aria-results"},T),kI("span",{id:"aria-guidance"},A));return kI(r.Fragment,null,kI(lF,{id:c},N&&k),kI(lF,{"aria-live":S,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!N&&k))},dF=[{base:"A",letters:"A\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",letters:"\ua732"},{base:"AE",letters:"\xc6\u01fc\u01e2"},{base:"AO",letters:"\ua734"},{base:"AU",letters:"\ua736"},{base:"AV",letters:"\ua738\ua73a"},{base:"AY",letters:"\ua73c"},{base:"B",letters:"B\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0182\u0181"},{base:"C",letters:"C\u24b8\uff23\u0106\u0108\u010a\u010c\xc7\u1e08\u0187\u023b\ua73e"},{base:"D",letters:"D\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018b\u018a\u0189\ua779"},{base:"DZ",letters:"\u01f1\u01c4"},{base:"Dz",letters:"\u01f2\u01c5"},{base:"E",letters:"E\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e"},{base:"F",letters:"F\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",letters:"G\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e"},{base:"H",letters:"H\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",letters:"I\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",letters:"J\u24bf\uff2a\u0134\u0248"},{base:"K",letters:"K\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",letters:"L\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",letters:"\u01c7"},{base:"Lj",letters:"\u01c8"},{base:"M",letters:"M\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c"},{base:"N",letters:"N\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u0220\u019d\ua790\ua7a4"},{base:"NJ",letters:"\u01ca"},{base:"Nj",letters:"\u01cb"},{base:"O",letters:"O\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OI",letters:"\u01a2"},{base:"OO",letters:"\ua74e"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",letters:"Q\u24c6\uff31\ua756\ua758\u024a"},{base:"R",letters:"R\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",letters:"S\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",letters:"T\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"TZ",letters:"\ua728"},{base:"U",letters:"U\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",letters:"V\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",letters:"\ua760"},{base:"W",letters:"W\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",letters:"X\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",letters:"Y\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",letters:"Z\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",letters:"a\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250"},{base:"aa",letters:"\ua733"},{base:"ae",letters:"\xe6\u01fd\u01e3"},{base:"ao",letters:"\ua735"},{base:"au",letters:"\ua737"},{base:"av",letters:"\ua739\ua73b"},{base:"ay",letters:"\ua73d"},{base:"b",letters:"b\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253"},{base:"c",letters:"c\u24d2\uff43\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",letters:"d\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\ua77a"},{base:"dz",letters:"\u01f3\u01c6"},{base:"e",letters:"e\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u025b\u01dd"},{base:"f",letters:"f\u24d5\uff46\u1e1f\u0192\ua77c"},{base:"g",letters:"g\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\u1d79\ua77f"},{base:"h",letters:"h\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",letters:"j\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",letters:"k\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",letters:"l\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747"},{base:"lj",letters:"\u01c9"},{base:"m",letters:"m\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",letters:"n\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5"},{base:"nj",letters:"\u01cc"},{base:"o",letters:"o\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\u0254\ua74b\ua74d\u0275"},{base:"oi",letters:"\u01a3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\ua74f"},{base:"p",letters:"p\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755"},{base:"q",letters:"q\u24e0\uff51\u024b\ua757\ua759"},{base:"r",letters:"r\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",letters:"s\u24e2\uff53\xdf\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b"},{base:"t",letters:"t\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"tz",letters:"\ua729"},{base:"u",letters:"u\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",letters:"v\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",letters:"\ua761"},{base:"w",letters:"w\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",letters:"x\u24e7\uff58\u1e8b\u1e8d"},{base:"y",letters:"y\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",letters:"z\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],hF=new RegExp("["+dF.map((function(e){return e.letters})).join("")+"]","g"),pF={},fF=0;fF<dF.length;fF++)for(var mF=dF[fF],vF=0;vF<mF.letters.length;vF++)pF[mF.letters[vF]]=mF.base;var gF=function(e){return e.replace(hF,(function(e){return pF[e]}))},yF=function(e,t){void 0===t&&(t=oF);var n=null;function i(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;var a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return i.clear=function(){n=null},i}(gF),bF=function(e){return e.replace(/^\s+|\s+$/g,"")},xF=function(e){return"".concat(e.label," ").concat(e.value)},_F=["innerRef"];function wF(e){var t=e.innerRef,n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=Object.entries(e).filter((function(e){var t=Xj(e,1)[0];return!n.includes(t)}));return r.reduce((function(e,t){var n=Xj(t,2),i=n[0],r=n[1];return e[i]=r,e}),{})}(Zj(e,_F),"onExited","in","enter","exit","appear");return kI("input",Jj({ref:t},n,{css:OI({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var SF=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};var MF=["boxSizing","height","overflow","paddingRight","position"],EF={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function CF(e){e.cancelable&&e.preventDefault()}function TF(e){e.stopPropagation()}function NF(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function AF(){return"ontouchstart"in window||navigator.maxTouchPoints}var kF=!("undefined"===typeof window||!window.document||!window.document.createElement),OF=0,PF={capture:!1,passive:!1};var RF=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},jF={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function LF(e){var t=e.children,n=e.lockEnabled,i=e.captureEnabled,a=function(e){var t=e.isEnabled,n=e.onBottomArrive,i=e.onBottomLeave,a=e.onTopArrive,o=e.onTopLeave,s=(0,r.useRef)(!1),l=(0,r.useRef)(!1),c=(0,r.useRef)(0),u=(0,r.useRef)(null),d=(0,r.useCallback)((function(e,t){if(null!==u.current){var r=u.current,c=r.scrollTop,d=r.scrollHeight,h=r.clientHeight,p=u.current,f=t>0,m=d-h-c,v=!1;m>t&&s.current&&(i&&i(e),s.current=!1),f&&l.current&&(o&&o(e),l.current=!1),f&&t>m?(n&&!s.current&&n(e),p.scrollTop=d,v=!0,s.current=!0):!f&&-t>c&&(a&&!l.current&&a(e),p.scrollTop=0,v=!0,l.current=!0),v&&SF(e)}}),[n,i,a,o]),h=(0,r.useCallback)((function(e){d(e,e.deltaY)}),[d]),p=(0,r.useCallback)((function(e){c.current=e.changedTouches[0].clientY}),[]),f=(0,r.useCallback)((function(e){var t=c.current-e.changedTouches[0].clientY;d(e,t)}),[d]),m=(0,r.useCallback)((function(e){if(e){var t=!!wD&&{passive:!1};e.addEventListener("wheel",h,t),e.addEventListener("touchstart",p,t),e.addEventListener("touchmove",f,t)}}),[f,p,h]),v=(0,r.useCallback)((function(e){e&&(e.removeEventListener("wheel",h,!1),e.removeEventListener("touchstart",p,!1),e.removeEventListener("touchmove",f,!1))}),[f,p,h]);return(0,r.useEffect)((function(){if(t){var e=u.current;return m(e),function(){v(e)}}}),[t,m,v]),function(e){u.current=e}}({isEnabled:void 0===i||i,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),o=function(e){var t=e.isEnabled,n=e.accountForScrollbars,i=void 0===n||n,a=(0,r.useRef)({}),o=(0,r.useRef)(null),s=(0,r.useCallback)((function(e){if(kF){var t=document.body,n=t&&t.style;if(i&&MF.forEach((function(e){var t=n&&n[e];a.current[e]=t})),i&&OF<1){var r=parseInt(a.current.paddingRight,10)||0,o=document.body?document.body.clientWidth:0,s=window.innerWidth-o+r||0;Object.keys(EF).forEach((function(e){var t=EF[e];n&&(n[e]=t)})),n&&(n.paddingRight="".concat(s,"px"))}t&&AF()&&(t.addEventListener("touchmove",CF,PF),e&&(e.addEventListener("touchstart",NF,PF),e.addEventListener("touchmove",TF,PF))),OF+=1}}),[i]),l=(0,r.useCallback)((function(e){if(kF){var t=document.body,n=t&&t.style;OF=Math.max(OF-1,0),i&&OF<1&&MF.forEach((function(e){var t=a.current[e];n&&(n[e]=t)})),t&&AF()&&(t.removeEventListener("touchmove",CF,PF),e&&(e.removeEventListener("touchstart",NF,PF),e.removeEventListener("touchmove",TF,PF)))}}),[i]);return(0,r.useEffect)((function(){if(t){var e=o.current;return s(e),function(){l(e)}}}),[t,s,l]),function(e){o.current=e}}({isEnabled:n});return kI(r.Fragment,null,n&&kI("div",{onClick:RF,css:jF}),t((function(e){a(e),o(e)})))}var IF={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},DF=function(e){var t=e.name,n=e.onFocus;return kI("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:IF,value:"",onChange:function(){}})};function FF(e){var t;return"undefined"!==typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function UF(){return FF(/^Mac/i)}function zF(){return FF(/^iPhone/i)||FF(/^iPad/i)||UF()&&navigator.maxTouchPoints>1}var BF={clearIndicator:qD,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var n=e.isDisabled,i=e.isFocused,r=e.theme,a=r.colors,o=r.borderRadius;return Gj({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:r.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:n?a.neutral5:a.neutral0,borderColor:n?a.neutral10:i?a.primary:a.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:i?a.primary:a.neutral30}})},dropdownIndicator:GD,group:function(e,t){var n=e.theme.spacing;return t?{}:{paddingBottom:2*n.baseUnit,paddingTop:2*n.baseUnit}},groupHeading:function(e,t){var n=e.theme,i=n.colors,r=n.spacing;return Gj({label:"group",cursor:"default",display:"block"},t?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*r.baseUnit,paddingRight:3*r.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var n=e.isDisabled,i=e.theme,r=i.spacing.baseUnit,a=i.colors;return Gj({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:n?a.neutral10:a.neutral20,marginBottom:2*r,marginTop:2*r})},input:function(e,t){var n=e.isDisabled,i=e.value,r=e.theme,a=r.spacing,o=r.colors;return Gj(Gj({visibility:n?"hidden":"visible",transform:i?"translateZ(0)":""},eF),t?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:o.neutral80})},loadingIndicator:function(e,t){var n=e.isFocused,i=e.size,r=e.theme,a=r.colors,o=r.spacing.baseUnit;return Gj({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},t?{}:{color:n?a.neutral60:a.neutral20,padding:2*o})},loadingMessage:LD,menu:function(e,t){var n,i=e.placement,r=e.theme,a=r.borderRadius,o=r.spacing,s=r.colors;return Gj((ua(n={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(i),"100%"),ua(n,"position","absolute"),ua(n,"width","100%"),ua(n,"zIndex",1),n),t?{}:{backgroundColor:s.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:o.menuGutter,marginTop:o.menuGutter})},menuList:function(e,t){var n=e.maxHeight,i=e.theme.spacing.baseUnit;return Gj({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:i,paddingTop:i})},menuPortal:function(e){var t=e.rect,n=e.offset,i=e.position;return{left:t.left,position:i,top:n,width:t.width,zIndex:1}},multiValue:function(e,t){var n=e.theme,i=n.spacing,r=n.borderRadius,a=n.colors;return Gj({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:a.neutral10,borderRadius:r/2,margin:i.baseUnit/2})},multiValueLabel:function(e,t){var n=e.theme,i=n.borderRadius,r=n.colors,a=e.cropWithEllipsis;return Gj({overflow:"hidden",textOverflow:a||void 0===a?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:i/2,color:r.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var n=e.theme,i=n.spacing,r=n.borderRadius,a=n.colors,o=e.isFocused;return Gj({alignItems:"center",display:"flex"},t?{}:{borderRadius:r/2,backgroundColor:o?a.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},noOptionsMessage:jD,option:function(e,t){var n=e.isDisabled,i=e.isFocused,r=e.isSelected,a=e.theme,o=a.spacing,s=a.colors;return Gj({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:r?s.primary:i?s.primary25:"transparent",color:n?s.neutral20:r?s.neutral0:"inherit",padding:"".concat(2*o.baseUnit,"px ").concat(3*o.baseUnit,"px"),":active":{backgroundColor:n?void 0:r?s.primary:s.primary50}})},placeholder:function(e,t){var n=e.theme,i=n.spacing,r=n.colors;return Gj({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:r.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},singleValue:function(e,t){var n=e.isDisabled,i=e.theme,r=i.spacing,a=i.colors;return Gj({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:n?a.neutral40:a.neutral80,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},valueContainer:function(e,t){var n=e.theme.spacing,i=e.isMulti,r=e.hasValue,a=e.selectProps.controlShouldRenderValue;return Gj({alignItems:"center",display:i&&r&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(2*n.baseUnit,"px")})}};var HF,VF={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},WF={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:yD(),captureMenuScroll:!yD(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var n=Gj({ignoreCase:!0,ignoreAccents:!0,stringify:xF,trim:!0,matchFrom:"any"},HF),i=n.ignoreCase,r=n.ignoreAccents,a=n.stringify,o=n.trim,s=n.matchFrom,l=o?bF(t):t,c=o?bF(a(e)):a(e);return i&&(l=l.toLowerCase(),c=c.toLowerCase()),r&&(l=yF(l),c=gF(c)),"start"===s?c.substr(0,l.length)===l:c.indexOf(l)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(fU){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function GF(e,t,n,i){return{type:"option",data:t,isDisabled:QF(e,t,n),isSelected:eU(e,t,n),label:JF(e,t),value:$F(e,t),index:i}}function qF(e,t){return e.options.map((function(n,i){if("options"in n){var r=n.options.map((function(n,i){return GF(e,n,t,i)})).filter((function(t){return ZF(e,t)}));return r.length>0?{type:"group",data:n,options:r,index:i}:void 0}var a=GF(e,n,t,i);return ZF(e,a)?a:void 0})).filter(SD)}function YF(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,iL(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function XF(e,t){return e.reduce((function(e,n){return"group"===n.type?e.push.apply(e,iL(n.options.map((function(e){return{data:e.data,id:"".concat(t,"-").concat(n.index,"-").concat(e.index)}})))):e.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),e}),[])}function ZF(e,t){var n=e.inputValue,i=void 0===n?"":n,r=t.data,a=t.isSelected,o=t.label,s=t.value;return(!nU(e)||!a)&&tU(e,{label:o,value:s,data:r},i)}var KF=function(e,t){var n;return(null===(n=e.find((function(e){return e.data===t})))||void 0===n?void 0:n.id)||null},JF=function(e,t){return e.getOptionLabel(t)},$F=function(e,t){return e.getOptionValue(t)};function QF(e,t,n){return"function"===typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function eU(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"===typeof e.isOptionSelected)return e.isOptionSelected(t,n);var i=$F(e,t);return n.some((function(t){return $F(e,t)===i}))}function tU(e,t,n){return!e.filterOption||e.filterOption(t,n)}var nU=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},iU=1,rU=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qj(e,t)}(o,e);var t,n,i,a=function(e){var t=tL();return function(){var n,i=eL(e);if(t){var r=eL(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return nL(this,n)}}(o);function o(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=a.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},t.blockOptionHover=!1,t.isComposing=!1,t.commonProps=void 0,t.initialTouchX=0,t.initialTouchY=0,t.openAfterFocus=!1,t.scrollToFocusedOptionOnUpdate=!1,t.userIsDragging=void 0,t.isAppleDevice=UF()||zF(),t.controlRef=null,t.getControlRef=function(e){t.controlRef=e},t.focusedOptionRef=null,t.getFocusedOptionRef=function(e){t.focusedOptionRef=e},t.menuListRef=null,t.getMenuListRef=function(e){t.menuListRef=e},t.inputRef=null,t.getInputRef=function(e){t.inputRef=e},t.focus=t.focusInput,t.blur=t.blurInput,t.onChange=function(e,n){var i=t.props,r=i.onChange,a=i.name;n.name=a,t.ariaOnChange(e,n),r(e,n)},t.setValue=function(e,n,i){var r=t.props,a=r.closeMenuOnSelect,o=r.isMulti,s=r.inputValue;t.onInputChange("",{action:"set-value",prevInputValue:s}),a&&(t.setState({inputIsHiddenAfterUpdate:!o}),t.onMenuClose()),t.setState({clearFocusValueOnUpdate:!0}),t.onChange(e,{action:n,option:i})},t.selectOption=function(e){var n=t.props,i=n.blurInputOnSelect,r=n.isMulti,a=n.name,o=t.state.selectValue,s=r&&t.isOptionSelected(e,o),l=t.isOptionDisabled(e,o);if(s){var c=t.getOptionValue(e);t.setValue(o.filter((function(e){return t.getOptionValue(e)!==c})),"deselect-option",e)}else{if(l)return void t.ariaOnChange(e,{action:"select-option",option:e,name:a});r?t.setValue([].concat(iL(o),[e]),"select-option",e):t.setValue(e,"select-option")}i&&t.blurInput()},t.removeValue=function(e){var n=t.props.isMulti,i=t.state.selectValue,r=t.getOptionValue(e),a=i.filter((function(e){return t.getOptionValue(e)!==r})),o=MD(n,a,a[0]||null);t.onChange(o,{action:"remove-value",removedValue:e}),t.focusInput()},t.clearValue=function(){var e=t.state.selectValue;t.onChange(MD(t.props.isMulti,[],null),{action:"clear",removedValues:e})},t.popValue=function(){var e=t.props.isMulti,n=t.state.selectValue,i=n[n.length-1],r=n.slice(0,n.length-1),a=MD(e,r,r[0]||null);i&&t.onChange(a,{action:"pop-value",removedValue:i})},t.getFocusedOptionId=function(e){return KF(t.state.focusableOptionsWithIds,e)},t.getFocusableOptionsWithIds=function(){return XF(qF(t.props,t.state.selectValue),t.getElementId("option"))},t.getValue=function(){return t.state.selectValue},t.cx=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return cD.apply(void 0,[t.props.classNamePrefix].concat(n))},t.getOptionLabel=function(e){return JF(t.props,e)},t.getOptionValue=function(e){return $F(t.props,e)},t.getStyles=function(e,n){var i=t.props.unstyled,r=BF[e](n,i);r.boxSizing="border-box";var a=t.props.styles[e];return a?a(r,n):r},t.getClassNames=function(e,n){var i,r;return null===(i=(r=t.props.classNames)[e])||void 0===i?void 0:i.call(r,n)},t.getElementId=function(e){return"".concat(t.state.instancePrefix,"-").concat(e)},t.getComponents=function(){return e=t.props,Gj(Gj({},rF),e.components);var e},t.buildCategorizedOptions=function(){return qF(t.props,t.state.selectValue)},t.getCategorizedOptions=function(){return t.props.menuIsOpen?t.buildCategorizedOptions():[]},t.buildFocusableOptions=function(){return YF(t.buildCategorizedOptions())},t.getFocusableOptions=function(){return t.props.menuIsOpen?t.buildFocusableOptions():[]},t.ariaOnChange=function(e,n){t.setState({ariaSelection:Gj({value:e},n)})},t.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),t.focusInput())},t.onMenuMouseMove=function(e){t.blockOptionHover=!1},t.onControlMouseDown=function(e){if(!e.defaultPrevented){var n=t.props.openMenuOnClick;t.state.isFocused?t.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&t.onMenuClose():n&&t.openMenu("first"):(n&&(t.openAfterFocus=!0),t.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},t.onDropdownIndicatorMouseDown=function(e){if((!e||"mousedown"!==e.type||0===e.button)&&!t.props.isDisabled){var n=t.props,i=n.isMulti,r=n.menuIsOpen;t.focusInput(),r?(t.setState({inputIsHiddenAfterUpdate:!i}),t.onMenuClose()):t.openMenu("first"),e.preventDefault()}},t.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(t.clearValue(),e.preventDefault(),t.openAfterFocus=!1,"touchend"===e.type?t.focusInput():setTimeout((function(){return t.focusInput()})))},t.onScroll=function(e){"boolean"===typeof t.props.closeMenuOnScroll?e.target instanceof HTMLElement&&pD(e.target)&&t.props.onMenuClose():"function"===typeof t.props.closeMenuOnScroll&&t.props.closeMenuOnScroll(e)&&t.props.onMenuClose()},t.onCompositionStart=function(){t.isComposing=!0},t.onCompositionEnd=function(){t.isComposing=!1},t.onTouchStart=function(e){var n=e.touches,i=n&&n.item(0);i&&(t.initialTouchX=i.clientX,t.initialTouchY=i.clientY,t.userIsDragging=!1)},t.onTouchMove=function(e){var n=e.touches,i=n&&n.item(0);if(i){var r=Math.abs(i.clientX-t.initialTouchX),a=Math.abs(i.clientY-t.initialTouchY);t.userIsDragging=r>5||a>5}},t.onTouchEnd=function(e){t.userIsDragging||(t.controlRef&&!t.controlRef.contains(e.target)&&t.menuListRef&&!t.menuListRef.contains(e.target)&&t.blurInput(),t.initialTouchX=0,t.initialTouchY=0)},t.onControlTouchEnd=function(e){t.userIsDragging||t.onControlMouseDown(e)},t.onClearIndicatorTouchEnd=function(e){t.userIsDragging||t.onClearIndicatorMouseDown(e)},t.onDropdownIndicatorTouchEnd=function(e){t.userIsDragging||t.onDropdownIndicatorMouseDown(e)},t.handleInputChange=function(e){var n=t.props.inputValue,i=e.currentTarget.value;t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange(i,{action:"input-change",prevInputValue:n}),t.props.menuIsOpen||t.onMenuOpen()},t.onInputFocus=function(e){t.props.onFocus&&t.props.onFocus(e),t.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(t.openAfterFocus||t.props.openMenuOnFocus)&&t.openMenu("first"),t.openAfterFocus=!1},t.onInputBlur=function(e){var n=t.props.inputValue;t.menuListRef&&t.menuListRef.contains(document.activeElement)?t.inputRef.focus():(t.props.onBlur&&t.props.onBlur(e),t.onInputChange("",{action:"input-blur",prevInputValue:n}),t.onMenuClose(),t.setState({focusedValue:null,isFocused:!1}))},t.onOptionHover=function(e){if(!t.blockOptionHover&&t.state.focusedOption!==e){var n=t.getFocusableOptions().indexOf(e);t.setState({focusedOption:e,focusedOptionId:n>-1?t.getFocusedOptionId(e):null})}},t.shouldHideSelectedOptions=function(){return nU(t.props)},t.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),t.focus()},t.onKeyDown=function(e){var n=t.props,i=n.isMulti,r=n.backspaceRemovesValue,a=n.escapeClearsValue,o=n.inputValue,s=n.isClearable,l=n.isDisabled,c=n.menuIsOpen,u=n.onKeyDown,d=n.tabSelectsValue,h=n.openMenuOnFocus,p=t.state,f=p.focusedOption,m=p.focusedValue,v=p.selectValue;if(!l&&("function"!==typeof u||(u(e),!e.defaultPrevented))){switch(t.blockOptionHover=!0,e.key){case"ArrowLeft":if(!i||o)return;t.focusValue("previous");break;case"ArrowRight":if(!i||o)return;t.focusValue("next");break;case"Delete":case"Backspace":if(o)return;if(m)t.removeValue(m);else{if(!r)return;i?t.popValue():s&&t.clearValue()}break;case"Tab":if(t.isComposing)return;if(e.shiftKey||!c||!d||!f||h&&t.isOptionSelected(f,v))return;t.selectOption(f);break;case"Enter":if(229===e.keyCode)break;if(c){if(!f)return;if(t.isComposing)return;t.selectOption(f);break}return;case"Escape":c?(t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange("",{action:"menu-close",prevInputValue:o}),t.onMenuClose()):s&&a&&t.clearValue();break;case" ":if(o)return;if(!c){t.openMenu("first");break}if(!f)return;t.selectOption(f);break;case"ArrowUp":c?t.focusOption("up"):t.openMenu("last");break;case"ArrowDown":c?t.focusOption("down"):t.openMenu("first");break;case"PageUp":if(!c)return;t.focusOption("pageup");break;case"PageDown":if(!c)return;t.focusOption("pagedown");break;case"Home":if(!c)return;t.focusOption("first");break;case"End":if(!c)return;t.focusOption("last");break;default:return}e.preventDefault()}},t.state.instancePrefix="react-select-"+(t.props.instanceId||++iU),t.state.selectValue=uD(e.value),e.menuIsOpen&&t.state.selectValue.length){var n=t.getFocusableOptionsWithIds(),i=t.buildFocusableOptions(),r=i.indexOf(t.state.selectValue[0]);t.state.focusableOptionsWithIds=n,t.state.focusedOption=i[r],t.state.focusedOptionId=KF(n,i[r])}return t}return t=o,n=[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&gD(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,i=t.menuIsOpen,r=this.state.isFocused;(r&&!n&&e.isDisabled||r&&i&&!e.menuIsOpen)&&this.focusInput(),r&&n&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):r||n||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(gD(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,i=n.selectValue,r=n.isFocused,a=this.buildFocusableOptions(),o="first"===e?0:a.length-1;if(!this.props.isMulti){var s=a.indexOf(i[0]);s>-1&&(o=s)}this.scrollToFocusedOptionOnUpdate=!(r&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:a[o],focusedOptionId:this.getFocusedOptionId(a[o])},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,i=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var r=n.indexOf(i);i||(r=-1);var a=n.length-1,o=-1;if(n.length){switch(e){case"previous":o=0===r?0:-1===r?a:r-1;break;case"next":r>-1&&r<a&&(o=r+1)}this.setState({inputIsHidden:-1!==o,focusedValue:n[o]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,i=this.getFocusableOptions();if(i.length){var r=0,a=i.indexOf(n);n||(a=-1),"up"===e?r=a>0?a-1:i.length-1:"down"===e?r=(a+1)%i.length:"pageup"===e?(r=a-t)<0&&(r=0):"pagedown"===e?(r=a+t)>i.length-1&&(r=i.length-1):"last"===e&&(r=i.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:i[r],focusedValue:null,focusedOptionId:this.getFocusedOptionId(i[r])})}}},{key:"getTheme",value:function(){return this.props.theme?"function"===typeof this.props.theme?this.props.theme(VF):Gj(Gj({},VF),this.props.theme):VF}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,i=this.getClassNames,r=this.getValue,a=this.selectOption,o=this.setValue,s=this.props,l=s.isMulti,c=s.isRtl,u=s.options;return{clearValue:e,cx:t,getStyles:n,getClassNames:i,getValue:r,hasValue:this.hasValue(),isMulti:l,isRtl:c,options:u,selectOption:a,selectProps:s,setValue:o,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return QF(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return eU(this.props,e,t)}},{key:"filterOption",value:function(e,t){return tU(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"===typeof this.props.formatOptionLabel){var n=this.props.inputValue,i=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:i})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,i=e.inputId,a=e.inputValue,o=e.tabIndex,s=e.form,l=e.menuIsOpen,c=e.required,u=this.getComponents().Input,d=this.state,h=d.inputIsHidden,p=d.ariaSelection,f=this.commonProps,m=i||this.getElementId("input"),v=Gj(Gj(Gj({"aria-autocomplete":"list","aria-expanded":l,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":c,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},l&&{"aria-controls":this.getElementId("listbox")}),!n&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null===p||void 0===p?void 0:p.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return n?r.createElement(u,Jj({},f,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:m,innerRef:this.getInputRef,isDisabled:t,isHidden:h,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:o,form:s,type:"text",value:a},v)):r.createElement(wF,Jj({id:m,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:sD,onFocus:this.onInputFocus,disabled:t,tabIndex:o,inputMode:"none",form:s,value:""},v))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),n=t.MultiValue,i=t.MultiValueContainer,a=t.MultiValueLabel,o=t.MultiValueRemove,s=t.SingleValue,l=t.Placeholder,c=this.commonProps,u=this.props,d=u.controlShouldRenderValue,h=u.isDisabled,p=u.isMulti,f=u.inputValue,m=u.placeholder,v=this.state,g=v.selectValue,y=v.focusedValue,b=v.isFocused;if(!this.hasValue()||!d)return f?null:r.createElement(l,Jj({},c,{key:"placeholder",isDisabled:h,isFocused:b,innerProps:{id:this.getElementId("placeholder")}}),m);if(p)return g.map((function(t,s){var l=t===y,u="".concat(e.getOptionLabel(t),"-").concat(e.getOptionValue(t));return r.createElement(n,Jj({},c,{components:{Container:i,Label:a,Remove:o},isFocused:l,isDisabled:h,key:u,index:s,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault()}},data:t}),e.formatOptionLabel(t,"value"))}));if(f)return null;var x=g[0];return r.createElement(s,Jj({},c,{data:x,isDisabled:h}),this.formatOptionLabel(x,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,n=this.props,i=n.isDisabled,a=n.isLoading,o=this.state.isFocused;if(!this.isClearable()||!e||i||!this.hasValue()||a)return null;var s={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return r.createElement(e,Jj({},t,{innerProps:s,isFocused:o}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,n=this.props,i=n.isDisabled,a=n.isLoading,o=this.state.isFocused;return e&&a?r.createElement(e,Jj({},t,{innerProps:{"aria-hidden":"true"},isDisabled:i,isFocused:o})):null}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var i=this.commonProps,a=this.props.isDisabled,o=this.state.isFocused;return r.createElement(n,Jj({},i,{isDisabled:a,isFocused:o}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,i=this.state.isFocused,a={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return r.createElement(e,Jj({},t,{innerProps:a,isDisabled:n,isFocused:i}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),n=t.Group,i=t.GroupHeading,a=t.Menu,o=t.MenuList,s=t.MenuPortal,l=t.LoadingMessage,c=t.NoOptionsMessage,u=t.Option,d=this.commonProps,h=this.state.focusedOption,p=this.props,f=p.captureMenuScroll,m=p.inputValue,v=p.isLoading,g=p.loadingMessage,y=p.minMenuHeight,b=p.maxMenuHeight,x=p.menuIsOpen,_=p.menuPlacement,w=p.menuPosition,S=p.menuPortalTarget,M=p.menuShouldBlockScroll,E=p.menuShouldScrollIntoView,C=p.noOptionsMessage,T=p.onMenuScrollToTop,N=p.onMenuScrollToBottom;if(!x)return null;var A,k=function(t,n){var i=t.type,a=t.data,o=t.isDisabled,s=t.isSelected,l=t.label,c=t.value,p=h===a,f=o?void 0:function(){return e.onOptionHover(a)},m=o?void 0:function(){return e.selectOption(a)},v="".concat(e.getElementId("option"),"-").concat(n),g={id:v,onClick:m,onMouseMove:f,onMouseOver:f,tabIndex:-1,role:"option","aria-selected":e.isAppleDevice?void 0:s};return r.createElement(u,Jj({},d,{innerProps:g,data:a,isDisabled:o,isSelected:s,key:v,label:l,type:i,value:c,isFocused:p,innerRef:p?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())A=this.getCategorizedOptions().map((function(t){if("group"===t.type){var a=t.data,o=t.options,s=t.index,l="".concat(e.getElementId("group"),"-").concat(s),c="".concat(l,"-heading");return r.createElement(n,Jj({},d,{key:l,data:a,options:o,Heading:i,headingProps:{id:c,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return k(e,"".concat(s,"-").concat(e.index))})))}if("option"===t.type)return k(t,"".concat(t.index))}));else if(v){var O=g({inputValue:m});if(null===O)return null;A=r.createElement(l,d,O)}else{var P=C({inputValue:m});if(null===P)return null;A=r.createElement(c,d,P)}var R={minMenuHeight:y,maxMenuHeight:b,menuPlacement:_,menuPosition:w,menuShouldScrollIntoView:E},j=r.createElement(OD,Jj({},d,R),(function(t){var n=t.ref,i=t.placerProps,s=i.placement,l=i.maxHeight;return r.createElement(a,Jj({},d,R,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:v,placement:s}),r.createElement(LF,{captureEnabled:f,onTopArrive:T,onBottomArrive:N,lockEnabled:M},(function(t){return r.createElement(o,Jj({},d,{innerRef:function(n){e.getMenuListRef(n),t(n)},innerProps:{role:"listbox","aria-multiselectable":d.isMulti,id:e.getElementId("listbox")},isLoading:v,maxHeight:l,focusedOption:h}),A)})))}));return S||"fixed"===w?r.createElement(s,Jj({},d,{appendTo:S,controlElement:this.controlRef,menuPlacement:_,menuPosition:w}),j):j}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,i=t.isDisabled,a=t.isMulti,o=t.name,s=t.required,l=this.state.selectValue;if(s&&!this.hasValue()&&!i)return r.createElement(DF,{name:o,onFocus:this.onValueInputFocus});if(o&&!i){if(a){if(n){var c=l.map((function(t){return e.getOptionValue(t)})).join(n);return r.createElement("input",{name:o,type:"hidden",value:c})}var u=l.length>0?l.map((function(t,n){return r.createElement("input",{key:"i-".concat(n),name:o,type:"hidden",value:e.getOptionValue(t)})})):r.createElement("input",{name:o,type:"hidden",value:""});return r.createElement("div",null,u)}var d=l[0]?this.getOptionValue(l[0]):"";return r.createElement("input",{name:o,type:"hidden",value:d})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,n=t.ariaSelection,i=t.focusedOption,a=t.focusedValue,o=t.isFocused,s=t.selectValue,l=this.getFocusableOptions();return r.createElement(uF,Jj({},e,{id:this.getElementId("live-region"),ariaSelection:n,focusedOption:i,focusedValue:a,isFocused:o,selectValue:s,focusableOptions:l,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,n=e.IndicatorsContainer,i=e.SelectContainer,a=e.ValueContainer,o=this.props,s=o.className,l=o.id,c=o.isDisabled,u=o.menuIsOpen,d=this.state.isFocused,h=this.commonProps=this.getCommonProps();return r.createElement(i,Jj({},h,{className:s,innerProps:{id:l,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:d}),this.renderLiveRegion(),r.createElement(t,Jj({},h,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:d,menuIsOpen:u}),r.createElement(a,Jj({},h,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),r.createElement(n,Jj({},h,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,i=t.clearFocusValueOnUpdate,r=t.inputIsHiddenAfterUpdate,a=t.ariaSelection,o=t.isFocused,s=t.prevWasFocused,l=t.instancePrefix,c=e.options,u=e.value,d=e.menuIsOpen,h=e.inputValue,p=e.isMulti,f=uD(u),m={};if(n&&(u!==n.value||c!==n.options||d!==n.menuIsOpen||h!==n.inputValue)){var v=d?function(e,t){return YF(qF(e,t))}(e,f):[],g=d?XF(qF(e,f),"".concat(l,"-option")):[],y=i?function(e,t){var n=e.focusedValue,i=e.selectValue.indexOf(n);if(i>-1){if(t.indexOf(n)>-1)return n;if(i<t.length)return t[i]}return null}(t,f):null,b=function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,v);m={selectValue:f,focusedOption:b,focusedOptionId:KF(g,b),focusableOptionsWithIds:g,focusedValue:y,clearFocusValueOnUpdate:!1}}var x=null!=r&&e!==n?{inputIsHidden:r,inputIsHiddenAfterUpdate:void 0}:{},_=a,w=o&&s;return o&&!w&&(_={value:MD(p,f,f[0]||null),options:f,action:"initial-input-focus"},w=!s),"initial-input-focus"===(null===a||void 0===a?void 0:a.action)&&(_=null),Gj(Gj(Gj({},m),x),{},{prevProps:e,ariaSelection:_,prevWasFocused:w})}}],n&&$j(t.prototype,n),i&&$j(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(r.Component);rU.defaultProps=WF;var aU=(0,r.forwardRef)((function(e,t){var n=function(e){var t=e.defaultInputValue,n=void 0===t?"":t,i=e.defaultMenuIsOpen,a=void 0!==i&&i,o=e.defaultValue,s=void 0===o?null:o,l=e.inputValue,c=e.menuIsOpen,u=e.onChange,d=e.onInputChange,h=e.onMenuClose,p=e.onMenuOpen,f=e.value,m=Zj(e,Kj),v=Xj((0,r.useState)(void 0!==l?l:n),2),g=v[0],y=v[1],b=Xj((0,r.useState)(void 0!==c?c:a),2),x=b[0],_=b[1],w=Xj((0,r.useState)(void 0!==f?f:s),2),S=w[0],M=w[1],E=(0,r.useCallback)((function(e,t){"function"===typeof u&&u(e,t),M(e)}),[u]),C=(0,r.useCallback)((function(e,t){var n;"function"===typeof d&&(n=d(e,t)),y(void 0!==n?n:e)}),[d]),T=(0,r.useCallback)((function(){"function"===typeof p&&p(),_(!0)}),[p]),N=(0,r.useCallback)((function(){"function"===typeof h&&h(),_(!1)}),[h]),A=void 0!==l?l:g,k=void 0!==c?c:x,O=void 0!==f?f:S;return Gj(Gj({},m),{},{inputValue:A,menuIsOpen:k,onChange:E,onInputChange:C,onMenuClose:N,onMenuOpen:T,value:O})}(e);return r.createElement(rU,Jj({ref:t},n))})),oU=aU;const sU=()=>{var e,t,n;const{currentUser:i}=(0,r.useContext)(pr),a=(null===i||void 0===i||null===(e=i.roles[0])||void 0===e||e.name,null===i||void 0===i?void 0:i.permissions),{id:o}=it(),[s,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)({}),[d,h]=(0,r.useState)(!1),[p,f]=(0,r.useState)([]),[m,v]=(0,r.useState)([]),[g,y]=(0,r.useState)(""),[b,x]=(0,r.useState)(""),[_,w]=(0,r.useState)(""),[S,M]=(0,r.useState)([]);(0,r.useEffect)((()=>{(async()=>{try{var e;const n=await KO.getTeams();var t;200==(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.status)&&M(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.data)}catch(r){var n,i;ir.error(null===r||void 0===r||null===(n=r.result)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{l(!1)}})()}),[]);const E=async e=>{try{var t;const o=await KO.getTeamDetail(e);var n,i,r,a;if(200==(null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.status))u(null===o||void 0===o||null===(n=o.data)||void 0===n?void 0:n.data),y(null===o||void 0===o||null===(i=o.data)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.id);else ir.error(null===o||void 0===o||null===(a=o.data)||void 0===a?void 0:a.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(c){var o,s;ir.error(null===c||void 0===c||null===(o=c.result)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{l(!1)}};(0,r.useEffect)((()=>{E(o)}),[o]);(0,r.useEffect)((()=>{(async e=>{try{var t;const e=await KO.getPlannersandQc();var n,i;200==(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.status)?f(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data):ir.error(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(o){var r,a;ir.error(null===o||void 0===o||null===(r=o.result)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{l(!1)}})()}),[]);const C=null===p||void 0===p?void 0:p.map((e=>({value:e.id,label:"".concat(e.first_name," ").concat(e.last_name," (").concat(e.role_name,")")})));return(0,hr.jsxs)("div",{className:"users-wrapper",children:[s&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)(dr,{}),d&&(0,hr.jsx)("div",{className:"modal-main",children:(0,hr.jsxs)("div",{className:"modal-wrapper change-pass",children:[(0,hr.jsx)("div",{className:"close",onClick:()=>h(!1),children:(0,hr.jsx)(ta,{})}),(0,hr.jsxs)("div",{className:"form-group mb-3",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Assign Team"}),(0,hr.jsxs)("select",{name:"",className:"input",value:b,onChange:e=>x(e.target.value),children:[(0,hr.jsx)("option",{value:"",children:"Select team"}),null===S||void 0===S?void 0:S.map((e=>(0,hr.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name})))]})]}),(0,hr.jsx)("div",{className:"text-center",children:(0,hr.jsx)("button",{className:"button",onClick:()=>{(async()=>{l(!0);try{var e;const i=new FormData;b&&i.append("team_id",b),_&&i.append("user_id[]",_);const r=await KO.assignTeamApi(i);var t,n;200==(null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.status)?(E(o),h(!1),ir.success(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})):ir.error(null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(a){var i,r;ir.error(null===a||void 0===a||null===(i=a.result)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{l(!1)}})()},children:"Assign"})})]})}),(0,hr.jsxs)("div",{className:"user-details",children:[(0,hr.jsxs)("div",{className:"text",children:[(0,hr.jsx)(jO,{}),"  ",null===c||void 0===c?void 0:c.name]}),(null===a||void 0===a?void 0:a.includes("teams-assings-to-users"))&&(0,hr.jsxs)("div",{className:"assign-users",children:[(null===c||void 0===c||null===(t=c.users)||void 0===t?void 0:t.length)>0&&(0,hr.jsx)("div",{className:"title",children:"Team Members   "}),(0,hr.jsx)("div",{className:"team-members-wrapper",children:null===c||void 0===c||null===(n=c.users)||void 0===n?void 0:n.map((e=>(0,hr.jsxs)("div",{className:"user",children:[(0,hr.jsxs)("div",{className:"left",children:[(0,hr.jsx)("div",{className:"image",children:null!==e&&void 0!==e&&e.profile_pic?(0,hr.jsx)("img",{src:"".concat("http://localhost:8000","/uploads/").concat(null===e||void 0===e?void 0:e.profile_pic)}):(0,hr.jsx)("img",{src:MO})}),(0,hr.jsxs)("div",{className:"name",children:["  ",null===e||void 0===e?void 0:e.first_name," ",null===e||void 0===e?void 0:e.last_name," (",null===e||void 0===e?void 0:e.role_name,")"]})]}),(0,hr.jsxs)("div",{className:"icons",children:[(0,hr.jsx)("div",{className:"icon",onClick:()=>(async e=>{l(!0);try{var t;const r=new FormData;o&&r.append("user_id",e);const a=await KO.removeMember(r);var n,i;200==(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.status)?(E(o),ir.success(null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})):ir.error(null===a||void 0===a||null===(i=a.data)||void 0===i?void 0:i.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(s){var r,a;ir.error(null===s||void 0===s||null===(r=s.result)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{l(!1)}})(null===e||void 0===e?void 0:e.id),children:(0,hr.jsx)(Nr,{style:{color:"red"}})}),(0,hr.jsx)("div",{className:"icon",onClick:()=>(e=>{w(e),h(!0)})(null===e||void 0===e?void 0:e.id),children:(0,hr.jsx)(Wr,{})})]})]})))}),(0,hr.jsxs)("div",{className:"title",children:["Add planners to ",(0,hr.jsx)("span",{children:null===c||void 0===c?void 0:c.name})," "]}),(0,hr.jsx)("div",{className:"row",children:(0,hr.jsx)("div",{className:"col-12 col-md-8",children:(0,hr.jsx)(oU,{className:"input",isMulti:!0,options:C,onChange:e=>{const t=e?e.map((e=>e.value)):[];v(t)}})})}),(null===m||void 0===m?void 0:m.length)>0&&(0,hr.jsx)("div",{className:"d-flex my-3",children:(0,hr.jsx)("button",{className:"button",onClick:()=>(async()=>{l(!0);try{var e;const i=new FormData;g&&i.append("team_id",g),m&&(null===m||void 0===m||m.map(((e,t)=>{i.append("user_id[".concat(t,"]"),e)})));const r=await KO.assignPlannerTOTeam(i);var t,n;200==(null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.status)?(v([]),E(o),ir.success(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})):ir.error(null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(a){var i,r;ir.error(null===a||void 0===a||null===(i=a.result)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{l(!1)}})(),children:"Add now"})})]})]})]})},lU=n.p+"static/media/smartalign.288504a8c1c363864e40.png",cU=()=>{(0,r.useRef)(null);const{updateUser:e}=(0,r.useContext)(pr),[t,n]=(0,r.useState)(""),[i,a]=(0,r.useState)(!1),[o,s]=(0,r.useState)(""),l=tt(),c=async n=>{try{const n=new FormData;if(t)if(o){var i;a(!0),t&&n.append("email",t),o&&n.append("password",o);const f=await ki.login(n);var r,s,c,u,d,h,p;if(1==(null===f||void 0===f||null===(i=f.data)||void 0===i?void 0:i.success))localStorage.setItem("token",null===f||void 0===f||null===(r=f.data)||void 0===r||null===(s=r.data)||void 0===s||null===(c=s.user)||void 0===c?void 0:c.token),e(null===f||void 0===f||null===(u=f.data)||void 0===u||null===(d=u.data)||void 0===d?void 0:d.user),l("/dashboard"),ir.success(null===f||void 0===f||null===(h=f.data)||void 0===h?void 0:h.message,{autoClose:1e3,pauseOnHover:!0,draggable:!0});else ir.error(null===f||void 0===f||null===(p=f.data)||void 0===p?void 0:p.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}else ir.error("please enter password",{autoClose:2e3,pauseOnHover:!0,draggable:!0});else ir.error("please enter email",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(v){var f,m;ir.error(null===v||void 0===v||null===(f=v.result)||void 0===f||null===(m=f.data)||void 0===m?void 0:m.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{a(!1)}};return(0,r.useEffect)((()=>{const e=e=>{"Enter"===e.key&&c()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[c]),(0,hr.jsxs)(hr.Fragment,{children:[i&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsxs)("div",{className:"login-wrapper login-main bio",children:[(0,hr.jsx)("video",{autoPlay:!0,loop:!0,muted:!0,className:"background-video",children:(0,hr.jsx)("source",{src:qh,type:"video/mp4"})}),(0,hr.jsxs)("div",{className:"form-wrapper",children:[(0,hr.jsx)(dr,{}),(0,hr.jsxs)("div",{className:"left-section",children:[(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsx)("label",{htmlFor:"",children:"User Id"}),(0,hr.jsx)("input",{type:"text",className:"input",value:t,onChange:e=>n(e.target.value)})]}),(0,hr.jsxs)("div",{className:"form-group",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Password"}),(0,hr.jsx)("input",{type:"password",className:"input",value:o,onChange:e=>s(e.target.value)})]}),(0,hr.jsx)("div",{className:"d-flex justify-content-center my-3",children:(0,hr.jsx)("button",{className:"button",onClick:c,children:"Login  "})}),(0,hr.jsx)("div",{className:"copy-text mt-4",children:"Powered by Clear Care Tech | Copyright \xa9 2024 | All Rights Reserved"})]}),(0,hr.jsx)("div",{className:"right-section",children:(0,hr.jsx)("div",{className:"image",children:(0,hr.jsx)("img",{src:lU,alt:"",srcset:""})})})]})]})]})},uU=()=>{const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(!1),{currentUser:a}=(0,r.useContext)(pr),o=null===a||void 0===a?void 0:a.permissions,s=async()=>{try{var e;const i=await GO.getSoftwares();if(200==(null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.status)){var n,r;const e=null===i||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.map((e=>({id:e.guid,name:e.name})));t(e)}}catch(s){var a,o;ir.error(null===s||void 0===s||null===(a=s.result)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{i(!1)}};(0,r.useEffect)((()=>{s()}),[]);const l=[{name:"Softwares",selector:e=>e.name,sortable:!0},{name:"Action",cell:e=>(0,hr.jsxs)("div",{className:"icons__parent",children:[(null===o||void 0===o?void 0:o.includes("softwares-update"))&&(0,hr.jsx)(Lt,{title:"Update Software",className:"button-icon",to:"/update-software/".concat(e.id),children:(0,hr.jsx)(AO,{})}),(null===o||void 0===o?void 0:o.includes("softwares-delete"))&&(0,hr.jsx)("div",{title:"Delete Software",className:"button-icon",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this Software?")){i(!0);try{var t;const i=await GO.deleteSoftware(e);var n,r;200==(null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.status)?(ir.error(null===i||void 0===i||null===(n=i.data)||void 0===n?void 0:n.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0}),s()):ir.error(null===i||void 0===i||null===(r=i.data)||void 0===r?void 0:r.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(l){var a,o;ir.error(null===l||void 0===l||null===(a=l.result)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{i(!1)}}})(e.id),children:(0,hr.jsx)(Gr,{})})]}),ignoreRowClick:!0,allowOverflow:!0,button:!0}];return(0,hr.jsxs)("div",{className:"users-wrapper",children:[n&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)(dr,{}),(null===o||void 0===o?void 0:o.includes("softwares-store"))&&(0,hr.jsx)("div",{className:"d-flex justify-content-end mb-3",children:(0,hr.jsx)(Lt,{to:"/create-software",className:"button",children:"Create New Software "})}),(0,hr.jsx)(EO.Ay,{columns:l,data:e,pagination:!0,paginationPerPage:10,paginationRowsPerPageOptions:[5,10,20]})]})},dU=()=>{const[e,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)(""),a=tt();return(0,hr.jsxs)("div",{className:"form-wrapper",children:[(0,hr.jsx)(dr,{}),e&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)("div",{className:"title",children:"Create Software"}),(0,hr.jsx)("div",{className:"row",children:(0,hr.jsxs)("div",{className:"col-12 col-md-12 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Enter name"}),(0,hr.jsx)("input",{type:"text",className:"input",value:n,onChange:e=>i(e.target.value)})]})}),(0,hr.jsx)("div",{className:"d-flex justify-content-center my-3",children:(0,hr.jsx)("button",{className:"button",onClick:async()=>{try{const o=new FormData;if(n){var e;t(!0),n&&o.append("name",n);const s=await GO.createSoftware(o);var i,r;if(200==(null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.status))ir.success(null===s||void 0===s||null===(i=s.data)||void 0===i?void 0:i.message,{autoClose:1e3,pauseOnHover:!0,draggable:!0}),setTimeout((()=>{a("/softwares")}),1300);else ir.error(null===s||void 0===s||null===(r=s.data)||void 0===r?void 0:r.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}else ir.error("please enter name",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(l){var o,s;ir.error(null===l||void 0===l||null===(o=l.result)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{t(!1)}},children:"Create Software "})})]})},hU=()=>{const{id:e}=it(),[t,n]=(0,r.useState)(!1),[i,a]=(0,r.useState)(""),o=tt();(0,r.useEffect)((()=>{(async e=>{try{var t;const n=await GO.getSoftwareDetail(e);var i,r,o;200==(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.status)?a(null===n||void 0===n||null===(i=n.data)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.name):ir.error(null===n||void 0===n||null===(o=n.data)||void 0===o?void 0:o.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(c){var s,l;ir.error(null===c||void 0===c||null===(s=c.result)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{n(!1)}})(e)}),[e]);return(0,hr.jsxs)("div",{className:"form-wrapper",children:[(0,hr.jsx)(dr,{}),t&&(0,hr.jsx)("div",{className:"loader-parent",children:(0,hr.jsx)("div",{className:"_loader"})}),(0,hr.jsx)("div",{className:"title",children:"Update Software"}),(0,hr.jsx)("div",{className:"row",children:(0,hr.jsxs)("div",{className:"col-12 col-md-12 mb-4",children:[(0,hr.jsx)("label",{htmlFor:"",children:"Enter name"}),(0,hr.jsx)("input",{type:"text",className:"input",value:i,onChange:e=>a(e.target.value)})]})}),(0,hr.jsx)("div",{className:"d-flex justify-content-center my-3",children:(0,hr.jsx)("button",{className:"button",onClick:async()=>{try{const s=new FormData;if(i){var t;n(!0),i&&s.append("name",i);const l=await GO.updateSoftware(e,s);var r,a;if(200==(null===l||void 0===l||null===(t=l.data)||void 0===t?void 0:t.status))ir.success(null===l||void 0===l||null===(r=l.data)||void 0===r?void 0:r.message,{autoClose:1e3,pauseOnHover:!0,draggable:!0}),setTimeout((()=>{o("/softwares")}),1300);else ir.error(null===l||void 0===l||null===(a=l.data)||void 0===a?void 0:a.message,{autoClose:2e3,pauseOnHover:!0,draggable:!0})}else ir.error("please enter  name",{autoClose:2e3,pauseOnHover:!0,draggable:!0})}catch(c){var s,l;ir.error(null===c||void 0===c||null===(s=c.result)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.errors[0],{autoClose:2e3,pauseOnHover:!0,draggable:!0})}finally{n(!1)}},children:"Update now "})})]})};const pU=function(){var e;const{currentUser:t}=(0,r.useContext)(pr),n=(null===t||void 0===t||null===(e=t.roles[0])||void 0===e||e.name,null===t||void 0===t?void 0:t.permissions),i=e=>{let{children:t}=e;return(0,hr.jsx)(hr.Fragment,{children:t})},a=(o=[{path:"/login",element:(0,hr.jsx)(Yh,{})},{path:"/biodentlogin",element:(0,hr.jsx)(Fj,{})},{path:"/wesmilelogin",element:(0,hr.jsx)(Zh,{})},{path:"/mysmartalignlogin",element:(0,hr.jsx)(cU,{})},{path:"/cleverlogin",element:(0,hr.jsx)(zj,{})},{path:"/smilezylogin",element:(0,hr.jsx)(Jh,{})},{path:"/drabhisheklogin",element:(0,hr.jsx)(Qh,{})},{path:"/darrenlogin",element:(0,hr.jsx)(tp,{})},{path:"*",element:(0,hr.jsx)(bO,{})},{path:"/",element:(0,hr.jsxs)(i,{children:[" ",(0,hr.jsx)(sa,{})," "]}),children:[{path:"/dashboard",element:(0,hr.jsx)(Gh,{})},{path:"/users",element:null!==n&&void 0!==n&&n.includes("users-list")?(0,hr.jsx)(kO,{}):(0,hr.jsx)(_O,{})},{path:"/create-user",element:null!==n&&void 0!==n&&n.includes("users-store")?(0,hr.jsx)(OO,{}):(0,hr.jsx)(_O,{})},{path:"/edit-user/:id",element:null!==n&&void 0!==n&&n.includes("users-update")?(0,hr.jsx)(PO,{}):(0,hr.jsx)(_O,{})},{path:"/user-detail/:id",element:null!==n&&void 0!==n&&n.includes("users-update")?(0,hr.jsx)(IO,{}):(0,hr.jsx)(_O,{})},{path:"/notifications",element:(0,hr.jsx)(NO,{})},{path:"/history",element:(0,hr.jsx)(Mj,{})},{path:"/history-detail/:id",element:(0,hr.jsx)(Tj,{})},{path:"/cases/:casestatus?",element:null!==n&&void 0!==n&&n.includes("patient-cases-list")?(0,hr.jsx)(_j,{}):(0,hr.jsx)(_O,{})},{path:"/completed-cases",element:null!==n&&void 0!==n&&n.includes("patient-cases-list")?(0,hr.jsx)(Sj,{}):(0,hr.jsx)(_O,{})},{path:"/create-case",element:null!==n&&void 0!==n&&n.includes("patient-cases-store")?(0,hr.jsx)(XO,{}):(0,hr.jsx)(_O,{})},{path:"/update-case/:id",element:null!==n&&void 0!==n&&n.includes("patient-cases-update")?(0,hr.jsx)(wj,{}):(0,hr.jsx)(_O,{})},{path:"/case-detail/:id",element:null!==n&&void 0!==n&&n.includes("patient-cases-detail")?(0,hr.jsx)(xj,{}):(0,hr.jsx)(_O,{})},{path:"/approvals",element:null!==n&&void 0!==n&&n.includes("pending-approvals-list")?(0,hr.jsx)(Aj,{}):(0,hr.jsx)(_O,{})},{path:"/create-approval",element:null!==n&&void 0!==n&&n.includes("pending-approvals-store")?(0,hr.jsx)(Nj,{}):(0,hr.jsx)(_O,{})},{path:"/update-approval/:id",element:null!==n&&void 0!==n&&n.includes("pending-approvals-update")?(0,hr.jsx)(Oj,{}):(0,hr.jsx)(_O,{})},{path:"/approval-detail/:id",element:null!==n&&void 0!==n&&n.includes("pending-approvals-detail")?(0,hr.jsx)(kj,{}):(0,hr.jsx)(_O,{})},{path:"/roles",element:null!==n&&void 0!==n&&n.includes("roles-list")?(0,hr.jsx)(BO,{}):(0,hr.jsx)(_O,{})},{path:"/add-role",element:null!==n&&void 0!==n&&n.includes("roles-store")?(0,hr.jsx)(HO,{}):(0,hr.jsx)(_O,{})},{path:"/update-role/:id",element:null!==n&&void 0!==n&&n.includes("roles-update")?(0,hr.jsx)(WO,{}):(0,hr.jsx)(_O,{})},{path:"/role-detail/:id",element:null!==n&&void 0!==n&&n.includes("roles-detail")?(0,hr.jsx)(VO,{}):(0,hr.jsx)(_O,{})},{path:"/permissions",element:null!==n&&void 0!==n&&n.includes("permissions-list")?(0,hr.jsx)(DO,{}):(0,hr.jsx)(_O,{})},{path:"/add-permission",element:null!==n&&void 0!==n&&n.includes("permissions-store")?(0,hr.jsx)(FO,{}):(0,hr.jsx)(_O,{})},{path:"/update-permission/:id",element:null!==n&&void 0!==n&&n.includes("permissions-update")?(0,hr.jsx)(zO,{}):(0,hr.jsx)(_O,{})},{path:"/permission-detail/:id",element:null!==n&&void 0!==n&&n.includes("permissions-detail")?(0,hr.jsx)(UO,{}):(0,hr.jsx)(_O,{})},{path:"/teams",element:null!==n&&void 0!==n&&n.includes("teams-list")?(0,hr.jsx)(Bj,{}):(0,hr.jsx)(_O,{})},{path:"/create-team",element:null!==n&&void 0!==n&&n.includes("teams-store")?(0,hr.jsx)(Hj,{}):(0,hr.jsx)(_O,{})},{path:"/update-team/:id",element:null!==n&&void 0!==n&&n.includes("teams-update")?(0,hr.jsx)(Vj,{}):(0,hr.jsx)(_O,{})},{path:"/team-detail/:id",element:null!==n&&void 0!==n&&n.includes("teams-detail")?(0,hr.jsx)(sU,{}):(0,hr.jsx)(_O,{})},{path:"/sub-clients",element:null!==n&&void 0!==n&&n.includes("sub-client-list")?(0,hr.jsx)(Rj,{}):(0,hr.jsx)(_O,{})},{path:"/create-sub-client",element:null!==n&&void 0!==n&&n.includes("sub-client-store")?(0,hr.jsx)(Lj,{}):(0,hr.jsx)(_O,{})},{path:"/update-sub-client/:id",element:null!==n&&void 0!==n&&n.includes("sub-client-update")?(0,hr.jsx)(Ij,{}):(0,hr.jsx)(_O,{})},{path:"/sub-client-detail/:id",element:null!==n&&void 0!==n&&n.includes("sub-client-detail")?(0,hr.jsx)(jj,{}):(0,hr.jsx)(_O,{})},{path:"/reset-password",element:null!==n&&void 0!==n&&n.includes("reset-password")?(0,hr.jsx)(mr,{}):(0,hr.jsx)(_O,{})},{path:"/softwares",element:null!==n&&void 0!==n&&n.includes("softwares-list")?(0,hr.jsx)(uU,{}):(0,hr.jsx)(_O,{})},{path:"/create-software",element:null!==n&&void 0!==n&&n.includes("softwares-store")?(0,hr.jsx)(dU,{}):(0,hr.jsx)(_O,{})},{path:"/update-software/:id",element:null!==n&&void 0!==n&&n.includes("softwares-update")?(0,hr.jsx)(hU,{}):(0,hr.jsx)(_O,{})}]}],ae({basename:null==s?void 0:s.basename,future:xt({},null==s?void 0:s.future,{v7_prependBasename:!0}),history:d({window:null==s?void 0:s.window}),hydrationData:(null==s?void 0:s.hydrationData)||St(),routes:o,mapRouteProperties:bt,unstable_dataStrategy:null==s?void 0:s.unstable_dataStrategy,window:null==s?void 0:s.window}).initialize());var o,s;return(0,hr.jsx)(Ot,{router:a})};o.createRoot(document.getElementById("root")).render((0,hr.jsxs)(fr,{children:[" ",(0,hr.jsx)(pU,{})]}))})()})();
//# sourceMappingURL=main.21a2f70b.js.map